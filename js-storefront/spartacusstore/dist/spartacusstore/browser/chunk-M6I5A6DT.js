var xF=Object.create;var lg=Object.defineProperty,NF=Object.defineProperties,OF=Object.getOwnPropertyDescriptor,PF=Object.getOwnPropertyDescriptors,FF=Object.getOwnPropertyNames,Zc=Object.getOwnPropertySymbols,ID=Object.getPrototypeOf,dg=Object.prototype.hasOwnProperty,DD=Object.prototype.propertyIsEnumerable,_F=Reflect.get;var SD=(t,e,i)=>e in t?lg(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,v=(t,e)=>{for(var i in e||={})dg.call(e,i)&&SD(t,i,e[i]);if(Zc)for(var i of Zc(e))DD.call(e,i)&&SD(t,i,e[i]);return t},T=(t,e)=>NF(t,PF(e));var bD=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,i)=>(typeof require<"u"?require:e)[i]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var fg=(t,e)=>{var i={};for(var n in t)dg.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(t!=null&&Zc)for(var n of Zc(t))e.indexOf(n)<0&&DD.call(t,n)&&(i[n]=t[n]);return i};var wD=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var LF=(t,e,i,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of FF(e))!dg.call(t,r)&&r!==i&&lg(t,r,{get:()=>e[r],enumerable:!(n=OF(e,r))||n.enumerable});return t};var kF=(t,e,i)=>(i=t!=null?xF(ID(t)):{},LF(e||!t||!t.__esModule?lg(i,"default",{value:t,enumerable:!0}):i,t));var C9=(t,e,i)=>_F(ID(t),i,e);var nt=(t,e,i)=>new Promise((n,r)=>{var s=c=>{try{a(i.next(c))}catch(u){r(u)}},o=c=>{try{a(i.throw(c))}catch(u){r(u)}},a=c=>c.done?n(c.value):Promise.resolve(c.value).then(s,o);a((i=i.apply(t,e)).next())});var VM=wD((yi,BM)=>{"use strict";var Jd=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof global<"u"&&global,Xd=function(){function t(){this.fetch=!1,this.DOMException=Jd.DOMException}return t.prototype=Jd,new t}();(function(t){var e=function(i){var n=typeof t<"u"&&t||typeof self<"u"&&self||typeof n<"u"&&n,r={searchParams:"URLSearchParams"in n,iterable:"Symbol"in n&&"iterator"in Symbol,blob:"FileReader"in n&&"Blob"in n&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in n,arrayBuffer:"ArrayBuffer"in n};function s(D){return D&&DataView.prototype.isPrototypeOf(D)}if(r.arrayBuffer)var o=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],a=ArrayBuffer.isView||function(D){return D&&o.indexOf(Object.prototype.toString.call(D))>-1};function c(D){if(typeof D!="string"&&(D=String(D)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(D)||D==="")throw new TypeError('Invalid character in header field name: "'+D+'"');return D.toLowerCase()}function u(D){return typeof D!="string"&&(D=String(D)),D}function l(D){var O={next:function(){var ne=D.shift();return{done:ne===void 0,value:ne}}};return r.iterable&&(O[Symbol.iterator]=function(){return O}),O}function f(D){this.map={},D instanceof f?D.forEach(function(O,ne){this.append(ne,O)},this):Array.isArray(D)?D.forEach(function(O){this.append(O[0],O[1])},this):D&&Object.getOwnPropertyNames(D).forEach(function(O){this.append(O,D[O])},this)}f.prototype.append=function(D,O){D=c(D),O=u(O);var ne=this.map[D];this.map[D]=ne?ne+", "+O:O},f.prototype.delete=function(D){delete this.map[c(D)]},f.prototype.get=function(D){return D=c(D),this.has(D)?this.map[D]:null},f.prototype.has=function(D){return this.map.hasOwnProperty(c(D))},f.prototype.set=function(D,O){this.map[c(D)]=u(O)},f.prototype.forEach=function(D,O){for(var ne in this.map)this.map.hasOwnProperty(ne)&&D.call(O,this.map[ne],ne,this)},f.prototype.keys=function(){var D=[];return this.forEach(function(O,ne){D.push(ne)}),l(D)},f.prototype.values=function(){var D=[];return this.forEach(function(O){D.push(O)}),l(D)},f.prototype.entries=function(){var D=[];return this.forEach(function(O,ne){D.push([ne,O])}),l(D)},r.iterable&&(f.prototype[Symbol.iterator]=f.prototype.entries);function h(D){if(D.bodyUsed)return Promise.reject(new TypeError("Already read"));D.bodyUsed=!0}function g(D){return new Promise(function(O,ne){D.onload=function(){O(D.result)},D.onerror=function(){ne(D.error)}})}function y(D){var O=new FileReader,ne=g(O);return O.readAsArrayBuffer(D),ne}function b(D){var O=new FileReader,ne=g(O);return O.readAsText(D),ne}function w(D){for(var O=new Uint8Array(D),ne=new Array(O.length),ye=0;ye<O.length;ye++)ne[ye]=String.fromCharCode(O[ye]);return ne.join("")}function R(D){if(D.slice)return D.slice(0);var O=new Uint8Array(D.byteLength);return O.set(new Uint8Array(D)),O.buffer}function k(){return this.bodyUsed=!1,this._initBody=function(D){this.bodyUsed=this.bodyUsed,this._bodyInit=D,D?typeof D=="string"?this._bodyText=D:r.blob&&Blob.prototype.isPrototypeOf(D)?this._bodyBlob=D:r.formData&&FormData.prototype.isPrototypeOf(D)?this._bodyFormData=D:r.searchParams&&URLSearchParams.prototype.isPrototypeOf(D)?this._bodyText=D.toString():r.arrayBuffer&&r.blob&&s(D)?(this._bodyArrayBuffer=R(D.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):r.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(D)||a(D))?this._bodyArrayBuffer=R(D):this._bodyText=D=Object.prototype.toString.call(D):this._bodyText="",this.headers.get("content-type")||(typeof D=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r.searchParams&&URLSearchParams.prototype.isPrototypeOf(D)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r.blob&&(this.blob=function(){var D=h(this);if(D)return D;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var D=h(this);return D||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(y)}),this.text=function(){var D=h(this);if(D)return D;if(this._bodyBlob)return b(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(w(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r.formData&&(this.formData=function(){return this.text().then(ue)}),this.json=function(){return this.text().then(JSON.parse)},this}var U=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function H(D){var O=D.toUpperCase();return U.indexOf(O)>-1?O:D}function te(D,O){if(!(this instanceof te))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');O=O||{};var ne=O.body;if(D instanceof te){if(D.bodyUsed)throw new TypeError("Already read");this.url=D.url,this.credentials=D.credentials,O.headers||(this.headers=new f(D.headers)),this.method=D.method,this.mode=D.mode,this.signal=D.signal,!ne&&D._bodyInit!=null&&(ne=D._bodyInit,D.bodyUsed=!0)}else this.url=String(D);if(this.credentials=O.credentials||this.credentials||"same-origin",(O.headers||!this.headers)&&(this.headers=new f(O.headers)),this.method=H(O.method||this.method||"GET"),this.mode=O.mode||this.mode||null,this.signal=O.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&ne)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(ne),(this.method==="GET"||this.method==="HEAD")&&(O.cache==="no-store"||O.cache==="no-cache")){var ye=/([?&])_=[^&]*/;if(ye.test(this.url))this.url=this.url.replace(ye,"$1_="+new Date().getTime());else{var we=/\?/;this.url+=(we.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}te.prototype.clone=function(){return new te(this,{body:this._bodyInit})};function ue(D){var O=new FormData;return D.trim().split("&").forEach(function(ne){if(ne){var ye=ne.split("="),we=ye.shift().replace(/\+/g," "),de=ye.join("=").replace(/\+/g," ");O.append(decodeURIComponent(we),decodeURIComponent(de))}}),O}function fe(D){var O=new f,ne=D.replace(/\r?\n[\t ]+/g," ");return ne.split("\r").map(function(ye){return ye.indexOf(`
`)===0?ye.substr(1,ye.length):ye}).forEach(function(ye){var we=ye.split(":"),de=we.shift().trim();if(de){var Sr=we.join(":").trim();O.append(de,Sr)}}),O}k.call(te.prototype);function Oe(D,O){if(!(this instanceof Oe))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');O||(O={}),this.type="default",this.status=O.status===void 0?200:O.status,this.ok=this.status>=200&&this.status<300,this.statusText=O.statusText===void 0?"":""+O.statusText,this.headers=new f(O.headers),this.url=O.url||"",this._initBody(D)}k.call(Oe.prototype),Oe.prototype.clone=function(){return new Oe(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},Oe.error=function(){var D=new Oe(null,{status:0,statusText:""});return D.type="error",D};var Ri=[301,302,303,307,308];Oe.redirect=function(D,O){if(Ri.indexOf(O)===-1)throw new RangeError("Invalid status code");return new Oe(null,{status:O,headers:{location:D}})},i.DOMException=n.DOMException;try{new i.DOMException}catch{i.DOMException=function(O,ne){this.message=O,this.name=ne;var ye=Error(O);this.stack=ye.stack},i.DOMException.prototype=Object.create(Error.prototype),i.DOMException.prototype.constructor=i.DOMException}function Vn(D,O){return new Promise(function(ne,ye){var we=new te(D,O);if(we.signal&&we.signal.aborted)return ye(new i.DOMException("Aborted","AbortError"));var de=new XMLHttpRequest;function Sr(){de.abort()}de.onload=function(){var He={status:de.status,statusText:de.statusText,headers:fe(de.getAllResponseHeaders()||"")};He.url="responseURL"in de?de.responseURL:He.headers.get("X-Request-URL");var nn="response"in de?de.response:de.responseText;setTimeout(function(){ne(new Oe(nn,He))},0)},de.onerror=function(){setTimeout(function(){ye(new TypeError("Network request failed"))},0)},de.ontimeout=function(){setTimeout(function(){ye(new TypeError("Network request failed"))},0)},de.onabort=function(){setTimeout(function(){ye(new i.DOMException("Aborted","AbortError"))},0)};function ft(He){try{return He===""&&n.location.href?n.location.href:He}catch{return He}}de.open(we.method,ft(we.url),!0),we.credentials==="include"?de.withCredentials=!0:we.credentials==="omit"&&(de.withCredentials=!1),"responseType"in de&&(r.blob?de.responseType="blob":r.arrayBuffer&&we.headers.get("Content-Type")&&we.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(de.responseType="arraybuffer")),O&&typeof O.headers=="object"&&!(O.headers instanceof f)?Object.getOwnPropertyNames(O.headers).forEach(function(He){de.setRequestHeader(He,u(O.headers[He]))}):we.headers.forEach(function(He,nn){de.setRequestHeader(nn,He)}),we.signal&&(we.signal.addEventListener("abort",Sr),de.onreadystatechange=function(){de.readyState===4&&we.signal.removeEventListener("abort",Sr)}),de.send(typeof we._bodyInit>"u"?null:we._bodyInit)})}return Vn.polyfill=!0,n.fetch||(n.fetch=Vn,n.Headers=f,n.Request=te,n.Response=Oe),i.Headers=f,i.Request=te,i.Response=Oe,i.fetch=Vn,i}({})})(Xd);Xd.fetch.ponyfill=!0;delete Xd.fetch.polyfill;var yo=Jd.fetch?Jd:Xd;yi=yo.fetch;yi.default=yo.fetch;yi.fetch=yo.fetch;yi.Headers=yo.Headers;yi.Request=yo.Request;yi.Response=yo.Response;BM.exports=yi});var zM=wD((KE,HM)=>{"use strict";var ef;typeof fetch=="function"&&(typeof global<"u"&&global.fetch?ef=global.fetch:typeof window<"u"&&window.fetch?ef=window.fetch:ef=fetch);typeof bD<"u"&&typeof window>"u"&&(dc=ef||VM(),dc.default&&(dc=dc.default),KE.default=dc,HM.exports=KE.default);var dc});function K(t){return typeof t=="function"}function Jr(t){let i=t(n=>{Error.call(n),n.stack=new Error().stack});return i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i}var Qc=Jr(t=>function(i){t(this),this.message=i?`${i.length} errors occurred during unsubscription:
${i.map((n,r)=>`${r+1}) ${n.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=i});function Ir(t,e){if(t){let i=t.indexOf(e);0<=i&&t.splice(i,1)}}var Ee=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:i}=this;if(i)if(this._parentage=null,Array.isArray(i))for(let s of i)s.remove(this);else i.remove(this);let{initialTeardown:n}=this;if(K(n))try{n()}catch(s){e=s instanceof Qc?s.errors:[s]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let s of r)try{TD(s)}catch(o){e=e??[],o instanceof Qc?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Qc(e)}}add(e){var i;if(e&&e!==this)if(this.closed)TD(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(i=this._finalizers)!==null&&i!==void 0?i:[]).push(e)}}_hasParent(e){let{_parentage:i}=this;return i===e||Array.isArray(i)&&i.includes(e)}_addParent(e){let{_parentage:i}=this;this._parentage=Array.isArray(i)?(i.push(e),i):i?[i,e]:e}_removeParent(e){let{_parentage:i}=this;i===e?this._parentage=null:Array.isArray(i)&&Ir(i,e)}remove(e){let{_finalizers:i}=this;i&&Ir(i,e),e instanceof t&&e._removeParent(this)}};Ee.EMPTY=(()=>{let t=new Ee;return t.closed=!0,t})();var hg=Ee.EMPTY;function Jc(t){return t instanceof Ee||t&&"closed"in t&&K(t.remove)&&K(t.add)&&K(t.unsubscribe)}function TD(t){K(t)?t():t.unsubscribe()}var En={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Is={setTimeout(t,e,...i){let{delegate:n}=Is;return n?.setTimeout?n.setTimeout(t,e,...i):setTimeout(t,e,...i)},clearTimeout(t){let{delegate:e}=Is;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Xc(t){Is.setTimeout(()=>{let{onUnhandledError:e}=En;if(e)e(t);else throw t})}function At(){}var AD=pg("C",void 0,void 0);function RD(t){return pg("E",void 0,t)}function MD(t){return pg("N",t,void 0)}function pg(t,e,i){return{kind:t,value:e,error:i}}var Mi=null;function Ds(t){if(En.useDeprecatedSynchronousErrorHandling){let e=!Mi;if(e&&(Mi={errorThrown:!1,error:null}),t(),e){let{errorThrown:i,error:n}=Mi;if(Mi=null,i)throw n}}else t()}function xD(t){En.useDeprecatedSynchronousErrorHandling&&Mi&&(Mi.errorThrown=!0,Mi.error=t)}var xi=class extends Ee{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Jc(e)&&e.add(this)):this.destination=$F}static create(e,i,n){return new Dr(e,i,n)}next(e){this.isStopped?mg(MD(e),this):this._next(e)}error(e){this.isStopped?mg(RD(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?mg(AD,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},UF=Function.prototype.bind;function gg(t,e){return UF.call(t,e)}var vg=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:i}=this;if(i.next)try{i.next(e)}catch(n){eu(n)}}error(e){let{partialObserver:i}=this;if(i.error)try{i.error(e)}catch(n){eu(n)}else eu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(i){eu(i)}}},Dr=class extends xi{constructor(e,i,n){super();let r;if(K(e)||!e)r={next:e??void 0,error:i??void 0,complete:n??void 0};else{let s;this&&En.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&gg(e.next,s),error:e.error&&gg(e.error,s),complete:e.complete&&gg(e.complete,s)}):r=e}this.destination=new vg(r)}};function eu(t){En.useDeprecatedSynchronousErrorHandling?xD(t):Xc(t)}function jF(t){throw t}function mg(t,e){let{onStoppedNotification:i}=En;i&&Is.setTimeout(()=>i(t,e))}var $F={closed:!0,next:At,error:jF,complete:At};var bs=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Xe(t){return t}function yg(...t){return Eg(t)}function Eg(t){return t.length===0?Xe:t.length===1?t[0]:function(i){return t.reduce((n,r)=>r(n),i)}}var z=(()=>{class t{constructor(i){i&&(this._subscribe=i)}lift(i){let n=new t;return n.source=this,n.operator=i,n}subscribe(i,n,r){let s=VF(i)?i:new Dr(i,n,r);return Ds(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(i){try{return this._subscribe(i)}catch(n){i.error(n)}}forEach(i,n){return n=ND(n),new n((r,s)=>{let o=new Dr({next:a=>{try{i(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(i){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(i)}[bs](){return this}pipe(...i){return Eg(i)(this)}toPromise(i){return i=ND(i),new i((n,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>n(s))})}}return t.create=e=>new t(e),t})();function ND(t){var e;return(e=t??En.Promise)!==null&&e!==void 0?e:Promise}function BF(t){return t&&K(t.next)&&K(t.error)&&K(t.complete)}function VF(t){return t&&t instanceof xi||BF(t)&&Jc(t)}var OD=Jr(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var re=(()=>{class t extends z{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(i){let n=new tu(this,this);return n.operator=i,n}_throwIfClosed(){if(this.closed)throw new OD}next(i){Ds(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let n of this.currentObservers)n.next(i)}})}error(i){Ds(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=i;let{observers:n}=this;for(;n.length;)n.shift().error(i)}})}complete(){Ds(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:i}=this;for(;i.length;)i.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var i;return((i=this.observers)===null||i===void 0?void 0:i.length)>0}_trySubscribe(i){return this._throwIfClosed(),super._trySubscribe(i)}_subscribe(i){return this._throwIfClosed(),this._checkFinalizedStatuses(i),this._innerSubscribe(i)}_innerSubscribe(i){let{hasError:n,isStopped:r,observers:s}=this;return n||r?hg:(this.currentObservers=null,s.push(i),new Ee(()=>{this.currentObservers=null,Ir(s,i)}))}_checkFinalizedStatuses(i){let{hasError:n,thrownError:r,isStopped:s}=this;n?i.error(r):s&&i.complete()}asObservable(){let i=new z;return i.source=this,i}}return t.create=(e,i)=>new tu(e,i),t})(),tu=class extends re{constructor(e,i){super(),this.destination=e,this.source=i}next(e){var i,n;(n=(i=this.destination)===null||i===void 0?void 0:i.next)===null||n===void 0||n.call(i,e)}error(e){var i,n;(n=(i=this.destination)===null||i===void 0?void 0:i.error)===null||n===void 0||n.call(i,e)}complete(){var e,i;(i=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||i===void 0||i.call(e)}_subscribe(e){var i,n;return(n=(i=this.source)===null||i===void 0?void 0:i.subscribe(e))!==null&&n!==void 0?n:hg}};var Te=class extends re{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let i=super._subscribe(e);return!i.closed&&e.next(this._value),i}getValue(){let{hasError:e,thrownError:i,_value:n}=this;if(e)throw i;return this._throwIfClosed(),n}next(e){super.next(this._value=e)}};var Wo={now(){return(Wo.delegate||Date).now()},delegate:void 0};var rn=class extends re{constructor(e=1/0,i=1/0,n=Wo){super(),this._bufferSize=e,this._windowTime=i,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=i===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,i)}next(e){let{isStopped:i,_buffer:n,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:o}=this;i||(n.push(e),!r&&n.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let i=this._innerSubscribe(e),{_infiniteTimeWindow:n,_buffer:r}=this,s=r.slice();for(let o=0;o<s.length&&!e.closed;o+=n?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),i}_trimBuffer(){let{_bufferSize:e,_timestampProvider:i,_buffer:n,_infiniteTimeWindow:r}=this,s=(r?1:2)*e;if(e<1/0&&s<n.length&&n.splice(0,n.length-s),!r){let o=i.now(),a=0;for(let c=1;c<n.length&&n[c]<=o;c+=2)a=c;a&&n.splice(0,a+1)}}};var he=new z(t=>t.complete());function nu(t){return t&&K(t.schedule)}function Cg(t){return t[t.length-1]}function Xr(t){return K(Cg(t))?t.pop():void 0}function Hn(t){return nu(Cg(t))?t.pop():void 0}function PD(t,e){return typeof Cg(t)=="number"?t.pop():e}function R7(t,e,i,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,i):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s}function M7(t,e){return function(i,n){e(i,n,t)}}function _D(t,e,i,n){function r(s){return s instanceof i?s:new i(function(o){o(s)})}return new(i||(i=Promise))(function(s,o){function a(l){try{u(n.next(l))}catch(f){o(f)}}function c(l){try{u(n.throw(l))}catch(f){o(f)}}function u(l){l.done?s(l.value):r(l.value).then(a,c)}u((n=n.apply(t,e||[])).next())})}function FD(t){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ni(t){return this instanceof Ni?(this.v=t,this):new Ni(t)}function LD(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=i.apply(t,e||[]),r,s=[];return r={},a("next"),a("throw"),a("return",o),r[Symbol.asyncIterator]=function(){return this},r;function o(g){return function(y){return Promise.resolve(y).then(g,f)}}function a(g,y){n[g]&&(r[g]=function(b){return new Promise(function(w,R){s.push([g,b,w,R])>1||c(g,b)})},y&&(r[g]=y(r[g])))}function c(g,y){try{u(n[g](y))}catch(b){h(s[0][3],b)}}function u(g){g.value instanceof Ni?Promise.resolve(g.value.v).then(l,f):h(s[0][2],g)}function l(g){c("next",g)}function f(g){c("throw",g)}function h(g,y){g(y),s.shift(),s.length&&c(s[0][0],s[0][1])}}function kD(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],i;return e?e.call(t):(t=typeof FD=="function"?FD(t):t[Symbol.iterator](),i={},n("next"),n("throw"),n("return"),i[Symbol.asyncIterator]=function(){return this},i);function n(s){i[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),r(a,c,o.done,o.value)})}}function r(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}var ws=t=>t&&typeof t.length=="number"&&typeof t!="function";function ru(t){return K(t?.then)}function iu(t){return K(t[bs])}function su(t){return Symbol.asyncIterator&&K(t?.[Symbol.asyncIterator])}function ou(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function HF(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var au=HF();function cu(t){return K(t?.[au])}function uu(t){return LD(this,arguments,function*(){let i=t.getReader();try{for(;;){let{value:n,done:r}=yield Ni(i.read());if(r)return yield Ni(void 0);yield yield Ni(n)}}finally{i.releaseLock()}})}function lu(t){return K(t?.getReader)}function q(t){if(t instanceof z)return t;if(t!=null){if(iu(t))return zF(t);if(ws(t))return GF(t);if(ru(t))return WF(t);if(su(t))return UD(t);if(cu(t))return qF(t);if(lu(t))return YF(t)}throw ou(t)}function zF(t){return new z(e=>{let i=t[bs]();if(K(i.subscribe))return i.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function GF(t){return new z(e=>{for(let i=0;i<t.length&&!e.closed;i++)e.next(t[i]);e.complete()})}function WF(t){return new z(e=>{t.then(i=>{e.closed||(e.next(i),e.complete())},i=>e.error(i)).then(null,Xc)})}function qF(t){return new z(e=>{for(let i of t)if(e.next(i),e.closed)return;e.complete()})}function UD(t){return new z(e=>{KF(t,e).catch(i=>e.error(i))})}function YF(t){return UD(uu(t))}function KF(t,e){var i,n,r,s;return _D(this,void 0,void 0,function*(){try{for(i=kD(t);n=yield i.next(),!n.done;){let o=n.value;if(e.next(o),e.closed)return}}catch(o){r={error:o}}finally{try{n&&!n.done&&(s=i.return)&&(yield s.call(i))}finally{if(r)throw r.error}}e.complete()})}function Et(t,e,i,n=0,r=!1){let s=e.schedule(function(){i(),r?t.add(this.schedule(null,n)):this.unsubscribe()},n);if(t.add(s),!r)return s}function Sg(t){return K(t?.lift)}function _(t){return e=>{if(Sg(e))return e.lift(function(i){try{return t(i,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function P(t,e,i,n,r){return new qo(t,e,i,n,r)}var qo=class extends xi{constructor(e,i,n,r,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=i?function(a){try{i(a)}catch(c){e.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:i}=this;super.unsubscribe(),!i&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function sn(t,e=0){return _((i,n)=>{i.subscribe(P(n,r=>Et(n,t,()=>n.next(r),e),()=>Et(n,t,()=>n.complete(),e),r=>Et(n,t,()=>n.error(r),e)))})}function du(t,e=0){return _((i,n)=>{n.add(t.schedule(()=>i.subscribe(n),e))})}function jD(t,e){return q(t).pipe(du(e),sn(e))}function $D(t,e){return q(t).pipe(du(e),sn(e))}function BD(t,e){return new z(i=>{let n=0;return e.schedule(function(){n===t.length?i.complete():(i.next(t[n++]),i.closed||this.schedule())})})}function VD(t,e){return new z(i=>{let n;return Et(i,e,()=>{n=t[au](),Et(i,e,()=>{let r,s;try{({value:r,done:s}=n.next())}catch(o){i.error(o);return}s?i.complete():i.next(r)},0,!0)}),()=>K(n?.return)&&n.return()})}function fu(t,e){if(!t)throw new Error("Iterable cannot be null");return new z(i=>{Et(i,e,()=>{let n=t[Symbol.asyncIterator]();Et(i,e,()=>{n.next().then(r=>{r.done?i.complete():i.next(r.value)})},0,!0)})})}function HD(t,e){return fu(uu(t),e)}function zD(t,e){if(t!=null){if(iu(t))return jD(t,e);if(ws(t))return BD(t,e);if(ru(t))return $D(t,e);if(su(t))return fu(t,e);if(cu(t))return VD(t,e);if(lu(t))return HD(t,e)}throw ou(t)}function pe(t,e){return e?zD(t,e):q(t)}function I(...t){let e=Hn(t);return pe(t,e)}function E(t,e){return _((i,n)=>{let r=0;i.subscribe(P(n,s=>{n.next(t.call(e,s,r++))}))})}var{isArray:ZF}=Array,{getPrototypeOf:QF,prototype:JF,keys:XF}=Object;function hu(t){if(t.length===1){let e=t[0];if(ZF(e))return{args:e,keys:null};if(e_(e)){let i=XF(e);return{args:i.map(n=>e[n]),keys:i}}}return{args:t,keys:null}}function e_(t){return t&&typeof t=="object"&&QF(t)===JF}var{isArray:t_}=Array;function n_(t,e){return t_(e)?t(...e):t(e)}function Ts(t){return E(e=>n_(t,e))}function pu(t,e){return t.reduce((i,n,r)=>(i[n]=e[r],i),{})}function Pe(...t){let e=Hn(t),i=Xr(t),{args:n,keys:r}=hu(t);if(n.length===0)return pe([],e);let s=new z(r_(n,e,r?o=>pu(r,o):Xe));return i?s.pipe(Ts(i)):s}function r_(t,e,i=Xe){return n=>{GD(e,()=>{let{length:r}=t,s=new Array(r),o=r,a=r;for(let c=0;c<r;c++)GD(e,()=>{let u=pe(t[c],e),l=!1;u.subscribe(P(n,f=>{s[c]=f,l||(l=!0,a--),a||n.next(i(s.slice()))},()=>{--o||n.complete()}))},n)},n)}}function GD(t,e,i){t?Et(i,t,e):e()}function WD(t,e,i,n,r,s,o,a){let c=[],u=0,l=0,f=!1,h=()=>{f&&!c.length&&!u&&e.complete()},g=b=>u<n?y(b):c.push(b),y=b=>{s&&e.next(b),u++;let w=!1;q(i(b,l++)).subscribe(P(e,R=>{r?.(R),s?g(R):e.next(R)},()=>{w=!0},void 0,()=>{if(w)try{for(u--;c.length&&u<n;){let R=c.shift();o?Et(e,o,()=>y(R)):y(R)}h()}catch(R){e.error(R)}}))};return t.subscribe(P(e,g,()=>{f=!0,h()})),()=>{a?.()}}function G(t,e,i=1/0){return K(e)?G((n,r)=>E((s,o)=>e(n,s,r,o))(q(t(n,r))),i):(typeof e=="number"&&(i=e),_((n,r)=>WD(n,r,t,i)))}var gu=class extends Ee{constructor(e,i){super()}schedule(e,i=0){return this}};var Yo={setInterval(t,e,...i){let{delegate:n}=Yo;return n?.setInterval?n.setInterval(t,e,...i):setInterval(t,e,...i)},clearInterval(t){let{delegate:e}=Yo;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var zn=class extends gu{constructor(e,i){super(e,i),this.scheduler=e,this.work=i,this.pending=!1}schedule(e,i=0){var n;if(this.closed)return this;this.state=e;let r=this.id,s=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(s,r,i)),this.pending=!0,this.delay=i,this.id=(n=this.id)!==null&&n!==void 0?n:this.requestAsyncId(s,this.id,i),this}requestAsyncId(e,i,n=0){return Yo.setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,i,n=0){if(n!=null&&this.delay===n&&this.pending===!1)return i;i!=null&&Yo.clearInterval(i)}execute(e,i){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let n=this._execute(e,i);if(n)return n;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,i){let n=!1,r;try{this.work(e)}catch(s){n=!0,r=s||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:i}=this,{actions:n}=i;this.work=this.state=this.scheduler=null,this.pending=!1,Ir(n,this),e!=null&&(this.id=this.recycleAsyncId(i,e,null)),this.delay=null,super.unsubscribe()}}};var As=class t{constructor(e,i=t.now){this.schedulerActionCtor=e,this.now=i}schedule(e,i=0,n){return new this.schedulerActionCtor(this,e).schedule(n,i)}};As.now=Wo.now;var Gn=class extends As{constructor(e,i=As.now){super(e,i),this.actions=[],this._active=!1}flush(e){let{actions:i}=this;if(this._active){i.push(e);return}let n;this._active=!0;do if(n=e.execute(e.state,e.delay))break;while(e=i.shift());if(this._active=!1,n){for(;e=i.shift();)e.unsubscribe();throw n}}};var Gt=new Gn(zn),qD=Gt;function mu(t){return t instanceof Date&&!isNaN(t)}function Wt(t=0,e,i=qD){let n=-1;return e!=null&&(nu(e)?i=e:n=e),new z(r=>{let s=mu(t)?+t-i.now():t;s<0&&(s=0);let o=0;return i.schedule(function(){r.closed||(r.next(o++),0<=n?this.schedule(void 0,n):r.complete())},s)})}function Wn(t=1/0){return G(Xe,t)}function on(...t){let e=Hn(t),i=PD(t,1/0),n=t;return n.length?n.length===1?q(n[0]):Wn(i)(pe(n,e)):he}function x(t,e){return _((i,n)=>{let r=0;i.subscribe(P(n,s=>t.call(e,s,r++)&&n.next(s)))})}function F(t){return _((e,i)=>{let n=null,r=!1,s;n=e.subscribe(P(i,void 0,void 0,o=>{s=q(t(o,F(t)(e))),n?(n.unsubscribe(),n=null,s.subscribe(i)):r=!0})),r&&(n.unsubscribe(),n=null,s.subscribe(i))})}function i_(t){return _((e,i)=>{let n=!1,r=null,s=null,o=()=>{if(s?.unsubscribe(),s=null,n){n=!1;let a=r;r=null,i.next(a)}};e.subscribe(P(i,a=>{s?.unsubscribe(),n=!0,r=a,s=P(i,o,At),q(t(a)).subscribe(s)},()=>{o(),i.complete()},void 0,()=>{r=s=null}))})}function oe(t){return t<=0?()=>he:_((e,i)=>{let n=0;e.subscribe(P(i,r=>{++n<=t&&(i.next(r),t<=n&&i.complete())}))})}function YD(){return Wn(1)}function qn(...t){return YD()(pe(t,Hn(t)))}function Ko(){return _((t,e)=>{t.subscribe(P(e,At))})}function Zo(t){return E(()=>t)}function vu(t,e){return e?i=>qn(e.pipe(oe(1),Ko()),i.pipe(vu(t))):G((i,n)=>q(t(i,n)).pipe(oe(1),Zo(i)))}function Yn(t,e=Gt){let i=Wt(t,e);return vu(()=>i)}function s_(t,e){return _((i,n)=>{let r=new Set;i.subscribe(P(n,s=>{let o=t?t(s):s;r.has(o)||(r.add(o),n.next(s))})),e&&q(e).subscribe(P(n,()=>r.clear(),At))})}function an(t,e=Xe){return t=t??o_,_((i,n)=>{let r,s=!0;i.subscribe(P(n,o=>{let a=e(o);(s||!t(r,a))&&(s=!1,r=a,n.next(o))}))})}function o_(t,e){return t===e}function a_(t,e){return an((i,n)=>e?e(i[t],n[t]):i[t]===n[t])}var Cn=Jr(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ei(t){return _((e,i)=>{let n=!1;e.subscribe(P(i,r=>{n=!0,i.next(r)},()=>{n||i.next(t),i.complete()}))})}function yu(t=c_){return _((e,i)=>{let n=!1;e.subscribe(P(i,r=>{n=!0,i.next(r)},()=>n?i.complete():i.error(t())))})}function c_(){return new Cn}function Rt(t,e){let i=arguments.length>=2;return n=>n.pipe(t?x((r,s)=>t(r,s,n)):Xe,oe(1),i?ei(e):yu(()=>new Cn))}function Ig(t){return x((e,i)=>t<=i)}function Kn(...t){let e=Hn(t);return _((i,n)=>{(e?qn(t,i,e):qn(t,i)).subscribe(n)})}function N(t,e){return _((i,n)=>{let r=null,s=0,o=!1,a=()=>o&&!r&&n.complete();i.subscribe(P(n,c=>{r?.unsubscribe();let u=0,l=s++;q(t(c,l)).subscribe(r=P(n,f=>n.next(e?e(c,f,l,u++):f),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function u_(t,e=!1){return _((i,n)=>{let r=0;i.subscribe(P(n,s=>{let o=t(s,r++);(o||e)&&n.next(s),!o&&n.complete()}))})}function L(t,e,i){let n=K(t)||e||i?{next:t,error:e,complete:i}:t;return n?_((r,s)=>{var o;(o=n.subscribe)===null||o===void 0||o.call(n);let a=!0;r.subscribe(P(s,c=>{var u;(u=n.next)===null||u===void 0||u.call(n,c),s.next(c)},()=>{var c;a=!1,(c=n.complete)===null||c===void 0||c.call(n),s.complete()},c=>{var u;a=!1,(u=n.error)===null||u===void 0||u.call(n,c),s.error(c)},()=>{var c,u;a&&((c=n.unsubscribe)===null||c===void 0||c.call(n)),(u=n.finalize)===null||u===void 0||u.call(n)}))}):Xe}function Rs(){return _((t,e)=>{let i=null;t._refCount++;let n=P(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){i=null;return}let r=t._connection,s=i;i=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});t.subscribe(n),n.closed||(i=t.connect())})}var ti=class extends z{constructor(e,i){super(),this.source=e,this.subjectFactory=i,this._subject=null,this._refCount=0,this._connection=null,Sg(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ee;let i=this.getSubject();e.add(this.source.subscribe(P(i,void 0,()=>{this._teardown(),i.complete()},n=>{this._teardown(),i.error(n)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ee.EMPTY)}return e}refCount(){return Rs()(this)}};var Ms={schedule(t){let e=requestAnimationFrame,i=cancelAnimationFrame,{delegate:n}=Ms;n&&(e=n.requestAnimationFrame,i=n.cancelAnimationFrame);let r=e(s=>{i=void 0,t(s)});return new Ee(()=>i?.(r))},requestAnimationFrame(...t){let{delegate:e}=Ms;return(e?.requestAnimationFrame||requestAnimationFrame)(...t)},cancelAnimationFrame(...t){let{delegate:e}=Ms;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...t)},delegate:void 0};var l_=1,Dg,bg={};function KD(t){return t in bg?(delete bg[t],!0):!1}var ZD={setImmediate(t){let e=l_++;return bg[e]=!0,Dg||(Dg=Promise.resolve()),Dg.then(()=>KD(e)&&t()),e},clearImmediate(t){KD(t)}};var{setImmediate:d_,clearImmediate:f_}=ZD,Qo={setImmediate(...t){let{delegate:e}=Qo;return(e?.setImmediate||d_)(...t)},clearImmediate(t){let{delegate:e}=Qo;return(e?.clearImmediate||f_)(t)},delegate:void 0};var Eu=class extends zn{constructor(e,i){super(e,i),this.scheduler=e,this.work=i}requestAsyncId(e,i,n=0){return n!==null&&n>0?super.requestAsyncId(e,i,n):(e.actions.push(this),e._scheduled||(e._scheduled=Qo.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,i,n=0){var r;if(n!=null?n>0:this.delay>0)return super.recycleAsyncId(e,i,n);let{actions:s}=e;i!=null&&((r=s[s.length-1])===null||r===void 0?void 0:r.id)!==i&&(Qo.clearImmediate(i),e._scheduled===i&&(e._scheduled=void 0))}};var Cu=class extends Gn{flush(e){this._active=!0;let i=this._scheduled;this._scheduled=void 0;let{actions:n}=this,r;e=e||n.shift();do if(r=e.execute(e.state,e.delay))break;while((e=n[0])&&e.id===i&&n.shift());if(this._active=!1,r){for(;(e=n[0])&&e.id===i&&n.shift();)e.unsubscribe();throw r}}};var wg=new Cu(Eu);var Su=class extends zn{constructor(e,i){super(e,i),this.scheduler=e,this.work=i}schedule(e,i=0){return i>0?super.schedule(e,i):(this.delay=i,this.state=e,this.scheduler.flush(this),this)}execute(e,i){return i>0||this.closed?super.execute(e,i):this._execute(e,i)}requestAsyncId(e,i,n=0){return n!=null&&n>0||n==null&&this.delay>0?super.requestAsyncId(e,i,n):(e.flush(this),0)}};var Iu=class extends Gn{};var ni=new Iu(Su);var Du=class extends zn{constructor(e,i){super(e,i),this.scheduler=e,this.work=i}requestAsyncId(e,i,n=0){return n!==null&&n>0?super.requestAsyncId(e,i,n):(e.actions.push(this),e._scheduled||(e._scheduled=Ms.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,i,n=0){var r;if(n!=null?n>0:this.delay>0)return super.recycleAsyncId(e,i,n);let{actions:s}=e;i!=null&&((r=s[s.length-1])===null||r===void 0?void 0:r.id)!==i&&(Ms.cancelAnimationFrame(i),e._scheduled=void 0)}};var bu=class extends Gn{flush(e){this._active=!0;let i=this._scheduled;this._scheduled=void 0;let{actions:n}=this,r;e=e||n.shift();do if(r=e.execute(e.state,e.delay))break;while((e=n[0])&&e.id===i&&n.shift());if(this._active=!1,r){for(;(e=n[0])&&e.id===i&&n.shift();)e.unsubscribe();throw r}}};var h_=new bu(Du);function Mt(t,e){let i=K(t)?t:()=>t,n=r=>r.error(i());return new z(e?r=>e.schedule(n,0,r):n)}var ri=class t{constructor(e,i,n){this.kind=e,this.value=i,this.error=n,this.hasValue=e==="N"}observe(e){return Tg(this,e)}do(e,i,n){let{kind:r,value:s,error:o}=this;return r==="N"?e?.(s):r==="E"?i?.(o):n?.()}accept(e,i,n){var r;return K((r=e)===null||r===void 0?void 0:r.next)?this.observe(e):this.do(e,i,n)}toObservable(){let{kind:e,value:i,error:n}=this,r=e==="N"?I(i):e==="E"?Mt(()=>n):e==="C"?he:0;if(!r)throw new TypeError(`Unexpected notification kind ${e}`);return r}static createNext(e){return new t("N",e)}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}};ri.completeNotification=new ri("C");function Tg(t,e){var i,n,r;let{kind:s,value:o,error:a}=t;if(typeof s!="string")throw new TypeError('Invalid notification, missing "kind"');s==="N"?(i=e.next)===null||i===void 0||i.call(e,o):s==="E"?(n=e.error)===null||n===void 0||n.call(e,a):(r=e.complete)===null||r===void 0||r.call(e)}function Oi(t){return!!t&&(t instanceof z||K(t.lift)&&K(t.subscribe))}function Zn(t,e){let i=typeof e=="object";return new Promise((n,r)=>{let s=!1,o;t.subscribe({next:a=>{o=a,s=!0},error:r,complete:()=>{s?n(o):i?n(e.defaultValue):r(new Cn)}})})}var wu=Jr(t=>function(i=null){t(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=i});function Jo(t,e){let{first:i,each:n,with:r=p_,scheduler:s=e??Gt,meta:o=null}=mu(t)?{first:t}:typeof t=="number"?{each:t}:t;if(i==null&&n==null)throw new TypeError("No timeout provided.");return _((a,c)=>{let u,l,f=null,h=0,g=y=>{l=Et(c,s,()=>{try{u.unsubscribe(),q(r({meta:o,lastValue:f,seen:h})).subscribe(c)}catch(b){c.error(b)}},y)};u=a.subscribe(P(c,y=>{l?.unsubscribe(),h++,c.next(f=y),n>0&&g(n)},void 0,void 0,()=>{l?.closed||l?.unsubscribe(),f=null})),!h&&g(i!=null?typeof i=="number"?i:+i-s.now():n)})}function p_(t){throw new wu(t)}function qe(t){return new z(e=>{q(t()).subscribe(e)})}var g_={connector:()=>new re,resetOnDisconnect:!0};function Tu(t,e=g_){let i=null,{connector:n,resetOnDisconnect:r=!0}=e,s=n(),o=new z(a=>s.subscribe(a));return o.connect=()=>((!i||i.closed)&&(i=qe(()=>t).subscribe(s),r&&i.add(()=>s=n())),i),o}function Au(...t){let e=Xr(t),{args:i,keys:n}=hu(t),r=new z(s=>{let{length:o}=i;if(!o){s.complete();return}let a=new Array(o),c=o,u=o;for(let l=0;l<o;l++){let f=!1;q(i[l]).subscribe(P(s,h=>{f||(f=!0,u--),a[l]=h},()=>c--,void 0,()=>{(!c||!f)&&(u||s.next(n?pu(n,a):a),s.complete())}))}});return e?r.pipe(Ts(e)):r}var m_=["addListener","removeListener"],v_=["addEventListener","removeEventListener"],y_=["on","off"];function Xo(t,e,i,n){if(K(i)&&(n=i,i=void 0),n)return Xo(t,e,i).pipe(Ts(n));let[r,s]=S_(t)?v_.map(o=>a=>t[o](e,a,i)):E_(t)?m_.map(QD(t,e)):C_(t)?y_.map(QD(t,e)):[];if(!r&&ws(t))return G(o=>Xo(o,e,i))(q(t));if(!r)throw new TypeError("Invalid event target");return new z(o=>{let a=(...c)=>o.next(1<c.length?c:c[0]);return r(a),()=>s(a)})}function QD(t,e){return i=>n=>t[i](e,n)}function E_(t){return K(t.addListener)&&K(t.removeListener)}function C_(t){return K(t.on)&&K(t.off)}function S_(t){return K(t.addEventListener)&&K(t.removeEventListener)}function ea(t,e,i){return qe(()=>t()?e:i)}function I_(t=0,e=Gt){return t<0&&(t=0),Wt(t,t,e)}var Ag=new z(At);var{isArray:D_}=Array;function Ru(t){return t.length===1&&D_(t[0])?t[0]:t}function Rg(...t){return t=Ru(t),t.length===1?q(t[0]):new z(b_(t))}function b_(t){return e=>{let i=[];for(let n=0;i&&!e.closed&&n<t.length;n++)i.push(q(t[n]).subscribe(P(e,r=>{if(i){for(let s=0;s<i.length;s++)s!==n&&i[s].unsubscribe();i=null}e.next(r)})))}}function xs(t,e){return new z(i=>{let n=t(),r=e(n);return(r?q(r):he).subscribe(i),()=>{n&&n.unsubscribe()}})}function Pi(...t){let e=Xr(t),i=Ru(t);return i.length?new z(n=>{let r=i.map(()=>[]),s=i.map(()=>!1);n.add(()=>{r=s=null});for(let o=0;!n.closed&&o<i.length;o++)q(i[o]).subscribe(P(n,a=>{if(r[o].push(a),r.every(c=>c.length)){let c=r.map(u=>u.shift());n.next(e?e(...c):c),r.some((u,l)=>!u.length&&s[l])&&n.complete()}},()=>{s[o]=!0,!r[o].length&&n.complete()}));return()=>{r=s=null}}):he}function ta(t){return _((e,i)=>{let n=!1,r=null,s=null,o=!1,a=()=>{if(s?.unsubscribe(),s=null,n){n=!1;let u=r;r=null,i.next(u)}o&&i.complete()},c=()=>{s=null,o&&i.complete()};e.subscribe(P(i,u=>{n=!0,r=u,s||q(t(u)).subscribe(s=P(i,a,c))},()=>{o=!0,(!n||!s||s.closed)&&i.complete()}))})}function w_(t,e=Gt){return ta(()=>Wt(t,e))}function Mu(t,e=null){return e=e??t,_((i,n)=>{let r=[],s=0;i.subscribe(P(n,o=>{let a=null;s++%e===0&&r.push([]);for(let c of r)c.push(o),t<=c.length&&(a=a??[],a.push(c));if(a)for(let c of a)Ir(r,c),n.next(c)},()=>{for(let o of r)n.next(o);n.complete()},void 0,()=>{r=null}))})}function JD(t,e,i,n,r){return(s,o)=>{let a=i,c=e,u=0;s.subscribe(P(o,l=>{let f=u++;c=a?t(c,l,f):(a=!0,l),n&&o.next(c)},r&&(()=>{a&&o.next(c),o.complete()})))}}function Ue(t,e){return K(e)?G(t,e,1):G(t,1)}function XD(t){return new z(e=>t.subscribe(e))}var T_={connector:()=>new re};function xu(t,e=T_){let{connector:i}=e;return _((n,r)=>{let s=i();q(t(XD(s))).subscribe(r),r.add(n.subscribe(s))})}function Fi(t,e=Gt){return _((i,n)=>{let r=null,s=null,o=null,a=()=>{if(r){r.unsubscribe(),r=null;let u=s;s=null,n.next(u)}};function c(){let u=o+t,l=e.now();if(l<u){r=this.schedule(void 0,u-l),n.add(r);return}a()}i.subscribe(P(n,u=>{s=u,o=e.now(),r||(r=e.schedule(c,t),n.add(r))},()=>{a(),n.complete()},void 0,()=>{s=r=null}))})}function Mg(){return _((t,e)=>{t.subscribe(P(e,i=>Tg(i,e)))})}function eb(...t){return e=>qn(e,I(...t))}function A_(t,e){return _((i,n)=>{let r=0;i.subscribe(P(n,s=>{t.call(e,s,r++,i)||(n.next(!1),n.complete())},()=>{n.next(!0),n.complete()}))})}function Qn(t,e){return e?i=>i.pipe(Qn((n,r)=>q(t(n,r)).pipe(E((s,o)=>e(n,s,r,o))))):_((i,n)=>{let r=0,s=null,o=!1;i.subscribe(P(n,a=>{s||(s=P(n,void 0,()=>{s=null,o&&n.complete()}),q(t(a,r++)).subscribe(s))},()=>{o=!0,!s&&n.complete()}))})}function Sn(t){return _((e,i)=>{try{e.subscribe(i)}finally{i.add(t)}})}function ii(t,e,i,n){return _((r,s)=>{let o;!e||typeof e=="function"?o=e:{duration:i,element:o,connector:n}=e;let a=new Map,c=y=>{a.forEach(y),y(s)},u=y=>c(b=>b.error(y)),l=0,f=!1,h=new qo(s,y=>{try{let b=t(y),w=a.get(b);if(!w){a.set(b,w=n?n():new re);let R=g(b,w);if(s.next(R),i){let k=P(w,()=>{w.complete(),k?.unsubscribe()},void 0,void 0,()=>a.delete(b));h.add(q(i(R)).subscribe(k))}}w.next(o?o(y):y)}catch(b){u(b)}},()=>c(y=>y.complete()),u,()=>a.clear(),()=>(f=!0,l===0));r.subscribe(h);function g(y,b){let w=new z(R=>{l++;let k=b.subscribe(R);return()=>{k.unsubscribe(),--l===0&&f&&h.unsubscribe()}});return w.key=y,w}})}function Ns(t){return t<=0?()=>he:_((e,i)=>{let n=[];e.subscribe(P(i,r=>{n.push(r),t<n.length&&n.shift()},()=>{for(let r of n)i.next(r);i.complete()},void 0,()=>{n=null}))})}function xg(t,e){let i=arguments.length>=2;return n=>n.pipe(t?x((r,s)=>t(r,s,n)):Xe,Ns(1),i?ei(e):yu(()=>new Cn))}function Ng(){return _((t,e)=>{t.subscribe(P(e,i=>{e.next(ri.createNext(i))},()=>{e.next(ri.createComplete()),e.complete()},i=>{e.next(ri.createError(i)),e.complete()}))})}function tb(t,e){let i=K(t)?t:()=>t;return K(e)?xu(e,{connector:i}):n=>new ti(n,i)}function na(){return _((t,e)=>{let i,n=!1;t.subscribe(P(e,r=>{let s=i;i=r,n&&e.next([s,r]),n=!0}))})}function Og(...t){let e=t.length;if(e===0)throw new Error("list of properties cannot be empty.");return E(i=>{let n=i;for(let r=0;r<e;r++){let s=n?.[t[r]];if(typeof s<"u")n=s;else return}return n})}function R_(t){return t?e=>xu(t)(e):e=>tb(new re)(e)}function Pg(t=1/0){let e;t&&typeof t=="object"?e=t:e={count:t};let{count:i=1/0,delay:n,resetOnSuccess:r=!1}=e;return i<=0?Xe:_((s,o)=>{let a=0,c,u=()=>{let l=!1;c=s.subscribe(P(o,f=>{r&&(a=0),o.next(f)},void 0,f=>{if(a++<i){let h=()=>{c?(c.unsubscribe(),c=null,u()):l=!0};if(n!=null){let g=typeof n=="number"?Wt(n):q(n(f,a)),y=P(o,()=>{y.unsubscribe(),h()},()=>{o.complete()});g.subscribe(y)}else h()}else o.error(f)})),l&&(c.unsubscribe(),c=null,u())};u()})}function _i(t,e){return _(JD(t,e,arguments.length>=2,!0))}function Os(t={}){let{connector:e=()=>new re,resetOnError:i=!0,resetOnComplete:n=!0,resetOnRefCountZero:r=!0}=t;return s=>{let o,a,c,u=0,l=!1,f=!1,h=()=>{a?.unsubscribe(),a=void 0},g=()=>{h(),o=c=void 0,l=f=!1},y=()=>{let b=o;g(),b?.unsubscribe()};return _((b,w)=>{u++,!f&&!l&&h();let R=c=c??e();w.add(()=>{u--,u===0&&!f&&!l&&(a=Fg(y,r))}),R.subscribe(w),!o&&u>0&&(o=new Dr({next:k=>R.next(k),error:k=>{f=!0,h(),a=Fg(g,i,k),R.error(k)},complete:()=>{l=!0,h(),a=Fg(g,n),R.complete()}}),q(b).subscribe(o))})(s)}}function Fg(t,e,...i){if(e===!0){t();return}if(e===!1)return;let n=new Dr({next:()=>{n.unsubscribe(),t()}});return q(e(...i)).subscribe(n)}function ht(t,e,i){let n,r=!1;return t&&typeof t=="object"?{bufferSize:n=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:i}=t:n=t??1/0,Os({connector:()=>new rn(n,e,i),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function Nu(t){return _((e,i)=>{let n=!1,r=0;e.subscribe(P(i,s=>(n||(n=!t(s,r++)))&&i.next(s)))})}function ra(t){return _((e,i)=>{q(t).subscribe(P(i,()=>i.complete(),At)),!i.closed&&e.subscribe(i)})}function nb(t,e){return _((i,n)=>{let{leading:r=!0,trailing:s=!1}=e??{},o=!1,a=null,c=null,u=!1,l=()=>{c?.unsubscribe(),c=null,s&&(g(),u&&n.complete())},f=()=>{c=null,u&&n.complete()},h=y=>c=q(t(y)).subscribe(P(n,l,f)),g=()=>{if(o){o=!1;let y=a;a=null,n.next(y),!u&&h(y)}};i.subscribe(P(n,y=>{o=!0,a=y,!(c&&!c.closed)&&(r?g():h(y))},()=>{u=!0,!(s&&o&&c&&!c.closed)&&n.complete()}))})}function M_(t,e=Gt,i){let n=Wt(t,e);return nb(()=>n,i)}function rt(...t){let e=Xr(t);return _((i,n)=>{let r=t.length,s=new Array(r),o=t.map(()=>!1),a=!1;for(let c=0;c<r;c++)q(t[c]).subscribe(P(n,u=>{s[c]=u,!a&&!o[c]&&(o[c]=!0,(a=o.every(Xe))&&(o=null))},At));i.subscribe(P(n,c=>{if(a){let u=[c,...s];n.next(e?e(...u):u)}}))})}function rb(t,e){return Object.is(t,e)}var it=null,Ou=!1,Pu=1,br=Symbol("SIGNAL");function ve(t){let e=it;return it=t,e}var _u={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function kg(t){if(Ou)throw new Error("");if(it===null)return;it.consumerOnSignalRead(t);let e=it.nextProducerIndex++;if(Ps(it),e<it.producerNode.length&&it.producerNode[e]!==t&&ia(it)){let i=it.producerNode[e];Lu(i,it.producerIndexOfThis[e])}it.producerNode[e]!==t&&(it.producerNode[e]=t,it.producerIndexOfThis[e]=ia(it)?cb(t,it,e):0),it.producerLastReadVersion[e]=t.version}function x_(){Pu++}function ib(t){if(!(ia(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Pu)){if(!t.producerMustRecompute(t)&&!$g(t)){t.dirty=!1,t.lastCleanEpoch=Pu;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Pu}}function sb(t){if(t.liveConsumerNode===void 0)return;let e=Ou;Ou=!0;try{for(let i of t.liveConsumerNode)i.dirty||N_(i)}finally{Ou=e}}function ob(){return it?.consumerAllowSignalWrites!==!1}function N_(t){t.dirty=!0,sb(t),t.consumerMarkedDirty?.(t)}function Ug(t){return t&&(t.nextProducerIndex=0),ve(t)}function jg(t,e){if(ve(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(ia(t))for(let i=t.nextProducerIndex;i<t.producerNode.length;i++)Lu(t.producerNode[i],t.producerIndexOfThis[i]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function $g(t){Ps(t);for(let e=0;e<t.producerNode.length;e++){let i=t.producerNode[e],n=t.producerLastReadVersion[e];if(n!==i.version||(ib(i),n!==i.version))return!0}return!1}function ab(t){if(Ps(t),ia(t))for(let e=0;e<t.producerNode.length;e++)Lu(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function cb(t,e,i){if(ub(t),Ps(t),t.liveConsumerNode.length===0)for(let n=0;n<t.producerNode.length;n++)t.producerIndexOfThis[n]=cb(t.producerNode[n],t,n);return t.liveConsumerIndexOfThis.push(i),t.liveConsumerNode.push(e)-1}function Lu(t,e){if(ub(t),Ps(t),t.liveConsumerNode.length===1)for(let n=0;n<t.producerNode.length;n++)Lu(t.producerNode[n],t.producerIndexOfThis[n]);let i=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[i],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[i],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let n=t.liveConsumerIndexOfThis[e],r=t.liveConsumerNode[e];Ps(r),r.producerIndexOfThis[n]=e}}function ia(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Ps(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function ub(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function lb(t){let e=Object.create(O_);e.computation=t;let i=()=>{if(ib(e),kg(e),e.value===Fu)throw e.error;return e.value};return i[br]=e,i}var _g=Symbol("UNSET"),Lg=Symbol("COMPUTING"),Fu=Symbol("ERRORED"),O_=T(v({},_u),{value:_g,dirty:!0,error:null,equal:rb,producerMustRecompute(t){return t.value===_g||t.value===Lg},producerRecomputeValue(t){if(t.value===Lg)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Lg;let i=Ug(t),n;try{n=t.computation()}catch(r){n=Fu,t.error=r}finally{jg(t,i)}if(e!==_g&&e!==Fu&&n!==Fu&&t.equal(e,n)){t.value=e;return}t.value=n,t.version++}});function P_(){throw new Error}var db=P_;function fb(){db()}function hb(t){db=t}var F_=null;function pb(t){let e=Object.create(mb);e.value=t;let i=()=>(kg(e),e.value);return i[br]=e,i}function Bg(t,e){ob()||fb(),t.equal(t.value,e)||(t.value=e,__(t))}function gb(t,e){ob()||fb(),Bg(t,e(t.value))}var mb=T(v({},_u),{equal:rb,value:void 0});function __(t){t.version++,x_(),sb(t),F_?.()}var cw="https://g.co/ng/security#xss",j=class extends Error{constructor(e,i){super(vl(e,i)),this.code=e}};function vl(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function va(t){return{toString:t}.toString()}var ku="__parameters__";function L_(t){return function(...i){if(t){let n=t(...i);for(let r in n)this[r]=n[r]}}}function cv(t,e,i){return va(()=>{let n=L_(e);function r(...s){if(this instanceof r)return n.apply(this,s),this;let o=new r(...s);return a.annotation=o,a;function a(c,u,l){let f=c.hasOwnProperty(ku)?c[ku]:Object.defineProperty(c,ku,{value:[]})[ku];for(;f.length<=l;)f.push(null);return(f[l]=f[l]||[]).push(o),c}}return i&&(r.prototype=Object.create(i.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}var Ge=globalThis;function Ae(t){for(let e in t)if(t[e]===Ae)return e;throw Error("Could not find renamed property on target object.")}function k_(t,e){for(let i in e)e.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=e[i])}function Nt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Nt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let i=e.indexOf(`
`);return i===-1?e:e.substring(0,i)}function rm(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var U_=Ae({__forward_ref__:Ae});function uw(t){return t.__forward_ref__=uw,t.toString=function(){return Nt(this())},t}function xt(t){return lw(t)?t():t}function lw(t){return typeof t=="function"&&t.hasOwnProperty(U_)&&t.__forward_ref__===uw}function m(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function $(t){return{providers:t.providers||[],imports:t.imports||[]}}function yl(t){return vb(t,fw)||vb(t,hw)}function dw(t){return yl(t)!==null}function vb(t,e){return t.hasOwnProperty(e)?t[e]:null}function j_(t){let e=t&&(t[fw]||t[hw]);return e||null}function yb(t){return t&&(t.hasOwnProperty(Eb)||t.hasOwnProperty($_))?t[Eb]:null}var fw=Ae({\u0275prov:Ae}),Eb=Ae({\u0275inj:Ae}),hw=Ae({ngInjectableDef:Ae}),$_=Ae({ngInjectorDef:Ae}),S=class{constructor(e,i){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof i=="number"?this.__NG_ELEMENT_ID__=i:i!==void 0&&(this.\u0275prov=m({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function pw(t){return t&&!!t.\u0275providers}var B_=Ae({\u0275cmp:Ae}),V_=Ae({\u0275dir:Ae}),H_=Ae({\u0275pipe:Ae}),z_=Ae({\u0275mod:Ae}),Zu=Ae({\u0275fac:Ae}),sa=Ae({__NG_ELEMENT_ID__:Ae}),Cb=Ae({__NG_ENV_ID__:Ae});function Dn(t){return typeof t=="string"?t:t==null?"":String(t)}function G_(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Dn(t)}function W_(t,e){let i=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new j(-200,t)}function uv(t,e){throw new j(-201,!1)}var ce=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ce||{}),im;function gw(){return im}function jt(t){let e=im;return im=t,e}function mw(t,e,i){let n=yl(t);if(n&&n.providedIn=="root")return n.value===void 0?n.value=n.factory():n.value;if(i&ce.Optional)return null;if(e!==void 0)return e;uv(t,"Injector")}var q_={},aa=q_,sm="__NG_DI_FLAG__",Qu="ngTempTokenPath",Y_="ngTokenPath",K_=/\n/gm,Z_="\u0275",Sb="__source",Us;function Q_(){return Us}function si(t){let e=Us;return Us=t,e}function J_(t,e=ce.Default){if(Us===void 0)throw new j(-203,!1);return Us===null?mw(t,void 0,e):Us.get(t,e&ce.Optional?null:void 0,e)}function d(t,e=ce.Default){return(gw()||J_)(xt(t),e)}function C(t,e=ce.Default){return d(t,El(e))}function El(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function om(t){let e=[];for(let i=0;i<t.length;i++){let n=xt(t[i]);if(Array.isArray(n)){if(n.length===0)throw new j(900,!1);let r,s=ce.Default;for(let o=0;o<n.length;o++){let a=n[o],c=X_(a);typeof c=="number"?c===-1?r=a.token:s|=c:r=a}e.push(d(r,s))}else e.push(d(n))}return e}function lv(t,e){return t[sm]=e,t.prototype[sm]=e,t}function X_(t){return t[sm]}function eL(t,e,i,n){let r=t[Qu];throw e[Sb]&&r.unshift(e[Sb]),t.message=tL(`
`+t.message,r,i,n),t[Y_]=r,t[Qu]=null,t}function tL(t,e,i,n=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==Z_?t.slice(2):t;let r=Nt(e);if(Array.isArray(e))r=e.map(Nt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):Nt(a)))}r=`{${s.join(", ")}}`}return`${i}${n?"("+n+")":""}[${r}]: ${t.replace(K_,`
  `)}`}var dv=lv(cv("Inject",t=>({token:t})),-1),ln=lv(cv("Optional"),8);var Cl=lv(cv("SkipSelf"),4);function ji(t,e){let i=t.hasOwnProperty(Zu);return i?t[Zu]:null}function nL(t,e,i){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],s=e[n];if(i&&(r=i(r),s=i(s)),s!==r)return!1}return!0}function rL(t){return t.flat(Number.POSITIVE_INFINITY)}function fv(t,e){t.forEach(i=>Array.isArray(i)?fv(i,e):e(i))}function vw(t,e,i){e>=t.length?t.push(i):t.splice(e,0,i)}function Ju(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function iL(t,e){let i=[];for(let n=0;n<t;n++)i.push(e);return i}function sL(t,e,i,n){let r=t.length;if(r==e)t.push(i,n);else if(r===1)t.push(n,t[0]),t[0]=i;else{for(r--,t.push(t[r-1],t[r]);r>e;){let s=r-2;t[r]=t[s],r--}t[e]=i,t[e+1]=n}}function ya(t,e,i){let n=Ea(t,e);return n>=0?t[n|1]=i:(n=~n,sL(t,n,e,i)),n}function Vg(t,e){let i=Ea(t,e);if(i>=0)return t[i|1]}function Ea(t,e){return oL(t,e,1)}function oL(t,e,i){let n=0,r=t.length>>i;for(;r!==n;){let s=n+(r-n>>1),o=t[s<<i];if(e===o)return s<<i;o>e?r=s:n=s+1}return~(r<<i)}var $s={},$t=[],er=new S(""),yw=new S("",-1),Ew=new S(""),Xu=class{get(e,i=aa){if(i===aa){let n=new Error(`NullInjectorError: No provider for ${Nt(e)}!`);throw n.name="NullInjectorError",n}return i}},Cw=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Cw||{}),tr=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(tr||{}),cn=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(cn||{});function aL(t,e,i){let n=t.length;for(;;){let r=t.indexOf(e,i);if(r===-1)return r;if(r===0||t.charCodeAt(r-1)<=32){let s=e.length;if(r+s===n||t.charCodeAt(r+s)<=32)return r}i=r+1}}function am(t,e,i){let n=0;for(;n<i.length;){let r=i[n];if(typeof r=="number"){if(r!==0)break;n++;let s=i[n++],o=i[n++],a=i[n++];t.setAttribute(e,o,a,s)}else{let s=r,o=i[++n];cL(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),n++}}return n}function Sw(t){return t===3||t===4||t===6}function cL(t){return t.charCodeAt(0)===64}function ca(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let i=-1;for(let n=0;n<e.length;n++){let r=e[n];typeof r=="number"?i=r:i===0||(i===-1||i===2?Ib(t,i,r,null,e[++n]):Ib(t,i,r,null,null))}}return t}function Ib(t,e,i,n,r){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===i){if(n===null){r!==null&&(t[s+1]=r);return}else if(n===t[s+1]){t[s+2]=r;return}}s++,n!==null&&s++,r!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,i),n!==null&&t.splice(s++,0,n),r!==null&&t.splice(s++,0,r)}var Iw="ng-template";function uL(t,e,i,n){let r=0;if(n){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&aL(e[r+1].toLowerCase(),i,0)!==-1)return!0}else if(hv(t))return!1;if(r=e.indexOf(1,r),r>-1){let s;for(;++r<e.length&&typeof(s=e[r])=="string";)if(s.toLowerCase()===i)return!0}return!1}function hv(t){return t.type===4&&t.value!==Iw}function lL(t,e,i){let n=t.type===4&&!i?Iw:t.value;return e===n}function dL(t,e,i){let n=4,r=t.attrs,s=r!==null?pL(r):0,o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!In(n)&&!In(c))return!1;if(o&&In(c))continue;o=!1,n=c|n&1;continue}if(!o)if(n&4){if(n=2|n&1,c!==""&&!lL(t,c,i)||c===""&&e.length===1){if(In(n))return!1;o=!0}}else if(n&8){if(r===null||!uL(t,r,c,i)){if(In(n))return!1;o=!0}}else{let u=e[++a],l=fL(c,r,hv(t),i);if(l===-1){if(In(n))return!1;o=!0;continue}if(u!==""){let f;if(l>s?f="":f=r[l+1].toLowerCase(),n&2&&u!==f){if(In(n))return!1;o=!0}}}}return In(n)||o}function In(t){return(t&1)===0}function fL(t,e,i,n){if(e===null)return-1;let r=0;if(n||!i){let s=!1;for(;r<e.length;){let o=e[r];if(o===t)return r;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(o===4)break;if(o===0){r+=4;continue}}r+=s?1:2}return-1}else return gL(e,t)}function Dw(t,e,i=!1){for(let n=0;n<e.length;n++)if(dL(t,e[n],i))return!0;return!1}function hL(t){let e=t.attrs;if(e!=null){let i=e.indexOf(5);if(!(i&1))return e[i+1]}return null}function pL(t){for(let e=0;e<t.length;e++){let i=t[e];if(Sw(i))return e}return t.length}function gL(t,e){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){let n=t[i];if(typeof n=="number")return-1;if(n===e)return i;i++}return-1}function mL(t,e){e:for(let i=0;i<e.length;i++){let n=e[i];if(t.length===n.length){for(let r=0;r<t.length;r++)if(t[r]!==n[r])continue e;return!0}}return!1}function Db(t,e){return t?":not("+e.trim()+")":e}function vL(t){let e=t[0],i=1,n=2,r="",s=!1;for(;i<t.length;){let o=t[i];if(typeof o=="string")if(n&2){let a=t[++i];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else n&8?r+="."+o:n&4&&(r+=" "+o);else r!==""&&!In(o)&&(e+=Db(s,r),r=""),n=o,s=s||!In(n);i++}return r!==""&&(e+=Db(s,r)),e}function yL(t){return t.map(vL).join(",")}function EL(t){let e=[],i=[],n=1,r=2;for(;n<t.length;){let s=t[n];if(typeof s=="string")r===2?s!==""&&e.push(s,t[++n]):r===8&&i.push(s);else{if(!In(r))break;r=s}n++}return{attrs:e,classes:i}}function bw(t){return va(()=>{let e=Mw(t),i=T(v({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Cw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||tr.Emulated,styles:t.styles||$t,_:null,schemas:t.schemas||null,tView:null,id:""});xw(i);let n=t.dependencies;return i.directiveDefs=wb(n,!1),i.pipeDefs=wb(n,!0),i.id=IL(i),i})}function CL(t){return ai(t)||ww(t)}function SL(t){return t!==null}function B(t){return va(()=>({type:t.type,bootstrap:t.bootstrap||$t,declarations:t.declarations||$t,imports:t.imports||$t,exports:t.exports||$t,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function bb(t,e){if(t==null)return $s;let i={};for(let n in t)if(t.hasOwnProperty(n)){let r=t[n],s,o,a=cn.None;Array.isArray(r)?(a=r[0],s=r[1],o=r[2]??s):(s=r,o=r),e?(i[s]=a!==cn.None?[n,a]:n,e[s]=o):i[s]=n}return i}function Ot(t){return va(()=>{let e=Mw(t);return xw(e),e})}function Yt(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function ai(t){return t[B_]||null}function ww(t){return t[V_]||null}function Tw(t){return t[H_]||null}function Aw(t){let e=ai(t)||ww(t)||Tw(t);return e!==null?e.standalone:!1}function Rw(t,e){let i=t[z_]||null;if(!i&&e===!0)throw new Error(`Type ${Nt(t)} does not have '\u0275mod' property.`);return i}function Mw(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||$s,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||$t,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:bb(t.inputs,e),outputs:bb(t.outputs),debugInfo:null}}function xw(t){t.features?.forEach(e=>e(t))}function wb(t,e){if(!t)return null;let i=e?Tw:CL;return()=>(typeof t=="function"?t():t).map(n=>i(n)).filter(SL)}function IL(t){let e=0,i=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let r of i)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function rr(t){return{\u0275providers:t}}function DL(...t){return{\u0275providers:Nw(!0,t),\u0275fromNgModule:!0}}function Nw(t,...e){let i=[],n=new Set,r,s=o=>{i.push(o)};return fv(e,o=>{let a=o;cm(a,s,[],n)&&(r||=[],r.push(a))}),r!==void 0&&Ow(r,s),i}function Ow(t,e){for(let i=0;i<t.length;i++){let{ngModule:n,providers:r}=t[i];pv(r,s=>{e(s,n)})}}function cm(t,e,i,n){if(t=xt(t),!t)return!1;let r=null,s=yb(t),o=!s&&ai(t);if(!s&&!o){let c=t.ngModule;if(s=yb(c),s)r=c;else return!1}else{if(o&&!o.standalone)return!1;r=t}let a=n.has(r);if(o){if(a)return!1;if(n.add(r),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of c)cm(u,e,i,n)}}else if(s){if(s.imports!=null&&!a){n.add(r);let u;try{fv(s.imports,l=>{cm(l,e,i,n)&&(u||=[],u.push(l))})}finally{}u!==void 0&&Ow(u,e)}if(!a){let u=ji(r)||(()=>new r);e({provide:r,useFactory:u,deps:$t},r),e({provide:Ew,useValue:r,multi:!0},r),e({provide:er,useValue:()=>d(r),multi:!0},r)}let c=s.providers;if(c!=null&&!a){let u=t;pv(c,l=>{e(l,u)})}}else return!1;return r!==t&&t.providers!==void 0}function pv(t,e){for(let i of t)pw(i)&&(i=i.\u0275providers),Array.isArray(i)?pv(i,e):e(i)}var bL=Ae({provide:String,useValue:Ae});function Pw(t){return t!==null&&typeof t=="object"&&bL in t}function wL(t){return!!(t&&t.useExisting)}function TL(t){return!!(t&&t.useFactory)}function Bs(t){return typeof t=="function"}function AL(t){return!!t.useClass}var Sl=new S(""),zu={},RL={},Hg;function gv(){return Hg===void 0&&(Hg=new Xu),Hg}var Ct=class{},ua=class extends Ct{get destroyed(){return this._destroyed}constructor(e,i,n,r){super(),this.parent=i,this.source=n,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,lm(e,o=>this.processProvider(o)),this.records.set(yw,Fs(void 0,this)),r.has("environment")&&this.records.set(Ct,Fs(void 0,this));let s=this.records.get(Sl);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Ew,$t,ce.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ve(null);try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let i=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of i)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ve(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let i=si(this),n=jt(void 0),r;try{return e()}finally{si(i),jt(n)}}get(e,i=aa,n=ce.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Cb))return e[Cb](this);n=El(n);let r,s=si(this),o=jt(void 0);try{if(!(n&ce.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=PL(e)&&yl(e);u&&this.injectableDefInScope(u)?c=Fs(um(e),zu):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=n&ce.Self?gv():this.parent;return i=n&ce.Optional&&i===aa?null:i,a.get(e,i)}catch(a){if(a.name==="NullInjectorError"){if((a[Qu]=a[Qu]||[]).unshift(Nt(e)),s)throw a;return eL(a,e,"R3InjectorError",this.source)}else throw a}finally{jt(o),si(s)}}resolveInjectorInitializers(){let e=ve(null),i=si(this),n=jt(void 0),r;try{let s=this.get(er,$t,ce.Self);for(let o of s)o()}finally{si(i),jt(n),ve(e)}}toString(){let e=[],i=this.records;for(let n of i.keys())e.push(Nt(n));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new j(205,!1)}processProvider(e){e=xt(e);let i=Bs(e)?e:xt(e&&e.provide),n=xL(e);if(!Bs(e)&&e.multi===!0){let r=this.records.get(i);r||(r=Fs(void 0,zu,!0),r.factory=()=>om(r.multi),this.records.set(i,r)),i=e,r.multi.push(e)}this.records.set(i,n)}hydrate(e,i){let n=ve(null);try{return i.value===zu&&(i.value=RL,i.value=i.factory()),typeof i.value=="object"&&i.value&&OL(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}finally{ve(n)}}injectableDefInScope(e){if(!e.providedIn)return!1;let i=xt(e.providedIn);return typeof i=="string"?i==="any"||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(e){let i=this._onDestroyHooks.indexOf(e);i!==-1&&this._onDestroyHooks.splice(i,1)}};function um(t){let e=yl(t),i=e!==null?e.factory:ji(t);if(i!==null)return i;if(t instanceof S)throw new j(204,!1);if(t instanceof Function)return ML(t);throw new j(204,!1)}function ML(t){if(t.length>0)throw new j(204,!1);let i=j_(t);return i!==null?()=>i.factory(t):()=>new t}function xL(t){if(Pw(t))return Fs(void 0,t.useValue);{let e=Fw(t);return Fs(e,zu)}}function Fw(t,e,i){let n;if(Bs(t)){let r=xt(t);return ji(r)||um(r)}else if(Pw(t))n=()=>xt(t.useValue);else if(TL(t))n=()=>t.useFactory(...om(t.deps||[]));else if(wL(t))n=()=>d(xt(t.useExisting));else{let r=xt(t&&(t.useClass||t.provide));if(NL(t))n=()=>new r(...om(t.deps));else return ji(r)||um(r)}return n}function Fs(t,e,i=!1){return{factory:t,value:e,multi:i?[]:void 0}}function NL(t){return!!t.deps}function OL(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function PL(t){return typeof t=="function"||typeof t=="object"&&t instanceof S}function lm(t,e){for(let i of t)Array.isArray(i)?lm(i,e):i&&pw(i)?lm(i.\u0275providers,e):e(i)}function Mn(t,e){t instanceof ua&&t.assertNotDestroyed();let i,n=si(t),r=jt(void 0);try{return e()}finally{si(n),jt(r)}}function _w(){return gw()!==void 0||Q_()!=null}function Ca(t){if(!_w())throw new j(-203,!1)}function FL(t){let e=Ge.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function _L(t){return typeof t=="function"}var Mr=0,ie=1,J=2,gt=3,bn=4,Kt=5,la=6,da=7,wn=8,Vs=9,Tn=10,Fe=11,fa=12,Tb=13,Ks=14,An=15,Sa=16,_s=17,wr=18,Il=19,Lw=20,oi=21,zg=22,$i=23,St=25,kw=1;var Bi=7,el=8,Hs=9,qt=10,mv=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(mv||{});function ki(t){return Array.isArray(t)&&typeof t[kw]=="object"}function xr(t){return Array.isArray(t)&&t[kw]===!0}function vv(t){return(t.flags&4)!==0}function Dl(t){return t.componentOffset>-1}function bl(t){return(t.flags&1)===1}function ci(t){return!!t.template}function LL(t){return(t[J]&512)!==0}var dm=class{constructor(e,i,n){this.previousValue=e,this.currentValue=i,this.firstChange=n}isFirstChange(){return this.firstChange}};function Uw(t,e,i,n){e!==null?e.applyValueToInputSignal(e,n):t[i]=n}function li(){return jw}function jw(t){return t.type.prototype.ngOnChanges&&(t.setInput=UL),kL}li.ngInherit=!0;function kL(){let t=Bw(this),e=t?.current;if(e){let i=t.previous;if(i===$s)t.previous=e;else for(let n in e)i[n]=e[n];t.current=null,this.ngOnChanges(e)}}function UL(t,e,i,n,r){let s=this.declaredInputs[n],o=Bw(t)||jL(t,{previous:$s,current:null}),a=o.current||(o.current={}),c=o.previous,u=c[s];a[s]=new dm(u&&u.currentValue,i,c===$s),Uw(t,e,r,i)}var $w="__ngSimpleChanges__";function Bw(t){return t[$w]||null}function jL(t,e){return t[$w]=e}var Ab=null;var Jn=function(t,e,i){Ab?.(t,e,i)},$L="svg",BL="math",VL=!1;function HL(){return VL}function nr(t){for(;Array.isArray(t);)t=t[Mr];return t}function Vw(t,e){return nr(e[t])}function dn(t,e){return nr(e[t.index])}function Hw(t,e){return t.data[e]}function Ia(t,e){return t[e]}function di(t,e){let i=e[t];return ki(i)?i:i[Mr]}function zL(t){return(t[J]&4)===4}function yv(t){return(t[J]&128)===128}function GL(t){return xr(t[gt])}function zs(t,e){return e==null?null:t[e]}function zw(t){t[_s]=0}function WL(t){t[J]&1024||(t[J]|=1024,yv(t)&&ha(t))}function qL(t,e){for(;t>0;)e=e[Ks],t--;return e}function Ev(t){return!!(t[J]&9216||t[$i]?.dirty)}function fm(t){t[Tn].changeDetectionScheduler?.notify(1),Ev(t)?ha(t):t[J]&64&&(HL()?(t[J]|=1024,ha(t)):t[Tn].changeDetectionScheduler?.notify())}function ha(t){t[Tn].changeDetectionScheduler?.notify();let e=pa(t);for(;e!==null&&!(e[J]&8192||(e[J]|=8192,!yv(e)));)e=pa(e)}function Gw(t,e){if((t[J]&256)===256)throw new j(911,!1);t[oi]===null&&(t[oi]=[]),t[oi].push(e)}function YL(t,e){if(t[oi]===null)return;let i=t[oi].indexOf(e);i!==-1&&t[oi].splice(i,1)}function pa(t){let e=t[gt];return xr(e)?e[gt]:e}var se={lFrame:Xw(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function KL(){return se.lFrame.elementDepthCount}function ZL(){se.lFrame.elementDepthCount++}function QL(){se.lFrame.elementDepthCount--}function Ww(){return se.bindingsEnabled}function qw(){return se.skipHydrationRootTNode!==null}function JL(t){return se.skipHydrationRootTNode===t}function XL(){se.skipHydrationRootTNode=null}function Z(){return se.lFrame.lView}function je(){return se.lFrame.tView}function Uie(t){return se.lFrame.contextLView=t,t[wn]}function jie(t){return se.lFrame.contextLView=null,t}function Dt(){let t=Yw();for(;t!==null&&t.type===64;)t=t.parent;return t}function Yw(){return se.lFrame.currentTNode}function ek(){let t=se.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Ki(t,e){let i=se.lFrame;i.currentTNode=t,i.isParent=e}function Cv(){return se.lFrame.isParent}function Sv(){se.lFrame.isParent=!1}function tk(){return se.lFrame.contextLView}function xn(){let t=se.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Kw(){return se.lFrame.bindingIndex}function nk(t){return se.lFrame.bindingIndex=t}function Da(){return se.lFrame.bindingIndex++}function wl(t){let e=se.lFrame,i=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,i}function rk(){return se.lFrame.inI18n}function ik(t,e){let i=se.lFrame;i.bindingIndex=i.bindingRootIndex=t,hm(e)}function sk(){return se.lFrame.currentDirectiveIndex}function hm(t){se.lFrame.currentDirectiveIndex=t}function ok(t){let e=se.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Zw(){return se.lFrame.currentQueryIndex}function Iv(t){se.lFrame.currentQueryIndex=t}function ak(t){let e=t[ie];return e.type===2?e.declTNode:e.type===1?t[Kt]:null}function Qw(t,e,i){if(i&ce.SkipSelf){let r=e,s=t;for(;r=r.parent,r===null&&!(i&ce.Host);)if(r=ak(s),r===null||(s=s[Ks],r.type&10))break;if(r===null)return!1;e=r,t=s}let n=se.lFrame=Jw();return n.currentTNode=e,n.lView=t,!0}function Dv(t){let e=Jw(),i=t[ie];se.lFrame=e,e.currentTNode=i.firstChild,e.lView=t,e.tView=i,e.contextLView=t,e.bindingIndex=i.bindingStartIndex,e.inI18n=!1}function Jw(){let t=se.lFrame,e=t===null?null:t.child;return e===null?Xw(t):e}function Xw(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function eT(){let t=se.lFrame;return se.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var tT=eT;function bv(){let t=eT();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ck(t){return(se.lFrame.contextLView=qL(t,se.lFrame.contextLView))[wn]}function Nr(){return se.lFrame.selectedIndex}function Vi(t){se.lFrame.selectedIndex=t}function ba(){let t=se.lFrame;return Hw(t.tView,t.selectedIndex)}function uk(){return se.lFrame.currentNamespace}var nT=!0;function Tl(){return nT}function Al(t){nT=t}function lk(t,e,i){let{ngOnChanges:n,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(n){let o=jw(e);(i.preOrderHooks??=[]).push(t,o),(i.preOrderCheckHooks??=[]).push(t,o)}r&&(i.preOrderHooks??=[]).push(0-t,r),s&&((i.preOrderHooks??=[]).push(t,s),(i.preOrderCheckHooks??=[]).push(t,s))}function Rl(t,e){for(let i=e.directiveStart,n=e.directiveEnd;i<n;i++){let s=t.data[i].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-i,o),a&&((t.contentHooks??=[]).push(i,a),(t.contentCheckHooks??=[]).push(i,a)),c&&(t.viewHooks??=[]).push(-i,c),u&&((t.viewHooks??=[]).push(i,u),(t.viewCheckHooks??=[]).push(i,u)),l!=null&&(t.destroyHooks??=[]).push(i,l)}}function Gu(t,e,i){rT(t,e,3,i)}function Wu(t,e,i,n){(t[J]&3)===i&&rT(t,e,i,n)}function Gg(t,e){let i=t[J];(i&3)===e&&(i&=16383,i+=1,t[J]=i)}function rT(t,e,i,n){let r=n!==void 0?t[_s]&65535:0,s=n??-1,o=e.length-1,a=0;for(let c=r;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],n!=null&&a>=n)break}else e[c]<0&&(t[_s]+=65536),(a<s||s==-1)&&(dk(t,i,e,c),t[_s]=(t[_s]&4294901760)+c+2),c++}function Rb(t,e){Jn(4,t,e);let i=ve(null);try{e.call(t)}finally{ve(i),Jn(5,t,e)}}function dk(t,e,i,n){let r=i[n]<0,s=i[n+1],o=r?-i[n]:i[n],a=t[o];r?t[J]>>14<t[_s]>>16&&(t[J]&3)===e&&(t[J]+=16384,Rb(a,s)):Rb(a,s)}var js=-1,Hi=class{constructor(e,i,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=n}};function fk(t){return t instanceof Hi}function hk(t){return(t.flags&8)!==0}function pk(t){return(t.flags&16)!==0}function iT(t){return t!==js}function tl(t){return t&32767}function gk(t){return t>>16}function nl(t,e){let i=gk(t),n=e;for(;i>0;)n=n[Ks],i--;return n}var pm=!0;function rl(t){let e=pm;return pm=t,e}var mk=256,sT=mk-1,oT=5,vk=0,Xn={};function yk(t,e,i){let n;typeof i=="string"?n=i.charCodeAt(0)||0:i.hasOwnProperty(sa)&&(n=i[sa]),n==null&&(n=i[sa]=vk++);let r=n&sT,s=1<<r;e.data[t+(r>>oT)]|=s}function il(t,e){let i=aT(t,e);if(i!==-1)return i;let n=e[ie];n.firstCreatePass&&(t.injectorIndex=e.length,Wg(n.data,t),Wg(e,null),Wg(n.blueprint,null));let r=wv(t,e),s=t.injectorIndex;if(iT(r)){let o=tl(r),a=nl(r,e),c=a[ie].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|c[o+u]}return e[s+8]=r,s}function Wg(t,e){t.push(0,0,0,0,0,0,0,0,e)}function aT(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function wv(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let i=0,n=null,r=e;for(;r!==null;){if(n=fT(r),n===null)return js;if(i++,r=r[Ks],n.injectorIndex!==-1)return n.injectorIndex|i<<16}return js}function gm(t,e,i){yk(t,e,i)}function Ek(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let i=t.attrs;if(i){let n=i.length,r=0;for(;r<n;){let s=i[r];if(Sw(s))break;if(s===0)r=r+2;else if(typeof s=="number")for(r++;r<n&&typeof i[r]=="string";)r++;else{if(s===e)return i[r+1];r=r+2}}}return null}function cT(t,e,i){if(i&ce.Optional||t!==void 0)return t;uv(e,"NodeInjector")}function uT(t,e,i,n){if(i&ce.Optional&&n===void 0&&(n=null),!(i&(ce.Self|ce.Host))){let r=t[Vs],s=jt(void 0);try{return r?r.get(e,n,i&ce.Optional):mw(e,n,i&ce.Optional)}finally{jt(s)}}return cT(n,e,i)}function lT(t,e,i,n=ce.Default,r){if(t!==null){if(e[J]&2048&&!(n&ce.Self)){let o=Dk(t,e,i,n,Xn);if(o!==Xn)return o}let s=dT(t,e,i,n,Xn);if(s!==Xn)return s}return uT(e,i,n,r)}function dT(t,e,i,n,r){let s=Sk(i);if(typeof s=="function"){if(!Qw(e,t,n))return n&ce.Host?cT(r,i,n):uT(e,i,n,r);try{let o;if(o=s(n),o==null&&!(n&ce.Optional))uv(i);else return o}finally{tT()}}else if(typeof s=="number"){let o=null,a=aT(t,e),c=js,u=n&ce.Host?e[An][Kt]:null;for((a===-1||n&ce.SkipSelf)&&(c=a===-1?wv(t,e):e[a+8],c===js||!xb(n,!1)?a=-1:(o=e[ie],a=tl(c),e=nl(c,e)));a!==-1;){let l=e[ie];if(Mb(s,a,l.data)){let f=Ck(a,e,i,o,n,u);if(f!==Xn)return f}c=e[a+8],c!==js&&xb(n,e[ie].data[a+8]===u)&&Mb(s,a,e)?(o=l,a=tl(c),e=nl(c,e)):a=-1}}return r}function Ck(t,e,i,n,r,s){let o=e[ie],a=o.data[t+8],c=n==null?Dl(a)&&pm:n!=o&&(a.type&3)!==0,u=r&ce.Host&&s===a,l=qu(a,o,i,c,u);return l!==null?zi(e,o,l,a):Xn}function qu(t,e,i,n,r){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,u=t.directiveEnd,l=s>>20,f=n?a:a+l,h=r?a+l:u;for(let g=f;g<h;g++){let y=o[g];if(g<c&&i===y||g>=c&&y.type===i)return g}if(r){let g=o[c];if(g&&ci(g)&&g.type===i)return c}return null}function zi(t,e,i,n){let r=t[i],s=e.data;if(fk(r)){let o=r;o.resolving&&W_(G_(s[i]));let a=rl(o.canSeeViewProviders);o.resolving=!0;let c,u=o.injectImpl?jt(o.injectImpl):null,l=Qw(t,n,ce.Default);try{r=t[i]=o.factory(void 0,s,t,n),e.firstCreatePass&&i>=n.directiveStart&&lk(i,s[i],e)}finally{u!==null&&jt(u),rl(a),o.resolving=!1,tT()}}return r}function Sk(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(sa)?t[sa]:void 0;return typeof e=="number"?e>=0?e&sT:Ik:e}function Mb(t,e,i){let n=1<<t;return!!(i[e+(t>>oT)]&n)}function xb(t,e){return!(t&ce.Self)&&!(t&ce.Host&&e)}var Ui=class{constructor(e,i){this._tNode=e,this._lView=i}get(e,i,n){return lT(this._tNode,this._lView,e,El(n),i)}};function Ik(){return new Ui(Dt(),Z())}function We(t){return va(()=>{let e=t.prototype.constructor,i=e[Zu]||mm(e),n=Object.prototype,r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==n;){let s=r[Zu]||mm(r);if(s&&s!==i)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function mm(t){return lw(t)?()=>{let e=mm(xt(t));return e&&e()}:ji(t)}function Dk(t,e,i,n,r){let s=t,o=e;for(;s!==null&&o!==null&&o[J]&2048&&!(o[J]&512);){let a=dT(s,o,i,n|ce.Self,Xn);if(a!==Xn)return a;let c=s.parent;if(!c){let u=o[Lw];if(u){let l=u.get(i,Xn,n);if(l!==Xn)return l}c=fT(o),o=o[Ks]}s=c}return r}function fT(t){let e=t[ie],i=e.type;return i===2?e.declTNode:i===1?t[Kt]:null}function Tv(t){return Ek(Dt(),t)}function Nb(t,e=null,i=null,n){let r=hT(t,e,i,n);return r.resolveInjectorInitializers(),r}function hT(t,e=null,i=null,n,r=new Set){let s=[i||$t,DL(t)];return n=n||(typeof t=="object"?void 0:Nt(t)),new ua(s,e||gv(),n||null,r)}var Ye=(()=>{let e=class e{static create(n,r){if(Array.isArray(n))return Nb({name:""},r,n,"");{let s=n.name??"";return Nb({name:s},n.parent,n.providers,s)}}};e.THROW_IF_NOT_FOUND=aa,e.NULL=new Xu,e.\u0275prov=m({token:e,providedIn:"any",factory:()=>d(yw)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var bk="ngOriginalError";function qg(t){return t[bk]}var It=class{constructor(){this._console=console}handleError(e){let i=this._findOriginalError(e);this._console.error("ERROR",e),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(e){let i=e&&qg(e);for(;i&&qg(i);)i=qg(i);return i||null}},pT=new S("",{providedIn:"root",factory:()=>C(It).handleError.bind(void 0)}),fi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=wk,e.__NG_ENV_ID__=n=>n;let t=e;return t})(),vm=class extends fi{constructor(e){super(),this._lView=e}onDestroy(e){return Gw(this._lView,e),()=>YL(this._lView,e)}};function wk(){return new vm(Z())}function Tk(){return Zs(Dt(),Z())}function Zs(t,e){return new ir(dn(t,e))}var ir=(()=>{let e=class e{constructor(n){this.nativeElement=n}};e.__NG_ELEMENT_ID__=Tk;let t=e;return t})();function Ak(t){return t instanceof ir?t.nativeElement:t}var ym=class extends re{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,_w()&&(this.destroyRef=C(fi,{optional:!0})??void 0)}emit(e){let i=ve(null);try{super.next(e)}finally{ve(i)}}subscribe(e,i,n){let r=e,s=i||(()=>null),o=n;if(e&&typeof e=="object"){let c=e;r=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=Yg(s),r&&(r=Yg(r)),o&&(o=Yg(o)));let a=super.subscribe({next:r,error:s,complete:o});return e instanceof Ee&&e.add(a),a}};function Yg(t){return e=>{setTimeout(t,void 0,e)}}var pt=ym;function Rk(){return this._results[Symbol.iterator]()}var Em=class t{get changes(){return this._changes??=new pt}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let i=t.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=Rk)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,i){return this._results.reduce(e,i)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,i){this.dirty=!1;let n=rL(e);(this._changesDetected=!nL(this._results,n,i))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function gT(t){return(t.flags&128)===128}var mT=new Map,Mk=0;function xk(){return Mk++}function Nk(t){mT.set(t[Il],t)}function Ok(t){mT.delete(t[Il])}var Ob="__ngContext__";function ui(t,e){ki(e)?(t[Ob]=e[Il],Nk(e)):t[Ob]=e}function vT(t){return ET(t[fa])}function yT(t){return ET(t[bn])}function ET(t){for(;t!==null&&!xr(t);)t=t[bn];return t}var Cm;function CT(t){Cm=t}function Av(){if(Cm!==void 0)return Cm;if(typeof document<"u")return document;throw new j(210,!1)}var wa=new S("",{providedIn:"root",factory:()=>Pk}),Pk="ng",Rv=new S(""),$e=new S("",{providedIn:"platform",factory:()=>"unknown"});var Mv=new S("",{providedIn:"root",factory:()=>Av().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function Fk(){let t=new Ta;return C($e)==="browser"&&(t.store=_k(Av(),C(wa))),t}var Ta=(()=>{let e=class e{constructor(){this.store={},this.onSerializeCallbacks={}}get(n,r){return this.store[n]!==void 0?this.store[n]:r}set(n,r){this.store[n]=r}remove(n){delete this.store[n]}hasKey(n){return this.store.hasOwnProperty(n)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(n,r){this.onSerializeCallbacks[n]=r}toJson(){for(let n in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(n))try{this.store[n]=this.onSerializeCallbacks[n]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}};e.\u0275prov=m({token:e,providedIn:"root",factory:Fk});let t=e;return t})();function _k(t,e){let i=t.getElementById(e+"-state");if(i?.textContent)try{return JSON.parse(i.textContent)}catch(n){console.warn("Exception while restoring TransferState for app "+e,n)}return{}}var Lk="h",kk="b";var Uk=()=>null;function xv(t,e,i=!1){return Uk(t,e,i)}var ST=!1,jk=new S("",{providedIn:"root",factory:()=>ST});var Uu;function $k(){if(Uu===void 0&&(Uu=null,Ge.trustedTypes))try{Uu=Ge.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Uu}function Ml(t){return $k()?.createHTML(t)||t}var ju;function IT(){if(ju===void 0&&(ju=null,Ge.trustedTypes))try{ju=Ge.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return ju}function Pb(t){return IT()?.createHTML(t)||t}function Fb(t){return IT()?.createScriptURL(t)||t}var Tr=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${cw})`}},Sm=class extends Tr{getTypeName(){return"HTML"}},Im=class extends Tr{getTypeName(){return"Style"}},Dm=class extends Tr{getTypeName(){return"Script"}},bm=class extends Tr{getTypeName(){return"URL"}},wm=class extends Tr{getTypeName(){return"ResourceURL"}};function Bt(t){return t instanceof Tr?t.changingThisBreaksApplicationSecurity:t}function sr(t,e){let i=Bk(t);if(i!=null&&i!==e){if(i==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${i} (see ${cw})`)}return i===e}function Bk(t){return t instanceof Tr&&t.getTypeName()||null}function DT(t){return new Sm(t)}function bT(t){return new Im(t)}function wT(t){return new Dm(t)}function TT(t){return new bm(t)}function AT(t){return new wm(t)}function Vk(t){let e=new Am(t);return Hk()?new Tm(e):e}var Tm=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let i=new window.DOMParser().parseFromString(Ml(e),"text/html").body;return i===null?this.inertDocumentHelper.getInertBodyElement(e):(i.removeChild(i.firstChild),i)}catch{return null}}},Am=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let i=this.inertDocument.createElement("template");return i.innerHTML=Ml(e),i}};function Hk(){try{return!!new window.DOMParser().parseFromString(Ml(""),"text/html")}catch{return!1}}var zk=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function xl(t){return t=String(t),t.match(zk)?t:"unsafe:"+t}function Or(t){let e={};for(let i of t.split(","))e[i]=!0;return e}function Aa(...t){let e={};for(let i of t)for(let n in i)i.hasOwnProperty(n)&&(e[n]=!0);return e}var RT=Or("area,br,col,hr,img,wbr"),MT=Or("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),xT=Or("rp,rt"),Gk=Aa(xT,MT),Wk=Aa(MT,Or("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),qk=Aa(xT,Or("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),_b=Aa(RT,Wk,qk,Gk),NT=Or("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Yk=Or("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Kk=Or("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),Zk=Aa(NT,Yk,Kk),Qk=Or("script,style,template"),Rm=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let i=e.firstChild,n=!0,r=[];for(;i;){if(i.nodeType===Node.ELEMENT_NODE?n=this.startElement(i):i.nodeType===Node.TEXT_NODE?this.chars(i.nodeValue):this.sanitizedSomething=!0,n&&i.firstChild){r.push(i),i=eU(i);continue}for(;i;){i.nodeType===Node.ELEMENT_NODE&&this.endElement(i);let s=Xk(i);if(s){i=s;break}i=r.pop()}}return this.buf.join("")}startElement(e){let i=Lb(e).toLowerCase();if(!_b.hasOwnProperty(i))return this.sanitizedSomething=!0,!Qk.hasOwnProperty(i);this.buf.push("<"),this.buf.push(i);let n=e.attributes;for(let r=0;r<n.length;r++){let s=n.item(r),o=s.name,a=o.toLowerCase();if(!Zk.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=s.value;NT[a]&&(c=xl(c)),this.buf.push(" ",o,'="',kb(c),'"')}return this.buf.push(">"),!0}endElement(e){let i=Lb(e).toLowerCase();_b.hasOwnProperty(i)&&!RT.hasOwnProperty(i)&&(this.buf.push("</"),this.buf.push(i),this.buf.push(">"))}chars(e){this.buf.push(kb(e))}};function Jk(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function Xk(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw OT(e);return e}function eU(t){let e=t.firstChild;if(e&&Jk(t,e))throw OT(e);return e}function Lb(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function OT(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var tU=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,nU=/([^\#-~ |!])/g;function kb(t){return t.replace(/&/g,"&amp;").replace(tU,function(e){let i=e.charCodeAt(0),n=e.charCodeAt(1);return"&#"+((i-55296)*1024+(n-56320)+65536)+";"}).replace(nU,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var $u;function Nv(t,e){let i=null;try{$u=$u||Vk(t);let n=e?String(e):"";i=$u.getInertBodyElement(n);let r=5,s=n;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,n=s,s=i.innerHTML,i=$u.getInertBodyElement(n)}while(n!==s);let a=new Rm().sanitizeChildren(Ub(i)||i);return Ml(a)}finally{if(i){let n=Ub(i)||i;for(;n.firstChild;)n.removeChild(n.firstChild)}}}function Ub(t){return"content"in t&&rU(t)?t.content:null}function rU(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var fn=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(fn||{});function $ie(t){let e=Nl();return e?Pb(e.sanitize(fn.HTML,t)||""):sr(t,"HTML")?Pb(Bt(t)):Nv(Av(),Dn(t))}function Bie(t){let e=Nl();return e?e.sanitize(fn.STYLE,t)||"":sr(t,"Style")?Bt(t):Dn(t)}function iU(t){let e=Nl();return e?e.sanitize(fn.URL,t)||"":sr(t,"URL")?Bt(t):xl(Dn(t))}function sU(t){let e=Nl();if(e)return Fb(e.sanitize(fn.RESOURCE_URL,t)||"");if(sr(t,"ResourceURL"))return Fb(Bt(t));throw new j(904,!1)}function oU(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?sU:iU}function PT(t,e,i){return oU(e,i)(t)}function Nl(){let t=Z();return t&&t[Tn].sanitizer}var aU=/^>|^->|<!--|-->|--!>|<!-$/g,cU=/(<|>)/g,uU="\u200B$1\u200B";function lU(t){return t.replace(aU,e=>e.replace(cU,uU))}function Vie(t){return t.ownerDocument.defaultView}function Hie(t){return t.ownerDocument}function FT(t){return t instanceof Function?t():t}function dU(t){return(t??C(Ye)).get($e)==="browser"}var Ar=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Ar||{}),fU;function Ov(t,e){return fU(t,e)}function Ls(t,e,i,n,r){if(n!=null){let s,o=!1;xr(n)?s=n:ki(n)&&(o=!0,n=n[Mr]);let a=nr(n);t===0&&i!==null?r==null?$T(e,i,a):sl(e,i,a,r||null,!0):t===1&&i!==null?sl(e,i,a,r||null,!0):t===2?RU(e,a,o):t===3&&e.destroyNode(a),s!=null&&xU(e,t,s,i,r)}}function hU(t,e){return t.createText(e)}function pU(t,e,i){t.setValue(e,i)}function gU(t,e){return t.createComment(lU(e))}function _T(t,e,i){return t.createElement(e,i)}function mU(t,e){LT(t,e),e[Mr]=null,e[Kt]=null}function vU(t,e,i,n,r,s){n[Mr]=r,n[Kt]=e,Pl(t,n,i,1,r,s)}function LT(t,e){e[Tn].changeDetectionScheduler?.notify(1),Pl(t,e,e[Fe],2,null,null)}function yU(t){let e=t[fa];if(!e)return Kg(t[ie],t);for(;e;){let i=null;if(ki(e))i=e[fa];else{let n=e[qt];n&&(i=n)}if(!i){for(;e&&!e[bn]&&e!==t;)ki(e)&&Kg(e[ie],e),e=e[gt];e===null&&(e=t),ki(e)&&Kg(e[ie],e),i=e&&e[bn]}e=i}}function EU(t,e,i,n){let r=qt+n,s=i.length;n>0&&(i[r-1][bn]=e),n<s-qt?(e[bn]=i[r],vw(i,qt+n,e)):(i.push(e),e[bn]=null),e[gt]=i;let o=e[Sa];o!==null&&i!==o&&CU(o,e);let a=e[wr];a!==null&&a.insertView(t),fm(e),e[J]|=128}function CU(t,e){let i=t[Hs],r=e[gt][gt][An];e[An]!==r&&(t[J]|=mv.HasTransplantedViews),i===null?t[Hs]=[e]:i.push(e)}function kT(t,e){let i=t[Hs],n=i.indexOf(e);i.splice(n,1)}function Mm(t,e){if(t.length<=qt)return;let i=qt+e,n=t[i];if(n){let r=n[Sa];r!==null&&r!==t&&kT(r,n),e>0&&(t[i-1][bn]=n[bn]);let s=Ju(t,qt+e);mU(n[ie],n);let o=s[wr];o!==null&&o.detachView(s[ie]),n[gt]=null,n[bn]=null,n[J]&=-129}return n}function UT(t,e){if(!(e[J]&256)){let i=e[Fe];i.destroyNode&&Pl(t,e,i,3,null,null),yU(e)}}function Kg(t,e){if(e[J]&256)return;let i=ve(null);try{e[J]&=-129,e[J]|=256,e[$i]&&ab(e[$i]),IU(t,e),SU(t,e),e[ie].type===1&&e[Fe].destroy();let n=e[Sa];if(n!==null&&xr(e[gt])){n!==e[gt]&&kT(n,e);let r=e[wr];r!==null&&r.detachView(t)}Ok(e)}finally{ve(i)}}function SU(t,e){let i=t.cleanup,n=e[da];if(i!==null)for(let s=0;s<i.length-1;s+=2)if(typeof i[s]=="string"){let o=i[s+3];o>=0?n[o]():n[-o].unsubscribe(),s+=2}else{let o=n[i[s+1]];i[s].call(o)}n!==null&&(e[da]=null);let r=e[oi];if(r!==null){e[oi]=null;for(let s=0;s<r.length;s++){let o=r[s];o()}}}function IU(t,e){let i;if(t!=null&&(i=t.destroyHooks)!=null)for(let n=0;n<i.length;n+=2){let r=e[i[n]];if(!(r instanceof Hi)){let s=i[n+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=r[s[o]],c=s[o+1];Jn(4,a,c);try{c.call(a)}finally{Jn(5,a,c)}}else{Jn(4,r,s);try{s.call(r)}finally{Jn(5,r,s)}}}}}function jT(t,e,i){return DU(t,e.parent,i)}function DU(t,e,i){let n=e;for(;n!==null&&n.type&40;)e=n,n=e.parent;if(n===null)return i[Mr];{let{componentOffset:r}=n;if(r>-1){let{encapsulation:s}=t.data[n.directiveStart+r];if(s===tr.None||s===tr.Emulated)return null}return dn(n,i)}}function sl(t,e,i,n,r){t.insertBefore(e,i,n,r)}function $T(t,e,i){t.appendChild(e,i)}function jb(t,e,i,n,r){n!==null?sl(t,e,i,n,r):$T(t,e,i)}function bU(t,e,i,n){t.removeChild(e,i,n)}function Pv(t,e){return t.parentNode(e)}function wU(t,e){return t.nextSibling(e)}function BT(t,e,i){return AU(t,e,i)}function TU(t,e,i){return t.type&40?dn(t,i):null}var AU=TU,$b;function Ol(t,e,i,n){let r=jT(t,n,e),s=e[Fe],o=n.parent||e[Kt],a=BT(o,n,e);if(r!=null)if(Array.isArray(i))for(let c=0;c<i.length;c++)jb(s,r,i[c],a,!1);else jb(s,r,i,a,!1);$b!==void 0&&$b(s,n,e,i,r)}function Yu(t,e){if(e!==null){let i=e.type;if(i&3)return dn(e,t);if(i&4)return xm(-1,t[e.index]);if(i&8){let n=e.child;if(n!==null)return Yu(t,n);{let r=t[e.index];return xr(r)?xm(-1,r):nr(r)}}else{if(i&32)return Ov(e,t)()||nr(t[e.index]);{let n=VT(t,e);if(n!==null){if(Array.isArray(n))return n[0];let r=pa(t[An]);return Yu(r,n)}else return Yu(t,e.next)}}}return null}function VT(t,e){if(e!==null){let n=t[An][Kt],r=e.projection;return n.projection[r]}return null}function xm(t,e){let i=qt+t+1;if(i<e.length){let n=e[i],r=n[ie].firstChild;if(r!==null)return Yu(n,r)}return e[Bi]}function RU(t,e,i){let n=Pv(t,e);n&&bU(t,n,e,i)}function Fv(t,e,i,n,r,s,o){for(;i!=null;){let a=n[i.index],c=i.type;if(o&&e===0&&(a&&ui(nr(a),n),i.flags|=2),(i.flags&32)!==32)if(c&8)Fv(t,e,i.child,n,r,s,!1),Ls(e,t,r,a,s);else if(c&32){let u=Ov(i,n),l;for(;l=u();)Ls(e,t,r,l,s);Ls(e,t,r,a,s)}else c&16?HT(t,e,n,i,r,s):Ls(e,t,r,a,s);i=o?i.projectionNext:i.next}}function Pl(t,e,i,n,r,s){Fv(i,n,t.firstChild,e,r,s,!1)}function MU(t,e,i){let n=e[Fe],r=jT(t,i,e),s=i.parent||e[Kt],o=BT(s,i,e);HT(n,0,e,i,r,o)}function HT(t,e,i,n,r,s){let o=i[An],c=o[Kt].projection[n.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];Ls(e,t,r,l,s)}else{let u=c,l=o[gt];gT(n)&&(u.flags|=128),Fv(t,e,u,l,r,s,!0)}}function xU(t,e,i,n,r){let s=i[Bi],o=nr(i);s!==o&&Ls(e,t,n,s,r);for(let a=qt;a<i.length;a++){let c=i[a];Pl(c[ie],c,t,e,n,s)}}function NU(t,e,i,n,r){if(e)r?t.addClass(i,n):t.removeClass(i,n);else{let s=n.indexOf("-")===-1?void 0:Ar.DashCase;r==null?t.removeStyle(i,n,s):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=Ar.Important),t.setStyle(i,n,r,s))}}function OU(t,e,i){t.setAttribute(e,"style",i)}function zT(t,e,i){i===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",i)}function GT(t,e,i){let{mergedAttrs:n,classes:r,styles:s}=i;n!==null&&am(t,e,n),r!==null&&zT(t,e,r),s!==null&&OU(t,e,s)}var Pt={};function zie(t=1){WT(je(),Z(),Nr()+t,!1)}function WT(t,e,i,n){if(!n)if((e[J]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Gu(e,s,i)}else{let s=t.preOrderHooks;s!==null&&Wu(e,s,0,i)}Vi(i)}function X(t,e=ce.Default){let i=Z();if(i===null)return d(t,e);let n=Dt();return lT(n,i,xt(t),e)}function qT(){let t="invalid";throw new Error(t)}function YT(t,e,i,n,r,s){let o=ve(null);try{let a=null;r&cn.SignalBased&&(a=e[n][br]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),r&cn.HasDecoratorInputTransform&&(s=t.inputTransforms[n].call(e,s)),t.setInput!==null?t.setInput(e,a,s,i,n):Uw(e,a,n,s)}finally{ve(o)}}function PU(t,e){let i=t.hostBindingOpCodes;if(i!==null)try{for(let n=0;n<i.length;n++){let r=i[n];if(r<0)Vi(~r);else{let s=r,o=i[++n],a=i[++n];ik(o,s);let c=e[s];a(2,c)}}}finally{Vi(-1)}}function Fl(t,e,i,n,r,s,o,a,c,u,l){let f=e.blueprint.slice();return f[Mr]=r,f[J]=n|4|128|8|64,(u!==null||t&&t[J]&2048)&&(f[J]|=2048),zw(f),f[gt]=f[Ks]=t,f[wn]=i,f[Tn]=o||t&&t[Tn],f[Fe]=a||t&&t[Fe],f[Vs]=c||t&&t[Vs]||null,f[Kt]=s,f[Il]=xk(),f[la]=l,f[Lw]=u,f[An]=e.type==2?t[An]:f,f}function Qs(t,e,i,n,r){let s=t.data[e];if(s===null)s=FU(t,e,i,n,r),rk()&&(s.flags|=32);else if(s.type&64){s.type=i,s.value=n,s.attrs=r;let o=ek();s.injectorIndex=o===null?-1:o.injectorIndex}return Ki(s,!0),s}function FU(t,e,i,n,r){let s=Yw(),o=Cv(),a=o?s:s&&s.parent,c=t.data[e]=$U(t,a,i,e,n,r);return t.firstChild===null&&(t.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function KT(t,e,i,n){if(i===0)return-1;let r=e.length;for(let s=0;s<i;s++)e.push(n),t.blueprint.push(n),t.data.push(null);return r}function ZT(t,e,i,n,r){let s=Nr(),o=n&2;try{Vi(-1),o&&e.length>St&&WT(t,e,St,!1),Jn(o?2:0,r),i(n,r)}finally{Vi(s),Jn(o?3:1,r)}}function _v(t,e,i){if(vv(e)){let n=ve(null);try{let r=e.directiveStart,s=e.directiveEnd;for(let o=r;o<s;o++){let a=t.data[o];if(a.contentQueries){let c=i[o];a.contentQueries(1,c,o)}}}finally{ve(n)}}}function Lv(t,e,i){Ww()&&(WU(t,e,i,dn(i,e)),(i.flags&64)===64&&XT(t,e,i))}function kv(t,e,i=dn){let n=e.localNames;if(n!==null){let r=e.index+1;for(let s=0;s<n.length;s+=2){let o=n[s+1],a=o===-1?i(e,t):t[o];t[r++]=a}}}function QT(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Uv(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Uv(t,e,i,n,r,s,o,a,c,u,l){let f=St+n,h=f+r,g=_U(f,h),y=typeof u=="function"?u():u;return g[ie]={type:t,blueprint:g,template:i,queries:null,viewQuery:a,declTNode:e,data:g.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:y,incompleteFirstPass:!1,ssrId:l}}function _U(t,e){let i=[];for(let n=0;n<e;n++)i.push(n<t?null:Pt);return i}function LU(t,e,i,n){let s=n.get(jk,ST)||i===tr.ShadowDom,o=t.selectRootElement(e,s);return kU(o),o}function kU(t){UU(t)}var UU=()=>null;function jU(t,e,i,n){let r=n0(e);r.push(i),t.firstCreatePass&&r0(t).push(n,r.length-1)}function $U(t,e,i,n,r,s){let o=e?e.injectorIndex:-1,a=0;return qw()&&(a|=128),{type:i,index:n,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Bb(t,e,i,n,r){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;n??={};let a,c=cn.None;Array.isArray(o)?(a=o[0],c=o[1]):a=o;let u=s;if(r!==null){if(!r.hasOwnProperty(s))continue;u=r[s]}t===0?Vb(n,i,u,a,c):Vb(n,i,u,a)}return n}function Vb(t,e,i,n,r){let s;t.hasOwnProperty(i)?(s=t[i]).push(e,n):s=t[i]=[e,n],r!==void 0&&s.push(r)}function BU(t,e,i){let n=e.directiveStart,r=e.directiveEnd,s=t.data,o=e.attrs,a=[],c=null,u=null;for(let l=n;l<r;l++){let f=s[l],h=i?i.get(f):null,g=h?h.inputs:null,y=h?h.outputs:null;c=Bb(0,f.inputs,l,c,g),u=Bb(1,f.outputs,l,u,y);let b=c!==null&&o!==null&&!hv(e)?rj(c,l,o):null;a.push(b)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function VU(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function _l(t,e,i,n,r,s,o,a){let c=dn(e,i),u=e.inputs,l;!a&&u!=null&&(l=u[n])?($v(t,i,l,n,r),Dl(e)&&HU(i,e.index)):e.type&3?(n=VU(n),r=o!=null?o(r,e.value||"",n):r,s.setProperty(c,n,r)):e.type&12}function HU(t,e){let i=di(e,t);i[J]&16||(i[J]|=64)}function jv(t,e,i,n){if(Ww()){let r=n===null?null:{"":-1},s=YU(t,i),o,a;s===null?o=a=null:[o,a]=s,o!==null&&JT(t,e,i,o,r,a),r&&KU(i,n,r)}i.mergedAttrs=ca(i.mergedAttrs,i.attrs)}function JT(t,e,i,n,r,s){for(let u=0;u<n.length;u++)gm(il(i,e),t,n[u].type);QU(i,t.data.length,n.length);for(let u=0;u<n.length;u++){let l=n[u];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,c=KT(t,e,n.length,null);for(let u=0;u<n.length;u++){let l=n[u];i.mergedAttrs=ca(i.mergedAttrs,l.hostAttrs),JU(t,i,e,c,l),ZU(c,l,r),l.contentQueries!==null&&(i.flags|=4),(l.hostBindings!==null||l.hostAttrs!==null||l.hostVars!==0)&&(i.flags|=64);let f=l.type.prototype;!o&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((t.preOrderHooks??=[]).push(i.index),o=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(i.index),a=!0),c++}BU(t,i,s)}function zU(t,e,i,n,r){let s=r.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;GU(o)!=a&&o.push(a),o.push(i,n,s)}}function GU(t){let e=t.length;for(;e>0;){let i=t[--e];if(typeof i=="number"&&i<0)return i}return 0}function WU(t,e,i,n){let r=i.directiveStart,s=i.directiveEnd;Dl(i)&&XU(e,i,t.data[r+i.componentOffset]),t.firstCreatePass||il(i,e),ui(n,e);let o=i.initialInputs;for(let a=r;a<s;a++){let c=t.data[a],u=zi(e,t,a,i);if(ui(u,e),o!==null&&nj(e,a-r,u,c,i,o),ci(c)){let l=di(i.index,e);l[wn]=zi(e,t,a,i)}}}function XT(t,e,i){let n=i.directiveStart,r=i.directiveEnd,s=i.index,o=sk();try{Vi(s);for(let a=n;a<r;a++){let c=t.data[a],u=e[a];hm(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&qU(c,u)}}finally{Vi(-1),hm(o)}}function qU(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function YU(t,e){let i=t.directiveRegistry,n=null,r=null;if(i)for(let s=0;s<i.length;s++){let o=i[s];if(Dw(e,o.selectors,!1))if(n||(n=[]),ci(o))if(o.findHostDirectiveDefs!==null){let a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),n.unshift(...a,o);let c=a.length;Nm(t,e,c)}else n.unshift(o),Nm(t,e,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,n,r),n.push(o)}return n===null?null:[n,r]}function Nm(t,e,i){e.componentOffset=i,(t.components??=[]).push(e.index)}function KU(t,e,i){if(e){let n=t.localNames=[];for(let r=0;r<e.length;r+=2){let s=i[e[r+1]];if(s==null)throw new j(-301,!1);n.push(e[r],s)}}}function ZU(t,e,i){if(i){if(e.exportAs)for(let n=0;n<e.exportAs.length;n++)i[e.exportAs[n]]=t;ci(e)&&(i[""]=t)}}function QU(t,e,i){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+i,t.providerIndexes=e}function JU(t,e,i,n,r){t.data[n]=r;let s=r.factory||(r.factory=ji(r.type,!0)),o=new Hi(s,ci(r),X);t.blueprint[n]=o,i[n]=o,zU(t,e,n,KT(t,i,r.hostVars,Pt),r)}function XU(t,e,i){let n=dn(e,t),r=QT(i),s=t[Tn].rendererFactory,o=16;i.signals?o=4096:i.onPush&&(o=64);let a=Ll(t,Fl(t,r,null,o,n,e,null,s.createRenderer(n,i),null,null,null));t[e.index]=a}function ej(t,e,i,n,r,s){let o=dn(t,e);tj(e[Fe],o,s,t.value,i,n,r)}function tj(t,e,i,n,r,s,o){if(s==null)t.removeAttribute(e,r,i);else{let a=o==null?Dn(s):o(s,n||"",r);t.setAttribute(e,r,a,i)}}function nj(t,e,i,n,r,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],u=o[a++],l=o[a++],f=o[a++];YT(n,i,c,u,l,f)}}function rj(t,e,i){let n=null,r=0;for(;r<i.length;){let s=i[r];if(s===0){r+=4;continue}else if(s===5){r+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){n===null&&(n=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){n.push(s,o[a+1],o[a+2],i[r+1]);break}}r+=2}return n}function e0(t,e,i,n){return[t,!0,0,e,null,n,null,i,null,null]}function t0(t,e){let i=t.contentQueries;if(i!==null){let n=ve(null);try{for(let r=0;r<i.length;r+=2){let s=i[r],o=i[r+1];if(o!==-1){let a=t.data[o];Iv(s),a.contentQueries(2,e[o],o)}}}finally{ve(n)}}}function Ll(t,e){return t[fa]?t[Tb][bn]=e:t[fa]=e,t[Tb]=e,e}function Om(t,e,i){Iv(0);let n=ve(null);try{e(t,i)}finally{ve(n)}}function n0(t){return t[da]||(t[da]=[])}function r0(t){return t.cleanup||(t.cleanup=[])}function i0(t,e){let i=t[Vs],n=i?i.get(It,null):null;n&&n.handleError(e)}function $v(t,e,i,n,r){for(let s=0;s<i.length;){let o=i[s++],a=i[s++],c=i[s++],u=e[o],l=t.data[o];YT(l,u,n,a,c,r)}}function Bv(t,e,i){let n=Vw(e,t);pU(t[Fe],n,i)}function ij(t,e){let i=di(e,t),n=i[ie];sj(n,i);let r=i[Mr];r!==null&&i[la]===null&&(i[la]=xv(r,i[Vs])),Vv(n,i,i[wn])}function sj(t,e){for(let i=e.length;i<t.blueprint.length;i++)e.push(t.blueprint[i])}function Vv(t,e,i){Dv(e);try{let n=t.viewQuery;n!==null&&Om(1,n,i);let r=t.template;r!==null&&ZT(t,e,r,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),e[wr]?.finishViewCreation(t),t.staticContentQueries&&t0(t,e),t.staticViewQueries&&Om(2,t.viewQuery,i);let s=t.components;s!==null&&oj(e,s)}catch(n){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),n}finally{e[J]&=-5,bv()}}function oj(t,e){for(let i=0;i<e.length;i++)ij(t,e[i])}function aj(t,e,i,n){let r=ve(null);try{let s=e.tView,a=t[J]&4096?4096:16,c=Fl(t,s,i,a,null,e,null,null,n?.injector??null,n?.embeddedViewInjector??null,n?.dehydratedView??null),u=t[e.index];c[Sa]=u;let l=t[wr];return l!==null&&(c[wr]=l.createEmbeddedView(s)),Vv(s,c,i),c}finally{ve(r)}}function Hb(t,e){return!e||e.firstChild===null||gT(t)}function cj(t,e,i,n=!0){let r=e[ie];if(EU(r,e,t,i),n){let o=xm(i,t),a=e[Fe],c=Pv(a,t[Bi]);c!==null&&vU(r,t[Kt],a,e,c,o)}let s=e[la];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function ol(t,e,i,n,r=!1){for(;i!==null;){let s=e[i.index];s!==null&&n.push(nr(s)),xr(s)&&uj(s,n);let o=i.type;if(o&8)ol(t,e,i.child,n);else if(o&32){let a=Ov(i,e),c;for(;c=a();)n.push(c)}else if(o&16){let a=VT(e,i);if(Array.isArray(a))n.push(...a);else{let c=pa(e[An]);ol(c[ie],c,a,n,!0)}}i=r?i.projectionNext:i.next}return n}function uj(t,e){for(let i=qt;i<t.length;i++){let n=t[i],r=n[ie].firstChild;r!==null&&ol(n[ie],n,r,e)}t[Bi]!==t[Mr]&&e.push(t[Bi])}var s0=[];function lj(t){return t[$i]??dj(t)}function dj(t){let e=s0.pop()??Object.create(hj);return e.lView=t,e}function fj(t){t.lView[$i]!==t&&(t.lView=null,s0.push(t))}var hj=T(v({},_u),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{ha(t.lView)},consumerOnSignalRead(){this.lView[$i]=this}}),o0=100;function a0(t,e=!0,i=0){let n=t[Tn],r=n.rendererFactory,s=!1;s||r.begin?.();try{pj(t,i)}catch(o){throw e&&i0(t,o),o}finally{s||(r.end?.(),n.inlineEffectRunner?.flush())}}function pj(t,e){Pm(t,e);let i=0;for(;Ev(t);){if(i===o0)throw new j(103,!1);i++,Pm(t,1)}}function gj(t,e,i,n){let r=e[J];if((r&256)===256)return;let s=!1;!s&&e[Tn].inlineEffectRunner?.flush(),Dv(e);let o=null,a=null;!s&&mj(t)&&(a=lj(e),o=Ug(a));try{zw(e),nk(t.bindingStartIndex),i!==null&&ZT(t,e,i,2,n);let c=(r&3)===3;if(!s)if(c){let f=t.preOrderCheckHooks;f!==null&&Gu(e,f,null)}else{let f=t.preOrderHooks;f!==null&&Wu(e,f,0,null),Gg(e,0)}if(vj(e),c0(e,0),t.contentQueries!==null&&t0(t,e),!s)if(c){let f=t.contentCheckHooks;f!==null&&Gu(e,f)}else{let f=t.contentHooks;f!==null&&Wu(e,f,1),Gg(e,1)}PU(t,e);let u=t.components;u!==null&&l0(e,u,0);let l=t.viewQuery;if(l!==null&&Om(2,l,n),!s)if(c){let f=t.viewCheckHooks;f!==null&&Gu(e,f)}else{let f=t.viewHooks;f!==null&&Wu(e,f,2),Gg(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[zg]){for(let f of e[zg])f();e[zg]=null}s||(e[J]&=-73)}catch(c){throw ha(e),c}finally{a!==null&&(jg(a,o),fj(a)),bv()}}function mj(t){return t.type!==2}function c0(t,e){for(let i=vT(t);i!==null;i=yT(i))for(let n=qt;n<i.length;n++){let r=i[n];u0(r,e)}}function vj(t){for(let e=vT(t);e!==null;e=yT(e)){if(!(e[J]&mv.HasTransplantedViews))continue;let i=e[Hs];for(let n=0;n<i.length;n++){let r=i[n],s=r[gt];WL(r)}}}function yj(t,e,i){let n=di(e,t);u0(n,i)}function u0(t,e){yv(t)&&Pm(t,e)}function Pm(t,e){let n=t[ie],r=t[J],s=t[$i],o=!!(e===0&&r&16);if(o||=!!(r&64&&e===0),o||=!!(r&1024),o||=!!(s?.dirty&&$g(s)),s&&(s.dirty=!1),t[J]&=-9217,o)gj(n,t,n.template,t[wn]);else if(r&8192){c0(t,1);let a=n.components;a!==null&&l0(t,a,1)}}function l0(t,e,i){for(let n=0;n<e.length;n++)yj(t,e[n],i)}function Hv(t){for(t[Tn].changeDetectionScheduler?.notify();t;){t[J]|=64;let e=pa(t);if(LL(t)&&!e)return t;t=e}return null}var Gi=class{get rootNodes(){let e=this._lView,i=e[ie];return ol(i,e,i.firstChild,[])}constructor(e,i,n=!0){this._lView=e,this._cdRefInjectingView=i,this.notifyErrorHandler=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[wn]}set context(e){this._lView[wn]=e}get destroyed(){return(this._lView[J]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[gt];if(xr(e)){let i=e[el],n=i?i.indexOf(this):-1;n>-1&&(Mm(e,n),Ju(i,n))}this._attachedToViewContainer=!1}UT(this._lView[ie],this._lView)}onDestroy(e){Gw(this._lView,e)}markForCheck(){Hv(this._cdRefInjectingView||this._lView)}detach(){this._lView[J]&=-129}reattach(){fm(this._lView),this._lView[J]|=128}detectChanges(){this._lView[J]|=1024,a0(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new j(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,LT(this._lView[ie],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new j(902,!1);this._appRef=e,fm(this._lView)}},Rn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Sj;let t=e;return t})(),Ej=Rn,Cj=class extends Ej{constructor(e,i,n){super(),this._declarationLView=e,this._declarationTContainer=i,this.elementRef=n}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,i){return this.createEmbeddedViewImpl(e,i)}createEmbeddedViewImpl(e,i,n){let r=aj(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:i,dehydratedView:n});return new Gi(r)}};function Sj(){return kl(Dt(),Z())}function kl(t,e){return t.type&4?new Cj(e,t,Zs(t,e)):null}var Wie=new RegExp(`^(\\d+)*(${kk}|${Lk})*(.*)`);var Ij=()=>null;function zb(t,e){return Ij(t,e)}var al=class{},Fm=class{},cl=class{};function Dj(t){let e=Error(`No component factory found for ${Nt(t)}.`);return e[bj]=t,e}var bj="ngComponent";var _m=class{resolveComponentFactory(e){throw Dj(e)}},Ul=(()=>{let e=class e{};e.NULL=new _m;let t=e;return t})(),Wi=class{},Js=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>wj();let t=e;return t})();function wj(){let t=Z(),e=Dt(),i=di(e.index,t);return(ki(i)?i:t)[Fe]}var Tj=(()=>{let e=class e{};e.\u0275prov=m({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Zg={};var Gb=new Set;function Xs(t){Gb.has(t)||(Gb.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Wb(...t){}function Aj(){let t=typeof Ge.requestAnimationFrame=="function",e=Ge[t?"requestAnimationFrame":"setTimeout"],i=Ge[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&i){let n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);let r=i[Zone.__symbol__("OriginalDelegate")];r&&(i=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:i}}var Ce=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new pt(!1),this.onMicrotaskEmpty=new pt(!1),this.onStable=new pt(!1),this.onError=new pt(!1),typeof Zone>"u")throw new j(908,!1);Zone.assertZonePatched();let r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&i,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=Aj().nativeRequestAnimationFrame,xj(r)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new j(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new j(909,!1)}run(e,i,n){return this._inner.run(e,i,n)}runTask(e,i,n,r){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,e,Rj,Wb,Wb);try{return s.runTask(o,i,n)}finally{s.cancelTask(o)}}runGuarded(e,i,n){return this._inner.runGuarded(e,i,n)}runOutsideAngular(e){return this._outer.run(e)}},Rj={};function zv(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Mj(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ge,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Lm(t),t.isCheckStableRunning=!0,zv(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Lm(t))}function xj(t){let e=()=>{Mj(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,n,r,s,o,a)=>{if(Nj(a))return i.invokeTask(r,s,o,a);try{return qb(t),i.invokeTask(r,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Yb(t)}},onInvoke:(i,n,r,s,o,a,c)=>{try{return qb(t),i.invoke(r,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),Yb(t)}},onHasTask:(i,n,r,s)=>{i.hasTask(r,s),n===r&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Lm(t),zv(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,n,r,s)=>(i.handleError(r,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Lm(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function qb(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Yb(t){t._nesting--,zv(t)}var km=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new pt,this.onMicrotaskEmpty=new pt,this.onStable=new pt,this.onError=new pt}run(e,i,n){return e.apply(i,n)}runGuarded(e,i,n){return e.apply(i,n)}runOutsideAngular(e){return e()}runTask(e,i,n,r){return e.apply(i,n)}};function Nj(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}function Oj(t="zone.js",e){return t==="noop"?new km:t==="zone.js"?new Ce(e):t}var ks=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(ks||{}),Pj={destroy(){}};function jl(t,e){!e&&Ca(jl);let i=e?.injector??C(Ye);if(!dU(i))return Pj;Xs("NgAfterNextRender");let n=i.get(Gv),r=n.handler??=new jm,s=e?.phase??ks.MixedReadWrite,o=()=>{r.unregister(c),a()},a=i.get(fi).onDestroy(o),c=Mn(i,()=>new Um(s,()=>{o(),t()}));return r.register(c),{destroy:o}}var Um=class{constructor(e,i){this.phase=e,this.callbackFn=i,this.zone=C(Ce),this.errorHandler=C(It,{optional:!0}),C(al,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},jm=class{constructor(){this.executingCallbacks=!1,this.buckets={[ks.EarlyRead]:new Set,[ks.Write]:new Set,[ks.MixedReadWrite]:new Set,[ks.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let i of e)i.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},Gv=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let n=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of n)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=m({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function ul(t,e,i){let n=i?t.styles:null,r=i?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)r=rm(r,a);else if(s==2){let c=a,u=e[++o];n=rm(n,c+": "+u+";")}}i?t.styles=n:t.stylesWithoutHost=n,i?t.classes=r:t.classesWithoutHost=r}var ll=class extends Ul{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let i=ai(e);return new Gs(i,this.ngModule)}};function Kb(t){let e=[];for(let i in t){if(!t.hasOwnProperty(i))continue;let n=t[i];n!==void 0&&e.push({propName:Array.isArray(n)?n[0]:n,templateName:i})}return e}function Fj(t){let e=t.toLowerCase();return e==="svg"?$L:e==="math"?BL:null}var $m=class{constructor(e,i){this.injector=e,this.parentInjector=i}get(e,i,n){n=El(n);let r=this.injector.get(e,Zg,n);return r!==Zg||i===Zg?r:this.parentInjector.get(e,i,n)}},Gs=class extends cl{get inputs(){let e=this.componentDef,i=e.inputTransforms,n=Kb(e.inputs);if(i!==null)for(let r of n)i.hasOwnProperty(r.propName)&&(r.transform=i[r.propName]);return n}get outputs(){return Kb(this.componentDef.outputs)}constructor(e,i){super(),this.componentDef=e,this.ngModule=i,this.componentType=e.type,this.selector=yL(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!i}create(e,i,n,r){let s=ve(null);try{r=r||this.ngModule;let o=r instanceof Ct?r:r?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new $m(e,o):e,c=a.get(Wi,null);if(c===null)throw new j(407,!1);let u=a.get(Tj,null),l=a.get(Gv,null),f=a.get(al,null),h={rendererFactory:c,sanitizer:u,inlineEffectRunner:null,afterRenderEventManager:l,changeDetectionScheduler:f},g=c.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",b=n?LU(g,n,this.componentDef.encapsulation,a):_T(g,y,Fj(y)),w=512;this.componentDef.signals?w|=4096:this.componentDef.onPush||(w|=16);let R=null;b!==null&&(R=xv(b,a,!0));let k=Uv(0,null,null,1,0,null,null,null,null,null,null),U=Fl(null,k,null,w,null,null,h,g,a,null,R);Dv(U);let H,te;try{let ue=this.componentDef,fe,Oe=null;ue.findHostDirectiveDefs?(fe=[],Oe=new Map,ue.findHostDirectiveDefs(ue,fe,Oe),fe.push(ue)):fe=[ue];let Ri=_j(U,b),Vn=Lj(Ri,b,ue,fe,U,h,g);te=Hw(k,St),b&&jj(g,ue,b,n),i!==void 0&&$j(te,this.ngContentSelectors,i),H=Uj(Vn,ue,fe,Oe,U,[Bj]),Vv(k,U,null)}finally{bv()}return new Bm(this.componentType,H,Zs(te,U),U,te)}finally{ve(s)}}},Bm=class extends Fm{constructor(e,i,n,r,s){super(),this.location=n,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new Gi(r,void 0,!1),this.componentType=e}setInput(e,i){let n=this._tNode.inputs,r;if(n!==null&&(r=n[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),i))return;let s=this._rootLView;$v(s[ie],s,r,e,i),this.previousInputValues.set(e,i);let o=di(this._tNode.index,s);Hv(o)}}get injector(){return new Ui(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function _j(t,e){let i=t[ie],n=St;return t[n]=e,Qs(i,n,2,"#host",null)}function Lj(t,e,i,n,r,s,o){let a=r[ie];kj(n,t,e,o);let c=null;e!==null&&(c=xv(e,r[Vs]));let u=s.rendererFactory.createRenderer(e,i),l=16;i.signals?l=4096:i.onPush&&(l=64);let f=Fl(r,QT(i),null,l,r[t.index],t,s,u,null,null,c);return a.firstCreatePass&&Nm(a,t,n.length-1),Ll(r,f),r[t.index]=f}function kj(t,e,i,n){for(let r of t)e.mergedAttrs=ca(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(ul(e,e.mergedAttrs,!0),i!==null&&GT(n,i,e))}function Uj(t,e,i,n,r,s){let o=Dt(),a=r[ie],c=dn(o,r);JT(a,r,o,i,null,n);for(let l=0;l<i.length;l++){let f=o.directiveStart+l,h=zi(r,a,f,o);ui(h,r)}XT(a,r,o),c&&ui(c,r);let u=zi(r,a,o.directiveStart+o.componentOffset,o);if(t[wn]=r[wn]=u,s!==null)for(let l of s)l(u,e);return _v(a,o,r),u}function jj(t,e,i,n){if(n)am(t,i,["ng-version","17.3.12"]);else{let{attrs:r,classes:s}=EL(e.selectors[0]);r&&am(t,i,r),s&&s.length>0&&zT(t,i,s.join(" "))}}function $j(t,e,i){let n=t.projection=[];for(let r=0;r<e.length;r++){let s=i[r];n.push(s!=null?Array.from(s):null)}}function Bj(){let t=Dt();Rl(Z()[ie],t)}var Vt=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Vj;let t=e;return t})();function Vj(){let t=Dt();return f0(t,Z())}var Hj=Vt,d0=class extends Hj{constructor(e,i,n){super(),this._lContainer=e,this._hostTNode=i,this._hostLView=n}get element(){return Zs(this._hostTNode,this._hostLView)}get injector(){return new Ui(this._hostTNode,this._hostLView)}get parentInjector(){let e=wv(this._hostTNode,this._hostLView);if(iT(e)){let i=nl(e,this._hostLView),n=tl(e),r=i[ie].data[n+8];return new Ui(r,i)}else return new Ui(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let i=Zb(this._lContainer);return i!==null&&i[e]||null}get length(){return this._lContainer.length-qt}createEmbeddedView(e,i,n){let r,s;typeof n=="number"?r=n:n!=null&&(r=n.index,s=n.injector);let o=zb(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(i||{},s,o);return this.insertImpl(a,r,Hb(this._hostTNode,o)),a}createComponent(e,i,n,r,s){let o=e&&!_L(e),a;if(o)a=i;else{let y=i||{};a=y.index,n=y.injector,r=y.projectableNodes,s=y.environmentInjector||y.ngModuleRef}let c=o?e:new Gs(ai(e)),u=n||this.parentInjector;if(!s&&c.ngModule==null){let b=(o?u:this.parentInjector).get(Ct,null);b&&(s=b)}let l=ai(c.componentType??{}),f=zb(this._lContainer,l?.id??null),h=f?.firstChild??null,g=c.create(u,r,h,s);return this.insertImpl(g.hostView,a,Hb(this._hostTNode,f)),g}insert(e,i){return this.insertImpl(e,i,!0)}insertImpl(e,i,n){let r=e._lView;if(GL(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=r[gt],u=new d0(c,c[Kt],c[gt]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(i),o=this._lContainer;return cj(o,r,s,n),e.attachToViewContainerRef(),vw(Qg(o),s,e),e}move(e,i){return this.insert(e,i)}indexOf(e){let i=Zb(this._lContainer);return i!==null?i.indexOf(e):-1}remove(e){let i=this._adjustIndex(e,-1),n=Mm(this._lContainer,i);n&&(Ju(Qg(this._lContainer),i),UT(n[ie],n))}detach(e){let i=this._adjustIndex(e,-1),n=Mm(this._lContainer,i);return n&&Ju(Qg(this._lContainer),i)!=null?new Gi(n):null}_adjustIndex(e,i=0){return e??this.length+i}};function Zb(t){return t[el]}function Qg(t){return t[el]||(t[el]=[])}function f0(t,e){let i,n=e[t.index];return xr(n)?i=n:(i=e0(n,e,null,t),e[t.index]=i,Ll(e,i)),Gj(i,e,t,n),new d0(i,t,e)}function zj(t,e){let i=t[Fe],n=i.createComment(""),r=dn(e,t),s=Pv(i,r);return sl(i,s,n,wU(i,r),!1),n}var Gj=Yj,Wj=()=>!1;function qj(t,e,i){return Wj(t,e,i)}function Yj(t,e,i,n){if(t[Bi])return;let r;i.type&8?r=nr(n):r=zj(e,i),t[Bi]=r}var Vm=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Hm=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let i=e.queries;if(i!==null){let n=e.contentQueries!==null?e.contentQueries[0]:i.length,r=[];for(let s=0;s<n;s++){let o=i.getByIndex(s),a=this.queries[o.indexInDeclarationView];r.push(a.clone())}return new t(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let i=0;i<this.queries.length;i++)Wv(e,i).matches!==null&&this.queries[i].setDirty()}},dl=class{constructor(e,i,n=null){this.flags=i,this.read=n,typeof e=="string"?this.predicate=n1(e):this.predicate=e}},zm=class t{constructor(e=[]){this.queries=e}elementStart(e,i){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,i)}elementEnd(e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(e)}embeddedTView(e){let i=null;for(let n=0;n<this.length;n++){let r=i!==null?i.length:0,s=this.getByIndex(n).embeddedTView(e,r);s&&(s.indexInDeclarationView=n,i!==null?i.push(s):i=[s])}return i!==null?new t(i):null}template(e,i){for(let n=0;n<this.queries.length;n++)this.queries[n].template(e,i)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Gm=class t{constructor(e,i=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(e,i){this.isApplyingToNode(i)&&this.matchTNode(e,i)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,i){this.elementStart(e,i)}embeddedTView(e,i){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,i),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let i=this._declarationNodeIndex,n=e.parent;for(;n!==null&&n.type&8&&n.index!==i;)n=n.parent;return i===(n!==null?n.index:-1)}return this._appliesToNextNode}matchTNode(e,i){let n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){let s=n[r];this.matchTNodeWithReadOption(e,i,Kj(i,s)),this.matchTNodeWithReadOption(e,i,qu(i,e,s,!1,!1))}else n===Rn?i.type&4&&this.matchTNodeWithReadOption(e,i,-1):this.matchTNodeWithReadOption(e,i,qu(i,e,n,!1,!1))}matchTNodeWithReadOption(e,i,n){if(n!==null){let r=this.metadata.read;if(r!==null)if(r===ir||r===Vt||r===Rn&&i.type&4)this.addMatch(i.index,-2);else{let s=qu(i,e,r,!1,!1);s!==null&&this.addMatch(i.index,s)}else this.addMatch(i.index,n)}}addMatch(e,i){this.matches===null?this.matches=[e,i]:this.matches.push(e,i)}};function Kj(t,e){let i=t.localNames;if(i!==null){for(let n=0;n<i.length;n+=2)if(i[n]===e)return i[n+1]}return null}function Zj(t,e){return t.type&11?Zs(t,e):t.type&4?kl(t,e):null}function Qj(t,e,i,n){return i===-1?Zj(e,t):i===-2?Jj(t,e,n):zi(t,t[ie],i,e)}function Jj(t,e,i){if(i===ir)return Zs(e,t);if(i===Rn)return kl(e,t);if(i===Vt)return f0(e,t)}function h0(t,e,i,n){let r=e[wr].queries[n];if(r.matches===null){let s=t.data,o=i.matches,a=[];for(let c=0;o!==null&&c<o.length;c+=2){let u=o[c];if(u<0)a.push(null);else{let l=s[u];a.push(Qj(e,l,o[c+1],i.metadata.read))}}r.matches=a}return r.matches}function Wm(t,e,i,n){let r=t.queries.getByIndex(i),s=r.matches;if(s!==null){let o=h0(t,e,r,i);for(let a=0;a<s.length;a+=2){let c=s[a];if(c>0)n.push(o[a/2]);else{let u=s[a+1],l=e[-c];for(let f=qt;f<l.length;f++){let h=l[f];h[Sa]===h[gt]&&Wm(h[ie],h,u,n)}if(l[Hs]!==null){let f=l[Hs];for(let h=0;h<f.length;h++){let g=f[h];Wm(g[ie],g,u,n)}}}}}return n}function Xj(t,e){return t[wr].queries[e].queryList}function p0(t,e,i){let n=new Em((i&4)===4);return jU(t,e,n,n.destroy),(e[wr]??=new Hm).queries.push(new Vm(n))-1}function e1(t,e,i){let n=je();return n.firstCreatePass&&(g0(n,new dl(t,e,i),-1),(e&2)===2&&(n.staticViewQueries=!0)),p0(n,Z(),e)}function t1(t,e,i,n){let r=je();if(r.firstCreatePass){let s=Dt();g0(r,new dl(e,i,n),s.index),r1(r,t),(i&2)===2&&(r.staticContentQueries=!0)}return p0(r,Z(),i)}function n1(t){return t.split(",").map(e=>e.trim())}function g0(t,e,i){t.queries===null&&(t.queries=new zm),t.queries.track(new Gm(e,i))}function r1(t,e){let i=t.contentQueries||(t.contentQueries=[]),n=i.length?i[i.length-1]:-1;e!==n&&i.push(t.queries.length-1,e)}function Wv(t,e){return t.queries.getByIndex(e)}function i1(t,e){let i=t[ie],n=Wv(i,e);return n.crossesNgTemplate?Wm(i,t,e,[]):h0(i,t,n,e)}function s1(t){return typeof t=="function"&&t[br]!==void 0}function qv(t,e){Xs("NgSignals");let i=pb(t),n=i[br];return e?.equal&&(n.equal=e.equal),i.set=r=>Bg(n,r),i.update=r=>gb(n,r),i.asReadonly=o1.bind(i),i}function o1(){let t=this[br];if(t.readonlyFn===void 0){let e=()=>this();e[br]=t,t.readonlyFn=e}return t.readonlyFn}function m0(t){return s1(t)&&typeof t.set=="function"}function a1(t){let e=[],i=new Map;function n(r){let s=i.get(r);if(!s){let o=t(r);i.set(r,s=o.then(d1))}return s}return fl.forEach((r,s)=>{let o=[];r.templateUrl&&o.push(n(r.templateUrl).then(u=>{r.template=u}));let a=typeof r.styles=="string"?[r.styles]:r.styles||[];if(r.styles=a,r.styleUrl&&r.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(r.styleUrls?.length){let u=r.styles.length,l=r.styleUrls;r.styleUrls.forEach((f,h)=>{a.push(""),o.push(n(f).then(g=>{a[u+h]=g,l.splice(l.indexOf(f),1),l.length==0&&(r.styleUrls=void 0)}))})}else r.styleUrl&&o.push(n(r.styleUrl).then(u=>{a.push(u),r.styleUrl=void 0}));let c=Promise.all(o).then(()=>f1(s));e.push(c)}),u1(),Promise.all(e).then(()=>{})}var fl=new Map,c1=new Set;function u1(){let t=fl;return fl=new Map,t}function l1(){return fl.size===0}function d1(t){return typeof t=="string"?t:t.text()}function f1(t){c1.delete(t)}function h1(t){return Object.getPrototypeOf(t.prototype).constructor}function p1(t){let e=h1(t.type),i=!0,n=[t];for(;e;){let r;if(ci(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new j(903,!1);r=e.\u0275dir}if(r){if(i){n.push(r);let o=t;o.inputs=Bu(t.inputs),o.inputTransforms=Bu(t.inputTransforms),o.declaredInputs=Bu(t.declaredInputs),o.outputs=Bu(t.outputs);let a=r.hostBindings;a&&E1(t,a);let c=r.viewQuery,u=r.contentQueries;if(c&&v1(t,c),u&&y1(t,u),g1(t,r),k_(t.outputs,r.outputs),ci(r)&&r.data.animation){let l=t.data;l.animation=(l.animation||[]).concat(r.data.animation)}}let s=r.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===p1&&(i=!1)}}e=Object.getPrototypeOf(e)}m1(n)}function g1(t,e){for(let i in e.inputs){if(!e.inputs.hasOwnProperty(i)||t.inputs.hasOwnProperty(i))continue;let n=e.inputs[i];if(n!==void 0&&(t.inputs[i]=n,t.declaredInputs[i]=e.declaredInputs[i],e.inputTransforms!==null)){let r=Array.isArray(n)?n[0]:n;if(!e.inputTransforms.hasOwnProperty(r))continue;t.inputTransforms??={},t.inputTransforms[r]=e.inputTransforms[r]}}}function m1(t){let e=0,i=null;for(let n=t.length-1;n>=0;n--){let r=t[n];r.hostVars=e+=r.hostVars,r.hostAttrs=ca(r.hostAttrs,i=ca(i,r.hostAttrs))}}function Bu(t){return t===$s?{}:t===$t?[]:t}function v1(t,e){let i=t.viewQuery;i?t.viewQuery=(n,r)=>{e(n,r),i(n,r)}:t.viewQuery=e}function y1(t,e){let i=t.contentQueries;i?t.contentQueries=(n,r,s)=>{e(n,r,s),i(n,r,s)}:t.contentQueries=e}function E1(t,e){let i=t.hostBindings;i?t.hostBindings=(n,r)=>{e(n,r),i(n,r)}:t.hostBindings=e}function Yv(t){let e=t.inputConfig,i={};for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];Array.isArray(r)&&r[3]&&(i[n]=r[3])}t.inputTransforms=i}var Rr=class{},qi=class{};function v0(t,e){return new ga(t,e??null,[])}var ga=class extends Rr{constructor(e,i,n){super(),this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ll(this);let r=Rw(e);this._bootstrapComponents=FT(r.bootstrap),this._r3Injector=hT(e,i,[{provide:Rr,useValue:this},{provide:Ul,useValue:this.componentFactoryResolver},...n],Nt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},hl=class extends qi{constructor(e){super(),this.moduleType=e}create(e){return new ga(this.moduleType,e,[])}};function C1(t,e,i){return new ga(t,e,i)}var qm=class extends Rr{constructor(e){super(),this.componentFactoryResolver=new ll(this),this.instance=null;let i=new ua([...e.providers,{provide:Rr,useValue:this},{provide:Ul,useValue:this.componentFactoryResolver}],e.parent||gv(),e.debugName,new Set(["environment"]));this.injector=i,e.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function $l(t,e,i=null){return new qm({providers:t,parent:e,debugName:i,runEnvironmentInitializers:!0}).injector}var Zi=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Te(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function y0(t){return Kv(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function S1(t,e){if(Array.isArray(t))for(let i=0;i<t.length;i++)e(t[i]);else{let i=t[Symbol.iterator](),n;for(;!(n=i.next()).done;)e(n.value)}}function Kv(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Qi(t,e,i){return t[e]=i}function Zv(t,e){return t[e]}function un(t,e,i){let n=t[e];return Object.is(n,i)?!1:(t[e]=i,!0)}function Ws(t,e,i,n){let r=un(t,e,i);return un(t,e+1,n)||r}function E0(t,e,i,n,r){let s=Ws(t,e,i,n);return un(t,e+2,r)||s}function Qv(t,e,i,n,r,s){let o=Ws(t,e,i,n);return Ws(t,e+2,r,s)||o}function I1(t){return(t.flags&32)===32}function D1(t,e,i,n,r,s,o,a,c){let u=e.consts,l=Qs(e,t,4,o||null,zs(u,a));jv(e,i,l,zs(u,c)),Rl(e,l);let f=l.tView=Uv(2,l,n,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,l),f.queries=e.queries.embeddedTView(l)),l}function b1(t,e,i,n,r,s,o,a){let c=Z(),u=je(),l=t+St,f=u.firstCreatePass?D1(l,u,c,e,i,n,r,s,o):u.data[l];Ki(f,!1);let h=w1(u,c,f,t);Tl()&&Ol(u,c,h,f),ui(h,c);let g=e0(h,c,h,f);return c[l]=g,Ll(c,g),qj(g,f,c),bl(f)&&Lv(u,c,f),o!=null&&kv(c,f,a),b1}var w1=T1;function T1(t,e,i,n){return Al(!0),e[Fe].createComment("")}function Jv(t,e,i,n){let r=Z(),s=Da();if(un(r,s,e)){let o=je(),a=ba();ej(a,r,t,e,i,n)}return Jv}function Xv(t,e,i,n){return un(t,Da(),i)?e+Dn(i)+n:Pt}function A1(t,e,i,n,r,s){let o=Kw(),a=Ws(t,o,i,r);return wl(2),a?e+Dn(i)+n+Dn(r)+s:Pt}function R1(t,e,i,n,r,s,o,a){let c=Kw(),u=E0(t,c,i,r,o);return wl(3),u?e+Dn(i)+n+Dn(r)+s+Dn(o)+a:Pt}function Vu(t,e){return t<<17|e<<2}function Yi(t){return t>>17&32767}function M1(t){return(t&2)==2}function x1(t,e){return t&131071|e<<17}function Ym(t){return t|2}function qs(t){return(t&131068)>>2}function Jg(t,e){return t&-131069|e<<2}function N1(t){return(t&1)===1}function Km(t){return t|1}function O1(t,e,i,n,r,s){let o=s?e.classBindings:e.styleBindings,a=Yi(o),c=qs(o);t[n]=i;let u=!1,l;if(Array.isArray(i)){let f=i;l=f[1],(l===null||Ea(f,l)>0)&&(u=!0)}else l=i;if(r)if(c!==0){let h=Yi(t[a+1]);t[n+1]=Vu(h,a),h!==0&&(t[h+1]=Jg(t[h+1],n)),t[a+1]=x1(t[a+1],n)}else t[n+1]=Vu(a,0),a!==0&&(t[a+1]=Jg(t[a+1],n)),a=n;else t[n+1]=Vu(c,0),a===0?a=n:t[c+1]=Jg(t[c+1],n),c=n;u&&(t[n+1]=Ym(t[n+1])),Qb(t,l,n,!0),Qb(t,l,n,!1),P1(e,l,t,n,s),o=Vu(a,c),s?e.classBindings=o:e.styleBindings=o}function P1(t,e,i,n,r){let s=r?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&Ea(s,e)>=0&&(i[n+1]=Km(i[n+1]))}function Qb(t,e,i,n){let r=t[i+1],s=e===null,o=n?Yi(r):qs(r),a=!1;for(;o!==0&&(a===!1||s);){let c=t[o],u=t[o+1];F1(c,e)&&(a=!0,t[o+1]=n?Km(u):Ym(u)),o=n?Yi(u):qs(u)}a&&(t[i+1]=n?Ym(r):Km(r))}function F1(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Ea(t,e)>=0:!1}var et={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function C0(t){return t.substring(et.key,et.keyEnd)}function _1(t){return t.substring(et.value,et.valueEnd)}function L1(t){return D0(t),S0(t,Ys(t,0,et.textEnd))}function S0(t,e){let i=et.textEnd;return i===e?-1:(e=et.keyEnd=U1(t,et.key=e,i),Ys(t,e,i))}function k1(t){return D0(t),I0(t,Ys(t,0,et.textEnd))}function I0(t,e){let i=et.textEnd,n=et.key=Ys(t,e,i);return i===n?-1:(n=et.keyEnd=j1(t,n,i),n=Jb(t,n,i,58),n=et.value=Ys(t,n,i),n=et.valueEnd=$1(t,n,i),Jb(t,n,i,59))}function D0(t){et.key=0,et.keyEnd=0,et.value=0,et.valueEnd=0,et.textEnd=t.length}function Ys(t,e,i){for(;e<i&&t.charCodeAt(e)<=32;)e++;return e}function U1(t,e,i){for(;e<i&&t.charCodeAt(e)>32;)e++;return e}function j1(t,e,i){let n;for(;e<i&&((n=t.charCodeAt(e))===45||n===95||(n&-33)>=65&&(n&-33)<=90||n>=48&&n<=57);)e++;return e}function Jb(t,e,i,n){return e=Ys(t,e,i),e<i&&e++,e}function $1(t,e,i){let n=-1,r=-1,s=-1,o=e,a=o;for(;o<i;){let c=t.charCodeAt(o++);if(c===59)return a;c===34||c===39?a=o=Xb(t,c,o,i):e===o-4&&s===85&&r===82&&n===76&&c===40?a=o=Xb(t,41,o,i):c>32&&(a=o),s=r,r=n,n=c&-33}return a}function Xb(t,e,i,n){let r=-1,s=i;for(;s<n;){let o=t.charCodeAt(s++);if(o==e&&r!==92)return s;o==92&&r===92?r=0:r=o}throw new Error}function B1(t,e,i){let n=Z(),r=Da();if(un(n,r,e)){let s=je(),o=ba();_l(s,o,n,t,e,n[Fe],i,!1)}return B1}function Zm(t,e,i,n,r){let s=e.inputs,o=r?"class":"style";$v(t,i,s[o],o,n)}function b0(t,e,i){return T0(t,e,i,!1),b0}function V1(t,e){return T0(t,e,null,!0),V1}function Yie(t){ey(M0,H1,t,!1)}function H1(t,e){for(let i=k1(e);i>=0;i=I0(e,i))M0(t,C0(e),_1(e))}function Kie(t){ey(K1,w0,t,!0)}function w0(t,e){for(let i=L1(e);i>=0;i=S0(e,i))ya(t,C0(e),!0)}function T0(t,e,i,n){let r=Z(),s=je(),o=wl(2);if(s.firstUpdatePass&&R0(s,t,o,n),e!==Pt&&un(r,o,e)){let a=s.data[Nr()];x0(s,a,r,r[Fe],t,r[o+1]=Q1(e,i),n,o)}}function ey(t,e,i,n){let r=je(),s=wl(2);r.firstUpdatePass&&R0(r,null,s,n);let o=Z();if(i!==Pt&&un(o,s,i)){let a=r.data[Nr()];if(N0(a,n)&&!A0(r,s)){let c=n?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(i=rm(c,i||"")),Zm(r,a,o,i,n)}else Z1(r,a,o,o[Fe],o[s+1],o[s+1]=Y1(t,e,i),n,s)}}function A0(t,e){return e>=t.expandoStartIndex}function R0(t,e,i,n){let r=t.data;if(r[i+1]===null){let s=r[Nr()],o=A0(t,i);N0(s,n)&&e===null&&!o&&(e=!1),e=z1(r,s,e,n),O1(r,s,e,i,o,n)}}function z1(t,e,i,n){let r=ok(t),s=n?e.residualClasses:e.residualStyles;if(r===null)(n?e.classBindings:e.styleBindings)===0&&(i=Xg(null,t,e,i,n),i=ma(i,e.attrs,n),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==r)if(i=Xg(r,t,e,i,n),s===null){let c=G1(t,e,n);c!==void 0&&Array.isArray(c)&&(c=Xg(null,t,e,c[1],n),c=ma(c,e.attrs,n),W1(t,e,n,c))}else s=q1(t,e,n)}return s!==void 0&&(n?e.residualClasses=s:e.residualStyles=s),i}function G1(t,e,i){let n=i?e.classBindings:e.styleBindings;if(qs(n)!==0)return t[Yi(n)]}function W1(t,e,i,n){let r=i?e.classBindings:e.styleBindings;t[Yi(r)]=n}function q1(t,e,i){let n,r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++){let o=t[s].hostAttrs;n=ma(n,o,i)}return ma(n,e.attrs,i)}function Xg(t,e,i,n,r){let s=null,o=i.directiveEnd,a=i.directiveStylingLast;for(a===-1?a=i.directiveStart:a++;a<o&&(s=e[a],n=ma(n,s.hostAttrs,r),s!==t);)a++;return t!==null&&(i.directiveStylingLast=a),n}function ma(t,e,i){let n=i?1:2,r=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?r=o:r===n&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),ya(t,o,i?!0:e[++s]))}return t===void 0?null:t}function Y1(t,e,i){if(i==null||i==="")return $t;let n=[],r=Bt(i);if(Array.isArray(r))for(let s=0;s<r.length;s++)t(n,r[s],!0);else if(typeof r=="object")for(let s in r)r.hasOwnProperty(s)&&t(n,s,r[s]);else typeof r=="string"&&e(n,r);return n}function M0(t,e,i){ya(t,e,Bt(i))}function K1(t,e,i){let n=String(e);n!==""&&!n.includes(" ")&&ya(t,n,i)}function Z1(t,e,i,n,r,s,o,a){r===Pt&&(r=$t);let c=0,u=0,l=0<r.length?r[0]:null,f=0<s.length?s[0]:null;for(;l!==null||f!==null;){let h=c<r.length?r[c+1]:void 0,g=u<s.length?s[u+1]:void 0,y=null,b;l===f?(c+=2,u+=2,h!==g&&(y=f,b=g)):f===null||l!==null&&l<f?(c+=2,y=l):(u+=2,y=f,b=g),y!==null&&x0(t,e,i,n,y,b,o,a),l=c<r.length?r[c]:null,f=u<s.length?s[u]:null}}function x0(t,e,i,n,r,s,o,a){if(!(e.type&3))return;let c=t.data,u=c[a+1],l=N1(u)?ew(c,e,i,r,qs(u),o):void 0;if(!pl(l)){pl(s)||M1(u)&&(s=ew(c,null,i,r,a,o));let f=Vw(Nr(),i);NU(n,o,f,r,s)}}function ew(t,e,i,n,r,s){let o=e===null,a;for(;r>0;){let c=t[r],u=Array.isArray(c),l=u?c[1]:c,f=l===null,h=i[r+1];h===Pt&&(h=f?$t:void 0);let g=f?Vg(h,n):l===n?h:void 0;if(u&&!pl(g)&&(g=Vg(c,n)),pl(g)&&(a=g,o))return a;let y=t[r+1];r=o?Yi(y):qs(y)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=Vg(c,n))}return a}function pl(t){return t!==void 0}function Q1(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Nt(Bt(t)))),t}function N0(t,e){return(t.flags&(e?8:16))!==0}function Zie(t,e,i){let n=Z(),r=Xv(n,t,e,i);ey(ya,w0,r,!0)}function J1(t,e,i,n,r,s){let o=e.consts,a=zs(o,r),c=Qs(e,t,2,n,a);return jv(e,i,c,zs(o,s)),c.attrs!==null&&ul(c,c.attrs,!1),c.mergedAttrs!==null&&ul(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function O0(t,e,i,n){let r=Z(),s=je(),o=St+t,a=r[Fe],c=s.firstCreatePass?J1(o,s,r,e,i,n):s.data[o],u=X1(s,r,c,a,e,t);r[o]=u;let l=bl(c);return Ki(c,!0),GT(a,u,c),!I1(c)&&Tl()&&Ol(s,r,u,c),KL()===0&&ui(u,r),ZL(),l&&(Lv(s,r,c),_v(s,c,r)),n!==null&&kv(r,c),O0}function P0(){let t=Dt();Cv()?Sv():(t=t.parent,Ki(t,!1));let e=t;JL(e)&&XL(),QL();let i=je();return i.firstCreatePass&&(Rl(i,t),vv(t)&&i.queries.elementEnd(t)),e.classesWithoutHost!=null&&hk(e)&&Zm(i,e,Z(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&pk(e)&&Zm(i,e,Z(),e.stylesWithoutHost,!1),P0}function ty(t,e,i,n){return O0(t,e,i,n),P0(),ty}var X1=(t,e,i,n,r,s)=>(Al(!0),_T(n,r,uk()));function e$(t,e,i,n,r){let s=e.consts,o=zs(s,n),a=Qs(e,t,8,"ng-container",o);o!==null&&ul(a,o,!0);let c=zs(s,r);return jv(e,i,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function F0(t,e,i){let n=Z(),r=je(),s=t+St,o=r.firstCreatePass?e$(s,r,n,e,i):r.data[s];Ki(o,!0);let a=n$(r,n,o,t);return n[s]=a,Tl()&&Ol(r,n,a,o),ui(a,n),bl(o)&&(Lv(r,n,o),_v(r,o,n)),i!=null&&kv(n,o),F0}function _0(){let t=Dt(),e=je();return Cv()?Sv():(t=t.parent,Ki(t,!1)),e.firstCreatePass&&(Rl(e,t),vv(t)&&e.queries.elementEnd(t)),_0}function t$(t,e,i){return F0(t,e,i),_0(),t$}var n$=(t,e,i,n)=>(Al(!0),gU(e[Fe],""));function Qie(){return Z()}function r$(t,e,i){let n=Z(),r=Da();if(un(n,r,e)){let s=je(),o=ba();_l(s,o,n,t,e,n[Fe],i,!0)}return r$}var Li=void 0;function i$(t){let e=t,i=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return i===1&&n===0?1:5}var s$=["en",[["a","p"],["AM","PM"],Li],[["AM","PM"],Li,Li],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Li,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Li,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Li,"{1} 'at' {0}",Li],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",i$],em={};function Ht(t){let e=o$(t),i=tw(e);if(i)return i;let n=e.split("-")[0];if(i=tw(n),i)return i;if(n==="en")return s$;throw new j(701,!1)}function tw(t){return t in em||(em[t]=Ge.ng&&Ge.ng.common&&Ge.ng.common.locales&&Ge.ng.common.locales[t]),em[t]}var Be=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Be||{});function o$(t){return t.toLowerCase().replace(/_/g,"-")}var gl="en-US";var a$=gl;function c$(t){typeof t=="string"&&(a$=t.toLowerCase().replace(/_/g,"-"))}function ny(t,e,i,n){let r=Z(),s=je(),o=Dt();return L0(s,r,r[Fe],o,t,e,n),ny}function u$(t,e,i,n){let r=t.cleanup;if(r!=null)for(let s=0;s<r.length-1;s+=2){let o=r[s];if(o===i&&r[s+1]===n){let a=e[da],c=r[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function L0(t,e,i,n,r,s,o){let a=bl(n),u=t.firstCreatePass&&r0(t),l=e[wn],f=n0(e),h=!0;if(n.type&3||o){let b=dn(n,e),w=o?o(b):b,R=f.length,k=o?H=>o(nr(H[n.index])):n.index,U=null;if(!o&&a&&(U=u$(t,e,r,n.index)),U!==null){let H=U.__ngLastListenerFn__||U;H.__ngNextListenerFn__=s,U.__ngLastListenerFn__=s,h=!1}else{s=rw(n,e,l,s,!1);let H=i.listen(w,r,s);f.push(s,H),u&&u.push(r,k,R,R+1)}}else s=rw(n,e,l,s,!1);let g=n.outputs,y;if(h&&g!==null&&(y=g[r])){let b=y.length;if(b)for(let w=0;w<b;w+=2){let R=y[w],k=y[w+1],te=e[R][k].subscribe(s),ue=f.length;f.push(s,te),u&&u.push(r,n.index,ue,-(ue+1))}}}function nw(t,e,i,n){let r=ve(null);try{return Jn(6,e,i),i(n)!==!1}catch(s){return i0(t,s),!1}finally{Jn(7,e,i),ve(r)}}function rw(t,e,i,n,r){return function s(o){if(o===Function)return n;let a=t.componentOffset>-1?di(t.index,e):e;Hv(a);let c=nw(e,i,n,o),u=s.__ngNextListenerFn__;for(;u;)c=nw(e,i,u,o)&&c,u=u.__ngNextListenerFn__;return r&&c===!1&&o.preventDefault(),c}}function Jie(t=1){return ck(t)}function l$(t,e){let i=null,n=hL(t);for(let r=0;r<e.length;r++){let s=e[r];if(s==="*"){i=r;continue}if(n===null?Dw(t,s,!0):mL(n,s))return r}return i}function Xie(t){let e=Z()[An][Kt];if(!e.projection){let i=t?t.length:1,n=e.projection=iL(i,null),r=n.slice(),s=e.child;for(;s!==null;){let o=t?l$(s,t):0;o!==null&&(r[o]?r[o].projectionNext=s:n[o]=s,r[o]=s),s=s.next}}}function ese(t,e=0,i){let n=Z(),r=je(),s=Qs(r,St+t,16,null,i||null);s.projection===null&&(s.projection=e),Sv(),(!n[la]||qw())&&(s.flags&32)!==32&&MU(r,n,s)}function d$(t,e,i){return k0(t,"",e,"",i),d$}function k0(t,e,i,n,r){let s=Z(),o=Xv(s,e,i,n);if(o!==Pt){let a=je(),c=ba();_l(a,c,s,t,o,s[Fe],r,!1)}return k0}function U0(t,e,i,n){t1(t,e,i,n)}function tse(t,e,i){e1(t,e,i)}function j0(t){let e=Z(),i=je(),n=Zw();Iv(n+1);let r=Wv(i,n);if(t.dirty&&zL(e)===((r.metadata.flags&2)===2)){if(r.matches===null)t.reset([]);else{let s=i1(e,n);t.reset(s,Ak),t.notifyOnChanges()}return!0}return!1}function $0(){return Xj(Z(),Zw())}function f$(t,e,i,n){i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),e[i]=n}function nse(t){let e=tk();return Ia(e,St+t)}function rse(t,e=""){let i=Z(),n=je(),r=t+St,s=n.firstCreatePass?Qs(n,r,1,e,null):n.data[r],o=h$(n,i,s,e,t);i[r]=o,Tl()&&Ol(n,i,o,s),Ki(s,!1)}var h$=(t,e,i,n,r)=>(Al(!0),hU(e[Fe],n));function p$(t){return B0("",t,""),p$}function B0(t,e,i){let n=Z(),r=Xv(n,t,e,i);return r!==Pt&&Bv(n,Nr(),r),B0}function g$(t,e,i,n,r){let s=Z(),o=A1(s,t,e,i,n,r);return o!==Pt&&Bv(s,Nr(),o),g$}function m$(t,e,i,n,r,s,o){let a=Z(),c=R1(a,t,e,i,n,r,s,o);return c!==Pt&&Bv(a,Nr(),c),m$}function v$(t,e,i){m0(e)&&(e=e());let n=Z(),r=Da();if(un(n,r,e)){let s=je(),o=ba();_l(s,o,n,t,e,n[Fe],i,!1)}return v$}function ise(t,e){let i=m0(t);return i&&t.set(e),i}function y$(t,e){let i=Z(),n=je(),r=Dt();return L0(n,i,i[Fe],r,t,e),y$}function E$(t,e,i){let n=je();if(n.firstCreatePass){let r=ci(t);Qm(i,n.data,n.blueprint,r,!0),Qm(e,n.data,n.blueprint,r,!1)}}function Qm(t,e,i,n,r){if(t=xt(t),Array.isArray(t))for(let s=0;s<t.length;s++)Qm(t[s],e,i,n,r);else{let s=je(),o=Z(),a=Dt(),c=Bs(t)?t:xt(t.provide),u=Fw(t),l=a.providerIndexes&1048575,f=a.directiveStart,h=a.providerIndexes>>20;if(Bs(t)||!t.multi){let g=new Hi(u,r,X),y=nm(c,e,r?l:l+h,f);y===-1?(gm(il(a,o),s,c),tm(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),i.push(g),o.push(g)):(i[y]=g,o[y]=g)}else{let g=nm(c,e,l+h,f),y=nm(c,e,l,l+h),b=g>=0&&i[g],w=y>=0&&i[y];if(r&&!w||!r&&!b){gm(il(a,o),s,c);let R=I$(r?S$:C$,i.length,r,n,u);!r&&w&&(i[y].providerFactory=R),tm(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),i.push(R),o.push(R)}else{let R=V0(i[r?y:g],u,!r&&n);tm(s,t,g>-1?g:y,R)}!r&&n&&w&&i[y].componentProviders++}}}function tm(t,e,i,n){let r=Bs(e),s=AL(e);if(r||s){let c=(s?xt(e.useClass):e).prototype.ngOnDestroy;if(c){let u=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){let l=u.indexOf(i);l===-1?u.push(i,[n,c]):u[l+1].push(n,c)}else u.push(i,c)}}}function V0(t,e,i){return i&&t.componentProviders++,t.multi.push(e)-1}function nm(t,e,i,n){for(let r=i;r<n;r++)if(e[r]===t)return r;return-1}function C$(t,e,i,n){return Jm(this.multi,[])}function S$(t,e,i,n){let r=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=zi(i,i[ie],this.providerFactory.index,n);s=a.slice(0,o),Jm(r,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],Jm(r,s);return s}function Jm(t,e){for(let i=0;i<t.length;i++){let n=t[i];e.push(n())}return e}function I$(t,e,i,n,r){let s=new Hi(t,i,X);return s.multi=[],s.index=e,s.componentProviders=0,V0(s,r,n&&!i),s}function sse(t,e=[]){return i=>{i.providersResolver=(n,r)=>E$(n,r?r(t):t,e)}}var D$=(()=>{let e=class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Nw(!1,n.type),s=r.length>0?$l([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,s)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=m({token:e,providedIn:"environment",factory:()=>new e(d(Ct))});let t=e;return t})();function H0(t){Xs("NgStandalone"),t.getStandaloneInjector=e=>e.get(D$).getOrCreateStandaloneInjector(t)}function ose(t,e,i){let n=xn()+t,r=Z();return r[n]===Pt?Qi(r,n,i?e.call(i):e()):Zv(r,n)}function ase(t,e,i,n){return z0(Z(),xn(),t,e,i,n)}function cse(t,e,i,n,r){return G0(Z(),xn(),t,e,i,n,r)}function use(t,e,i,n,r,s){return W0(Z(),xn(),t,e,i,n,r,s)}function lse(t,e,i,n,r,s,o){return q0(Z(),xn(),t,e,i,n,r,s,o)}function dse(t,e,i,n,r,s,o,a){let c=xn()+t,u=Z(),l=Qv(u,c,i,n,r,s);return un(u,c+4,o)||l?Qi(u,c+5,a?e.call(a,i,n,r,s,o):e(i,n,r,s,o)):Zv(u,c+5)}function fse(t,e,i,n,r,s,o,a,c){let u=xn()+t,l=Z(),f=Qv(l,u,i,n,r,s);return Ws(l,u+4,o,a)||f?Qi(l,u+6,c?e.call(c,i,n,r,s,o,a):e(i,n,r,s,o,a)):Zv(l,u+6)}function Bl(t,e){let i=t[e];return i===Pt?void 0:i}function z0(t,e,i,n,r,s){let o=e+i;return un(t,o,r)?Qi(t,o+1,s?n.call(s,r):n(r)):Bl(t,o+1)}function G0(t,e,i,n,r,s,o){let a=e+i;return Ws(t,a,r,s)?Qi(t,a+2,o?n.call(o,r,s):n(r,s)):Bl(t,a+2)}function W0(t,e,i,n,r,s,o,a){let c=e+i;return E0(t,c,r,s,o)?Qi(t,c+3,a?n.call(a,r,s,o):n(r,s,o)):Bl(t,c+3)}function q0(t,e,i,n,r,s,o,a,c){let u=e+i;return Qv(t,u,r,s,o,a)?Qi(t,u+4,c?n.call(c,r,s,o,a):n(r,s,o,a)):Bl(t,u+4)}function hse(t,e){let i=je(),n,r=t+St;i.firstCreatePass?(n=b$(e,i.pipeRegistry),i.data[r]=n,n.onDestroy&&(i.destroyHooks??=[]).push(r,n.onDestroy)):n=i.data[r];let s=n.factory||(n.factory=ji(n.type,!0)),o,a=jt(X);try{let c=rl(!1),u=s();return rl(c),f$(i,Z(),r,u),u}finally{jt(a)}}function b$(t,e){if(e)for(let i=e.length-1;i>=0;i--){let n=e[i];if(t===n.name)return n}}function pse(t,e,i){let n=t+St,r=Z(),s=Ia(r,n);return Vl(r,n)?z0(r,xn(),e,s.transform,i,s):s.transform(i)}function gse(t,e,i,n){let r=t+St,s=Z(),o=Ia(s,r);return Vl(s,r)?G0(s,xn(),e,o.transform,i,n,o):o.transform(i,n)}function mse(t,e,i,n,r){let s=t+St,o=Z(),a=Ia(o,s);return Vl(o,s)?W0(o,xn(),e,a.transform,i,n,r,a):a.transform(i,n,r)}function vse(t,e,i,n,r,s){let o=t+St,a=Z(),c=Ia(a,o);return Vl(a,o)?q0(a,xn(),e,c.transform,i,n,r,s,c):c.transform(i,n,r,s)}function Vl(t,e){return t[ie].data[e].pure}function yse(t,e){return kl(t,e)}var Hu=null;function w$(t){Hu!==null&&(t.defaultEncapsulation!==Hu.defaultEncapsulation||t.preserveWhitespaces!==Hu.preserveWhitespaces)||(Hu=t)}var Hl=(()=>{let e=class e{log(n){console.log(n)}warn(n){console.warn(n)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var ry=new S(""),Ra=new S(""),zl=(()=>{let e=class e{constructor(n,r,s){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,iy||(T$(s),s.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ce.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(n)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,s){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),n()},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:s})}whenStable(n,r,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,s){return[]}};e.\u0275fac=function(r){return new(r||e)(d(Ce),d(Gl),d(Ra))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),Gl=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return iy?.findTestabilityInTree(this,n,r)??null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function T$(t){iy=t}var iy;function eo(t){return!!t&&typeof t.then=="function"}function sy(t){return!!t&&typeof t.subscribe=="function"}var bt=new S(""),Y0=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=C(bt,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let s of this.appInits){let o=s();if(eo(o))n.push(o);else if(sy(o)){let a=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});n.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(s=>{this.reject(s)}),n.length===0&&r(),this.initialized=!0}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),to=new S("");function A$(){hb(()=>{throw new j(600,!1)})}function R$(t){return t.isBoundToModule}function M$(t,e,i){try{let n=i();return eo(n)?n.catch(r=>{throw e.runOutsideAngular(()=>t.handleError(r)),r}):n}catch(n){throw e.runOutsideAngular(()=>t.handleError(n)),n}}function K0(t,e){return Array.isArray(e)?e.reduce(K0,t):v(v({},t),e)}var Ji=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=C(pT),this.afterRenderEffectManager=C(Gv),this.externalTestViews=new Set,this.beforeRender=new re,this.afterTick=new re,this.componentTypes=[],this.components=[],this.isStable=C(Zi).hasPendingTasks.pipe(E(n=>!n)),this._injector=C(Ct)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){let s=n instanceof cl;if(!this._injector.get(Y0).done){let g=!s&&Aw(n),y=!1;throw new j(405,y)}let a;s?a=n:a=this._injector.get(Ul).resolveComponentFactory(n),this.componentTypes.push(a.componentType);let c=R$(a)?void 0:this._injector.get(Rr),u=r||a.selector,l=a.create(Ye.NULL,[],u,c),f=l.location.nativeElement,h=l.injector.get(ry,null);return h?.registerApplication(f),l.onDestroy(()=>{this.detachView(l.hostView),Ku(this.components,l),h?.unregisterApplication(f)}),this._loadComponent(l),l}tick(){this._tick(!0)}_tick(n){if(this._runningTick)throw new j(101,!1);let r=ve(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(n)}catch(s){this.internalErrorHandler(s)}finally{this.afterTick.next(),this._runningTick=!1,ve(r)}}detectChangesInAttachedViews(n){let r=0,s=this.afterRenderEffectManager;for(;;){if(r===o0)throw new j(103,!1);if(n){let o=r===0;this.beforeRender.next(o);for(let{_lView:a,notifyErrorHandler:c}of this._views)x$(a,o,c)}if(r++,s.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Xm(o))&&(s.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Xm(o))))break}}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Ku(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(to,[]);[...this._bootstrapListeners,...r].forEach(s=>s(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ku(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new j(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Ku(t,e){let i=t.indexOf(e);i>-1&&t.splice(i,1)}function x$(t,e,i){!e&&!Xm(t)||N$(t,i,e)}function Xm(t){return Ev(t)}function N$(t,e,i){let n;i?(n=0,t[J]|=1024):t[J]&64?n=0:n=1,a0(t,e,n)}var ev=class{constructor(e,i){this.ngModuleFactory=e,this.componentFactories=i}},no=(()=>{let e=class e{compileModuleSync(n){return new hl(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),s=Rw(n),o=FT(s.declarations).reduce((a,c)=>{let u=ai(c);return u&&a.push(new Gs(u)),a},[]);return new ev(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),O$=new S("");function P$(t,e,i){let n=new hl(i);return Promise.resolve(n)}function iw(t){for(let e=t.length-1;e>=0;e--)if(t[e]!==void 0)return t[e]}var F$=(()=>{let e=class e{constructor(){this.zone=C(Ce),this.applicationRef=C(Ji)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function _$(t){return[{provide:Ce,useFactory:t},{provide:er,multi:!0,useFactory:()=>{let e=C(F$,{optional:!0});return()=>e.initialize()}},{provide:er,multi:!0,useFactory:()=>{let e=C(U$);return()=>{e.initialize()}}},{provide:pT,useFactory:L$}]}function L$(){let t=C(Ce),e=C(It);return i=>t.runOutsideAngular(()=>e.handleError(i))}function k$(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var U$=(()=>{let e=class e{constructor(){this.subscription=new Ee,this.initialized=!1,this.zone=C(Ce),this.pendingTasks=C(Zi)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ce.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ce.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function j$(){return typeof $localize<"u"&&$localize.locale||gl}var Ma=new S("",{providedIn:"root",factory:()=>C(Ma,ce.Optional|ce.SkipSelf)||j$()});var Z0=new S(""),Q0=(()=>{let e=class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){let s=Oj(r?.ngZone,k$({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return s.run(()=>{let o=C1(n.moduleType,this.injector,_$(()=>s)),a=o.injector.get(It,null);return s.runOutsideAngular(()=>{let c=s.onError.subscribe({next:u=>{a.handleError(u)}});o.onDestroy(()=>{Ku(this._modules,o),c.unsubscribe()})}),M$(a,s,()=>{let c=o.injector.get(Y0);return c.runInitializers(),c.donePromise.then(()=>{let u=o.injector.get(Ma,gl);return c$(u||gl),this._moduleDoBootstrap(o),o})})})}bootstrapModule(n,r=[]){let s=K0({},r);return P$(this.injector,s,n).then(o=>this.bootstrapModuleFactory(o,s))}_moduleDoBootstrap(n){let r=n.injector.get(Ji);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(s=>r.bootstrap(s));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(r);else throw new j(-403,!1);this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new j(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());let n=this._injector.get(Z0,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};e.\u0275fac=function(r){return new(r||e)(d(Ye))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),oa=null,J0=new S("");function $$(t){if(oa&&!oa.get(J0,!1))throw new j(400,!1);A$(),oa=t;let e=t.get(Q0);return H$(t),e}function oy(t,e,i=[]){let n=`Platform: ${e}`,r=new S(n);return(s=[])=>{let o=X0();if(!o||o.injector.get(J0,!1)){let a=[...i,...s,{provide:r,useValue:!0}];t?t(a):$$(B$(a,n))}return V$(r)}}function B$(t=[],e){return Ye.create({name:e,providers:[{provide:Sl,useValue:"platform"},{provide:Z0,useValue:new Set([()=>oa=null])},...t]})}function V$(t){let e=X0();if(!e)throw new j(401,!1);return e}function X0(){return oa?.get(Q0)??null}function H$(t){t.get(Rv,null)?.forEach(i=>i())}function ge(){return!1}var Pr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=z$;let t=e;return t})();function z$(t){return G$(Dt(),Z(),(t&16)===16)}function G$(t,e,i){if(Dl(t)&&!i){let n=di(t.index,e);return new Gi(n,n)}else if(t.type&47){let n=e[An];return new Gi(n,e)}return null}var tv=class{constructor(){}supports(e){return y0(e)}create(e){return new nv(e)}},W$=(t,e)=>e,nv=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||W$}forEachItem(e){let i;for(i=this._itHead;i!==null;i=i._next)e(i)}forEachOperation(e){let i=this._itHead,n=this._removalsHead,r=0,s=null;for(;i||n;){let o=!n||i&&i.currentIndex<sw(n,r,s)?i:n,a=sw(o,r,s),c=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(i=i._next,o.previousIndex==null)r++;else{s||(s=[]);let u=a-r,l=c-r;if(u!=l){for(let h=0;h<u;h++){let g=h<s.length?s[h]:s[h]=0,y=g+h;l<=y&&y<u&&(s[h]=g+1)}let f=o.previousIndex;s[f]=l-u}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let i;for(i=this._previousItHead;i!==null;i=i._nextPrevious)e(i)}forEachAddedItem(e){let i;for(i=this._additionsHead;i!==null;i=i._nextAdded)e(i)}forEachMovedItem(e){let i;for(i=this._movesHead;i!==null;i=i._nextMoved)e(i)}forEachRemovedItem(e){let i;for(i=this._removalsHead;i!==null;i=i._nextRemoved)e(i)}forEachIdentityChange(e){let i;for(i=this._identityChangesHead;i!==null;i=i._nextIdentityChange)e(i)}diff(e){if(e==null&&(e=[]),!y0(e))throw new j(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i=this._itHead,n=!1,r,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),i===null||!Object.is(i.trackById,o)?(i=this._mismatch(i,s,o,a),n=!0):(n&&(i=this._verifyReinsertion(i,s,o,a)),Object.is(i.item,s)||this._addIdentityChange(i,s)),i=i._next}else r=0,S1(e,a=>{o=this._trackByFn(r,a),i===null||!Object.is(i.trackById,o)?(i=this._mismatch(i,a,o,r),n=!0):(n&&(i=this._verifyReinsertion(i,a,o,r)),Object.is(i.item,a)||this._addIdentityChange(i,a)),i=i._next,r++}),this.length=r;return this._truncate(i),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,i,n,r){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(n,null),e!==null?(Object.is(e.item,i)||this._addIdentityChange(e,i),this._reinsertAfter(e,s,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(n,r),e!==null?(Object.is(e.item,i)||this._addIdentityChange(e,i),this._moveAfter(e,s,r)):e=this._addAfter(new rv(i,n),s,r)),e}_verifyReinsertion(e,i,n,r){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(n,null);return s!==null?e=this._reinsertAfter(s,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let i=e._next;this._addToRemovals(this._unlink(e)),e=i}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,i,n){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,s=e._nextRemoved;return r===null?this._removalsHead=s:r._nextRemoved=s,s===null?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(e,i,n),this._addToMoves(e,n),e}_moveAfter(e,i,n){return this._unlink(e),this._insertAfter(e,i,n),this._addToMoves(e,n),e}_addAfter(e,i,n){return this._insertAfter(e,i,n),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,i,n){let r=i===null?this._itHead:i._next;return e._next=r,e._prev=i,r===null?this._itTail=e:r._prev=e,i===null?this._itHead=e:i._next=e,this._linkedRecords===null&&(this._linkedRecords=new ml),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let i=e._prev,n=e._next;return i===null?this._itHead=n:i._next=n,n===null?this._itTail=i:n._prev=i,e}_addToMoves(e,i){return e.previousIndex===i||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new ml),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,i){return e.item=i,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},rv=class{constructor(e,i){this.item=e,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},iv=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,i){let n;for(n=this._head;n!==null;n=n._nextDup)if((i===null||i<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}remove(e){let i=e._prevDup,n=e._nextDup;return i===null?this._head=n:i._nextDup=n,n===null?this._tail=i:n._prevDup=i,this._head===null}},ml=class{constructor(){this.map=new Map}put(e){let i=e.trackById,n=this.map.get(i);n||(n=new iv,this.map.set(i,n)),n.add(e)}get(e,i){let n=e,r=this.map.get(n);return r?r.get(e,i):null}remove(e){let i=e.trackById;return this.map.get(i).remove(e)&&this.map.delete(i),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function sw(t,e,i){let n=t.previousIndex;if(n===null)return n;let r=0;return i&&n<i.length&&(r=i[n]),n+e+r}var sv=class{constructor(){}supports(e){return e instanceof Map||Kv(e)}create(){return new ov}},ov=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let i;for(i=this._mapHead;i!==null;i=i._next)e(i)}forEachPreviousItem(e){let i;for(i=this._previousMapHead;i!==null;i=i._nextPrevious)e(i)}forEachChangedItem(e){let i;for(i=this._changesHead;i!==null;i=i._nextChanged)e(i)}forEachAddedItem(e){let i;for(i=this._additionsHead;i!==null;i=i._nextAdded)e(i)}forEachRemovedItem(e){let i;for(i=this._removalsHead;i!==null;i=i._nextRemoved)e(i)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||Kv(e)))throw new j(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(e,(n,r)=>{if(i&&i.key===r)this._maybeAddToChanges(i,n),this._appendAfter=i,i=i._next;else{let s=this._getOrCreateRecordForKey(r,n);i=this._insertBeforeOrAppend(i,s)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let n=i;n!==null;n=n._nextRemoved)n===this._mapHead&&(this._mapHead=null),this._records.delete(n.key),n._nextRemoved=n._next,n.previousValue=n.currentValue,n.currentValue=null,n._prev=null,n._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,i){if(e){let n=e._prev;return i._next=e,i._prev=n,e._prev=i,n&&(n._next=i),e===this._mapHead&&(this._mapHead=i),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(e,i){if(this._records.has(e)){let r=this._records.get(e);this._maybeAddToChanges(r,i);let s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}let n=new av(e);return this._records.set(e,n),n.currentValue=i,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,i){Object.is(i,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=i,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,i){e instanceof Map?e.forEach(i):Object.keys(e).forEach(n=>i(e[n],n))}},av=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function ow(){return new ay([new tv])}var ay=(()=>{let e=class e{constructor(n){this.factories=n}static create(n,r){if(r!=null){let s=r.factories.slice();n=n.concat(s)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||ow()),deps:[[e,new Cl,new ln]]}}find(n){let r=this.factories.find(s=>s.supports(n));if(r!=null)return r;throw new j(901,!1)}};e.\u0275prov=m({token:e,providedIn:"root",factory:ow});let t=e;return t})();function aw(){return new cy([new sv])}var cy=(()=>{let e=class e{constructor(n){this.factories=n}static create(n,r){if(r){let s=r.factories.slice();n=n.concat(s)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||aw()),deps:[[e,new Cl,new ln]]}}find(n){let r=this.factories.find(s=>s.supports(n));if(r)return r;throw new j(901,!1)}};e.\u0275prov=m({token:e,providedIn:"root",factory:aw});let t=e;return t})();var eA=oy(null,"core",[]),tA=(()=>{let e=class e{constructor(n){}};e.\u0275fac=function(r){return new(r||e)(d(Ji))},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})();function xa(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Wl(t,e){Xs("NgSignals");let i=lb(t);return e?.equal&&(i[br].equal=e.equal),i}function ql(t){let e=ve(null);try{return t()}finally{ve(e)}}function nA(t){let e=ai(t);if(!e)return null;let i=new Gs(e);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var pA=null;function hi(){return pA}function gA(t){pA??=t}var nd=class{};var _e=new S(""),Sy=(()=>{let e=class e{historyGo(n){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:()=>C(q$),providedIn:"platform"});let t=e;return t})(),od=new S(""),q$=(()=>{let e=class e extends Sy{constructor(){super(),this._doc=C(_e),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return hi().getBaseHref(this._doc)}onPopState(n){let r=hi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=hi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,s){this._history.pushState(n,r,s)}replaceState(n,r,s){this._history.replaceState(n,r,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function Iy(t,e){if(t.length==0)return e;if(e.length==0)return t;let i=0;return t.endsWith("/")&&i++,e.startsWith("/")&&i++,i==2?t+e.substring(1):i==1?t+e:t+"/"+e}function rA(t){let e=t.match(/#|\?|$/),i=e&&e.index||t.length,n=i-(t[i-1]==="/"?1:0);return t.slice(0,n)+t.slice(i)}function Lr(t){return t&&t[0]!=="?"?"?"+t:t}var Ur=(()=>{let e=class e{historyGo(n){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:()=>C(Dy),providedIn:"root"});let t=e;return t})(),mA=new S(""),Dy=(()=>{let e=class e extends Ur{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??C(_e).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Iy(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Lr(this._platformLocation.search),s=this._platformLocation.hash;return s&&n?`${r}${s}`:r}pushState(n,r,s,o){let a=this.prepareExternalUrl(s+Lr(o));this._platformLocation.pushState(n,r,a)}replaceState(n,r,s,o){let a=this.prepareExternalUrl(s+Lr(o));this._platformLocation.replaceState(n,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}};e.\u0275fac=function(r){return new(r||e)(d(Sy),d(mA,8))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),vA=(()=>{let e=class e extends Ur{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=Iy(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,s,o){let a=this.prepareExternalUrl(s+Lr(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(n,r,a)}replaceState(n,r,s,o){let a=this.prepareExternalUrl(s+Lr(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}};e.\u0275fac=function(r){return new(r||e)(d(Sy),d(mA,8))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),ar=(()=>{let e=class e{constructor(n){this._subject=new pt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=Z$(rA(iA(r))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Lr(r))}normalize(n){return e.stripTrailingSlash(K$(this._basePath,iA(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",s=null){this._locationStrategy.pushState(s,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Lr(r)),s)}replaceState(n,r="",s=null){this._locationStrategy.replaceState(s,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Lr(r)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(s=>s(n,r))}subscribe(n,r,s){return this._subject.subscribe({next:n,error:r,complete:s})}};e.normalizeQueryParams=Lr,e.joinWithSlash=Iy,e.stripTrailingSlash=rA,e.\u0275fac=function(r){return new(r||e)(d(Ur))},e.\u0275prov=m({token:e,factory:()=>Y$(),providedIn:"root"});let t=e;return t})();function Y$(){return new ar(d(Ur))}function K$(t,e){if(!t||!e.startsWith(t))return e;let i=e.substring(t.length);return i===""||["/",";","?","#"].includes(i[0])?i:e}function iA(t){return t.replace(/\/index.html$/,"")}function Z$(t){if(new RegExp("^(https?:)?//").test(t)){let[,i]=t.split(/\/\/[^\/]+/);return i}return t}var yA={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},by=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(by||{});var Ft=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(Ft||{}),Re=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(Re||{}),Zt=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(Zt||{}),wt={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function ad(t){return Ht(t)[Be.LocaleId]}function Q$(t,e,i){let n=Ht(t),r=[n[Be.DayPeriodsFormat],n[Be.DayPeriodsStandalone]],s=hn(r,e);return hn(s,i)}function J$(t,e,i){let n=Ht(t),r=[n[Be.DaysFormat],n[Be.DaysStandalone]],s=hn(r,e);return hn(s,i)}function X$(t,e,i){let n=Ht(t),r=[n[Be.MonthsFormat],n[Be.MonthsStandalone]],s=hn(r,e);return hn(s,i)}function eB(t,e){let n=Ht(t)[Be.Eras];return hn(n,e)}function Yl(t,e){let i=Ht(t);return hn(i[Be.DateFormat],e)}function Kl(t,e){let i=Ht(t);return hn(i[Be.TimeFormat],e)}function Zl(t,e){let n=Ht(t)[Be.DateTimeFormat];return hn(n,e)}function or(t,e){let i=Ht(t),n=i[Be.NumberSymbols][e];if(typeof n>"u"){if(e===wt.CurrencyDecimal)return i[Be.NumberSymbols][wt.Decimal];if(e===wt.CurrencyGroup)return i[Be.NumberSymbols][wt.Group]}return n}function EA(t,e){return Ht(t)[Be.NumberFormats][e]}function tB(t){return Ht(t)[Be.Currencies]}function CA(t){if(!t[Be.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Be.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function nB(t){let e=Ht(t);return CA(e),(e[Be.ExtraData][2]||[]).map(n=>typeof n=="string"?uy(n):[uy(n[0]),uy(n[1])])}function rB(t,e,i){let n=Ht(t);CA(n);let r=[n[Be.ExtraData][0],n[Be.ExtraData][1]],s=hn(r,e)||[];return hn(s,i)||[]}function hn(t,e){for(let i=e;i>-1;i--)if(typeof t[i]<"u")return t[i];throw new Error("Locale data API: locale data undefined")}function uy(t){let[e,i]=t.split(":");return{hours:+e,minutes:+i}}function kse(t,e,i="en"){let n=tB(i)[t]||yA[t]||[],r=n[1];return e==="narrow"&&typeof r=="string"?r:n[0]||t}var iB=2;function sB(t){let e,i=yA[t];return i&&(e=i[2]),typeof e=="number"?e:iB}var oB=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ql={},aB=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,kr=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(kr||{}),Ie=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(Ie||{}),Se=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(Se||{});function cB(t,e,i,n){let r=vB(t);e=_r(i,e)||e;let o=[],a;for(;e;)if(a=aB.exec(e),a){o=o.concat(a.slice(1));let l=o.pop();if(!l)break;e=l}else{o.push(e);break}let c=r.getTimezoneOffset();n&&(c=IA(n,c),r=mB(r,n,!0));let u="";return o.forEach(l=>{let f=pB(l);u+=f?f(r,i,c):l==="''"?"'":l.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function rd(t,e,i){let n=new Date(0);return n.setFullYear(t,e,i),n.setHours(0,0,0),n}function _r(t,e){let i=ad(t);if(Ql[i]??={},Ql[i][e])return Ql[i][e];let n="";switch(e){case"shortDate":n=Yl(t,Zt.Short);break;case"mediumDate":n=Yl(t,Zt.Medium);break;case"longDate":n=Yl(t,Zt.Long);break;case"fullDate":n=Yl(t,Zt.Full);break;case"shortTime":n=Kl(t,Zt.Short);break;case"mediumTime":n=Kl(t,Zt.Medium);break;case"longTime":n=Kl(t,Zt.Long);break;case"fullTime":n=Kl(t,Zt.Full);break;case"short":let r=_r(t,"shortTime"),s=_r(t,"shortDate");n=Jl(Zl(t,Zt.Short),[r,s]);break;case"medium":let o=_r(t,"mediumTime"),a=_r(t,"mediumDate");n=Jl(Zl(t,Zt.Medium),[o,a]);break;case"long":let c=_r(t,"longTime"),u=_r(t,"longDate");n=Jl(Zl(t,Zt.Long),[c,u]);break;case"full":let l=_r(t,"fullTime"),f=_r(t,"fullDate");n=Jl(Zl(t,Zt.Full),[l,f]);break}return n&&(Ql[i][e]=n),n}function Jl(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(i,n){return e!=null&&n in e?e[n]:i})),t}function Nn(t,e,i="-",n,r){let s="";(t<0||r&&t<=0)&&(r?t=-t+1:(t=-t,s=i));let o=String(t);for(;o.length<e;)o="0"+o;return n&&(o=o.slice(o.length-e)),s+o}function uB(t,e){return Nn(t,3).substring(0,e)}function Ke(t,e,i=0,n=!1,r=!1){return function(s,o){let a=lB(t,s);if((i>0||a>-i)&&(a+=i),t===Ie.Hours)a===0&&i===-12&&(a=12);else if(t===Ie.FractionalSeconds)return uB(a,e);let c=or(o,wt.MinusSign);return Nn(a,e,c,n,r)}}function lB(t,e){switch(t){case Ie.FullYear:return e.getFullYear();case Ie.Month:return e.getMonth();case Ie.Date:return e.getDate();case Ie.Hours:return e.getHours();case Ie.Minutes:return e.getMinutes();case Ie.Seconds:return e.getSeconds();case Ie.FractionalSeconds:return e.getMilliseconds();case Ie.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function xe(t,e,i=Ft.Format,n=!1){return function(r,s){return dB(r,s,t,e,i,n)}}function dB(t,e,i,n,r,s){switch(i){case Se.Months:return X$(e,r,n)[t.getMonth()];case Se.Days:return J$(e,r,n)[t.getDay()];case Se.DayPeriods:let o=t.getHours(),a=t.getMinutes();if(s){let u=nB(e),l=rB(e,r,n),f=u.findIndex(h=>{if(Array.isArray(h)){let[g,y]=h,b=o>=g.hours&&a>=g.minutes,w=o<y.hours||o===y.hours&&a<y.minutes;if(g.hours<y.hours){if(b&&w)return!0}else if(b||w)return!0}else if(h.hours===o&&h.minutes===a)return!0;return!1});if(f!==-1)return l[f]}return Q$(e,r,n)[o<12?0:1];case Se.Eras:return eB(e,n)[t.getFullYear()<=0?0:1];default:let c=i;throw new Error(`unexpected translation type ${c}`)}}function Xl(t){return function(e,i,n){let r=-1*n,s=or(i,wt.MinusSign),o=r>0?Math.floor(r/60):Math.ceil(r/60);switch(t){case kr.Short:return(r>=0?"+":"")+Nn(o,2,s)+Nn(Math.abs(r%60),2,s);case kr.ShortGMT:return"GMT"+(r>=0?"+":"")+Nn(o,1,s);case kr.Long:return"GMT"+(r>=0?"+":"")+Nn(o,2,s)+":"+Nn(Math.abs(r%60),2,s);case kr.Extended:return n===0?"Z":(r>=0?"+":"")+Nn(o,2,s)+":"+Nn(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}var fB=0,td=4;function hB(t){let e=rd(t,fB,1).getDay();return rd(t,0,1+(e<=td?td:td+7)-e)}function SA(t){let e=t.getDay(),i=e===0?-3:td-e;return rd(t.getFullYear(),t.getMonth(),t.getDate()+i)}function ly(t,e=!1){return function(i,n){let r;if(e){let s=new Date(i.getFullYear(),i.getMonth(),1).getDay()-1,o=i.getDate();r=1+Math.floor((o+s)/7)}else{let s=SA(i),o=hB(s.getFullYear()),a=s.getTime()-o.getTime();r=1+Math.round(a/6048e5)}return Nn(r,t,or(n,wt.MinusSign))}}function ed(t,e=!1){return function(i,n){let s=SA(i).getFullYear();return Nn(s,t,or(n,wt.MinusSign),e)}}var dy={};function pB(t){if(dy[t])return dy[t];let e;switch(t){case"G":case"GG":case"GGG":e=xe(Se.Eras,Re.Abbreviated);break;case"GGGG":e=xe(Se.Eras,Re.Wide);break;case"GGGGG":e=xe(Se.Eras,Re.Narrow);break;case"y":e=Ke(Ie.FullYear,1,0,!1,!0);break;case"yy":e=Ke(Ie.FullYear,2,0,!0,!0);break;case"yyy":e=Ke(Ie.FullYear,3,0,!1,!0);break;case"yyyy":e=Ke(Ie.FullYear,4,0,!1,!0);break;case"Y":e=ed(1);break;case"YY":e=ed(2,!0);break;case"YYY":e=ed(3);break;case"YYYY":e=ed(4);break;case"M":case"L":e=Ke(Ie.Month,1,1);break;case"MM":case"LL":e=Ke(Ie.Month,2,1);break;case"MMM":e=xe(Se.Months,Re.Abbreviated);break;case"MMMM":e=xe(Se.Months,Re.Wide);break;case"MMMMM":e=xe(Se.Months,Re.Narrow);break;case"LLL":e=xe(Se.Months,Re.Abbreviated,Ft.Standalone);break;case"LLLL":e=xe(Se.Months,Re.Wide,Ft.Standalone);break;case"LLLLL":e=xe(Se.Months,Re.Narrow,Ft.Standalone);break;case"w":e=ly(1);break;case"ww":e=ly(2);break;case"W":e=ly(1,!0);break;case"d":e=Ke(Ie.Date,1);break;case"dd":e=Ke(Ie.Date,2);break;case"c":case"cc":e=Ke(Ie.Day,1);break;case"ccc":e=xe(Se.Days,Re.Abbreviated,Ft.Standalone);break;case"cccc":e=xe(Se.Days,Re.Wide,Ft.Standalone);break;case"ccccc":e=xe(Se.Days,Re.Narrow,Ft.Standalone);break;case"cccccc":e=xe(Se.Days,Re.Short,Ft.Standalone);break;case"E":case"EE":case"EEE":e=xe(Se.Days,Re.Abbreviated);break;case"EEEE":e=xe(Se.Days,Re.Wide);break;case"EEEEE":e=xe(Se.Days,Re.Narrow);break;case"EEEEEE":e=xe(Se.Days,Re.Short);break;case"a":case"aa":case"aaa":e=xe(Se.DayPeriods,Re.Abbreviated);break;case"aaaa":e=xe(Se.DayPeriods,Re.Wide);break;case"aaaaa":e=xe(Se.DayPeriods,Re.Narrow);break;case"b":case"bb":case"bbb":e=xe(Se.DayPeriods,Re.Abbreviated,Ft.Standalone,!0);break;case"bbbb":e=xe(Se.DayPeriods,Re.Wide,Ft.Standalone,!0);break;case"bbbbb":e=xe(Se.DayPeriods,Re.Narrow,Ft.Standalone,!0);break;case"B":case"BB":case"BBB":e=xe(Se.DayPeriods,Re.Abbreviated,Ft.Format,!0);break;case"BBBB":e=xe(Se.DayPeriods,Re.Wide,Ft.Format,!0);break;case"BBBBB":e=xe(Se.DayPeriods,Re.Narrow,Ft.Format,!0);break;case"h":e=Ke(Ie.Hours,1,-12);break;case"hh":e=Ke(Ie.Hours,2,-12);break;case"H":e=Ke(Ie.Hours,1);break;case"HH":e=Ke(Ie.Hours,2);break;case"m":e=Ke(Ie.Minutes,1);break;case"mm":e=Ke(Ie.Minutes,2);break;case"s":e=Ke(Ie.Seconds,1);break;case"ss":e=Ke(Ie.Seconds,2);break;case"S":e=Ke(Ie.FractionalSeconds,1);break;case"SS":e=Ke(Ie.FractionalSeconds,2);break;case"SSS":e=Ke(Ie.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Xl(kr.Short);break;case"ZZZZZ":e=Xl(kr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Xl(kr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Xl(kr.Long);break;default:return null}return dy[t]=e,e}function IA(t,e){t=t.replace(/:/g,"");let i=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(i)?e:i}function gB(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function mB(t,e,i){let n=i?-1:1,r=t.getTimezoneOffset(),s=IA(e,r);return gB(t,n*(s-r))}function vB(t){if(sA(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[r,s=1,o=1]=t.split("-").map(a=>+a);return rd(r,s-1,o)}let i=parseFloat(t);if(!isNaN(t-i))return new Date(i);let n;if(n=t.match(oB))return yB(n)}let e=new Date(t);if(!sA(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function yB(t){let e=new Date(0),i=0,n=0,r=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(i=Number(t[9]+t[10]),n=Number(t[9]+t[11])),r.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let o=Number(t[4]||0)-i,a=Number(t[5]||0)-n,c=Number(t[6]||0),u=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return s.call(e,o,a,c,u),e}function sA(t){return t instanceof Date&&!isNaN(t.valueOf())}var EB=/^(\d+)?\.((\d+)(-(\d+))?)?$/,oA=22,id=".",Na="0",CB=";",SB=",",fy="#",aA="\xA4";function DA(t,e,i,n,r,s,o=!1){let a="",c=!1;if(!isFinite(t))a=or(i,wt.Infinity);else{let u=bB(t);o&&(u=DB(u));let l=e.minInt,f=e.minFrac,h=e.maxFrac;if(s){let k=s.match(EB);if(k===null)throw new Error(`${s} is not a valid digit info`);let U=k[1],H=k[3],te=k[5];U!=null&&(l=hy(U)),H!=null&&(f=hy(H)),te!=null?h=hy(te):H!=null&&f>h&&(h=f)}wB(u,f,h);let g=u.digits,y=u.integerLen,b=u.exponent,w=[];for(c=g.every(k=>!k);y<l;y++)g.unshift(0);for(;y<0;y++)g.unshift(0);y>0?w=g.splice(y,g.length):(w=g,g=[0]);let R=[];for(g.length>=e.lgSize&&R.unshift(g.splice(-e.lgSize,g.length).join(""));g.length>e.gSize;)R.unshift(g.splice(-e.gSize,g.length).join(""));g.length&&R.unshift(g.join("")),a=R.join(or(i,n)),w.length&&(a+=or(i,r)+w.join("")),b&&(a+=or(i,wt.Exponential)+"+"+b)}return t<0&&!c?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function Use(t,e,i,n,r){let s=EA(e,by.Currency),o=bA(s,or(e,wt.MinusSign));return o.minFrac=sB(n),o.maxFrac=o.minFrac,DA(t,o,e,wt.CurrencyGroup,wt.CurrencyDecimal,r).replace(aA,i).replace(aA,"").trim()}function IB(t,e,i){let n=EA(e,by.Decimal),r=bA(n,or(e,wt.MinusSign));return DA(t,r,e,wt.Group,wt.Decimal,i)}function bA(t,e="-"){let i={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},n=t.split(CB),r=n[0],s=n[1],o=r.indexOf(id)!==-1?r.split(id):[r.substring(0,r.lastIndexOf(Na)+1),r.substring(r.lastIndexOf(Na)+1)],a=o[0],c=o[1]||"";i.posPre=a.substring(0,a.indexOf(fy));for(let l=0;l<c.length;l++){let f=c.charAt(l);f===Na?i.minFrac=i.maxFrac=l+1:f===fy?i.maxFrac=l+1:i.posSuf+=f}let u=a.split(SB);if(i.gSize=u[1]?u[1].length:0,i.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,s){let l=r.length-i.posPre.length-i.posSuf.length,f=s.indexOf(fy);i.negPre=s.substring(0,f).replace(/'/g,""),i.negSuf=s.slice(f+l).replace(/'/g,"")}else i.negPre=e+i.posPre,i.negSuf=i.posSuf;return i}function DB(t){if(t.digits[0]===0)return t;let e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function bB(t){let e=Math.abs(t)+"",i=0,n,r,s,o,a;for((r=e.indexOf(id))>-1&&(e=e.replace(id,"")),(s=e.search(/e/i))>0?(r<0&&(r=s),r+=+e.slice(s+1),e=e.substring(0,s)):r<0&&(r=e.length),s=0;e.charAt(s)===Na;s++);if(s===(a=e.length))n=[0],r=1;else{for(a--;e.charAt(a)===Na;)a--;for(r-=s,n=[],o=0;s<=a;s++,o++)n[o]=Number(e.charAt(s))}return r>oA&&(n=n.splice(0,oA-1),i=r-1,r=1),{digits:n,exponent:i,integerLen:r}}function wB(t,e,i){if(e>i)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${i}).`);let n=t.digits,r=n.length-t.integerLen,s=Math.min(Math.max(e,r),i),o=s+t.integerLen,a=n[o];if(o>0){n.splice(Math.max(t.integerLen,o));for(let f=o;f<n.length;f++)n[f]=0}else{r=Math.max(0,r),t.integerLen=1,n.length=Math.max(1,o=s+1),n[0]=0;for(let f=1;f<o;f++)n[f]=0}if(a>=5)if(o-1<0){for(let f=0;f>o;f--)n.unshift(0),t.integerLen++;n.unshift(1),t.integerLen++}else n[o-1]++;for(;r<Math.max(0,s);r++)n.push(0);let c=s!==0,u=e+t.integerLen,l=n.reduceRight(function(f,h,g,y){return h=h+f,y[g]=h<10?h:h-10,c&&(y[g]===0&&g>=u?y.pop():c=!1),h>=10?1:0},0);l&&(n.unshift(l),t.integerLen++)}function hy(t){let e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function cd(t,e){e=encodeURIComponent(e);for(let i of t.split(";")){let n=i.indexOf("="),[r,s]=n==-1?[i,""]:[i.slice(0,n),i.slice(n+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}var py=/\s+/,cA=[],jse=(()=>{let e=class e{constructor(n,r){this._ngEl=n,this._renderer=r,this.initialClasses=cA,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split(py):cA}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(py):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let s=this.stateMap.get(n);s!==void 0?(s.enabled!==r&&(s.changed=!0,s.enabled=r),s.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],s=n[1];s.changed?(this._toggleClass(r,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),s.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(py).forEach(s=>{r?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}};e.\u0275fac=function(r){return new(r||e)(X(ir),X(Js))},e.\u0275dir=Ot({type:e,selectors:[["","ngClass",""]],inputs:{klass:[cn.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})(),$se=(()=>{let e=class e{constructor(n){this._viewContainerRef=n,this.ngComponentOutlet=null,this._inputsUsed=new Map}_needToReCreateNgModuleInstance(n){return n.ngComponentOutletNgModule!==void 0||n.ngComponentOutletNgModuleFactory!==void 0}_needToReCreateComponentInstance(n){return n.ngComponentOutlet!==void 0||n.ngComponentOutletContent!==void 0||n.ngComponentOutletInjector!==void 0||this._needToReCreateNgModuleInstance(n)}ngOnChanges(n){if(this._needToReCreateComponentInstance(n)&&(this._viewContainerRef.clear(),this._inputsUsed.clear(),this._componentRef=void 0,this.ngComponentOutlet)){let r=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;this._needToReCreateNgModuleInstance(n)&&(this._moduleRef?.destroy(),this.ngComponentOutletNgModule?this._moduleRef=v0(this.ngComponentOutletNgModule,uA(r)):this.ngComponentOutletNgModuleFactory?this._moduleRef=this.ngComponentOutletNgModuleFactory.create(uA(r)):this._moduleRef=void 0),this._componentRef=this._viewContainerRef.createComponent(this.ngComponentOutlet,{injector:r,ngModuleRef:this._moduleRef,projectableNodes:this.ngComponentOutletContent})}}ngDoCheck(){if(this._componentRef){if(this.ngComponentOutletInputs)for(let n of Object.keys(this.ngComponentOutletInputs))this._inputsUsed.set(n,!0);this._applyInputStateDiff(this._componentRef)}}ngOnDestroy(){this._moduleRef?.destroy()}_applyInputStateDiff(n){for(let[r,s]of this._inputsUsed)s?(n.setInput(r,this.ngComponentOutletInputs[r]),this._inputsUsed.set(r,!1)):(n.setInput(r,void 0),this._inputsUsed.delete(r))}};e.\u0275fac=function(r){return new(r||e)(X(Vt))},e.\u0275dir=Ot({type:e,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInputs:"ngComponentOutletInputs",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModule:"ngComponentOutletNgModule",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},standalone:!0,features:[li]});let t=e;return t})();function uA(t){return t.get(Rr).injector}var gy=class{constructor(e,i,n,r){this.$implicit=e,this.ngForOf=i,this.index=n,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Bse=(()=>{let e=class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,s){this._viewContainer=n,this._template=r,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((s,o,a)=>{if(s.previousIndex==null)r.createEmbeddedView(this._template,new gy(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)r.remove(o===null?void 0:o);else if(o!==null){let c=r.get(o);r.move(c,a),lA(c,s)}});for(let s=0,o=r.length;s<o;s++){let c=r.get(s).context;c.index=s,c.count=o,c.ngForOf=this._ngForOf}n.forEachIdentityChange(s=>{let o=r.get(s.currentIndex);lA(o,s)})}static ngTemplateContextGuard(n,r){return!0}};e.\u0275fac=function(r){return new(r||e)(X(Vt),X(Rn),X(ay))},e.\u0275dir=Ot({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function lA(t,e){t.context.$implicit=e.item}var Vse=(()=>{let e=class e{constructor(n,r){this._viewContainer=n,this._context=new my,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){dA("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){dA("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}};e.\u0275fac=function(r){return new(r||e)(X(Vt),X(Rn))},e.\u0275dir=Ot({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),my=class{constructor(){this.$implicit=null,this.ngIf=null}};function dA(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Nt(e)}'.`)}var TB=!0,sd=class{constructor(e,i){this._viewContainerRef=e,this._templateRef=i,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}},wA=(()=>{let e=class e{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(n){this._ngSwitch=n,this._caseCount===0&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(n){this._defaultViews.push(n)}_matchCase(n){let r=TB?n===this._ngSwitch:n==this._ngSwitch;return this._lastCasesMatched||=r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(n){if(this._defaultViews.length>0&&n!==this._defaultUsed){this._defaultUsed=n;for(let r of this._defaultViews)r.enforceState(n)}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Ot({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0});let t=e;return t})(),Hse=(()=>{let e=class e{constructor(n,r,s){this.ngSwitch=s,s._addCase(),this._view=new sd(n,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}};e.\u0275fac=function(r){return new(r||e)(X(Vt),X(Rn),X(wA,9))},e.\u0275dir=Ot({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0});let t=e;return t})(),zse=(()=>{let e=class e{constructor(n,r,s){s._addDefault(new sd(n,r))}};e.\u0275fac=function(r){return new(r||e)(X(Vt),X(Rn),X(wA,9))},e.\u0275dir=Ot({type:e,selectors:[["","ngSwitchDefault",""]],standalone:!0});let t=e;return t})();var Gse=(()=>{let e=class e{constructor(n){this._viewContainerRef=n,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(n){if(this._shouldRecreateView(n)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let s=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,s,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(n){return!!n.ngTemplateOutlet||!!n.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(n,r,s)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,s):!1,get:(n,r,s)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,s)}})}};e.\u0275fac=function(r){return new(r||e)(X(Vt))},e.\u0275dir=Ot({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[li]});let t=e;return t})();function Oa(t,e){return new j(2100,!1)}var vy=class{createSubscription(e,i){return ql(()=>e.subscribe({next:i,error:n=>{throw n}}))}dispose(e){ql(()=>e.unsubscribe())}},yy=class{createSubscription(e,i){return e.then(i,n=>{throw n})}dispose(e){}},AB=new yy,RB=new vy,Wse=(()=>{let e=class e{constructor(n){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(eo(n))return AB;if(sy(n))return RB;throw Oa(e,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}};e.\u0275fac=function(r){return new(r||e)(X(Pr,16))},e.\u0275pipe=Yt({name:"async",type:e,pure:!1,standalone:!0});let t=e;return t})(),qse=(()=>{let e=class e{transform(n){if(n==null)return null;if(typeof n!="string")throw Oa(e,n);return n.toLowerCase()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275pipe=Yt({name:"lowercase",type:e,pure:!0,standalone:!0});let t=e;return t})();var MB="mediumDate",xB=new S(""),NB=new S(""),TA=(()=>{let e=class e{constructor(n,r,s){this.locale=n,this.defaultTimezone=r,this.defaultOptions=s}transform(n,r,s,o){if(n==null||n===""||n!==n)return null;try{let a=r??this.defaultOptions?.dateFormat??MB,c=s??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return cB(n,a,o||this.locale,c)}catch(a){throw Oa(e,a.message)}}};e.\u0275fac=function(r){return new(r||e)(X(Ma,16),X(xB,24),X(NB,24))},e.\u0275pipe=Yt({name:"date",type:e,pure:!0,standalone:!0});let t=e;return t})();var Yse=(()=>{let e=class e{transform(n){return JSON.stringify(n,null,2)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275pipe=Yt({name:"json",type:e,pure:!1,standalone:!0});let t=e;return t})();function OB(t,e){return{key:t,value:e}}var Kse=(()=>{let e=class e{constructor(n){this.differs=n,this.keyValues=[],this.compareFn=fA}transform(n,r=fA){if(!n||!(n instanceof Map)&&typeof n!="object")return null;this.differ??=this.differs.find(n).create();let s=this.differ.diff(n),o=r!==this.compareFn;return s&&(this.keyValues=[],s.forEachItem(a=>{this.keyValues.push(OB(a.key,a.currentValue))})),(s||o)&&(this.keyValues.sort(r),this.compareFn=r),this.keyValues}};e.\u0275fac=function(r){return new(r||e)(X(cy,16))},e.\u0275pipe=Yt({name:"keyvalue",type:e,pure:!1,standalone:!0});let t=e;return t})();function fA(t,e){let i=t.key,n=e.key;if(i===n)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(i===null)return 1;if(n===null)return-1;if(typeof i=="string"&&typeof n=="string")return i<n?-1:1;if(typeof i=="number"&&typeof n=="number")return i-n;if(typeof i=="boolean"&&typeof n=="boolean")return i<n?-1:1;let r=String(i),s=String(n);return r==s?0:r<s?-1:1}var AA=(()=>{let e=class e{constructor(n){this._locale=n}transform(n,r,s){if(!PB(n))return null;s||=this._locale;try{let o=FB(n);return IB(o,s,r)}catch(o){throw Oa(e,o.message)}}};e.\u0275fac=function(r){return new(r||e)(X(Ma,16))},e.\u0275pipe=Yt({name:"number",type:e,pure:!0,standalone:!0});let t=e;return t})();function PB(t){return!(t==null||t===""||t!==t)}function FB(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new Error(`${t} is not a number`);return t}var Zse=(()=>{let e=class e{transform(n,r,s){if(n==null)return null;if(!this.supports(n))throw Oa(e,n);return n.slice(r,s)}supports(n){return typeof n=="string"||Array.isArray(n)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275pipe=Yt({name:"slice",type:e,pure:!1,standalone:!0});let t=e;return t})();var Ze=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})(),wy="browser",_B="server";function On(t){return t===wy}function Xi(t){return t===_B}var RA=(()=>{let e=class e{};e.\u0275prov=m({token:e,providedIn:"root",factory:()=>On(C($e))?new Ey(C(_e),window):new Cy});let t=e;return t})(),Ey=class{constructor(e,i){this.document=e,this.window=i,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let i=LB(this.document,e);i&&(this.scrollToElement(i),i.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let i=e.getBoundingClientRect(),n=i.left+this.window.pageXOffset,r=i.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(n-s[0],r-s[1])}};function LB(t,e){let i=t.getElementById(e)||t.getElementsByName(e)[0];if(i)return i;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),r=n.currentNode;for(;r;){let s=r.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}r=n.nextNode()}}return null}var Cy=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},ro=class{};var Fa=class{},_a=class{},le=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(i=>{let n=i.indexOf(":");if(n>0){let r=i.slice(0,n),s=r.toLowerCase(),o=i.slice(n+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((i,n)=>{this.setHeaderEntries(n,i)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([i,n])=>{this.setHeaderEntries(i,n)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let i=this.headers.get(e.toLowerCase());return i&&i.length>0?i[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,i){return this.clone({name:e,value:i,op:"a"})}set(e,i){return this.clone({name:e,value:i,op:"s"})}delete(e,i){return this.clone({name:e,value:i,op:"d"})}maybeSetNormalizedName(e,i){this.normalizedNames.has(i)||this.normalizedNames.set(i,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(i=>{this.headers.set(i,e.headers.get(i)),this.normalizedNames.set(i,e.normalizedNames.get(i))})}clone(e){let i=new t;return i.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,i.lazyUpdate=(this.lazyUpdate||[]).concat([e]),i}applyUpdate(e){let i=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(e.name,i);let r=(e.op==="a"?this.headers.get(i):void 0)||[];r.push(...n),this.headers.set(i,r);break;case"d":let s=e.value;if(!s)this.headers.delete(i),this.normalizedNames.delete(i);else{let o=this.headers.get(i);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(i),this.normalizedNames.delete(i)):this.headers.set(i,o)}break}}setHeaderEntries(e,i){let n=(Array.isArray(i)?i:[i]).map(s=>s.toString()),r=e.toLowerCase();this.headers.set(r,n),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(i=>e(this.normalizedNames.get(i),this.headers.get(i)))}};var My=class{encodeKey(e){return MA(e)}encodeValue(e){return MA(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function kB(t,e){let i=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{let s=r.indexOf("="),[o,a]=s==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],c=i.get(o)||[];c.push(a),i.set(o,c)}),i}var UB=/%(\d[a-f0-9])/gi,jB={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function MA(t){return encodeURIComponent(t).replace(UB,(e,i)=>jB[i]??e)}function ud(t){return`${t}`}var ze=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new My,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=kB(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(i=>{let n=e.fromObject[i],r=Array.isArray(n)?n.map(ud):[ud(n)];this.map.set(i,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let i=this.map.get(e);return i?i[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,i){return this.clone({param:e,value:i,op:"a"})}appendAll(e){let i=[];return Object.keys(e).forEach(n=>{let r=e[n];Array.isArray(r)?r.forEach(s=>{i.push({param:n,value:s,op:"a"})}):i.push({param:n,value:r,op:"a"})}),this.clone(i)}set(e,i){return this.clone({param:e,value:i,op:"s"})}delete(e,i){return this.clone({param:e,value:i,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let i=this.encoder.encodeKey(e);return this.map.get(e).map(n=>i+"="+this.encoder.encodeValue(n)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let i=new t({encoder:this.encoder});return i.cloneFrom=this.cloneFrom||this,i.updates=(this.updates||[]).concat(e),i}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let i=(e.op==="a"?this.map.get(e.param):void 0)||[];i.push(ud(e.value)),this.map.set(e.param,i);break;case"d":if(e.value!==void 0){let n=this.map.get(e.param)||[],r=n.indexOf(ud(e.value));r!==-1&&n.splice(r,1),n.length>0?this.map.set(e.param,n):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}},La=class{constructor(e){this.defaultValue=e}},io=class{constructor(){this.map=new Map}set(e,i){return this.map.set(e,i),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function $B(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function xA(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function NA(t){return typeof Blob<"u"&&t instanceof Blob}function OA(t){return typeof FormData<"u"&&t instanceof FormData}function BB(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Pa=class t{constructor(e,i,n,r){this.url=i,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if($B(this.method)||r?(this.body=n!==void 0?n:null,s=r):s=n,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new le,this.context??=new io,!this.params)this.params=new ze,this.urlWithParams=i;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=i;else{let a=i.indexOf("?"),c=a===-1?"?":a<i.length-1?"&":"";this.urlWithParams=i+c+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||xA(this.body)||NA(this.body)||OA(this.body)||BB(this.body)?this.body:this.body instanceof ze?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||OA(this.body)?null:NA(this.body)?this.body.type||null:xA(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof ze?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let i=e.method||this.method,n=e.url||this.url,r=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,u=e.headers||this.headers,l=e.params||this.params,f=e.context??this.context;return e.setHeaders!==void 0&&(u=Object.keys(e.setHeaders).reduce((h,g)=>h.set(g,e.setHeaders[g]),u)),e.setParams&&(l=Object.keys(e.setParams).reduce((h,g)=>h.set(g,e.setParams[g]),l)),new t(i,n,o,{params:l,headers:u,context:f,reportProgress:c,responseType:r,withCredentials:a,transferCache:s})}},cr=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(cr||{}),ka=class{constructor(e,i=Ua.Ok,n="OK"){this.headers=e.headers||new le,this.status=e.status!==void 0?e.status:i,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},ld=class t extends ka{constructor(e={}){super(e),this.type=cr.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},es=class t extends ka{constructor(e={}){super(e),this.type=cr.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},zt=class extends ka{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},Ua=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(Ua||{});function Ay(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Le=(()=>{let e=class e{constructor(n){this.handler=n}request(n,r,s={}){let o;if(n instanceof Pa)o=n;else{let u;s.headers instanceof le?u=s.headers:u=new le(s.headers);let l;s.params&&(s.params instanceof ze?l=s.params:l=new ze({fromObject:s.params})),o=new Pa(n,r,s.body!==void 0?s.body:null,{headers:u,context:s.context,params:l,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let a=I(o).pipe(Ue(u=>this.handler.handle(u)));if(n instanceof Pa||s.observe==="events")return a;let c=a.pipe(x(u=>u instanceof es));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return c.pipe(E(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return c.pipe(E(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return c.pipe(E(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return c.pipe(E(u=>u.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new ze().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,s={}){return this.request("PATCH",n,Ay(s,r))}post(n,r,s={}){return this.request("POST",n,Ay(s,r))}put(n,r,s={}){return this.request("PUT",n,Ay(s,r))}};e.\u0275fac=function(r){return new(r||e)(d(Fa))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),VB=/^\)\]\}',?\n/,HB="X-Request-URL";function PA(t){if(t.url)return t.url;let e=HB.toLocaleLowerCase();return t.headers.get(e)}var Ry=(()=>{let e=class e{constructor(){this.fetchImpl=C(xy,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=C(Ce)}handle(n){return new z(r=>{let s=new AbortController;return this.doRequest(n,s.signal,r).then(Ny,o=>r.error(new zt({error:o}))),()=>s.abort()})}doRequest(n,r,s){return nt(this,null,function*(){let o=this.createRequestInit(n),a;try{let y=this.fetchImpl(n.urlWithParams,v({signal:r},o));zB(y),s.next({type:cr.Sent}),a=yield y}catch(y){s.error(new zt({error:y,status:y.status??0,statusText:y.statusText,url:n.urlWithParams,headers:y.headers}));return}let c=new le(a.headers),u=a.statusText,l=PA(a)??n.urlWithParams,f=a.status,h=null;if(n.reportProgress&&s.next(new ld({headers:c,status:f,statusText:u,url:l})),a.body){let y=a.headers.get("content-length"),b=[],w=a.body.getReader(),R=0,k,U,H=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>nt(this,null,function*(){for(;;){let{done:ue,value:fe}=yield w.read();if(ue)break;if(b.push(fe),R+=fe.length,n.reportProgress){U=n.responseType==="text"?(U??"")+(k??=new TextDecoder).decode(fe,{stream:!0}):void 0;let Oe=()=>s.next({type:cr.DownloadProgress,total:y?+y:void 0,loaded:R,partialText:U});H?H.run(Oe):Oe()}}}));let te=this.concatChunks(b,R);try{let ue=a.headers.get("Content-Type")??"";h=this.parseBody(n,te,ue)}catch(ue){s.error(new zt({error:ue,headers:new le(a.headers),status:a.status,statusText:a.statusText,url:PA(a)??n.urlWithParams}));return}}f===0&&(f=h?Ua.Ok:0),f>=200&&f<300?(s.next(new es({body:h,headers:c,status:f,statusText:u,url:l})),s.complete()):s.error(new zt({error:h,headers:c,status:f,statusText:u,url:l}))})}parseBody(n,r,s){switch(n.responseType){case"json":let o=new TextDecoder().decode(r).replace(VB,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:s});case"arraybuffer":return r.buffer}}createRequestInit(n){let r={},s=n.withCredentials?"include":void 0;if(n.headers.forEach((o,a)=>r[o]=a.join(",")),r.Accept??="application/json, text/plain, */*",!r["Content-Type"]){let o=n.detectContentTypeHeader();o!==null&&(r["Content-Type"]=o)}return{body:n.serializeBody(),method:n.method,headers:r,credentials:s}}concatChunks(n,r){let s=new Uint8Array(r),o=0;for(let a of n)s.set(a,o),o+=a.length;return s}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),xy=class{};function Ny(){}function zB(t){t.then(Ny,Ny)}function UA(t,e){return e(t)}function GB(t,e){return(i,n)=>e.intercept(i,{handle:r=>t(r,n)})}function WB(t,e,i){return(n,r)=>Mn(i,()=>e(n,s=>t(s,r)))}var pn=new S(""),Oy=new S(""),qB=new S(""),jA=new S("");function YB(){let t=null;return(e,i)=>{t===null&&(t=(C(pn,{optional:!0})??[]).reduceRight(GB,UA));let n=C(Zi),r=n.add();return t(e,i).pipe(Sn(()=>n.remove(r)))}}var FA=(()=>{let e=class e extends Fa{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=C(Zi);let s=C(jA,{optional:!0});this.backend=s??n}handle(n){if(this.chain===null){let s=Array.from(new Set([...this.injector.get(Oy),...this.injector.get(qB,[])]));this.chain=s.reduceRight((o,a)=>WB(o,a,this.injector),UA)}let r=this.pendingTasks.add();return this.chain(n,s=>this.backend.handle(s)).pipe(Sn(()=>this.pendingTasks.remove(r)))}};e.\u0275fac=function(r){return new(r||e)(d(_a),d(Ct))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})();var KB=/^\)\]\}',?\n/;function ZB(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var _A=(()=>{let e=class e{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new j(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?pe(r.\u0275loadImpl()):I(null)).pipe(N(()=>new z(o=>{let a=r.build();if(a.open(n.method,n.urlWithParams),n.withCredentials&&(a.withCredentials=!0),n.headers.forEach((w,R)=>a.setRequestHeader(w,R.join(","))),n.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let w=n.detectContentTypeHeader();w!==null&&a.setRequestHeader("Content-Type",w)}if(n.responseType){let w=n.responseType.toLowerCase();a.responseType=w!=="json"?w:"text"}let c=n.serializeBody(),u=null,l=()=>{if(u!==null)return u;let w=a.statusText||"OK",R=new le(a.getAllResponseHeaders()),k=ZB(a)||n.url;return u=new ld({headers:R,status:a.status,statusText:w,url:k}),u},f=()=>{let{headers:w,status:R,statusText:k,url:U}=l(),H=null;R!==Ua.NoContent&&(H=typeof a.response>"u"?a.responseText:a.response),R===0&&(R=H?Ua.Ok:0);let te=R>=200&&R<300;if(n.responseType==="json"&&typeof H=="string"){let ue=H;H=H.replace(KB,"");try{H=H!==""?JSON.parse(H):null}catch(fe){H=ue,te&&(te=!1,H={error:fe,text:H})}}te?(o.next(new es({body:H,headers:w,status:R,statusText:k,url:U||void 0})),o.complete()):o.error(new zt({error:H,headers:w,status:R,statusText:k,url:U||void 0}))},h=w=>{let{url:R}=l(),k=new zt({error:w,status:a.status||0,statusText:a.statusText||"Unknown Error",url:R||void 0});o.error(k)},g=!1,y=w=>{g||(o.next(l()),g=!0);let R={type:cr.DownloadProgress,loaded:w.loaded};w.lengthComputable&&(R.total=w.total),n.responseType==="text"&&a.responseText&&(R.partialText=a.responseText),o.next(R)},b=w=>{let R={type:cr.UploadProgress,loaded:w.loaded};w.lengthComputable&&(R.total=w.total),o.next(R)};return a.addEventListener("load",f),a.addEventListener("error",h),a.addEventListener("timeout",h),a.addEventListener("abort",h),n.reportProgress&&(a.addEventListener("progress",y),c!==null&&a.upload&&a.upload.addEventListener("progress",b)),a.send(c),o.next({type:cr.Sent}),()=>{a.removeEventListener("error",h),a.removeEventListener("abort",h),a.removeEventListener("load",f),a.removeEventListener("timeout",h),n.reportProgress&&(a.removeEventListener("progress",y),c!==null&&a.upload&&a.upload.removeEventListener("progress",b)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(r){return new(r||e)(d(ro))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),$A=new S(""),QB="XSRF-TOKEN",JB=new S("",{providedIn:"root",factory:()=>QB}),XB="X-XSRF-TOKEN",eV=new S("",{providedIn:"root",factory:()=>XB}),dd=class{},tV=(()=>{let e=class e{constructor(n,r,s){this.doc=n,this.platform=r,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=cd(n,this.cookieName),this.lastCookieString=n),this.lastToken}};e.\u0275fac=function(r){return new(r||e)(d(_e),d($e),d(JB))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})();function nV(t,e){let i=t.url.toLowerCase();if(!C($A)||t.method==="GET"||t.method==="HEAD"||i.startsWith("http://")||i.startsWith("https://"))return e(t);let n=C(dd).getToken(),r=C(eV);return n!=null&&!t.headers.has(r)&&(t=t.clone({headers:t.headers.set(r,n)})),e(t)}var Py=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(Py||{});function BA(t,e){return{\u0275kind:t,\u0275providers:e}}function coe(...t){let e=[Le,_A,FA,{provide:Fa,useExisting:FA},{provide:_a,useExisting:_A},{provide:Oy,useValue:nV,multi:!0},{provide:$A,useValue:!0},{provide:dd,useClass:tV}];for(let i of t)e.push(...i.\u0275providers);return rr(e)}var LA=new S("");function uoe(){return BA(Py.LegacyInterceptors,[{provide:LA,useFactory:YB},{provide:Oy,useExisting:LA,multi:!0}])}function loe(){return BA(Py.Fetch,[Ry,{provide:_a,useExisting:Ry},{provide:jA,useExisting:Ry}])}var Ly=class extends nd{constructor(){super(...arguments),this.supportsDOMEvents=!0}},ky=class t extends Ly{static makeCurrent(){gA(new t)}onAndCancel(e,i,n){return e.addEventListener(i,n),()=>{e.removeEventListener(i,n)}}dispatchEvent(e,i){e.dispatchEvent(i)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,i){return i=i||this.getDefaultDocument(),i.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,i){return i==="window"?window:i==="document"?e:i==="body"?e.body:null}getBaseHref(e){let i=rV();return i==null?null:iV(i)}resetBaseElement(){ja=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return cd(document.cookie,e)}},ja=null;function rV(){return ja=ja||document.querySelector("base"),ja?ja.getAttribute("href"):null}function iV(t){return new URL(t,document.baseURI).pathname}var Uy=class{addToWindow(e){Ge.getAngularTestability=(n,r=!0)=>{let s=e.findTestabilityInTree(n,r);if(s==null)throw new j(5103,!1);return s},Ge.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ge.getAllAngularRootElements=()=>e.getAllRootElements();let i=n=>{let r=Ge.getAllAngularTestabilities(),s=r.length,o=function(){s--,s==0&&n()};r.forEach(a=>{a.whenStable(o)})};Ge.frameworkStabilizers||(Ge.frameworkStabilizers=[]),Ge.frameworkStabilizers.push(i)}findTestabilityInTree(e,i,n){if(i==null)return null;let r=e.getTestability(i);return r??(n?hi().isShadowRoot(i)?this.findTestabilityInTree(e,i.host,!0):this.findTestabilityInTree(e,i.parentElement,!0):null)}},sV=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),jy=new S(""),WA=(()=>{let e=class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(s=>{s.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,s){return this._findPluginFor(r).addEventListener(n,r,s)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new j(5101,!1);return this._eventNameToPlugin.set(n,r),r}};e.\u0275fac=function(r){return new(r||e)(d(jy),d(Ce))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),fd=class{constructor(e){this._doc=e}},Fy="ng-app-id",qA=(()=>{let e=class e{constructor(n,r,s,o={}){this.doc=n,this.appId=r,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Xi(o),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(s=>s.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${Fy}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(s=>{s.textContent!=null&&r.set(s.textContent,s)}),r}return null}changeUsageCount(n,r){let s=this.styleRef;if(s.has(n)){let o=s.get(n);return o.usage+=r,o.usage}return s.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let s=this.styleNodesInDOM,o=s?.get(r);if(o?.parentNode===n)return s.delete(r),o.removeAttribute(Fy),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(Fy,this.appId),n.appendChild(a),a}}addStyleToHost(n,r){let s=this.getStyleElement(n,r),o=this.styleRef,a=o.get(r)?.elements;a?a.push(s):o.set(r,{elements:[s],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}};e.\u0275fac=function(r){return new(r||e)(d(_e),d(wa),d(Mv,8),d($e))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),_y={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},By=/%COMP%/g,YA="%COMP%",oV=`_nghost-${YA}`,aV=`_ngcontent-${YA}`,cV=!0,uV=new S("",{providedIn:"root",factory:()=>cV});function lV(t){return aV.replace(By,t)}function dV(t){return oV.replace(By,t)}function KA(t,e){return e.map(i=>i.replace(By,t))}var HA=(()=>{let e=class e{constructor(n,r,s,o,a,c,u,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Xi(c),this.defaultRenderer=new $a(n,a,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===tr.ShadowDom&&(r=T(v({},r),{encapsulation:tr.Emulated}));let s=this.getOrCreateRenderer(n,r);return s instanceof hd?s.applyToHost(n):s instanceof Ba&&s.applyStyles(),s}getOrCreateRenderer(n,r){let s=this.rendererByCompId,o=s.get(r.id);if(!o){let a=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(r.encapsulation){case tr.Emulated:o=new hd(u,l,r,this.appId,f,a,c,h);break;case tr.ShadowDom:return new $y(u,l,n,r,a,c,this.nonce,h);default:o=new Ba(u,l,r,f,a,c,h);break}s.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(r){return new(r||e)(d(WA),d(qA),d(wa),d(uV),d(_e),d($e),d(Ce),d(Mv))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),$a=class{constructor(e,i,n,r){this.eventManager=e,this.doc=i,this.ngZone=n,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,i){return i?this.doc.createElementNS(_y[i]||i,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,i){(zA(e)?e.content:e).appendChild(i)}insertBefore(e,i,n){e&&(zA(e)?e.content:e).insertBefore(i,n)}removeChild(e,i){e&&e.removeChild(i)}selectRootElement(e,i){let n=typeof e=="string"?this.doc.querySelector(e):e;if(!n)throw new j(-5104,!1);return i||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,i,n,r){if(r){i=r+":"+i;let s=_y[r];s?e.setAttributeNS(s,i,n):e.setAttribute(i,n)}else e.setAttribute(i,n)}removeAttribute(e,i,n){if(n){let r=_y[n];r?e.removeAttributeNS(r,i):e.removeAttribute(`${n}:${i}`)}else e.removeAttribute(i)}addClass(e,i){e.classList.add(i)}removeClass(e,i){e.classList.remove(i)}setStyle(e,i,n,r){r&(Ar.DashCase|Ar.Important)?e.style.setProperty(i,n,r&Ar.Important?"important":""):e.style[i]=n}removeStyle(e,i,n){n&Ar.DashCase?e.style.removeProperty(i):e.style[i]=""}setProperty(e,i,n){e!=null&&(e[i]=n)}setValue(e,i){e.nodeValue=i}listen(e,i,n){if(typeof e=="string"&&(e=hi().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${i}`);return this.eventManager.addEventListener(e,i,this.decoratePreventDefault(n))}decoratePreventDefault(e){return i=>{if(i==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(i)):e(i))===!1&&i.preventDefault()}}};function zA(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var $y=class extends $a{constructor(e,i,n,r,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=i,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=KA(r.id,r.styles);for(let l of u){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=l,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,i){return super.appendChild(this.nodeOrShadowRoot(e),i)}insertBefore(e,i,n){return super.insertBefore(this.nodeOrShadowRoot(e),i,n)}removeChild(e,i){return super.removeChild(this.nodeOrShadowRoot(e),i)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ba=class extends $a{constructor(e,i,n,r,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=i,this.removeStylesOnCompDestroy=r,this.styles=c?KA(c,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},hd=class extends Ba{constructor(e,i,n,r,s,o,a,c){let u=r+"-"+n.id;super(e,i,n,s,o,a,c,u),this.contentAttr=lV(u),this.hostAttr=dV(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,i){let n=super.createElement(e,i);return super.setAttribute(n,this.contentAttr,""),n}},fV=(()=>{let e=class e extends fd{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,s){return n.addEventListener(r,s,!1),()=>this.removeEventListener(n,r,s)}removeEventListener(n,r,s){return n.removeEventListener(r,s)}};e.\u0275fac=function(r){return new(r||e)(d(_e))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),GA=["alt","control","meta","shift"],hV={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},pV={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},gV=(()=>{let e=class e extends fd{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,s){let o=e.parseEventName(r),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>hi().onAndCancel(n,o.domEventName,a))}static parseEventName(n){let r=n.toLowerCase().split("."),s=r.shift();if(r.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(r.pop()),a="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),a="code."),GA.forEach(l=>{let f=r.indexOf(l);f>-1&&(r.splice(f,1),a+=l+".")}),a+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=s,u.fullKey=a,u}static matchEventFullKeyCode(n,r){let s=hV[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(s=n.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),GA.forEach(a=>{if(a!==s){let c=pV[a];c(n)&&(o+=a+".")}}),o+=s,o===r)}static eventCallback(n,r,s){return o=>{e.matchEventFullKeyCode(o,n)&&s.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}};e.\u0275fac=function(r){return new(r||e)(d(_e))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})();function mV(){ky.makeCurrent()}function vV(){return new It}function yV(){return CT(document),document}var EV=[{provide:$e,useValue:wy},{provide:Rv,useValue:mV,multi:!0},{provide:_e,useFactory:yV,deps:[]}],Ioe=oy(eA,"browser",EV),CV=new S(""),SV=[{provide:Ra,useClass:Uy,deps:[]},{provide:ry,useClass:zl,deps:[Ce,Gl,Ra]},{provide:zl,useClass:zl,deps:[Ce,Gl,Ra]}],IV=[{provide:Sl,useValue:"root"},{provide:It,useFactory:vV,deps:[]},{provide:jy,useClass:fV,multi:!0,deps:[_e,Ce,$e]},{provide:jy,useClass:gV,multi:!0,deps:[_e]},HA,qA,WA,{provide:Wi,useExisting:HA},{provide:ro,useClass:sV,deps:[]},[]],Doe=(()=>{let e=class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:wa,useValue:n.appId}]}}};e.\u0275fac=function(r){return new(r||e)(d(CV,12))},e.\u0275mod=B({type:e}),e.\u0275inj=$({providers:[...IV,...SV],imports:[Ze,tA]});let t=e;return t})(),Vy=(()=>{let e=class e{constructor(n){this._doc=n,this._dom=hi()}addTag(n,r=!1){return n?this._getOrCreateElement(n,r):null}addTags(n,r=!1){return n?n.reduce((s,o)=>(o&&s.push(this._getOrCreateElement(o,r)),s),[]):[]}getTag(n){return n&&this._doc.querySelector(`meta[${n}]`)||null}getTags(n){if(!n)return[];let r=this._doc.querySelectorAll(`meta[${n}]`);return r?[].slice.call(r):[]}updateTag(n,r){if(!n)return null;r=r||this._parseSelector(n);let s=this.getTag(r);return s?this._setMetaElementAttributes(n,s):this._getOrCreateElement(n,!0)}removeTag(n){this.removeTagElement(this.getTag(n))}removeTagElement(n){n&&this._dom.remove(n)}_getOrCreateElement(n,r=!1){if(!r){let a=this._parseSelector(n),c=this.getTags(a).filter(u=>this._containsAttributes(n,u))[0];if(c!==void 0)return c}let s=this._dom.createElement("meta");return this._setMetaElementAttributes(n,s),this._doc.getElementsByTagName("head")[0].appendChild(s),s}_setMetaElementAttributes(n,r){return Object.keys(n).forEach(s=>r.setAttribute(this._getMetaKeyMap(s),n[s])),r}_parseSelector(n){let r=n.name?"name":"property";return`${r}="${n[r]}"`}_containsAttributes(n,r){return Object.keys(n).every(s=>r.getAttribute(this._getMetaKeyMap(s))===n[s])}_getMetaKeyMap(n){return DV[n]||n}};e.\u0275fac=function(r){return new(r||e)(d(_e))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),DV={httpEquiv:"http-equiv"},ZA=(()=>{let e=class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}};e.\u0275fac=function(r){return new(r||e)(d(_e))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var bV=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:function(r){let s=null;return r?s=new(r||e):s=d(wV),s},providedIn:"root"});let t=e;return t})(),wV=(()=>{let e=class e extends bV{constructor(n){super(),this._doc=n}sanitize(n,r){if(r==null)return null;switch(n){case fn.NONE:return r;case fn.HTML:return sr(r,"HTML")?Bt(r):Nv(this._doc,String(r)).toString();case fn.STYLE:return sr(r,"Style")?Bt(r):r;case fn.SCRIPT:if(sr(r,"Script"))return Bt(r);throw new j(5200,!1);case fn.URL:return sr(r,"URL")?Bt(r):xl(String(r));case fn.RESOURCE_URL:if(sr(r,"ResourceURL"))return Bt(r);throw new j(5201,!1);default:throw new j(5202,!1)}}bypassSecurityTrustHtml(n){return DT(n)}bypassSecurityTrustStyle(n){return bT(n)}bypassSecurityTrustScript(n){return wT(n)}bypassSecurityTrustUrl(n){return TT(n)}bypassSecurityTrustResourceUrl(n){return AT(n)}};e.\u0275fac=function(r){return new(r||e)(d(_e))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Hy(t,e){let i=!e?.manualCleanup;i&&!e?.injector&&Ca(Hy);let n=i?e?.injector?.get(fi)??C(fi):null,r;e?.requireSync?r=qv({kind:0}):r=qv({kind:1,value:e?.initialValue});let s=t.subscribe({next:o=>r.set({kind:1,value:o}),error:o=>{if(e?.rejectErrors)throw o;r.set({kind:2,error:o})}});return n?.onDestroy(s.unsubscribe.bind(s)),Wl(()=>{let o=r();switch(o.kind){case 1:return o.value;case 2:throw o.error;case 0:throw new j(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}})}var qy={};function pi(t,e){if(qy[t]=(qy[t]||0)+1,typeof e=="function")return zy(t,(...n)=>T(v({},e(...n)),{type:t}));switch(e?e._as:"empty"){case"empty":return zy(t,()=>({type:t}));case"props":return zy(t,n=>T(v({},n),{type:t}));default:throw new Error("Unexpected config.")}}function oo(){return{_as:"props",_p:void 0}}function zy(t,e){return Object.defineProperty(e,"type",{value:t,writable:!1})}var vd="@ngrx/store/init",jr=(()=>{let e=class e extends Te{constructor(){super({type:vd})}next(n){if(typeof n=="function")throw new TypeError(`
        Dispatch expected an object, instead it received a function.
        If you're using the createAction function, make sure to invoke the function
        before dispatching the action. For example, someAction should be someAction().`);if(typeof n>"u")throw new TypeError("Actions must be objects");if(typeof n.type>"u")throw new TypeError("Actions must have a type property");super.next(n)}complete(){}ngOnDestroy(){super.complete()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),AV=[jr],fR=new S("@ngrx/store Internal Root Guard"),QA=new S("@ngrx/store Internal Initial State"),Qy=new S("@ngrx/store Initial State"),hR=new S("@ngrx/store Reducer Factory"),JA=new S("@ngrx/store Internal Reducer Factory Provider"),pR=new S("@ngrx/store Initial Reducers"),Gy=new S("@ngrx/store Internal Initial Reducers"),XA=new S("@ngrx/store Store Features"),eR=new S("@ngrx/store Internal Store Reducers"),Wy=new S("@ngrx/store Internal Feature Reducers"),tR=new S("@ngrx/store Internal Feature Configs"),gR=new S("@ngrx/store Internal Store Features"),nR=new S("@ngrx/store Internal Feature Reducers Token"),mR=new S("@ngrx/store Feature Reducers"),rR=new S("@ngrx/store User Provided Meta Reducers"),so=new S("@ngrx/store Meta Reducers"),iR=new S("@ngrx/store Internal Resolved Meta Reducers"),sR=new S("@ngrx/store User Runtime Checks Config"),oR=new S("@ngrx/store Internal User Runtime Checks Config"),ts=new S("@ngrx/store Internal Runtime Checks"),Jy=new S("@ngrx/store Check if Action types are unique"),RV=new S("@ngrx/store Root Store Provider"),MV=new S("@ngrx/store Feature State Provider");function ns(t,e={}){let i=Object.keys(t),n={};for(let s=0;s<i.length;s++){let o=i[s];typeof t[o]=="function"&&(n[o]=t[o])}let r=Object.keys(n);return function(o,a){o=o===void 0?e:o;let c=!1,u={};for(let l=0;l<r.length;l++){let f=r[l],h=n[f],g=o[f],y=h(g,a);u[f]=y,c=c||y!==g}return c?u:o}}function xV(t,e){return Object.keys(t).filter(i=>i!==e).reduce((i,n)=>Object.assign(i,{[n]:t[n]}),{})}function vR(...t){return function(e){if(t.length===0)return e;let i=t[t.length-1];return t.slice(0,-1).reduceRight((r,s)=>s(r),i(e))}}function yR(t,e){return Array.isArray(e)&&e.length>0&&(t=vR.apply(null,[...e,t])),(i,n)=>{let r=t(i);return(s,o)=>(s=s===void 0?n:s,r(s,o))}}function NV(t){let e=Array.isArray(t)&&t.length>0?vR(...t):i=>i;return(i,n)=>(i=e(i),(r,s)=>(r=r===void 0?n:r,i(r,s)))}var Va=class extends z{},pd=class extends jr{},OV="@ngrx/store/update-reducers",gd=(()=>{let e=class e extends Te{get currentReducers(){return this.reducers}constructor(n,r,s,o){super(o(s,r)),this.dispatcher=n,this.initialState=r,this.reducers=s,this.reducerFactory=o}addFeature(n){this.addFeatures([n])}addFeatures(n){let r=n.reduce((s,{reducers:o,reducerFactory:a,metaReducers:c,initialState:u,key:l})=>{let f=typeof o=="function"?NV(c)(o,u):yR(a,c)(o,u);return s[l]=f,s},{});this.addReducers(r)}removeFeature(n){this.removeFeatures([n])}removeFeatures(n){this.removeReducers(n.map(r=>r.key))}addReducer(n,r){this.addReducers({[n]:r})}addReducers(n){this.reducers=v(v({},this.reducers),n),this.updateReducers(Object.keys(n))}removeReducer(n){this.removeReducers([n])}removeReducers(n){n.forEach(r=>{this.reducers=xV(this.reducers,r)}),this.updateReducers(n)}updateReducers(n){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:OV,features:n})}ngOnDestroy(){this.complete()}};e.\u0275fac=function(r){return new(r||e)(d(pd),d(Qy),d(pR),d(hR))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),PV=[gd,{provide:Va,useExisting:gd},{provide:pd,useExisting:jr}],Ha=(()=>{let e=class e extends re{ngOnDestroy(){this.complete()}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),FV=[Ha],md=class extends z{},aR=(()=>{let e=class e extends Te{constructor(n,r,s,o){super(o);let c=n.pipe(sn(ni)).pipe(rt(r)),u={state:o},l=c.pipe(_i(_V,u));this.stateSubscription=l.subscribe(({state:f,action:h})=>{this.next(f),s.next(h)}),this.state=Hy(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}};e.INIT=vd,e.\u0275fac=function(r){return new(r||e)(d(jr),d(Va),d(Ha),d(Qy))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})();function _V(t={state:void 0},[e,i]){let{state:n}=t;return{state:i(n,e),action:e}}var LV=[aR,{provide:md,useExisting:aR}],me=(()=>{let e=class e extends z{constructor(n,r,s){super(),this.actionsObserver=r,this.reducerManager=s,this.source=n,this.state=n.state}select(n,...r){return M.call(null,n,...r)(this)}selectSignal(n,r){return Wl(()=>n(this.state()),r)}lift(n){let r=new e(this,this.actionsObserver,this.reducerManager);return r.operator=n,r}dispatch(n){this.actionsObserver.next(n)}next(n){this.actionsObserver.next(n)}error(n){this.actionsObserver.error(n)}complete(){this.actionsObserver.complete()}addReducer(n,r){this.reducerManager.addReducer(n,r)}removeReducer(n){this.reducerManager.removeReducer(n)}};e.\u0275fac=function(r){return new(r||e)(d(md),d(jr),d(gd))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),kV=[me];function M(t,e,...i){return function(r){let s;if(typeof t=="string"){let o=[e,...i].filter(Boolean);s=r.pipe(Og(t,...o))}else if(typeof t=="function")s=r.pipe(E(o=>t(o,e)));else throw new TypeError(`Unexpected type '${typeof t}' in select operator, expected 'string' or 'function'`);return s.pipe(an())}}var Xy="https://ngrx.io/guide/store/configuration/runtime-checks";function cR(t){return t===void 0}function uR(t){return t===null}function ER(t){return Array.isArray(t)}function UV(t){return typeof t=="string"}function jV(t){return typeof t=="boolean"}function $V(t){return typeof t=="number"}function CR(t){return typeof t=="object"&&t!==null}function BV(t){return CR(t)&&!ER(t)}function VV(t){if(!BV(t))return!1;let e=Object.getPrototypeOf(t);return e===Object.prototype||e===null}function Yy(t){return typeof t=="function"}function HV(t){return Yy(t)&&t.hasOwnProperty("\u0275cmp")}function zV(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var GV=!1;function eE(){return GV}function lR(t,e){return t===e}function WV(t,e,i){for(let n=0;n<t.length;n++)if(!i(t[n],e[n]))return!0;return!1}function SR(t,e=lR,i=lR){let n=null,r=null,s;function o(){n=null,r=null}function a(l=void 0){s={result:l}}function c(){s=void 0}function u(){if(s!==void 0)return s.result;if(!n)return r=t.apply(null,arguments),n=arguments,r;if(!WV(arguments,n,e))return r;let l=t.apply(null,arguments);return n=arguments,i(r,l)?r:(r=l,l)}return{memoized:u,reset:o,setResult:a,clearResult:c}}function A(...t){return YV(SR)(...t)}function qV(t,e,i,n){if(i===void 0){let s=e.map(o=>o(t));return n.memoized.apply(null,s)}let r=e.map(s=>s(t,i));return n.memoized.apply(null,[...r,i])}function YV(t,e={stateFn:qV}){return function(...i){let n=i;if(Array.isArray(n[0])){let[l,...f]=n;n=[...l,...f]}else n.length===1&&KV(n[0])&&(n=ZV(n[0]));let r=n.slice(0,n.length-1),s=n[n.length-1],o=r.filter(l=>l.release&&typeof l.release=="function"),a=t(function(...l){return s.apply(null,l)}),c=SR(function(l,f){return e.stateFn.apply(null,[l,r,f,a])});function u(){c.reset(),a.reset(),o.forEach(l=>l.release())}return Object.assign(c.memoized,{release:u,projector:a.memoized,setResult:c.setResult,clearResult:c.clearResult})}}function Pn(t){return A(e=>{let i=e[t];return!eE()&&ge()&&!(t in e)&&console.warn(`@ngrx/store: The feature name "${t}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${t}', ...) or StoreModule.forFeature('${t}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),i},e=>e)}function KV(t){return!!t&&typeof t=="object"&&Object.values(t).every(e=>typeof e=="function")}function ZV(t){let e=Object.values(t),i=Object.keys(t),n=(...r)=>i.reduce((s,o,a)=>T(v({},s),{[o]:r[a]}),{});return[...e,n]}function QV(t){return t instanceof S?C(t):t}function JV(t,e){return e.map((i,n)=>{if(t[n]instanceof S){let r=C(t[n]);return{key:i.key,reducerFactory:r.reducerFactory?r.reducerFactory:ns,metaReducers:r.metaReducers?r.metaReducers:[],initialState:r.initialState}}return i})}function XV(t){return t.map(e=>e instanceof S?C(e):e)}function IR(t){return typeof t=="function"?t():t}function e2(t,e){return t.concat(e)}function t2(){if(C(me,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function n2(t,e){return function(i,n){let r=e.action(n)?Ky(n):n,s=t(i,r);return e.state()?Ky(s):s}}function Ky(t){Object.freeze(t);let e=Yy(t);return Object.getOwnPropertyNames(t).forEach(i=>{if(!i.startsWith("\u0275")&&zV(t,i)&&(!e||i!=="caller"&&i!=="callee"&&i!=="arguments")){let n=t[i];(CR(n)||Yy(n))&&!Object.isFrozen(n)&&Ky(n)}}),t}function r2(t,e){return function(i,n){if(e.action(n)){let s=Zy(n);dR(s,"action")}let r=t(i,n);if(e.state()){let s=Zy(r);dR(s,"state")}return r}}function Zy(t,e=[]){return(cR(t)||uR(t))&&e.length===0?{path:["root"],value:t}:Object.keys(t).reduce((n,r)=>{if(n)return n;let s=t[r];return HV(s)?n:cR(s)||uR(s)||$V(s)||jV(s)||UV(s)||ER(s)?!1:VV(s)?Zy(s,[...e,r]):{path:[...e,r],value:s}},!1)}function dR(t,e){if(t===!1)return;let i=t.path.join("."),n=new Error(`Detected unserializable ${e} at "${i}". ${Xy}#strict${e}serializability`);throw n.value=t.value,n.unserializablePath=i,n}function i2(t,e){return function(i,n){if(e.action(n)&&!Ce.isInAngularZone())throw new Error(`Action '${n.type}' running outside NgZone. ${Xy}#strictactionwithinngzone`);return t(i,n)}}function s2(t){return ge()?v({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},t):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function o2({strictActionSerializability:t,strictStateSerializability:e}){return i=>t||e?r2(i,{action:n=>t&&!tE(n),state:()=>e}):i}function a2({strictActionImmutability:t,strictStateImmutability:e}){return i=>t||e?n2(i,{action:n=>t&&!tE(n),state:()=>e}):i}function tE(t){return t.type.startsWith("@ngrx")}function c2({strictActionWithinNgZone:t}){return e=>t?i2(e,{action:i=>t&&!tE(i)}):e}function u2(t){return[{provide:oR,useValue:t},{provide:sR,useFactory:l2,deps:[oR]},{provide:ts,deps:[sR],useFactory:s2},{provide:so,multi:!0,deps:[ts],useFactory:a2},{provide:so,multi:!0,deps:[ts],useFactory:o2},{provide:so,multi:!0,deps:[ts],useFactory:c2}]}function DR(){return[{provide:Jy,multi:!0,deps:[ts],useFactory:d2}]}function l2(t){return t}function d2(t){if(!t.strictActionTypeUniqueness)return;let e=Object.entries(qy).filter(([,i])=>i>1).map(([i])=>i);if(e.length)throw new Error(`Action types are registered more than once, ${e.map(i=>`"${i}"`).join(", ")}. ${Xy}#strictactiontypeuniqueness`)}function f2(t={},e={}){return[{provide:fR,useFactory:t2},{provide:QA,useValue:e.initialState},{provide:Qy,useFactory:IR,deps:[QA]},{provide:Gy,useValue:t},{provide:eR,useExisting:t instanceof S?t:Gy},{provide:pR,deps:[Gy,[new dv(eR)]],useFactory:QV},{provide:rR,useValue:e.metaReducers?e.metaReducers:[]},{provide:iR,deps:[so,rR],useFactory:e2},{provide:JA,useValue:e.reducerFactory?e.reducerFactory:ns},{provide:hR,deps:[JA,iR],useFactory:yR},AV,PV,FV,LV,kV,u2(e.runtimeChecks),DR()]}function h2(t,e,i={}){return[{provide:tR,multi:!0,useValue:t instanceof Object?{}:i},{provide:XA,multi:!0,useValue:{key:t instanceof Object?t.name:t,reducerFactory:!(i instanceof S)&&i.reducerFactory?i.reducerFactory:ns,metaReducers:!(i instanceof S)&&i.metaReducers?i.metaReducers:[],initialState:!(i instanceof S)&&i.initialState?i.initialState:void 0}},{provide:gR,deps:[tR,XA],useFactory:JV},{provide:Wy,multi:!0,useValue:t instanceof Object?t.reducer:e},{provide:nR,multi:!0,useExisting:e instanceof S?e:Wy},{provide:mR,multi:!0,deps:[Wy,[new dv(nR)]],useFactory:XV},DR()]}var za=(()=>{let e=class e{constructor(n,r,s,o,a,c){}};e.\u0275fac=function(r){return new(r||e)(d(jr),d(Va),d(Ha),d(me),d(fR,8),d(Jy,8))},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})(),yd=(()=>{let e=class e{constructor(n,r,s,o,a){this.features=n,this.featureReducers=r,this.reducerManager=s;let c=n.map((u,l)=>{let h=r.shift()[l];return T(v({},u),{reducers:h,initialState:IR(u.initialState)})});s.addFeatures(c)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}};e.\u0275fac=function(r){return new(r||e)(d(gR),d(mR),d(gd),d(za),d(Jy,8))},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})(),ur=(()=>{let e=class e{static forRoot(n,r){return{ngModule:za,providers:[...f2(n,r)]}}static forFeature(n,r,s={}){return{ngModule:yd,providers:[...h2(n,r,s)]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})();function koe(...t){let e=t.pop(),i=t.map(n=>n.type);return{reducer:e,types:i}}function Uoe(t,...e){let i=new Map;for(let n of e)for(let r of n.types){let s=i.get(r);if(s){let o=(a,c)=>n.reducer(s(a,c),c);i.set(r,o)}else i.set(r,n.reducer)}return function(n=t,r){let s=i.get(r.type);return s?s(n,r):n}}var p2={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},Cd="__@ngrx/effects_create__";function W(t,e={}){let i=e.functional?t:t(),n=v(v({},p2),e);return Object.defineProperty(i,Cd,{value:n}),i}function g2(t){return Object.getOwnPropertyNames(t).filter(n=>t[n]&&t[n].hasOwnProperty(Cd)?t[n][Cd].hasOwnProperty("dispatch"):!1).map(n=>{let r=t[n][Cd];return v({propertyName:n},r)})}function m2(t){return g2(t)}function AR(t){return Object.getPrototypeOf(t)}function v2(t){return!!t.constructor&&t.constructor.name!=="Object"&&t.constructor.name!=="Function"}function RR(t){return typeof t=="function"}function bR(t){return t.filter(RR)}function y2(t){return t instanceof S||RR(t)}function E2(t,e,i){let n=AR(t),s=!!n&&n.constructor.name!=="Object"?n.constructor.name:null,o=m2(t).map(({propertyName:a,dispatch:c,useEffectsErrorHandler:u})=>{let l=typeof t[a]=="function"?t[a]():t[a],f=u?i(l,e):l;return c===!1?f.pipe(Ko()):f.pipe(Ng()).pipe(E(g=>({effect:t[a],notification:g,propertyName:a,sourceName:s,sourceInstance:t})))});return on(...o)}var C2=10;function MR(t,e,i=C2){return t.pipe(F(n=>(e&&e.handleError(n),i<=1?t:MR(t,e,i-1))))}var Me=(()=>{let e=class e extends z{constructor(n){super(),n&&(this.source=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}};e.\u0275fac=function(r){return new(r||e)(d(Ha))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function V(...t){return x(e=>t.some(i=>typeof i=="string"?i===e.type:i.type===e.type))}var xR=new S("@ngrx/effects Internal Root Guard"),Ed=new S("@ngrx/effects User Provided Effects"),rE=new S("@ngrx/effects Internal Root Effects"),NR=new S("@ngrx/effects Internal Root Effects Instances"),wR=new S("@ngrx/effects Internal Feature Effects"),OR=new S("@ngrx/effects Internal Feature Effects Instance Groups"),S2=new S("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>MR}),PR="@ngrx/effects/init",Yoe=pi(PR);function I2(t,e){if(t.notification.kind==="N"){let i=t.notification.value;!D2(i)&&e.handleError(new Error(`Effect ${b2(t)} dispatched an invalid action: ${w2(i)}`))}}function D2(t){return typeof t!="function"&&t&&t.type&&typeof t.type=="string"}function b2({propertyName:t,sourceInstance:e,sourceName:i}){let n=typeof e[t]=="function";return!!i?`"${i}.${String(t)}${n?"()":""}"`:`"${String(t)}()"`}function w2(t){try{return JSON.stringify(t)}catch{return t}}var T2="ngrxOnIdentifyEffects";function A2(t){return iE(t,T2)}var R2="ngrxOnRunEffects";function M2(t){return iE(t,R2)}var x2="ngrxOnInitEffects";function N2(t){return iE(t,x2)}function iE(t,e){return t&&e in t&&typeof t[e]=="function"}var FR=(()=>{let e=class e extends re{constructor(n,r){super(),this.errorHandler=n,this.effectsErrorHandler=r}addEffects(n){this.next(n)}toActions(){return this.pipe(ii(n=>v2(n)?AR(n):n),G(n=>n.pipe(ii(O2))),G(n=>{let r=n.pipe(Qn(o=>P2(this.errorHandler,this.effectsErrorHandler)(o)),E(o=>(I2(o,this.errorHandler),o.notification)),x(o=>o.kind==="N"&&o.value!=null),Mg()),s=n.pipe(oe(1),x(N2),E(o=>o.ngrxOnInitEffects()));return on(r,s)}))}};e.\u0275fac=function(r){return new(r||e)(d(It),d(S2))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function O2(t){return A2(t)?t.ngrxOnIdentifyEffects():""}function P2(t,e){return i=>{let n=E2(i,t,e);return M2(i)?i.ngrxOnRunEffects(n):n}}var _R=(()=>{let e=class e{get isStarted(){return!!this.effectsSubscription}constructor(n,r){this.effectSources=n,this.store=r,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}};e.\u0275fac=function(r){return new(r||e)(d(FR),d(me))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),LR=(()=>{let e=class e{constructor(n,r,s,o,a,c,u){this.sources=n,r.start();for(let l of o)n.addEffects(l);s.dispatch({type:PR})}addEffects(n){this.sources.addEffects(n)}};e.\u0275fac=function(r){return new(r||e)(d(FR),d(_R),d(me),d(NR),d(za,8),d(yd,8),d(xR,8))},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})(),F2=(()=>{let e=class e{constructor(n,r,s,o){let a=r.flat();for(let c of a)n.addEffects(c)}};e.\u0275fac=function(r){return new(r||e)(d(LR),d(OR),d(za,8),d(yd,8))},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})(),$r=(()=>{let e=class e{static forFeature(...n){let r=n.flat(),s=bR(r);return{ngModule:F2,providers:[s,{provide:wR,multi:!0,useValue:r},{provide:Ed,multi:!0,useValue:[]},{provide:OR,multi:!0,useFactory:TR,deps:[wR,Ed]}]}}static forRoot(...n){let r=n.flat(),s=bR(r);return{ngModule:LR,providers:[s,{provide:rE,useValue:[r]},{provide:xR,useFactory:_2},{provide:Ed,multi:!0,useValue:[]},{provide:NR,useFactory:TR,deps:[rE,Ed]}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})();function TR(t,e){let i=[];for(let n of t)i.push(...n);for(let n of e)i.push(...n);return i.map(n=>y2(n)?C(n):n)}function _2(){let t=C(_R,{optional:!0,skipSelf:!0}),e=C(rE,{self:!0});if(!(e.length===1&&e[0].length===0)&&t)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}var ee="primary",rc=Symbol("RouteTitle"),uE=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let i=this.params[e];return Array.isArray(i)?i[0]:i}return null}getAll(e){if(this.has(e)){let i=this.params[e];return Array.isArray(i)?i:[i]}return[]}get keys(){return Object.keys(this.params)}};function fo(t){return new uE(t)}function k2(t,e,i){let n=i.path.split("/");if(n.length>t.length||i.pathMatch==="full"&&(e.hasChildren()||n.length<t.length))return null;let r={};for(let s=0;s<n.length;s++){let o=n[s],a=t[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,n.length),posParams:r}}function U2(t,e){if(t.length!==e.length)return!1;for(let i=0;i<t.length;++i)if(!lr(t[i],e[i]))return!1;return!0}function lr(t,e){let i=t?lE(t):void 0,n=e?lE(e):void 0;if(!i||!n||i.length!=n.length)return!1;let r;for(let s=0;s<i.length;s++)if(r=i[s],!WR(t[r],e[r]))return!1;return!0}function lE(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function WR(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let i=[...t].sort(),n=[...e].sort();return i.every((r,s)=>n[s]===r)}else return t===e}function qR(t){return t.length>0?t[t.length-1]:null}function vi(t){return Oi(t)?t:eo(t)?pe(Promise.resolve(t)):I(t)}var j2={exact:KR,subset:ZR},YR={exact:$2,subset:B2,ignored:()=>!0};function kR(t,e,i){return j2[i.paths](t.root,e.root,i.matrixParams)&&YR[i.queryParams](t.queryParams,e.queryParams)&&!(i.fragment==="exact"&&t.fragment!==e.fragment)}function $2(t,e){return lr(t,e)}function KR(t,e,i){if(!is(t.segments,e.segments)||!Dd(t.segments,e.segments,i)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let n in e.children)if(!t.children[n]||!KR(t.children[n],e.children[n],i))return!1;return!0}function B2(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(i=>WR(t[i],e[i]))}function ZR(t,e,i){return QR(t,e,e.segments,i)}function QR(t,e,i,n){if(t.segments.length>i.length){let r=t.segments.slice(0,i.length);return!(!is(r,i)||e.hasChildren()||!Dd(r,i,n))}else if(t.segments.length===i.length){if(!is(t.segments,i)||!Dd(t.segments,i,n))return!1;for(let r in e.children)if(!t.children[r]||!ZR(t.children[r],e.children[r],n))return!1;return!0}else{let r=i.slice(0,t.segments.length),s=i.slice(t.segments.length);return!is(t.segments,r)||!Dd(t.segments,r,n)||!t.children[ee]?!1:QR(t.children[ee],e,s,n)}}function Dd(t,e,i){return e.every((n,r)=>YR[i](t[r].parameters,n.parameters))}var gi=class{constructor(e=new De([],{}),i={},n=null){this.root=e,this.queryParams=i,this.fragment=n}get queryParamMap(){return this._queryParamMap??=fo(this.queryParams),this._queryParamMap}toString(){return z2.serialize(this)}},De=class{constructor(e,i){this.segments=e,this.children=i,this.parent=null,Object.values(i).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return bd(this)}},rs=class{constructor(e,i){this.path=e,this.parameters=i}get parameterMap(){return this._parameterMap??=fo(this.parameters),this._parameterMap}toString(){return XR(this)}};function V2(t,e){return is(t,e)&&t.every((i,n)=>lr(i.parameters,e[n].parameters))}function is(t,e){return t.length!==e.length?!1:t.every((i,n)=>i.path===e[n].path)}function H2(t,e){let i=[];return Object.entries(t.children).forEach(([n,r])=>{n===ee&&(i=i.concat(e(r,n)))}),Object.entries(t.children).forEach(([n,r])=>{n!==ee&&(i=i.concat(e(r,n)))}),i}var as=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:()=>new ss,providedIn:"root"});let t=e;return t})(),ss=class{parse(e){let i=new fE(e);return new gi(i.parseRootSegment(),i.parseQueryParams(),i.parseFragment())}serialize(e){let i=`/${Ga(e.root,!0)}`,n=q2(e.queryParams),r=typeof e.fragment=="string"?`#${G2(e.fragment)}`:"";return`${i}${n}${r}`}},z2=new ss;function bd(t){return t.segments.map(e=>XR(e)).join("/")}function Ga(t,e){if(!t.hasChildren())return bd(t);if(e){let i=t.children[ee]?Ga(t.children[ee],!1):"",n=[];return Object.entries(t.children).forEach(([r,s])=>{r!==ee&&n.push(`${r}:${Ga(s,!1)}`)}),n.length>0?`${i}(${n.join("//")})`:i}else{let i=H2(t,(n,r)=>r===ee?[Ga(t.children[ee],!1)]:[`${r}:${Ga(n,!1)}`]);return Object.keys(t.children).length===1&&t.children[ee]!=null?`${bd(t)}/${i[0]}`:`${bd(t)}/(${i.join("//")})`}}function JR(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Sd(t){return JR(t).replace(/%3B/gi,";")}function G2(t){return encodeURI(t)}function dE(t){return JR(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function wd(t){return decodeURIComponent(t)}function UR(t){return wd(t.replace(/\+/g,"%20"))}function XR(t){return`${dE(t.path)}${W2(t.parameters)}`}function W2(t){return Object.entries(t).map(([e,i])=>`;${dE(e)}=${dE(i)}`).join("")}function q2(t){let e=Object.entries(t).map(([i,n])=>Array.isArray(n)?n.map(r=>`${Sd(i)}=${Sd(r)}`).join("&"):`${Sd(i)}=${Sd(n)}`).filter(i=>i);return e.length?`?${e.join("&")}`:""}var Y2=/^[^\/()?;#]+/;function sE(t){let e=t.match(Y2);return e?e[0]:""}var K2=/^[^\/()?;=#]+/;function Z2(t){let e=t.match(K2);return e?e[0]:""}var Q2=/^[^=?&#]+/;function J2(t){let e=t.match(Q2);return e?e[0]:""}var X2=/^[^&#]+/;function eH(t){let e=t.match(X2);return e?e[0]:""}var fE=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new De([],{}):new De([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(i).length>0)&&(n[ee]=new De(e,i)),n}parseSegment(){let e=sE(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new j(4009,!1);return this.capture(e),new rs(wd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let i=Z2(this.remaining);if(!i)return;this.capture(i);let n="";if(this.consumeOptional("=")){let r=sE(this.remaining);r&&(n=r,this.capture(n))}e[wd(i)]=wd(n)}parseQueryParam(e){let i=J2(this.remaining);if(!i)return;this.capture(i);let n="";if(this.consumeOptional("=")){let o=eH(this.remaining);o&&(n=o,this.capture(n))}let r=UR(i),s=UR(n);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){let i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=sE(this.remaining),r=this.remaining[n.length];if(r!=="/"&&r!==")"&&r!==";")throw new j(4010,!1);let s;n.indexOf(":")>-1?(s=n.slice(0,n.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ee);let o=this.parseChildren();i[s]=Object.keys(o).length===1?o[ee]:new De([],o),this.consumeOptional("//")}return i}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new j(4011,!1)}};function eM(t){return t.segments.length>0?new De([],{[ee]:t}):t}function tM(t){let e={};for(let[n,r]of Object.entries(t.children)){let s=tM(r);if(n===ee&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[n]=s)}let i=new De(t.segments,e);return tH(i)}function tH(t){if(t.numberOfChildren===1&&t.children[ee]){let e=t.children[ee];return new De(t.segments.concat(e.segments),e.children)}return t}function ho(t){return t instanceof gi}function nH(t,e,i=null,n=null){let r=nM(t);return rM(r,e,i,n)}function nM(t){let e;function i(s){let o={};for(let c of s.children){let u=i(c);o[c.outlet]=u}let a=new De(s.url,o);return s===t&&(e=a),a}let n=i(t.root),r=eM(n);return e??r}function rM(t,e,i,n){let r=t;for(;r.parent;)r=r.parent;if(e.length===0)return oE(r,r,r,i,n);let s=rH(e);if(s.toRoot())return oE(r,r,new De([],{}),i,n);let o=iH(s,r,t),a=o.processChildren?Ya(o.segmentGroup,o.index,s.commands):sM(o.segmentGroup,o.index,s.commands);return oE(r,o.segmentGroup,a,i,n)}function Td(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Qa(t){return typeof t=="object"&&t!=null&&t.outlets}function oE(t,e,i,n,r){let s={};n&&Object.entries(n).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`});let o;t===e?o=i:o=iM(t,e,i);let a=eM(tM(o));return new gi(a,s,r)}function iM(t,e,i){let n={};return Object.entries(t.children).forEach(([r,s])=>{s===e?n[r]=i:n[r]=iM(s,e,i)}),new De(t.segments,n)}var Ad=class{constructor(e,i,n){if(this.isAbsolute=e,this.numberOfDoubleDots=i,this.commands=n,e&&n.length>0&&Td(n[0]))throw new j(4003,!1);let r=n.find(Qa);if(r&&r!==qR(n))throw new j(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function rH(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Ad(!0,0,t);let e=0,i=!1,n=t.reduce((r,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return typeof s!="string"?[...r,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?i=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,s]},[]);return new Ad(i,e,n)}var uo=class{constructor(e,i,n){this.segmentGroup=e,this.processChildren=i,this.index=n}};function iH(t,e,i){if(t.isAbsolute)return new uo(e,!0,0);if(!i)return new uo(e,!1,NaN);if(i.parent===null)return new uo(i,!0,0);let n=Td(t.commands[0])?0:1,r=i.segments.length-1+n;return sH(i,r,t.numberOfDoubleDots)}function sH(t,e,i){let n=t,r=e,s=i;for(;s>r;){if(s-=r,n=n.parent,!n)throw new j(4005,!1);r=n.segments.length}return new uo(n,!1,r-s)}function oH(t){return Qa(t[0])?t[0].outlets:{[ee]:t}}function sM(t,e,i){if(t??=new De([],{}),t.segments.length===0&&t.hasChildren())return Ya(t,e,i);let n=aH(t,e,i),r=i.slice(n.commandIndex);if(n.match&&n.pathIndex<t.segments.length){let s=new De(t.segments.slice(0,n.pathIndex),{});return s.children[ee]=new De(t.segments.slice(n.pathIndex),t.children),Ya(s,0,r)}else return n.match&&r.length===0?new De(t.segments,{}):n.match&&!t.hasChildren()?hE(t,e,i):n.match?Ya(t,0,r):hE(t,e,i)}function Ya(t,e,i){if(i.length===0)return new De(t.segments,{});{let n=oH(i),r={};if(Object.keys(n).some(s=>s!==ee)&&t.children[ee]&&t.numberOfChildren===1&&t.children[ee].segments.length===0){let s=Ya(t.children[ee],e,i);return new De(t.segments,s.children)}return Object.entries(n).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(r[s]=sM(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{n[s]===void 0&&(r[s]=o)}),new De(t.segments,r)}}function aH(t,e,i){let n=0,r=e,s={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(n>=i.length)return s;let o=t.segments[r],a=i[n];if(Qa(a))break;let c=`${a}`,u=n<i.length-1?i[n+1]:null;if(r>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!$R(c,u,o))return s;n+=2}else{if(!$R(c,{},o))return s;n++}r++}return{match:!0,pathIndex:r,commandIndex:n}}function hE(t,e,i){let n=t.segments.slice(0,e),r=0;for(;r<i.length;){let s=i[r];if(Qa(s)){let c=cH(s.outlets);return new De(n,c)}if(r===0&&Td(i[0])){let c=t.segments[e];n.push(new rs(c.path,jR(i[0]))),r++;continue}let o=Qa(s)?s.outlets[ee]:`${s}`,a=r<i.length-1?i[r+1]:null;o&&a&&Td(a)?(n.push(new rs(o,jR(a))),r+=2):(n.push(new rs(o,{})),r++)}return new De(n,{})}function cH(t){let e={};return Object.entries(t).forEach(([i,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(e[i]=hE(new De([],{}),0,n))}),e}function jR(t){let e={};return Object.entries(t).forEach(([i,n])=>e[i]=`${n}`),e}function $R(t,e,i){return t==i.path&&lr(e,i.parameters)}var Ka="imperative",ot=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(ot||{}),gn=class{constructor(e,i){this.id=e,this.url=i}},mn=class extends gn{constructor(e,i,n="imperative",r=null){super(e,i),this.type=ot.NavigationStart,this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},st=class extends gn{constructor(e,i,n){super(e,i),this.urlAfterRedirects=n,this.type=ot.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Jt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Jt||{}),Rd=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Rd||{}),vn=class extends gn{constructor(e,i,n,r){super(e,i),this.reason=n,this.code=r,this.type=ot.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},mi=class extends gn{constructor(e,i,n,r){super(e,i),this.reason=n,this.code=r,this.type=ot.NavigationSkipped}},dr=class extends gn{constructor(e,i,n,r){super(e,i),this.error=n,this.target=r,this.type=ot.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},os=class extends gn{constructor(e,i,n,r){super(e,i),this.urlAfterRedirects=n,this.state=r,this.type=ot.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},pE=class extends gn{constructor(e,i,n,r){super(e,i),this.urlAfterRedirects=n,this.state=r,this.type=ot.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},gE=class extends gn{constructor(e,i,n,r,s){super(e,i),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=s,this.type=ot.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},mE=class extends gn{constructor(e,i,n,r){super(e,i),this.urlAfterRedirects=n,this.state=r,this.type=ot.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},vE=class extends gn{constructor(e,i,n,r){super(e,i),this.urlAfterRedirects=n,this.state=r,this.type=ot.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},yE=class{constructor(e){this.route=e,this.type=ot.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},EE=class{constructor(e){this.route=e,this.type=ot.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},CE=class{constructor(e){this.snapshot=e,this.type=ot.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},SE=class{constructor(e){this.snapshot=e,this.type=ot.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},IE=class{constructor(e){this.snapshot=e,this.type=ot.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},DE=class{constructor(e){this.snapshot=e,this.type=ot.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Md=class{constructor(e,i,n){this.routerEvent=e,this.position=i,this.anchor=n,this.type=ot.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Ja=class{},Xa=class{constructor(e){this.url=e}};var bE=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ic,this.attachRef=null}},ic=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){let s=this.getOrCreateContext(n);s.outlet=r,this.contexts.set(n,s)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new bE,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),xd=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let i=this.pathFromRoot(e);return i.length>1?i[i.length-2]:null}children(e){let i=wE(e,this._root);return i?i.children.map(n=>n.value):[]}firstChild(e){let i=wE(e,this._root);return i&&i.children.length>0?i.children[0].value:null}siblings(e){let i=TE(e,this._root);return i.length<2?[]:i[i.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return TE(e,this._root).map(i=>i.value)}};function wE(t,e){if(t===e.value)return e;for(let i of e.children){let n=wE(t,i);if(n)return n}return null}function TE(t,e){if(t===e.value)return[e];for(let i of e.children){let n=TE(t,i);if(n.length)return n.unshift(e),n}return[]}var Qt=class{constructor(e,i){this.value=e,this.children=i}toString(){return`TreeNode(${this.value})`}};function co(t){let e={};return t&&t.children.forEach(i=>e[i.value.outlet]=i),e}var Nd=class extends xd{constructor(e,i){super(e),this.snapshot=i,LE(this,e)}toString(){return this.snapshot.toString()}};function oM(t){let e=uH(t),i=new Te([new rs("",{})]),n=new Te({}),r=new Te({}),s=new Te({}),o=new Te(""),a=new Br(i,n,s,o,r,ee,t,e.root);return a.snapshot=e.root,new Nd(new Qt(a,[]),e)}function uH(t){let e={},i={},n={},r="",s=new ec([],e,n,r,i,ee,t,null,{});return new Od("",new Qt(s,[]))}var Br=class{constructor(e,i,n,r,s,o,a,c){this.urlSubject=e,this.paramsSubject=i,this.queryParamsSubject=n,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(E(u=>u[rc]))??I(void 0),this.url=e,this.params=i,this.queryParams=n,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(E(e=>fo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(E(e=>fo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function _E(t,e,i="emptyOnly"){let n,{routeConfig:r}=t;return e!==null&&(i==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?n={params:v(v({},e.params),t.params),data:v(v({},e.data),t.data),resolve:v(v(v(v({},t.data),e.data),r?.data),t._resolvedData)}:n={params:v({},t.params),data:v({},t.data),resolve:v(v({},t.data),t._resolvedData??{})},r&&cM(r)&&(n.resolve[rc]=r.title),n}var ec=class{get title(){return this.data?.[rc]}constructor(e,i,n,r,s,o,a,c,u){this.url=e,this.params=i,this.queryParams=n,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=fo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=fo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(n=>n.toString()).join("/"),i=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${i}')`}},Od=class extends xd{constructor(e,i){super(i),this.url=e,LE(this,i)}toString(){return aM(this._root)}};function LE(t,e){e.value._routerState=t,e.children.forEach(i=>LE(t,i))}function aM(t){let e=t.children.length>0?` { ${t.children.map(aM).join(", ")} } `:"";return`${t.value}${e}`}function aE(t){if(t.snapshot){let e=t.snapshot,i=t._futureSnapshot;t.snapshot=i,lr(e.queryParams,i.queryParams)||t.queryParamsSubject.next(i.queryParams),e.fragment!==i.fragment&&t.fragmentSubject.next(i.fragment),lr(e.params,i.params)||t.paramsSubject.next(i.params),U2(e.url,i.url)||t.urlSubject.next(i.url),lr(e.data,i.data)||t.dataSubject.next(i.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function AE(t,e){let i=lr(t.params,e.params)&&V2(t.url,e.url),n=!t.parent!=!e.parent;return i&&!n&&(!t.parent||AE(t.parent,e.parent))}function cM(t){return typeof t.title=="string"||t.title===null}var lH=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ee,this.activateEvents=new pt,this.deactivateEvents=new pt,this.attachEvents=new pt,this.detachEvents=new pt,this.parentContexts=C(ic),this.location=C(Vt),this.changeDetector=C(Pr),this.environmentInjector=C(Ct),this.inputBinder=C(kd,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:s}=n.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new j(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new j(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new j(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new j(4013,!1);this._activatedRoute=n;let s=this.location,a=n.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new RE(n,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Ot({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[li]});let t=e;return t})(),RE=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,i,n){this.route=e,this.childContexts=i,this.parent=n}get(e,i){return e===Br?this.route:e===ic?this.childContexts:this.parent.get(e,i)}},kd=new S(""),BR=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,s=Pe([r.queryParams,r.params,r.data]).pipe(N(([o,a,c],u)=>(c=v(v(v({},o),a),c),u===0?I(c):Promise.resolve(c)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let a=nA(r.component);if(!a){this.unsubscribeFromRouteData(n);return}for(let{templateName:c}of a.inputs)n.activatedComponentRef.setInput(c,o[c])});this.outletDataSubscriptions.set(n,s)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})();function dH(t,e,i){let n=tc(t,e._root,i?i._root:void 0);return new Nd(n,e)}function tc(t,e,i){if(i&&t.shouldReuseRoute(e.value,i.value.snapshot)){let n=i.value;n._futureSnapshot=e.value;let r=fH(t,e,i);return new Qt(n,r)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>tc(t,a)),o}}let n=hH(e.value),r=e.children.map(s=>tc(t,s));return new Qt(n,r)}}function fH(t,e,i){return e.children.map(n=>{for(let r of i.children)if(t.shouldReuseRoute(n.value,r.value.snapshot))return tc(t,n,r);return tc(t,n)})}function hH(t){return new Br(new Te(t.url),new Te(t.params),new Te(t.queryParams),new Te(t.fragment),new Te(t.data),t.outlet,t.component,t)}var uM="ngNavigationCancelingError";function lM(t,e){let{redirectTo:i,navigationBehaviorOptions:n}=ho(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=dM(!1,Jt.Redirect);return r.url=i,r.navigationBehaviorOptions=n,r}function dM(t,e){let i=new Error(`NavigationCancelingError: ${t||""}`);return i[uM]=!0,i.cancellationCode=e,i}function pH(t){return fM(t)&&ho(t.url)}function fM(t){return!!t&&t[uM]}var gH=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=bw({type:e,selectors:[["ng-component"]],standalone:!0,features:[H0],decls:1,vars:0,template:function(r,s){r&1&&ty(0,"router-outlet")},dependencies:[lH],encapsulation:2});let t=e;return t})();function mH(t,e){return t.providers&&!t._injector&&(t._injector=$l(t.providers,e,`Route: ${t.path}`)),t._injector??e}function kE(t){let e=t.children&&t.children.map(kE),i=e?T(v({},t),{children:e}):v({},t);return!i.component&&!i.loadComponent&&(e||i.loadChildren)&&i.outlet&&i.outlet!==ee&&(i.component=gH),i}function fr(t){return t.outlet||ee}function vH(t,e){let i=t.filter(n=>fr(n)===e);return i.push(...t.filter(n=>fr(n)!==e)),i}function sc(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let i=e.routeConfig;if(i?._loadedInjector)return i._loadedInjector;if(i?._injector)return i._injector}return null}var yH=(t,e,i,n)=>E(r=>(new ME(e,r.targetRouterState,r.currentRouterState,i,n).activate(t),r)),ME=class{constructor(e,i,n,r,s){this.routeReuseStrategy=e,this.futureState=i,this.currState=n,this.forwardEvent=r,this.inputBindingEnabled=s}activate(e){let i=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(i,n,e),aE(this.futureState.root),this.activateChildRoutes(i,n,e)}deactivateChildRoutes(e,i,n){let r=co(i);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,r[o],n),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,n)})}deactivateRoutes(e,i,n){let r=e.value,s=i?i.value:null;if(r===s)if(r.component){let o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(e,i,o.children)}else this.deactivateChildRoutes(e,i,n);else s&&this.deactivateRouteAndItsChildren(i,n)}deactivateRouteAndItsChildren(e,i){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,i):this.deactivateRouteAndOutlet(e,i)}detachAndStoreRouteSubtree(e,i){let n=i.getContext(e.value.outlet),r=n&&e.value.component?n.children:i,s=co(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);if(n&&n.outlet){let o=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,i){let n=i.getContext(e.value.outlet),r=n&&e.value.component?n.children:i,s=co(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(e,i,n){let r=co(i);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],n),this.forwardEvent(new DE(s.value.snapshot))}),e.children.length&&this.forwardEvent(new SE(e.value.snapshot))}activateRoutes(e,i,n){let r=e.value,s=i?i.value:null;if(aE(r),r===s)if(r.component){let o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,i,o.children)}else this.activateChildRoutes(e,i,n);else if(r.component){let o=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),aE(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=sc(r.snapshot);o.attachRef=null,o.route=r,o.injector=a,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,n)}},Pd=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},lo=class{constructor(e,i){this.component=e,this.route=i}};function EH(t,e,i){let n=t._root,r=e?e._root:null;return Wa(n,r,i,[n.value])}function CH(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function go(t,e){let i=Symbol(),n=e.get(t,i);return n===i?typeof t=="function"&&!dw(t)?t:e.get(t):n}function Wa(t,e,i,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=co(e);return t.children.forEach(o=>{SH(o,s[o.value.outlet],i,n.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Za(a,i.getContext(o),r)),r}function SH(t,e,i,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=i?i.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=IH(o,s,s.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new Pd(n)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Wa(t,e,a?a.children:null,n,r):Wa(t,e,i,n,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new lo(a.outlet.component,o))}else o&&Za(e,a,r),r.canActivateChecks.push(new Pd(n)),s.component?Wa(t,null,a?a.children:null,n,r):Wa(t,null,i,n,r);return r}function IH(t,e,i){if(typeof i=="function")return i(t,e);switch(i){case"pathParamsChange":return!is(t.url,e.url);case"pathParamsOrQueryParamsChange":return!is(t.url,e.url)||!lr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!AE(t,e)||!lr(t.queryParams,e.queryParams);case"paramsChange":default:return!AE(t,e)}}function Za(t,e,i){let n=co(t),r=t.value;Object.entries(n).forEach(([s,o])=>{r.component?e?Za(o,e.children.getContext(s),i):Za(o,null,i):Za(o,e,i)}),r.component?e&&e.outlet&&e.outlet.isActivated?i.canDeactivateChecks.push(new lo(e.outlet.component,r)):i.canDeactivateChecks.push(new lo(null,r)):i.canDeactivateChecks.push(new lo(null,r))}function oc(t){return typeof t=="function"}function DH(t){return typeof t=="boolean"}function bH(t){return t&&oc(t.canLoad)}function wH(t){return t&&oc(t.canActivate)}function TH(t){return t&&oc(t.canActivateChild)}function AH(t){return t&&oc(t.canDeactivate)}function RH(t){return t&&oc(t.canMatch)}function hM(t){return t instanceof Cn||t?.name==="EmptyError"}var Id=Symbol("INITIAL_VALUE");function po(){return N(t=>Pe(t.map(e=>e.pipe(oe(1),Kn(Id)))).pipe(E(e=>{for(let i of e)if(i!==!0){if(i===Id)return Id;if(i===!1||i instanceof gi)return i}return!0}),x(e=>e!==Id),oe(1)))}function MH(t,e){return G(i=>{let{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=i;return o.length===0&&s.length===0?I(T(v({},i),{guardsResult:!0})):xH(o,n,r,t).pipe(G(a=>a&&DH(a)?NH(n,s,t,e):I(a)),E(a=>T(v({},i),{guardsResult:a})))})}function xH(t,e,i,n){return pe(t).pipe(G(r=>LH(r.component,r.route,i,e,n)),Rt(r=>r!==!0,!0))}function NH(t,e,i,n){return pe(e).pipe(Ue(r=>qn(PH(r.route.parent,n),OH(r.route,n),_H(t,r.path,i),FH(t,r.route,i))),Rt(r=>r!==!0,!0))}function OH(t,e){return t!==null&&e&&e(new IE(t)),I(!0)}function PH(t,e){return t!==null&&e&&e(new CE(t)),I(!0)}function FH(t,e,i){let n=e.routeConfig?e.routeConfig.canActivate:null;if(!n||n.length===0)return I(!0);let r=n.map(s=>qe(()=>{let o=sc(e)??i,a=go(s,o),c=wH(a)?a.canActivate(e,t):Mn(o,()=>a(e,t));return vi(c).pipe(Rt())}));return I(r).pipe(po())}function _H(t,e,i){let n=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>CH(o)).filter(o=>o!==null).map(o=>qe(()=>{let a=o.guards.map(c=>{let u=sc(o.node)??i,l=go(c,u),f=TH(l)?l.canActivateChild(n,t):Mn(u,()=>l(n,t));return vi(f).pipe(Rt())});return I(a).pipe(po())}));return I(s).pipe(po())}function LH(t,e,i,n,r){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return I(!0);let o=s.map(a=>{let c=sc(e)??r,u=go(a,c),l=AH(u)?u.canDeactivate(t,e,i,n):Mn(c,()=>u(t,e,i,n));return vi(l).pipe(Rt())});return I(o).pipe(po())}function kH(t,e,i,n){let r=e.canLoad;if(r===void 0||r.length===0)return I(!0);let s=r.map(o=>{let a=go(o,t),c=bH(a)?a.canLoad(e,i):Mn(t,()=>a(e,i));return vi(c)});return I(s).pipe(po(),pM(n))}function pM(t){return yg(L(e=>{if(ho(e))throw lM(t,e)}),E(e=>e===!0))}function UH(t,e,i,n){let r=e.canMatch;if(!r||r.length===0)return I(!0);let s=r.map(o=>{let a=go(o,t),c=RH(a)?a.canMatch(e,i):Mn(t,()=>a(e,i));return vi(c)});return I(s).pipe(po(),pM(n))}var nc=class{constructor(e){this.segmentGroup=e||null}},Fd=class extends Error{constructor(e){super(),this.urlTree=e}};function ao(t){return Mt(new nc(t))}function jH(t){return Mt(new j(4e3,!1))}function $H(t){return Mt(dM(!1,Jt.GuardRejected))}var xE=class{constructor(e,i){this.urlSerializer=e,this.urlTree=i}lineralizeSegments(e,i){let n=[],r=i.root;for(;;){if(n=n.concat(r.segments),r.numberOfChildren===0)return I(n);if(r.numberOfChildren>1||!r.children[ee])return jH(e.redirectTo);r=r.children[ee]}}applyRedirectCommands(e,i,n){let r=this.applyRedirectCreateUrlTree(i,this.urlSerializer.parse(i),e,n);if(i.startsWith("/"))throw new Fd(r);return r}applyRedirectCreateUrlTree(e,i,n,r){let s=this.createSegmentGroup(e,i.root,n,r);return new gi(s,this.createQueryParams(i.queryParams,this.urlTree.queryParams),i.fragment)}createQueryParams(e,i){let n={};return Object.entries(e).forEach(([r,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);n[r]=i[a]}else n[r]=s}),n}createSegmentGroup(e,i,n,r){let s=this.createSegments(e,i.segments,n,r),o={};return Object.entries(i.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,n,r)}),new De(s,o)}createSegments(e,i,n,r){return i.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,n))}findPosParam(e,i,n){let r=n[i.path.substring(1)];if(!r)throw new j(4001,!1);return r}findOrReturn(e,i){let n=0;for(let r of i){if(r.path===e.path)return i.splice(n),r;n++}return e}},NE={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function BH(t,e,i,n,r){let s=UE(t,e,i);return s.matched?(n=mH(e,n),UH(n,e,i,r).pipe(E(o=>o===!0?s:v({},NE)))):I(s)}function UE(t,e,i){if(e.path==="**")return VH(i);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||i.length>0)?v({},NE):{matched:!0,consumedSegments:[],remainingSegments:i,parameters:{},positionalParamSegments:{}};let r=(e.matcher||k2)(i,t,e);if(!r)return v({},NE);let s={};Object.entries(r.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=r.consumed.length>0?v(v({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:i.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function VH(t){return{matched:!0,parameters:t.length>0?qR(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function VR(t,e,i,n){return i.length>0&&GH(t,i,n)?{segmentGroup:new De(e,zH(n,new De(i,t.children))),slicedSegments:[]}:i.length===0&&WH(t,i,n)?{segmentGroup:new De(t.segments,HH(t,i,n,t.children)),slicedSegments:i}:{segmentGroup:new De(t.segments,t.children),slicedSegments:i}}function HH(t,e,i,n){let r={};for(let s of i)if(Ud(t,e,s)&&!n[fr(s)]){let o=new De([],{});r[fr(s)]=o}return v(v({},n),r)}function zH(t,e){let i={};i[ee]=e;for(let n of t)if(n.path===""&&fr(n)!==ee){let r=new De([],{});i[fr(n)]=r}return i}function GH(t,e,i){return i.some(n=>Ud(t,e,n)&&fr(n)!==ee)}function WH(t,e,i){return i.some(n=>Ud(t,e,n))}function Ud(t,e,i){return(t.hasChildren()||e.length>0)&&i.pathMatch==="full"?!1:i.path===""}function qH(t,e,i,n){return fr(t)!==n&&(n===ee||!Ud(e,i,t))?!1:UE(e,t,i).matched}function YH(t,e,i){return e.length===0&&!t.children[i]}var OE=class{};function KH(t,e,i,n,r,s,o="emptyOnly"){return new PE(t,e,i,n,r,o,s).recognize()}var ZH=31,PE=class{constructor(e,i,n,r,s,o,a){this.injector=e,this.configLoader=i,this.rootComponentType=n,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new xE(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new j(4002,`'${e.segmentGroup}'`)}recognize(){let e=VR(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(E(i=>{let n=new ec([],Object.freeze({}),Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,{},ee,this.rootComponentType,null,{}),r=new Qt(n,i),s=new Od("",r),o=nH(n,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,ee).pipe(F(n=>{if(n instanceof Fd)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof nc?this.noMatchError(n):n}))}inheritParamsAndData(e,i){let n=e.value,r=_E(n,i,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(s=>this.inheritParamsAndData(s,n))}processSegmentGroup(e,i,n,r){return n.segments.length===0&&n.hasChildren()?this.processChildren(e,i,n):this.processSegment(e,i,n,n.segments,r,!0).pipe(E(s=>s instanceof Qt?[s]:[]))}processChildren(e,i,n){let r=[];for(let s of Object.keys(n.children))s==="primary"?r.unshift(s):r.push(s);return pe(r).pipe(Ue(s=>{let o=n.children[s],a=vH(i,s);return this.processSegmentGroup(e,a,o,s)}),_i((s,o)=>(s.push(...o),s)),ei(null),xg(),G(s=>{if(s===null)return ao(n);let o=gM(s);return QH(o),I(o)}))}processSegment(e,i,n,r,s,o){return pe(i).pipe(Ue(a=>this.processSegmentAgainstRoute(a._injector??e,i,a,n,r,s,o).pipe(F(c=>{if(c instanceof nc)return I(null);throw c}))),Rt(a=>!!a),F(a=>{if(hM(a))return YH(n,r,s)?I(new OE):ao(n);throw a}))}processSegmentAgainstRoute(e,i,n,r,s,o,a){return qH(n,r,s,o)?n.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,n,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,i,n,s,o):ao(r):ao(r)}expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o){let{matched:a,consumedSegments:c,positionalParamSegments:u,remainingSegments:l}=UE(i,r,s);if(!a)return ao(i);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>ZH&&(this.allowRedirects=!1));let f=this.applyRedirects.applyRedirectCommands(c,r.redirectTo,u);return this.applyRedirects.lineralizeSegments(r,f).pipe(G(h=>this.processSegment(e,n,i,h.concat(l),o,!1)))}matchSegmentAgainstRoute(e,i,n,r,s){let o=BH(i,n,r,e,this.urlSerializer);return n.path==="**"&&(i.children={}),o.pipe(N(a=>a.matched?(e=n._injector??e,this.getChildConfig(e,n,r).pipe(N(({routes:c})=>{let u=n._loadedInjector??e,{consumedSegments:l,remainingSegments:f,parameters:h}=a,g=new ec(l,h,Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,XH(n),fr(n),n.component??n._loadedComponent??null,n,ez(n)),{segmentGroup:y,slicedSegments:b}=VR(i,l,f,c);if(b.length===0&&y.hasChildren())return this.processChildren(u,c,y).pipe(E(R=>R===null?null:new Qt(g,R)));if(c.length===0&&b.length===0)return I(new Qt(g,[]));let w=fr(n)===s;return this.processSegment(u,c,y,b,w?ee:s,!0).pipe(E(R=>new Qt(g,R instanceof Qt?[R]:[])))}))):ao(i)))}getChildConfig(e,i,n){return i.children?I({routes:i.children,injector:e}):i.loadChildren?i._loadedRoutes!==void 0?I({routes:i._loadedRoutes,injector:i._loadedInjector}):kH(e,i,n,this.urlSerializer).pipe(G(r=>r?this.configLoader.loadChildren(e,i).pipe(L(s=>{i._loadedRoutes=s.routes,i._loadedInjector=s.injector})):$H(i))):I({routes:[],injector:e})}};function QH(t){t.sort((e,i)=>e.value.outlet===ee?-1:i.value.outlet===ee?1:e.value.outlet.localeCompare(i.value.outlet))}function JH(t){let e=t.value.routeConfig;return e&&e.path===""}function gM(t){let e=[],i=new Set;for(let n of t){if(!JH(n)){e.push(n);continue}let r=e.find(s=>n.value.routeConfig===s.value.routeConfig);r!==void 0?(r.children.push(...n.children),i.add(r)):e.push(n)}for(let n of i){let r=gM(n.children);e.push(new Qt(n.value,r))}return e.filter(n=>!i.has(n))}function XH(t){return t.data||{}}function ez(t){return t.resolve||{}}function tz(t,e,i,n,r,s){return G(o=>KH(t,e,i,n,o.extractedUrl,r,s).pipe(E(({state:a,tree:c})=>T(v({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function nz(t,e){return G(i=>{let{targetSnapshot:n,guards:{canActivateChecks:r}}=i;if(!r.length)return I(i);let s=new Set(r.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let u of mM(c))o.add(u);let a=0;return pe(o).pipe(Ue(c=>s.has(c)?rz(c,n,t,e):(c.data=_E(c,c.parent,t).resolve,I(void 0))),L(()=>a++),Ns(1),G(c=>a===o.size?I(i):he))})}function mM(t){let e=t.children.map(i=>mM(i)).flat();return[t,...e]}function rz(t,e,i,n){let r=t.routeConfig,s=t._resolve;return r?.title!==void 0&&!cM(r)&&(s[rc]=r.title),iz(s,t,e,n).pipe(E(o=>(t._resolvedData=o,t.data=_E(t,t.parent,i).resolve,null)))}function iz(t,e,i,n){let r=lE(t);if(r.length===0)return I({});let s={};return pe(r).pipe(G(o=>sz(t[o],e,i,n).pipe(Rt(),L(a=>{s[o]=a}))),Ns(1),Zo(s),F(o=>hM(o)?he:Mt(o)))}function sz(t,e,i,n){let r=sc(e)??n,s=go(t,r),o=s.resolve?s.resolve(e,i):Mn(r,()=>s(e,i));return vi(o)}function cE(t){return N(e=>{let i=t(e);return i?pe(i).pipe(E(()=>e)):I(e)})}var vM=(()=>{let e=class e{buildTitle(n){let r,s=n.root;for(;s!==void 0;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(o=>o.outlet===ee);return r}getResolvedTitleForRoute(n){return n.data[rc]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:()=>C(oz),providedIn:"root"});let t=e;return t})(),oz=(()=>{let e=class e extends vM{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}};e.\u0275fac=function(r){return new(r||e)(d(ZA))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ac=new S("",{providedIn:"root",factory:()=>({})}),_d=new S(""),jE=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=C(no)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return I(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=vi(n.loadComponent()).pipe(E(yM),L(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),Sn(()=>{this.componentLoaders.delete(n)})),s=new ti(r,()=>new re).pipe(Rs());return this.componentLoaders.set(n,s),s}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return I({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=az(r,this.compiler,n,this.onLoadEndListener).pipe(Sn(()=>{this.childrenLoaders.delete(r)})),a=new ti(o,()=>new re).pipe(Rs());return this.childrenLoaders.set(r,a),a}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function az(t,e,i,n){return vi(t.loadChildren()).pipe(E(yM),G(r=>r instanceof qi||Array.isArray(r)?I(r):pe(e.compileModuleAsync(r))),E(r=>{n&&n(t);let s,o,a=!1;return Array.isArray(r)?(o=r,a=!0):(s=r.create(i).injector,o=s.get(_d,[],{optional:!0,self:!0}).flat()),{routes:o.map(kE),injector:s}}))}function cz(t){return t&&typeof t=="object"&&"default"in t}function yM(t){return cz(t)?t.default:t}var $E=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:()=>C(uz),providedIn:"root"});let t=e;return t})(),uz=(()=>{let e=class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),EM=new S(""),CM=new S("");function lz(t,e,i){let n=t.get(CM),r=t.get(_e);return t.get(Ce).runOutsideAngular(()=>{if(!r.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,new Promise(u=>setTimeout(u));let s,o=new Promise(u=>{s=u}),a=r.startViewTransition(()=>(s(),dz(t))),{onViewTransitionCreated:c}=n;return c&&Mn(t,()=>c({transition:a,from:e,to:i})),o})}function dz(t){return new Promise(e=>{jl(e,{injector:t})})}var BE=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new re,this.transitionAbortSubject=new re,this.configLoader=C(jE),this.environmentInjector=C(Ct),this.urlSerializer=C(as),this.rootContexts=C(ic),this.location=C(ar),this.inputBindingEnabled=C(kd,{optional:!0})!==null,this.titleStrategy=C(vM),this.options=C(ac,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=C($E),this.createViewTransition=C(EM,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>I(void 0),this.rootComponentType=null;let n=s=>this.events.next(new yE(s)),r=s=>this.events.next(new EE(s));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(T(v(v({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,s){return this.transitions=new Te({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ka,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(x(o=>o.id!==0),E(o=>T(v({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),N(o=>{let a=!1,c=!1;return I(o).pipe(N(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Jt.SupersededByNewNavigation),he;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?T(v({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=u.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!l&&f!=="reload"){let h="";return this.events.next(new mi(u.id,this.urlSerializer.serialize(u.rawUrl),h,Rd.IgnoredSameUrlNavigation)),u.resolve(null),he}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return I(u).pipe(N(h=>{let g=this.transitions?.getValue();return this.events.next(new mn(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),g!==this.transitions?.getValue()?he:Promise.resolve(h)}),tz(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),L(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=T(v({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let g=new os(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(g)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:h,extractedUrl:g,source:y,restoredState:b,extras:w}=u,R=new mn(h,this.urlSerializer.serialize(g),y,b);this.events.next(R);let k=oM(this.rootComponentType).snapshot;return this.currentTransition=o=T(v({},u),{targetSnapshot:k,urlAfterRedirects:g,extras:T(v({},w),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=g,I(o)}else{let h="";return this.events.next(new mi(u.id,this.urlSerializer.serialize(u.extractedUrl),h,Rd.IgnoredByUrlHandlingStrategy)),u.resolve(null),he}}),L(u=>{let l=new pE(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),E(u=>(this.currentTransition=o=T(v({},u),{guards:EH(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),MH(this.environmentInjector,u=>this.events.next(u)),L(u=>{if(o.guardsResult=u.guardsResult,ho(u.guardsResult))throw lM(this.urlSerializer,u.guardsResult);let l=new gE(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),x(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",Jt.GuardRejected),!1)),cE(u=>{if(u.guards.canActivateChecks.length)return I(u).pipe(L(l=>{let f=new mE(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}),N(l=>{let f=!1;return I(l).pipe(nz(this.paramsInheritanceStrategy,this.environmentInjector),L({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(l,"",Jt.NoDataFromResolver)}}))}),L(l=>{let f=new vE(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}))}),cE(u=>{let l=f=>{let h=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(f.routeConfig).pipe(L(g=>{f.component=g}),E(()=>{})));for(let g of f.children)h.push(...l(g));return h};return Pe(l(u.targetSnapshot.root)).pipe(ei(null),oe(1))}),cE(()=>this.afterPreactivation()),N(()=>{let{currentSnapshot:u,targetSnapshot:l}=o,f=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return f?pe(f).pipe(E(()=>o)):I(o)}),E(u=>{let l=dH(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=T(v({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),L(()=>{this.events.next(new Ja)}),yH(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),oe(1),L({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new st(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),ra(this.transitionAbortSubject.pipe(L(u=>{throw u}))),Sn(()=>{!a&&!c&&this.cancelNavigationTransition(o,"",Jt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),F(u=>{if(c=!0,fM(u))this.events.next(new vn(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),pH(u)?this.events.next(new Xa(u.url)):o.resolve(!1);else{this.events.next(new dr(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(n.errorHandler(u))}catch(l){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(l)}}return he}))}))}cancelNavigationTransition(n,r,s){let o=new vn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,s);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function fz(t){return t!==Ka}var hz=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:()=>C(pz),providedIn:"root"});let t=e;return t})(),FE=class{shouldDetach(e){return!1}store(e,i){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,i){return e.routeConfig===i.routeConfig}},pz=(()=>{let e=class e extends FE{};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),SM=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:()=>C(gz),providedIn:"root"});let t=e;return t})(),gz=(()=>{let e=class e extends SM{constructor(){super(...arguments),this.location=C(ar),this.urlSerializer=C(as),this.options=C(ac,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=C($E),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new gi,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=oM(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof mn)this.stateMemento=this.createStateMemento();else if(n instanceof mi)this.rawUrlTree=r.initialUrl;else if(n instanceof os){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(s,r)}}else n instanceof Ja?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):n instanceof vn&&(n.code===Jt.GuardRejected||n.code===Jt.NoDataFromResolver)?this.restoreHistory(r):n instanceof dr?this.restoreHistory(r,!0):n instanceof st&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let s=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl){let o=this.browserPageId,a=v(v({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(s,"",a)}else{let o=v(v({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),qa=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(qa||{});function IM(t,e){t.events.pipe(x(i=>i instanceof st||i instanceof vn||i instanceof dr||i instanceof mi),E(i=>i instanceof st||i instanceof mi?qa.COMPLETE:(i instanceof vn?i.code===Jt.Redirect||i.code===Jt.SupersededByNewNavigation:!1)?qa.REDIRECTING:qa.FAILED),x(i=>i!==qa.REDIRECTING),oe(1)).subscribe(()=>{e()})}function mz(t){throw t}var vz={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},yz={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ne=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=C(Hl),this.stateManager=C(SM),this.options=C(ac,{optional:!0})||{},this.pendingTasks=C(Zi),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=C(BE),this.urlSerializer=C(as),this.location=C(ar),this.urlHandlingStrategy=C($E),this._events=new re,this.errorHandler=this.options.errorHandler||mz,this.navigated=!1,this.routeReuseStrategy=C(hz),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=C(_d,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!C(kd,{optional:!0}),this.eventsSubscription=new Ee,this.isNgZoneEnabled=C(Ce)instanceof Ce&&Ce.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof vn&&r.code!==Jt.Redirect&&r.code!==Jt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof st)this.navigated=!0;else if(r instanceof Xa){let a=this.urlHandlingStrategy.merge(r.url,s.currentRawUrl),c={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||fz(s.source)};this.scheduleNavigation(a,Ka,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}Cz(r)&&this._events.next(r)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ka,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let u=v({},s);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(n);this.scheduleNavigation(c,r,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(kE),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:a,f=null;switch(c){case"merge":f=v(v({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}f!==null&&(f=this.removeEmptyProps(f));let h;try{let g=s?s.snapshot:this.routerState.snapshot.root;h=nM(g)}catch{(typeof n[0]!="string"||!n[0].startsWith("/"))&&(n=[]),h=this.currentUrlTree.root}return rM(h,n,f,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let s=ho(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Ka,null,r)}navigate(n,r={skipLocationChange:!1}){return Ez(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let s;if(r===!0?s=v({},vz):r===!1?s=v({},yz):s=r,ho(n))return kR(this.currentUrlTree,n,s);let o=this.parseUrl(n);return kR(this.currentUrlTree,o,s)}removeEmptyProps(n){return Object.entries(n).reduce((r,[s,o])=>(o!=null&&(r[s]=o),r),{})}scheduleNavigation(n,r,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,u,l;a?(c=a.resolve,u=a.reject,l=a.promise):l=new Promise((h,g)=>{c=h,u=g});let f=this.pendingTasks.add();return IM(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Ez(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new j(4008,!1)}function Cz(t){return!(t instanceof Ja)&&!(t instanceof Xa)}var HR=(()=>{let e=class e{constructor(n,r,s,o,a,c){this.router=n,this.route=r,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new re,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let u=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=n.events.subscribe(l=>{l instanceof st&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n!=null?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,s,o,a){let c=this.urlTree;if(c===null||this.isAnchorElement&&(n!==0||r||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:PT(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let s=this.renderer,o=this.el.nativeElement;r!==null?s.setAttribute(o,n,r):s.removeAttribute(o,n)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(r){return new(r||e)(X(Ne),X(Br),Tv("tabindex"),X(Js),X(ir),X(Ur))},e.\u0275dir=Ot({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,s){r&1&&ny("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),r&2&&Jv("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[cn.HasDecoratorInputTransform,"preserveFragment","preserveFragment",xa],skipLocationChange:[cn.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",xa],replaceUrl:[cn.HasDecoratorInputTransform,"replaceUrl","replaceUrl",xa],routerLink:"routerLink"},standalone:!0,features:[Yv,li]});let t=e;return t})(),fae=(()=>{let e=class e{get isActive(){return this._isActive}constructor(n,r,s,o,a){this.router=n,this.element=r,this.renderer=s,this.cdr=o,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new pt,this.routerEventsSubscription=n.events.subscribe(c=>{c instanceof st&&this.update()})}ngAfterContentInit(){I(this.links.changes,I(null)).pipe(Wn()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let n=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=pe(n).pipe(Wn()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(n){let r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(s=>!!s)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let n=this.hasActiveLinks();this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),n&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.isActiveChange.emit(n))})}isLinkActive(n){let r=Sz(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>{let o=s.urlTree;return o?n.isActive(o,r):!1}}hasActiveLinks(){let n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}};e.\u0275fac=function(r){return new(r||e)(X(Ne),X(ir),X(Js),X(Pr),X(HR,8))},e.\u0275dir=Ot({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(r,s,o){if(r&1&&U0(o,HR,5),r&2){let a;j0(a=$0())&&(s.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[li]});let t=e;return t})();function Sz(t){return!!t.paths}var Ld=class{};var Iz=(()=>{let e=class e{constructor(n,r,s,o,a){this.router=n,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(x(n=>n instanceof st),Ue(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let s=[];for(let o of r){o.providers&&!o._injector&&(o._injector=$l(o.providers,n,`Route: ${o.path}`));let a=o._injector??n,c=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(c,o.children??o._loadedRoutes))}return pe(s).pipe(Wn())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let s;r.loadChildren&&r.canLoad===void 0?s=this.loader.loadChildren(n,r):s=I(null);let o=s.pipe(G(a=>a===null?I(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??n,a.routes))));if(r.loadComponent&&!r._loadedComponent){let a=this.loader.loadComponent(r);return pe([o,a]).pipe(Wn())}else return o})}};e.\u0275fac=function(r){return new(r||e)(d(Ne),d(no),d(Ct),d(Ld),d(jE))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),DM=new S(""),Dz=(()=>{let e=class e{constructor(n,r,s,o,a={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=C(Ct),a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof mn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof st?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof mi&&n.code===Rd.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Md&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>nt(this,null,function*(){yield new Promise(s=>{setTimeout(()=>{s()}),jl(()=>{s()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new Md(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(r){qT()},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})();function bz(t){return t.routerState.root}function cc(t,e){return{\u0275kind:t,\u0275providers:e}}function wz(){let t=C(Ye);return e=>{let i=t.get(Ji);if(e!==i.components[0])return;let n=t.get(Ne),r=t.get(bM);t.get(VE)===1&&n.initialNavigation(),t.get(wM,null,ce.Optional)?.setUpPreloading(),t.get(DM,null,ce.Optional)?.init(),n.resetRootComponentType(i.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var bM=new S("",{factory:()=>new re}),VE=new S("",{providedIn:"root",factory:()=>1});function Tz(){return cc(2,[{provide:VE,useValue:0},{provide:bt,multi:!0,deps:[Ye],useFactory:e=>{let i=e.get(od,Promise.resolve());return()=>i.then(()=>new Promise(n=>{let r=e.get(Ne),s=e.get(bM);IM(r,()=>{n(!0)}),e.get(BE).afterPreactivation=()=>(n(!0),s.closed?I(void 0):s),r.initialNavigation()}))}}])}function Az(){return cc(3,[{provide:bt,multi:!0,useFactory:()=>{let e=C(Ne);return()=>{e.setUpLocationChangeListener()}}},{provide:VE,useValue:2}])}var wM=new S("");function Rz(t){return cc(0,[{provide:wM,useExisting:Iz},{provide:Ld,useExisting:t}])}function Mz(){return cc(8,[BR,{provide:kd,useExisting:BR}])}function xz(t){let e=[{provide:EM,useValue:lz},{provide:CM,useValue:v({skipNextTransition:!!t?.skipInitialTransition},t)}];return cc(9,e)}var zR=new S("ROUTER_FORROOT_GUARD"),Nz=[ar,{provide:as,useClass:ss},Ne,ic,{provide:Br,useFactory:bz,deps:[Ne]},jE,[]],TM=(()=>{let e=class e{constructor(n){}static forRoot(n,r){return{ngModule:e,providers:[Nz,[],{provide:_d,multi:!0,useValue:n},{provide:zR,useFactory:_z,deps:[[Ne,new ln,new Cl]]},{provide:ac,useValue:r||{}},r?.useHash?Pz():Fz(),Oz(),r?.preloadingStrategy?Rz(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?Lz(r):[],r?.bindToComponentInputs?Mz().\u0275providers:[],r?.enableViewTransitions?xz().\u0275providers:[],kz()]}}static forChild(n){return{ngModule:e,providers:[{provide:_d,multi:!0,useValue:n}]}}};e.\u0275fac=function(r){return new(r||e)(d(zR,8))},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})();function Oz(){return{provide:DM,useFactory:()=>{let t=C(RA),e=C(Ce),i=C(ac),n=C(BE),r=C(as);return i.scrollOffset&&t.setOffset(i.scrollOffset),new Dz(r,n,t,e,i)}}}function Pz(){return{provide:Ur,useClass:vA}}function Fz(){return{provide:Ur,useClass:Dy}}function _z(t){return"guarded"}function Lz(t){return[t.initialNavigation==="disabled"?Az().\u0275providers:[],t.initialNavigation==="enabledBlocking"?Tz().\u0275providers:[]]}var GR=new S("");function kz(){return[{provide:GR,useFactory:wz},{provide:to,multi:!0,useExisting:GR}]}var jd=class{validateSignature(e){return Promise.resolve(null)}validateAtHash(e){return Promise.resolve(!0)}},$d=class{};var uc=class{},Uz=(()=>{let e=class e extends uc{now(){return Date.now()}new(){return new Date}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})();var Bd=class{},us=class{},jz=(()=>{let e=class e{constructor(){this.data=new Map}getItem(n){return this.data.get(n)}removeItem(n){this.data.delete(n)}setItem(n,r){this.data.set(n,r)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})();var lc=class{constructor(e){this.type=e}},_t=class extends lc{constructor(e,i=null){super(e),this.info=i}},Fn=class extends lc{constructor(e,i=null){super(e),this.info=i}},Ve=class extends lc{constructor(e,i,n=null){super(e),this.reason=i,this.params=n}};function RM(t){let e=t.replace(/-/g,"+").replace(/_/g,"/");return decodeURIComponent(atob(e).split("").map(function(i){return"%"+("00"+i.charCodeAt(0).toString(16)).slice(-2)}).join(""))}function MM(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}var mo=class{constructor(e){this.clientId="",this.redirectUri="",this.postLogoutRedirectUri="",this.redirectUriAsPostLogoutRedirectUriFallback=!0,this.loginUrl="",this.scope="openid profile",this.resource="",this.rngUrl="",this.oidc=!0,this.requestAccessToken=!0,this.options=null,this.issuer="",this.logoutUrl="",this.clearHashAfterLogin=!0,this.tokenEndpoint=null,this.revocationEndpoint=null,this.customTokenParameters=[],this.userinfoEndpoint=null,this.responseType="",this.showDebugInformation=!1,this.silentRefreshRedirectUri="",this.silentRefreshMessagePrefix="",this.silentRefreshShowIFrame=!1,this.siletRefreshTimeout=1e3*20,this.silentRefreshTimeout=1e3*20,this.dummyClientSecret="",this.requireHttps="remoteOnly",this.strictDiscoveryDocumentValidation=!0,this.jwks=null,this.customQueryParams=null,this.silentRefreshIFrameName="angular-oauth-oidc-silent-refresh-iframe",this.timeoutFactor=.75,this.sessionChecksEnabled=!1,this.sessionCheckIntervall=3*1e3,this.sessionCheckIFrameUrl=null,this.sessionCheckIFrameName="angular-oauth-oidc-check-session-iframe",this.disableAtHashCheck=!1,this.skipSubjectCheck=!1,this.useIdTokenHintForSilentRefresh=!1,this.skipIssuerCheck=!1,this.nonceStateSeparator=";",this.useHttpBasicAuth=!1,this.decreaseExpirationBySec=0,this.waitForTokenInMsec=0,this.disablePKCE=!1,this.preserveRequestedRoute=!1,this.disableIdTokenTimer=!1,this.checkOrigin=!1,this.openUri=i=>{location.href=i},e&&Object.assign(this,e)}},cs=class{encodeKey(e){return encodeURIComponent(e)}encodeValue(e){return encodeURIComponent(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}},Vd=class{};var xM=(()=>{let e=class e{getHashFragmentParams(n){let r=n||window.location.hash;if(r=decodeURIComponent(r),r.indexOf("#")!==0)return{};let s=r.indexOf("?");return s>-1?r=r.substr(s+1):r=r.substr(1),this.parseQueryString(r)}parseQueryString(n){let r={},s,o,a,c,u,l;if(n===null)return r;let f=n.split("&");for(let h=0;h<f.length;h++)s=f[h],o=s.indexOf("="),o===-1?(a=s,c=null):(a=s.substr(0,o),c=s.substr(o+1)),u=decodeURIComponent(a),l=decodeURIComponent(c),u.substr(0,1)==="/"&&(u=u.substr(1)),r[u]=l;return r}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),NM=32,$z=64,Bz=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function HE(t,e,i,n,r){let s,o,a,c,u,l,f,h,g,y,b,w,R;for(;r>=64;){for(s=e[0],o=e[1],a=e[2],c=e[3],u=e[4],l=e[5],f=e[6],h=e[7],y=0;y<16;y++)b=n+y*4,t[y]=(i[b]&255)<<24|(i[b+1]&255)<<16|(i[b+2]&255)<<8|i[b+3]&255;for(y=16;y<64;y++)g=t[y-2],w=(g>>>17|g<<15)^(g>>>19|g<<13)^g>>>10,g=t[y-15],R=(g>>>7|g<<25)^(g>>>18|g<<14)^g>>>3,t[y]=(w+t[y-7]|0)+(R+t[y-16]|0);for(y=0;y<64;y++)w=(((u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7))+(u&l^~u&f)|0)+(h+(Bz[y]+t[y]|0)|0)|0,R=((s>>>2|s<<30)^(s>>>13|s<<19)^(s>>>22|s<<10))+(s&o^s&a^o&a)|0,h=f,f=l,l=u,u=c+w|0,c=a,a=o,o=s,s=w+R|0;e[0]+=s,e[1]+=o,e[2]+=a,e[3]+=c,e[4]+=u,e[5]+=l,e[6]+=f,e[7]+=h,n+=64,r-=64}return n}var zE=class{constructor(){this.digestLength=NM,this.blockSize=$z,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset()}reset(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this}clean(){for(let e=0;e<this.buffer.length;e++)this.buffer[e]=0;for(let e=0;e<this.temp.length;e++)this.temp[e]=0;this.reset()}update(e,i=e.length){if(this.finished)throw new Error("SHA256: can't update because hash was finished.");let n=0;if(this.bytesHashed+=i,this.bufferLength>0){for(;this.bufferLength<64&&i>0;)this.buffer[this.bufferLength++]=e[n++],i--;this.bufferLength===64&&(HE(this.temp,this.state,this.buffer,0,64),this.bufferLength=0)}for(i>=64&&(n=HE(this.temp,this.state,e,n,i),i%=64);i>0;)this.buffer[this.bufferLength++]=e[n++],i--;return this}finish(e){if(!this.finished){let i=this.bytesHashed,n=this.bufferLength,r=i/536870912|0,s=i<<3,o=i%64<56?64:128;this.buffer[n]=128;for(let a=n+1;a<o-8;a++)this.buffer[a]=0;this.buffer[o-8]=r>>>24&255,this.buffer[o-7]=r>>>16&255,this.buffer[o-6]=r>>>8&255,this.buffer[o-5]=r>>>0&255,this.buffer[o-4]=s>>>24&255,this.buffer[o-3]=s>>>16&255,this.buffer[o-2]=s>>>8&255,this.buffer[o-1]=s>>>0&255,HE(this.temp,this.state,this.buffer,0,o),this.finished=!0}for(let i=0;i<8;i++)e[i*4+0]=this.state[i]>>>24&255,e[i*4+1]=this.state[i]>>>16&255,e[i*4+2]=this.state[i]>>>8&255,e[i*4+3]=this.state[i]>>>0&255;return this}digest(){let e=new Uint8Array(this.digestLength);return this.finish(e),e}_saveState(e){for(let i=0;i<this.state.length;i++)e[i]=this.state[i]}_restoreState(e,i){for(let n=0;n<this.state.length;n++)this.state[n]=e[n];this.bytesHashed=i,this.finished=!1,this.bufferLength=0}};function Vz(t){let e=new zE().update(t),i=e.digest();return e.clean(),i}var Dae=new Uint8Array(NM);var Hd=class{};function Hz(t){if(typeof t!="string")throw new TypeError("expected string");let e=t,i=new Uint8Array(e.length);for(let n=0;n<e.length;n++)i[n]=e.charCodeAt(n);return i}function zz(t){let e=[];for(let i=0;i<t.length;i++)e.push(String.fromCharCode(t[i]));return e.join("")}var Gz=(()=>{let e=class e{calcHash(n,r){return nt(this,null,function*(){return zz(Vz(Hz(n)))})}toHashString2(n){let r="";for(let s of n)r+=String.fromCharCode(s);return r}toHashString(n){let r=new Uint8Array(n),s="";for(let o of r)s+=String.fromCharCode(o);return s}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),Gd=(()=>{let e=class e extends mo{constructor(n,r,s,o,a,c,u,l,f,h){super(),this.ngZone=n,this.http=r,this.config=a,this.urlHelper=c,this.logger=u,this.crypto=l,this.dateTimeService=h,this.discoveryDocumentLoaded=!1,this.state="",this.eventsSubject=new re,this.discoveryDocumentLoadedSubject=new re,this.grantTypesSupported=[],this.inImplicitFlow=!1,this.saveNoncesInLocalStorage=!1,this.debug("angular-oauth2-oidc v10"),this.document=f,a||(a={}),this.discoveryDocumentLoaded$=this.discoveryDocumentLoadedSubject.asObservable(),this.events=this.eventsSubject.asObservable(),o&&(this.tokenValidationHandler=o),a&&this.configure(a);try{s?this.setStorage(s):typeof sessionStorage<"u"&&this.setStorage(sessionStorage)}catch(g){console.error("No OAuthStorage provided and cannot access default (sessionStorage).Consider providing a custom OAuthStorage implementation in your module.",g)}if(this.checkLocalStorageAccessable()){let g=window?.navigator?.userAgent;(g?.includes("MSIE ")||g?.includes("Trident"))&&(this.saveNoncesInLocalStorage=!0)}this.setupRefreshTimer()}checkLocalStorageAccessable(){if(typeof window>"u")return!1;let n="test";try{return typeof window.localStorage>"u"?!1:(localStorage.setItem(n,n),localStorage.removeItem(n),!0)}catch{return!1}}configure(n){Object.assign(this,new mo,n),this.config=Object.assign({},new mo,n),this.sessionChecksEnabled&&this.setupSessionCheck(),this.configChanged()}configChanged(){this.setupRefreshTimer()}restartSessionChecksIfStillLoggedIn(){this.hasValidIdToken()&&this.initSessionCheck()}restartRefreshTimerIfStillLoggedIn(){this.setupExpirationTimers()}setupSessionCheck(){this.events.pipe(x(n=>n.type==="token_received")).subscribe(()=>{this.initSessionCheck()})}setupAutomaticSilentRefresh(n={},r,s=!0){let o=!0;this.clearAutomaticRefreshTimer(),this.automaticRefreshSubscription=this.events.pipe(L(a=>{a.type==="token_received"?o=!0:a.type==="logout"&&(o=!1)}),x(a=>a.type==="token_expires"&&(r==null||r==="any"||a.info===r)),Fi(1e3)).subscribe(()=>{o&&this.refreshInternal(n,s).catch(()=>{this.debug("Automatic silent refresh did not work")})}),this.restartRefreshTimerIfStillLoggedIn()}refreshInternal(n,r){return!this.useSilentRefresh&&this.responseType==="code"?this.refreshToken():this.silentRefresh(n,r)}loadDiscoveryDocumentAndTryLogin(n=null){return this.loadDiscoveryDocument().then(()=>this.tryLogin(n))}loadDiscoveryDocumentAndLogin(n=null){return n=n||{},this.loadDiscoveryDocumentAndTryLogin(n).then(()=>{if(!this.hasValidIdToken()||!this.hasValidAccessToken()){let r=typeof n.state=="string"?n.state:"";return this.initLoginFlow(r),!1}else return!0})}debug(...n){this.showDebugInformation&&this.logger.debug(...n)}validateUrlFromDiscoveryDocument(n){let r=[],s=this.validateUrlForHttps(n),o=this.validateUrlAgainstIssuer(n);return s||r.push("https for all urls required. Also for urls received by discovery."),o||r.push("Every url in discovery document has to start with the issuer url.Also see property strictDiscoveryDocumentValidation."),r}validateUrlForHttps(n){if(!n)return!0;let r=n.toLowerCase();return this.requireHttps===!1||(r.match(/^http:\/\/localhost($|[:/])/)||r.match(/^http:\/\/localhost($|[:/])/))&&this.requireHttps==="remoteOnly"?!0:r.startsWith("https://")}assertUrlNotNullAndCorrectProtocol(n,r){if(!n)throw new Error(`'${r}' should not be null`);if(!this.validateUrlForHttps(n))throw new Error(`'${r}' must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).`)}validateUrlAgainstIssuer(n){return!this.strictDiscoveryDocumentValidation||!n?!0:n.toLowerCase().startsWith(this.issuer.toLowerCase())}setupRefreshTimer(){if(typeof window>"u"){this.debug("timer not supported on this plattform");return}(this.hasValidIdToken()||this.hasValidAccessToken())&&(this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()),this.tokenReceivedSubscription&&this.tokenReceivedSubscription.unsubscribe(),this.tokenReceivedSubscription=this.events.pipe(x(n=>n.type==="token_received")).subscribe(()=>{this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()})}setupExpirationTimers(){this.hasValidAccessToken()&&this.setupAccessTokenTimer(),!this.disableIdTokenTimer&&this.hasValidIdToken()&&this.setupIdTokenTimer()}setupAccessTokenTimer(){let n=this.getAccessTokenExpiration(),r=this.getAccessTokenStoredAt(),s=this.calcTimeout(r,n);this.ngZone.runOutsideAngular(()=>{this.accessTokenTimeoutSubscription=I(new Fn("token_expires","access_token")).pipe(Yn(s)).subscribe(o=>{this.ngZone.run(()=>{this.eventsSubject.next(o)})})})}setupIdTokenTimer(){let n=this.getIdTokenExpiration(),r=this.getIdTokenStoredAt(),s=this.calcTimeout(r,n);this.ngZone.runOutsideAngular(()=>{this.idTokenTimeoutSubscription=I(new Fn("token_expires","id_token")).pipe(Yn(s)).subscribe(o=>{this.ngZone.run(()=>{this.eventsSubject.next(o)})})})}stopAutomaticRefresh(){this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.clearAutomaticRefreshTimer()}clearAccessTokenTimer(){this.accessTokenTimeoutSubscription&&this.accessTokenTimeoutSubscription.unsubscribe()}clearIdTokenTimer(){this.idTokenTimeoutSubscription&&this.idTokenTimeoutSubscription.unsubscribe()}clearAutomaticRefreshTimer(){this.automaticRefreshSubscription&&this.automaticRefreshSubscription.unsubscribe()}calcTimeout(n,r){let s=this.dateTimeService.now(),o=(r-n)*this.timeoutFactor-(s-n),a=Math.max(0,o),c=2147483647;return a>c?c:a}setStorage(n){this._storage=n,this.configChanged()}loadDiscoveryDocument(n=null){return new Promise((r,s)=>{if(n||(n=this.issuer||"",n.endsWith("/")||(n+="/"),n+=".well-known/openid-configuration"),!this.validateUrlForHttps(n)){s("issuer  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");return}this.http.get(n).subscribe(o=>{if(!this.validateDiscoveryDocument(o)){this.eventsSubject.next(new Ve("discovery_document_validation_error",null)),s("discovery_document_validation_error");return}this.loginUrl=o.authorization_endpoint,this.logoutUrl=o.end_session_endpoint||this.logoutUrl,this.grantTypesSupported=o.grant_types_supported,this.issuer=o.issuer,this.tokenEndpoint=o.token_endpoint,this.userinfoEndpoint=o.userinfo_endpoint||this.userinfoEndpoint,this.jwksUri=o.jwks_uri,this.sessionCheckIFrameUrl=o.check_session_iframe||this.sessionCheckIFrameUrl,this.discoveryDocumentLoaded=!0,this.discoveryDocumentLoadedSubject.next(o),this.revocationEndpoint=o.revocation_endpoint||this.revocationEndpoint,this.sessionChecksEnabled&&this.restartSessionChecksIfStillLoggedIn(),this.loadJwks().then(a=>{let c={discoveryDocument:o,jwks:a},u=new _t("discovery_document_loaded",c);this.eventsSubject.next(u),r(u)}).catch(a=>{this.eventsSubject.next(new Ve("discovery_document_load_error",a)),s(a)})},o=>{this.logger.error("error loading discovery document",o),this.eventsSubject.next(new Ve("discovery_document_load_error",o)),s(o)})})}loadJwks(){return new Promise((n,r)=>{this.jwksUri?this.http.get(this.jwksUri).subscribe(s=>{this.jwks=s,n(s)},s=>{this.logger.error("error loading jwks",s),this.eventsSubject.next(new Ve("jwks_load_error",s)),r(s)}):n(null)})}validateDiscoveryDocument(n){let r;return!this.skipIssuerCheck&&n.issuer!==this.issuer?(this.logger.error("invalid issuer in discovery document","expected: "+this.issuer,"current: "+n.issuer),!1):(r=this.validateUrlFromDiscoveryDocument(n.authorization_endpoint),r.length>0?(this.logger.error("error validating authorization_endpoint in discovery document",r),!1):(r=this.validateUrlFromDiscoveryDocument(n.end_session_endpoint),r.length>0?(this.logger.error("error validating end_session_endpoint in discovery document",r),!1):(r=this.validateUrlFromDiscoveryDocument(n.token_endpoint),r.length>0&&this.logger.error("error validating token_endpoint in discovery document",r),r=this.validateUrlFromDiscoveryDocument(n.revocation_endpoint),r.length>0&&this.logger.error("error validating revocation_endpoint in discovery document",r),r=this.validateUrlFromDiscoveryDocument(n.userinfo_endpoint),r.length>0?(this.logger.error("error validating userinfo_endpoint in discovery document",r),!1):(r=this.validateUrlFromDiscoveryDocument(n.jwks_uri),r.length>0?(this.logger.error("error validating jwks_uri in discovery document",r),!1):(this.sessionChecksEnabled&&!n.check_session_iframe&&this.logger.warn("sessionChecksEnabled is activated but discovery document does not contain a check_session_iframe field"),!0)))))}fetchTokenUsingPasswordFlowAndLoadUserProfile(n,r,s=new le){return this.fetchTokenUsingPasswordFlow(n,r,s).then(()=>this.loadUserProfile())}loadUserProfile(){if(!this.hasValidAccessToken())throw new Error("Can not load User Profile without access_token");if(!this.validateUrlForHttps(this.userinfoEndpoint))throw new Error("userinfoEndpoint must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");return new Promise((n,r)=>{let s=new le().set("Authorization","Bearer "+this.getAccessToken());this.http.get(this.userinfoEndpoint,{headers:s,observe:"response",responseType:"text"}).subscribe(o=>{if(this.debug("userinfo received",JSON.stringify(o)),o.headers.get("content-type").startsWith("application/json")){let a=JSON.parse(o.body),c=this.getIdentityClaims()||{};if(!this.skipSubjectCheck&&this.oidc&&(!c.sub||a.sub!==c.sub)){r(`if property oidc is true, the received user-id (sub) has to be the user-id of the user that has logged in with oidc.
if you are not using oidc but just oauth2 password flow set oidc to false`);return}a=Object.assign({},c,a),this._storage.setItem("id_token_claims_obj",JSON.stringify(a)),this.eventsSubject.next(new _t("user_profile_loaded")),n({info:a})}else this.debug("userinfo is not JSON, treating it as JWE/JWS"),this.eventsSubject.next(new _t("user_profile_loaded")),n(JSON.parse(o.body))},o=>{this.logger.error("error loading user info",o),this.eventsSubject.next(new Ve("user_profile_load_error",o)),r(o)})})}fetchTokenUsingPasswordFlow(n,r,s=new le){let o={username:n,password:r};return this.fetchTokenUsingGrant("password",o,s)}fetchTokenUsingGrant(n,r,s=new le){this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint");let o=new ze({encoder:new cs}).set("grant_type",n).set("scope",this.scope);if(this.useHttpBasicAuth){let a=btoa(`${this.clientId}:${this.dummyClientSecret}`);s=s.set("Authorization","Basic "+a)}if(this.useHttpBasicAuth||(o=o.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(o=o.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(let a of Object.getOwnPropertyNames(this.customQueryParams))o=o.set(a,this.customQueryParams[a]);for(let a of Object.keys(r))o=o.set(a,r[a]);return s=s.set("Content-Type","application/x-www-form-urlencoded"),new Promise((a,c)=>{this.http.post(this.tokenEndpoint,o,{headers:s}).subscribe(u=>{this.debug("tokenResponse",u),this.storeAccessTokenResponse(u.access_token,u.refresh_token,u.expires_in||this.fallbackAccessTokenExpirationTimeInSec,u.scope,this.extractRecognizedCustomParameters(u)),this.oidc&&u.id_token&&this.processIdToken(u.id_token,u.access_token).then(l=>{this.storeIdToken(l),a(u)}),this.eventsSubject.next(new _t("token_received")),a(u)},u=>{this.logger.error("Error performing ${grantType} flow",u),this.eventsSubject.next(new Ve("token_error",u)),c(u)})})}refreshToken(){return this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint"),new Promise((n,r)=>{let s=new ze({encoder:new cs}).set("grant_type","refresh_token").set("scope",this.scope).set("refresh_token",this._storage.getItem("refresh_token")),o=new le().set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){let a=btoa(`${this.clientId}:${this.dummyClientSecret}`);o=o.set("Authorization","Basic "+a)}if(this.useHttpBasicAuth||(s=s.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(s=s.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(let a of Object.getOwnPropertyNames(this.customQueryParams))s=s.set(a,this.customQueryParams[a]);this.http.post(this.tokenEndpoint,s,{headers:o}).pipe(N(a=>this.oidc&&a.id_token?pe(this.processIdToken(a.id_token,a.access_token,!0)).pipe(L(c=>this.storeIdToken(c)),E(()=>a)):I(a))).subscribe(a=>{this.debug("refresh tokenResponse",a),this.storeAccessTokenResponse(a.access_token,a.refresh_token,a.expires_in||this.fallbackAccessTokenExpirationTimeInSec,a.scope,this.extractRecognizedCustomParameters(a)),this.eventsSubject.next(new _t("token_received")),this.eventsSubject.next(new _t("token_refreshed")),n(a)},a=>{this.logger.error("Error refreshing token",a),this.eventsSubject.next(new Ve("token_refresh_error",a)),r(a)})})}removeSilentRefreshEventListener(){this.silentRefreshPostMessageEventListener&&(window.removeEventListener("message",this.silentRefreshPostMessageEventListener),this.silentRefreshPostMessageEventListener=null)}setupSilentRefreshEventListener(){this.removeSilentRefreshEventListener(),this.silentRefreshPostMessageEventListener=n=>{let r=this.processMessageEventMessage(n);this.checkOrigin&&n.origin!==location.origin&&console.error("wrong origin requested silent refresh!"),this.tryLogin({customHashFragment:r,preventClearHashAfterLogin:!0,customRedirectUri:this.silentRefreshRedirectUri||this.redirectUri}).catch(s=>this.debug("tryLogin during silent refresh failed",s))},window.addEventListener("message",this.silentRefreshPostMessageEventListener)}silentRefresh(n={},r=!0){let s=this.getIdentityClaims()||{};if(this.useIdTokenHintForSilentRefresh&&this.hasValidIdToken()&&(n.id_token_hint=this.getIdToken()),!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");if(typeof this.document>"u")throw new Error("silent refresh is not supported on this platform");let o=this.document.getElementById(this.silentRefreshIFrameName);o&&this.document.body.removeChild(o),this.silentRefreshSubject=s.sub;let a=this.document.createElement("iframe");a.id=this.silentRefreshIFrameName,this.setupSilentRefreshEventListener();let c=this.silentRefreshRedirectUri||this.redirectUri;this.createLoginUrl(null,null,c,r,n).then(h=>{a.setAttribute("src",h),this.silentRefreshShowIFrame||(a.style.display="none"),this.document.body.appendChild(a)});let u=this.events.pipe(x(h=>h instanceof Ve),Rt()),l=this.events.pipe(x(h=>h.type==="token_received"),Rt()),f=I(new Ve("silent_refresh_timeout",null)).pipe(Yn(this.silentRefreshTimeout));return Rg([u,l,f]).pipe(E(h=>{if(h instanceof Ve)throw h.type==="silent_refresh_timeout"?this.eventsSubject.next(h):(h=new Ve("silent_refresh_error",h),this.eventsSubject.next(h)),h;return h.type==="token_received"&&(h=new _t("silently_refreshed"),this.eventsSubject.next(h)),h})).toPromise()}initImplicitFlowInPopup(n){return this.initLoginFlowInPopup(n)}initLoginFlowInPopup(n){return n=n||{},this.createLoginUrl(null,null,this.silentRefreshRedirectUri,!1,{display:"popup"}).then(r=>new Promise((s,o)=>{let c=null;n.windowRef?n.windowRef&&!n.windowRef.closed&&(c=n.windowRef,c.location.href=r):c=window.open(r,"ngx-oauth2-oidc-login",this.calculatePopupFeatures(n));let u,l=b=>{this.tryLogin({customHashFragment:b,preventClearHashAfterLogin:!0,customRedirectUri:this.silentRefreshRedirectUri}).then(()=>{h(),s(!0)},w=>{h(),o(w)})},f=()=>{(!c||c.closed)&&(h(),o(new Ve("popup_closed",{})))};c?u=window.setInterval(f,500):o(new Ve("popup_blocked",{}));let h=()=>{window.clearInterval(u),window.removeEventListener("storage",y),window.removeEventListener("message",g),c!==null&&c.close(),c=null},g=b=>{let w=this.processMessageEventMessage(b);w&&w!==null?(window.removeEventListener("storage",y),l(w)):console.log("false event firing")},y=b=>{b.key==="auth_hash"&&(window.removeEventListener("message",g),l(b.newValue))};window.addEventListener("message",g),window.addEventListener("storage",y)}))}calculatePopupFeatures(n){let r=n.height||470,s=n.width||500,o=window.screenLeft+(window.outerWidth-s)/2,a=window.screenTop+(window.outerHeight-r)/2;return`location=no,toolbar=no,width=${s},height=${r},top=${a},left=${o}`}processMessageEventMessage(n){let r="#";if(this.silentRefreshMessagePrefix&&(r+=this.silentRefreshMessagePrefix),!n||!n.data||typeof n.data!="string")return;let s=n.data;if(s.startsWith(r))return"#"+s.substr(r.length)}canPerformSessionCheck(){return this.sessionChecksEnabled?this.sessionCheckIFrameUrl?this.getSessionState()?!(typeof this.document>"u"):(console.warn("sessionChecksEnabled is activated but there is no session_state"),!1):(console.warn("sessionChecksEnabled is activated but there is no sessionCheckIFrameUrl"),!1):!1}setupSessionCheckEventListener(){this.removeSessionCheckEventListener(),this.sessionCheckEventListener=n=>{let r=n.origin.toLowerCase(),s=this.issuer.toLowerCase();if(this.debug("sessionCheckEventListener"),!s.startsWith(r)){this.debug("sessionCheckEventListener","wrong origin",r,"expected",s,"event",n);return}switch(n.data){case"unchanged":this.ngZone.run(()=>{this.handleSessionUnchanged()});break;case"changed":this.ngZone.run(()=>{this.handleSessionChange()});break;case"error":this.ngZone.run(()=>{this.handleSessionError()});break}this.debug("got info from session check inframe",n)},this.ngZone.runOutsideAngular(()=>{window.addEventListener("message",this.sessionCheckEventListener)})}handleSessionUnchanged(){this.debug("session check","session unchanged"),this.eventsSubject.next(new Fn("session_unchanged"))}handleSessionChange(){this.eventsSubject.next(new Fn("session_changed")),this.stopSessionCheckTimer(),!this.useSilentRefresh&&this.responseType==="code"?this.refreshToken().then(()=>{this.debug("token refresh after session change worked")}).catch(()=>{this.debug("token refresh did not work after session changed"),this.eventsSubject.next(new Fn("session_terminated")),this.logOut(!0)}):this.silentRefreshRedirectUri?(this.silentRefresh().catch(()=>this.debug("silent refresh failed after session changed")),this.waitForSilentRefreshAfterSessionChange()):(this.eventsSubject.next(new Fn("session_terminated")),this.logOut(!0))}waitForSilentRefreshAfterSessionChange(){this.events.pipe(x(n=>n.type==="silently_refreshed"||n.type==="silent_refresh_timeout"||n.type==="silent_refresh_error"),Rt()).subscribe(n=>{n.type!=="silently_refreshed"&&(this.debug("silent refresh did not work after session changed"),this.eventsSubject.next(new Fn("session_terminated")),this.logOut(!0))})}handleSessionError(){this.stopSessionCheckTimer(),this.eventsSubject.next(new Fn("session_error"))}removeSessionCheckEventListener(){this.sessionCheckEventListener&&(window.removeEventListener("message",this.sessionCheckEventListener),this.sessionCheckEventListener=null)}initSessionCheck(){if(!this.canPerformSessionCheck())return;let n=this.document.getElementById(this.sessionCheckIFrameName);n&&this.document.body.removeChild(n);let r=this.document.createElement("iframe");r.id=this.sessionCheckIFrameName,this.setupSessionCheckEventListener();let s=this.sessionCheckIFrameUrl;r.setAttribute("src",s),r.style.display="none",this.document.body.appendChild(r),this.startSessionCheckTimer()}startSessionCheckTimer(){this.stopSessionCheckTimer(),this.ngZone.runOutsideAngular(()=>{this.sessionCheckTimer=setInterval(this.checkSession.bind(this),this.sessionCheckIntervall)})}stopSessionCheckTimer(){this.sessionCheckTimer&&(clearInterval(this.sessionCheckTimer),this.sessionCheckTimer=null)}checkSession(){let n=this.document.getElementById(this.sessionCheckIFrameName);n||this.logger.warn("checkSession did not find iframe",this.sessionCheckIFrameName);let r=this.getSessionState();r||this.stopSessionCheckTimer();let s=this.clientId+" "+r;n.contentWindow.postMessage(s,this.issuer)}createLoginUrl(){return nt(this,arguments,function*(n="",r="",s="",o=!1,a={}){let c=this,u;s?u=s:u=this.redirectUri;let l=yield this.createAndSaveNonce();if(n?n=l+this.config.nonceStateSeparator+encodeURIComponent(n):n=l,!this.requestAccessToken&&!this.oidc)throw new Error("Either requestAccessToken or oidc or both must be true");this.config.responseType?this.responseType=this.config.responseType:this.oidc&&this.requestAccessToken?this.responseType="id_token token":this.oidc&&!this.requestAccessToken?this.responseType="id_token":this.responseType="token";let f=c.loginUrl.indexOf("?")>-1?"&":"?",h=c.scope;this.oidc&&!h.match(/(^|\s)openid($|\s)/)&&(h="openid "+h);let g=c.loginUrl+f+"response_type="+encodeURIComponent(c.responseType)+"&client_id="+encodeURIComponent(c.clientId)+"&state="+encodeURIComponent(n)+"&redirect_uri="+encodeURIComponent(u)+"&scope="+encodeURIComponent(h);if(this.responseType.includes("code")&&!this.disablePKCE){let[y,b]=yield this.createChallangeVerifierPairForPKCE();this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.setItem("PKCE_verifier",b):this._storage.setItem("PKCE_verifier",b),g+="&code_challenge="+y,g+="&code_challenge_method=S256"}r&&(g+="&login_hint="+encodeURIComponent(r)),c.resource&&(g+="&resource="+encodeURIComponent(c.resource)),c.oidc&&(g+="&nonce="+encodeURIComponent(l)),o&&(g+="&prompt=none");for(let y of Object.keys(a))g+="&"+encodeURIComponent(y)+"="+encodeURIComponent(a[y]);if(this.customQueryParams)for(let y of Object.getOwnPropertyNames(this.customQueryParams))g+="&"+y+"="+encodeURIComponent(this.customQueryParams[y]);return g})}initImplicitFlowInternal(n="",r=""){if(this.inImplicitFlow)return;if(this.inImplicitFlow=!0,!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");let s={},o=null;typeof r=="string"?o=r:typeof r=="object"&&(s=r),this.createLoginUrl(n,o,null,!1,s).then(this.config.openUri).catch(a=>{console.error("Error in initImplicitFlow",a),this.inImplicitFlow=!1})}initImplicitFlow(n="",r=""){this.loginUrl!==""?this.initImplicitFlowInternal(n,r):this.events.pipe(x(s=>s.type==="discovery_document_loaded")).subscribe(()=>this.initImplicitFlowInternal(n,r))}resetImplicitFlow(){this.inImplicitFlow=!1}callOnTokenReceivedIfExists(n){let r=this;if(n.onTokenReceived){let s={idClaims:r.getIdentityClaims(),idToken:r.getIdToken(),accessToken:r.getAccessToken(),state:r.state};n.onTokenReceived(s)}}storeAccessTokenResponse(n,r,s,o,a){if(this._storage.setItem("access_token",n),o&&!Array.isArray(o)?this._storage.setItem("granted_scopes",JSON.stringify(o.split(" "))):o&&Array.isArray(o)&&this._storage.setItem("granted_scopes",JSON.stringify(o)),this._storage.setItem("access_token_stored_at",""+this.dateTimeService.now()),s){let c=s*1e3,l=this.dateTimeService.new().getTime()+c;this._storage.setItem("expires_at",""+l)}r&&this._storage.setItem("refresh_token",r),a&&a.forEach((c,u)=>{this._storage.setItem(u,c)})}tryLogin(n=null){return this.config.responseType==="code"?this.tryLoginCodeFlow(n).then(()=>!0):this.tryLoginImplicitFlow(n)}parseQueryString(n){return!n||n.length===0?{}:(n.charAt(0)==="?"&&(n=n.substr(1)),this.urlHelper.parseQueryString(n))}tryLoginCodeFlow(n=null){return nt(this,null,function*(){n=n||{};let r=n.customHashFragment?n.customHashFragment.substring(1):window.location.search,s=this.getCodePartsFromUrl(r),o=s.code,a=s.state,c=s.session_state;if(!n.preventClearHashAfterLogin){let f=location.origin+location.pathname+location.search.replace(/code=[^&$]*/,"").replace(/scope=[^&$]*/,"").replace(/state=[^&$]*/,"").replace(/session_state=[^&$]*/,"").replace(/^\?&/,"?").replace(/&$/,"").replace(/^\?$/,"").replace(/&+/g,"&").replace(/\?&/,"?").replace(/\?$/,"")+location.hash;history.replaceState(null,window.name,f)}let[u,l]=this.parseState(a);if(this.state=l,s.error){this.debug("error trying to login"),this.handleLoginError(n,s);let f=new Ve("code_error",{},s);return this.eventsSubject.next(f),Promise.reject(f)}if(!n.disableNonceCheck){if(!u)return this.saveRequestedRoute(),Promise.resolve();if(!n.disableOAuth2StateCheck&&!this.validateNonce(u)){let h=new Ve("invalid_nonce_in_state",null);return this.eventsSubject.next(h),Promise.reject(h)}}return this.storeSessionState(c),o&&(yield this.getTokenFromCode(o,n),this.restoreRequestedRoute()),Promise.resolve()})}saveRequestedRoute(){this.config.preserveRequestedRoute&&this._storage.setItem("requested_route",window.location.pathname+window.location.search)}restoreRequestedRoute(){let n=this._storage.getItem("requested_route");n&&history.replaceState(null,"",window.location.origin+n)}getCodePartsFromUrl(n){return!n||n.length===0?this.urlHelper.getHashFragmentParams():(n.charAt(0)==="?"&&(n=n.substr(1)),this.urlHelper.parseQueryString(n))}getTokenFromCode(n,r){let s=new ze({encoder:new cs}).set("grant_type","authorization_code").set("code",n).set("redirect_uri",r.customRedirectUri||this.redirectUri);if(!this.disablePKCE){let o;this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?o=localStorage.getItem("PKCE_verifier"):o=this._storage.getItem("PKCE_verifier"),o?s=s.set("code_verifier",o):console.warn("No PKCE verifier found in oauth storage!")}return this.fetchAndProcessToken(s,r)}fetchAndProcessToken(n,r){r=r||{},this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint");let s=new le().set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){let o=btoa(`${this.clientId}:${this.dummyClientSecret}`);s=s.set("Authorization","Basic "+o)}return this.useHttpBasicAuth||(n=n.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(n=n.set("client_secret",this.dummyClientSecret)),new Promise((o,a)=>{if(this.customQueryParams)for(let c of Object.getOwnPropertyNames(this.customQueryParams))n=n.set(c,this.customQueryParams[c]);this.http.post(this.tokenEndpoint,n,{headers:s}).subscribe(c=>{this.debug("refresh tokenResponse",c),this.storeAccessTokenResponse(c.access_token,c.refresh_token,c.expires_in||this.fallbackAccessTokenExpirationTimeInSec,c.scope,this.extractRecognizedCustomParameters(c)),this.oidc&&c.id_token?this.processIdToken(c.id_token,c.access_token,r.disableNonceCheck).then(u=>{this.storeIdToken(u),this.eventsSubject.next(new _t("token_received")),this.eventsSubject.next(new _t("token_refreshed")),o(c)}).catch(u=>{this.eventsSubject.next(new Ve("token_validation_error",u)),console.error("Error validating tokens"),console.error(u),a(u)}):(this.eventsSubject.next(new _t("token_received")),this.eventsSubject.next(new _t("token_refreshed")),o(c))},c=>{console.error("Error getting token",c),this.eventsSubject.next(new Ve("token_refresh_error",c)),a(c)})})}tryLoginImplicitFlow(n=null){n=n||{};let r;n.customHashFragment?r=this.urlHelper.getHashFragmentParams(n.customHashFragment):r=this.urlHelper.getHashFragmentParams(),this.debug("parsed url",r);let s=r.state,[o,a]=this.parseState(s);if(this.state=a,r.error){this.debug("error trying to login"),this.handleLoginError(n,r);let h=new Ve("token_error",{},r);return this.eventsSubject.next(h),Promise.reject(h)}let c=r.access_token,u=r.id_token,l=r.session_state,f=r.scope;if(!this.requestAccessToken&&!this.oidc)return Promise.reject("Either requestAccessToken or oidc (or both) must be true.");if(this.requestAccessToken&&!c||this.requestAccessToken&&!n.disableOAuth2StateCheck&&!s||this.oidc&&!u)return Promise.resolve(!1);if(this.sessionChecksEnabled&&!l&&this.logger.warn("session checks (Session Status Change Notification) were activated in the configuration but the id_token does not contain a session_state claim"),this.requestAccessToken&&!n.disableNonceCheck&&!this.validateNonce(o)){let g=new Ve("invalid_nonce_in_state",null);return this.eventsSubject.next(g),Promise.reject(g)}return this.requestAccessToken&&this.storeAccessTokenResponse(c,null,r.expires_in||this.fallbackAccessTokenExpirationTimeInSec,f),this.oidc?this.processIdToken(u,c,n.disableNonceCheck).then(h=>n.validationHandler?n.validationHandler({accessToken:c,idClaims:h.idTokenClaims,idToken:h.idToken,state:s}).then(()=>h):h).then(h=>(this.storeIdToken(h),this.storeSessionState(l),this.clearHashAfterLogin&&!n.preventClearHashAfterLogin&&this.clearLocationHash(),this.eventsSubject.next(new _t("token_received")),this.callOnTokenReceivedIfExists(n),this.inImplicitFlow=!1,!0)).catch(h=>(this.eventsSubject.next(new Ve("token_validation_error",h)),this.logger.error("Error validating tokens"),this.logger.error(h),Promise.reject(h))):(this.eventsSubject.next(new _t("token_received")),this.clearHashAfterLogin&&!n.preventClearHashAfterLogin&&this.clearLocationHash(),this.callOnTokenReceivedIfExists(n),Promise.resolve(!0))}parseState(n){let r=n,s="";if(n){let o=n.indexOf(this.config.nonceStateSeparator);o>-1&&(r=n.substr(0,o),s=n.substr(o+this.config.nonceStateSeparator.length))}return[r,s]}validateNonce(n){let r;return this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?r=localStorage.getItem("nonce"):r=this._storage.getItem("nonce"),r!==n?(console.error("Validating access_token failed, wrong state/nonce.",r,n),!1):!0}storeIdToken(n){this._storage.setItem("id_token",n.idToken),this._storage.setItem("id_token_claims_obj",n.idTokenClaimsJson),this._storage.setItem("id_token_expires_at",""+n.idTokenExpiresAt),this._storage.setItem("id_token_stored_at",""+this.dateTimeService.now())}storeSessionState(n){this._storage.setItem("session_state",n)}getSessionState(){return this._storage.getItem("session_state")}handleLoginError(n,r){n.onLoginError&&n.onLoginError(r),this.clearHashAfterLogin&&!n.preventClearHashAfterLogin&&this.clearLocationHash()}getClockSkewInMsec(n=6e5){return!this.clockSkewInSec&&this.clockSkewInSec!==0?n:this.clockSkewInSec*1e3}processIdToken(n,r,s=!1){let o=n.split("."),a=this.padBase64(o[0]),c=RM(a),u=JSON.parse(c),l=this.padBase64(o[1]),f=RM(l),h=JSON.parse(f),g;if(this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?g=localStorage.getItem("nonce"):g=this._storage.getItem("nonce"),Array.isArray(h.aud)){if(h.aud.every(U=>U!==this.clientId)){let U="Wrong audience: "+h.aud.join(",");return this.logger.warn(U),Promise.reject(U)}}else if(h.aud!==this.clientId){let U="Wrong audience: "+h.aud;return this.logger.warn(U),Promise.reject(U)}if(!h.sub){let U="No sub claim in id_token";return this.logger.warn(U),Promise.reject(U)}if(this.sessionChecksEnabled&&this.silentRefreshSubject&&this.silentRefreshSubject!==h.sub){let U=`After refreshing, we got an id_token for another user (sub). Expected sub: ${this.silentRefreshSubject}, received sub: ${h.sub}`;return this.logger.warn(U),Promise.reject(U)}if(!h.iat){let U="No iat claim in id_token";return this.logger.warn(U),Promise.reject(U)}if(!this.skipIssuerCheck&&h.iss!==this.issuer){let U="Wrong issuer: "+h.iss;return this.logger.warn(U),Promise.reject(U)}if(!s&&h.nonce!==g){let U="Wrong nonce: "+h.nonce;return this.logger.warn(U),Promise.reject(U)}if(Object.prototype.hasOwnProperty.call(this,"responseType")&&(this.responseType==="code"||this.responseType==="id_token")&&(this.disableAtHashCheck=!0),!this.disableAtHashCheck&&this.requestAccessToken&&!h.at_hash){let U="An at_hash is needed!";return this.logger.warn(U),Promise.reject(U)}let y=this.dateTimeService.now(),b=h.iat*1e3,w=h.exp*1e3,R=this.getClockSkewInMsec();if(b-R>=y||w+R-this.decreaseExpirationBySec<=y){let U="Token has expired";return console.error(U),console.error({now:y,issuedAtMSec:b,expiresAtMSec:w}),Promise.reject(U)}let k={accessToken:r,idToken:n,jwks:this.jwks,idTokenClaims:h,idTokenHeader:u,loadKeys:()=>this.loadJwks()};return this.disableAtHashCheck?this.checkSignature(k).then(()=>({idToken:n,idTokenClaims:h,idTokenClaimsJson:f,idTokenHeader:u,idTokenHeaderJson:c,idTokenExpiresAt:w})):this.checkAtHash(k).then(U=>{if(!this.disableAtHashCheck&&this.requestAccessToken&&!U){let H="Wrong at_hash";return this.logger.warn(H),Promise.reject(H)}return this.checkSignature(k).then(()=>{let H=!this.disableAtHashCheck,te={idToken:n,idTokenClaims:h,idTokenClaimsJson:f,idTokenHeader:u,idTokenHeaderJson:c,idTokenExpiresAt:w};return H?this.checkAtHash(k).then(ue=>{if(this.requestAccessToken&&!ue){let fe="Wrong at_hash";return this.logger.warn(fe),Promise.reject(fe)}else return te}):te})})}getIdentityClaims(){let n=this._storage.getItem("id_token_claims_obj");return n?JSON.parse(n):null}getGrantedScopes(){let n=this._storage.getItem("granted_scopes");return n?JSON.parse(n):null}getIdToken(){return this._storage?this._storage.getItem("id_token"):null}padBase64(n){for(;n.length%4!==0;)n+="=";return n}getAccessToken(){return this._storage?this._storage.getItem("access_token"):null}getRefreshToken(){return this._storage?this._storage.getItem("refresh_token"):null}getAccessTokenExpiration(){return this._storage.getItem("expires_at")?parseInt(this._storage.getItem("expires_at"),10):null}getAccessTokenStoredAt(){return parseInt(this._storage.getItem("access_token_stored_at"),10)}getIdTokenStoredAt(){return parseInt(this._storage.getItem("id_token_stored_at"),10)}getIdTokenExpiration(){return this._storage.getItem("id_token_expires_at")?parseInt(this._storage.getItem("id_token_expires_at"),10):null}hasValidAccessToken(){if(this.getAccessToken()){let n=this._storage.getItem("expires_at"),r=this.dateTimeService.new();return!(n&&parseInt(n,10)-this.decreaseExpirationBySec<r.getTime()-this.getClockSkewInMsec())}return!1}hasValidIdToken(){if(this.getIdToken()){let n=this._storage.getItem("id_token_expires_at"),r=this.dateTimeService.new();return!(n&&parseInt(n,10)-this.decreaseExpirationBySec<r.getTime()-this.getClockSkewInMsec())}return!1}getCustomTokenResponseProperty(n){return this._storage&&this.config.customTokenParameters&&this.config.customTokenParameters.indexOf(n)>=0&&this._storage.getItem(n)!==null?JSON.parse(this._storage.getItem(n)):null}authorizationHeader(){return"Bearer "+this.getAccessToken()}logOut(n={},r=""){let s=!1;typeof n=="boolean"&&(s=n,n={});let o=this.getIdToken();if(this._storage.removeItem("access_token"),this._storage.removeItem("id_token"),this._storage.removeItem("refresh_token"),this.saveNoncesInLocalStorage?(localStorage.removeItem("nonce"),localStorage.removeItem("PKCE_verifier")):(this._storage.removeItem("nonce"),this._storage.removeItem("PKCE_verifier")),this._storage.removeItem("expires_at"),this._storage.removeItem("id_token_claims_obj"),this._storage.removeItem("id_token_expires_at"),this._storage.removeItem("id_token_stored_at"),this._storage.removeItem("access_token_stored_at"),this._storage.removeItem("granted_scopes"),this._storage.removeItem("session_state"),this.config.customTokenParameters&&this.config.customTokenParameters.forEach(c=>this._storage.removeItem(c)),this.silentRefreshSubject=null,this.eventsSubject.next(new Fn("logout")),!this.logoutUrl||s)return;let a;if(!this.validateUrlForHttps(this.logoutUrl))throw new Error("logoutUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");if(this.logoutUrl.indexOf("{{")>-1)a=this.logoutUrl.replace(/\{\{id_token\}\}/,encodeURIComponent(o)).replace(/\{\{client_id\}\}/,encodeURIComponent(this.clientId));else{let c=new ze({encoder:new cs});o&&(c=c.set("id_token_hint",o));let u=this.postLogoutRedirectUri||this.redirectUriAsPostLogoutRedirectUriFallback&&this.redirectUri||"";u&&(c=c.set("post_logout_redirect_uri",u),r&&(c=c.set("state",r)));for(let l in n)c=c.set(l,n[l]);a=this.logoutUrl+(this.logoutUrl.indexOf("?")>-1?"&":"?")+c.toString()}this.config.openUri(a)}createAndSaveNonce(){let n=this;return this.createNonce().then(function(r){return n.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.setItem("nonce",r):n._storage.setItem("nonce",r),r})}ngOnDestroy(){this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.removeSilentRefreshEventListener();let n=this.document.getElementById(this.silentRefreshIFrameName);n&&n.remove(),this.stopSessionCheckTimer(),this.removeSessionCheckEventListener();let r=this.document.getElementById(this.sessionCheckIFrameName);r&&r.remove()}createNonce(){return new Promise(n=>{if(this.rngUrl)throw new Error("createNonce with rng-web-api has not been implemented so far");let r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=45,o="",a=typeof self>"u"?null:self.crypto||self.msCrypto;if(a){let c=new Uint8Array(s);a.getRandomValues(c),c.map||(c.map=Array.prototype.map),c=c.map(u=>r.charCodeAt(u%r.length)),o=String.fromCharCode.apply(null,c)}else for(;0<s--;)o+=r[Math.random()*r.length|0];n(MM(o))})}checkAtHash(n){return nt(this,null,function*(){return this.tokenValidationHandler?this.tokenValidationHandler.validateAtHash(n):(this.logger.warn("No tokenValidationHandler configured. Cannot check at_hash."),!0)})}checkSignature(n){return this.tokenValidationHandler?this.tokenValidationHandler.validateSignature(n):(this.logger.warn("No tokenValidationHandler configured. Cannot check signature."),Promise.resolve(null))}initLoginFlow(n="",r={}){return this.responseType==="code"?this.initCodeFlow(n,r):this.initImplicitFlow(n,r)}initCodeFlow(n="",r={}){this.loginUrl!==""?this.initCodeFlowInternal(n,r):this.events.pipe(x(s=>s.type==="discovery_document_loaded")).subscribe(()=>this.initCodeFlowInternal(n,r))}initCodeFlowInternal(n="",r={}){if(!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");let s={},o=null;typeof r=="string"?o=r:typeof r=="object"&&(s=r),this.createLoginUrl(n,o,null,!1,s).then(this.config.openUri).catch(a=>{console.error("Error in initAuthorizationCodeFlow"),console.error(a)})}createChallangeVerifierPairForPKCE(){return nt(this,null,function*(){if(!this.crypto)throw new Error("PKCE support for code flow needs a CryptoHander. Did you import the OAuthModule using forRoot() ?");let n=yield this.createNonce(),r=yield this.crypto.calcHash(n,"sha-256");return[MM(r),n]})}extractRecognizedCustomParameters(n){let r=new Map;return this.config.customTokenParameters&&this.config.customTokenParameters.forEach(s=>{n[s]&&r.set(s,JSON.stringify(n[s]))}),r}revokeTokenAndLogout(n={},r=!1){let s=this.revocationEndpoint,o=this.getAccessToken(),a=this.getRefreshToken();if(!o)return Promise.resolve();let c=new ze({encoder:new cs}),u=new le().set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){let l=btoa(`${this.clientId}:${this.dummyClientSecret}`);u=u.set("Authorization","Basic "+l)}if(this.useHttpBasicAuth||(c=c.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(c=c.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(let l of Object.getOwnPropertyNames(this.customQueryParams))c=c.set(l,this.customQueryParams[l]);return new Promise((l,f)=>{let h,g;if(o){let y=c.set("token",o).set("token_type_hint","access_token");h=this.http.post(s,y,{headers:u})}else h=I(null);if(a){let y=c.set("token",a).set("token_type_hint","refresh_token");g=this.http.post(s,y,{headers:u})}else g=I(null);r&&(h=h.pipe(F(y=>y.status===0?I(null):Mt(y))),g=g.pipe(F(y=>y.status===0?I(null):Mt(y)))),Pe([h,g]).subscribe(y=>{this.logOut(n),l(y),this.logger.info("Token successfully revoked")},y=>{this.logger.error("Error revoking token",y),this.eventsSubject.next(new Ve("token_revoke_error",y)),f(y)})})}clearLocationHash(){location.hash!=""&&(location.hash="")}};e.\u0275fac=function(r){return new(r||e)(d(Ce),d(Le),d(us,8),d(Vd,8),d(mo,8),d(xM),d(Bd),d(Hd,8),d(_e),d(uc))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),zd=class{},GE=class{handleError(e){return Mt(e)}},Wz=(()=>{let e=class e{constructor(n,r,s){this.oAuthService=n,this.errorHandler=r,this.moduleConfig=s}checkUrl(n){return this.moduleConfig.resourceServer.customUrlValidation?this.moduleConfig.resourceServer.customUrlValidation(n):this.moduleConfig.resourceServer.allowedUrls?!!this.moduleConfig.resourceServer.allowedUrls.find(r=>n.toLowerCase().startsWith(r.toLowerCase())):!0}intercept(n,r){let s=n.url.toLowerCase();return!this.moduleConfig||!this.moduleConfig.resourceServer||!this.checkUrl(s)?r.handle(n):this.moduleConfig.resourceServer.sendAccessToken?on(I(this.oAuthService.getAccessToken()).pipe(x(a=>!!a)),this.oAuthService.events.pipe(x(a=>a.type==="token_received"),Jo(this.oAuthService.waitForTokenInMsec||0),F(()=>I(null)),E(()=>this.oAuthService.getAccessToken()))).pipe(oe(1),G(a=>{if(a){let c="Bearer "+a,u=n.headers.set("Authorization",c);n=n.clone({headers:u})}return r.handle(n).pipe(F(c=>this.errorHandler.handleError(c)))})):r.handle(n).pipe(F(a=>this.errorHandler.handleError(a)))}};e.\u0275fac=function(r){return new(r||e)(d(Gd),d(zd),d($d,8))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})();function qz(){return console}function Yz(){return typeof sessionStorage<"u"?sessionStorage:new jz}function Kz(t=null,e=jd){return rr([Gd,xM,{provide:Bd,useFactory:qz},{provide:us,useFactory:Yz},{provide:Vd,useClass:e},{provide:Hd,useClass:Gz},{provide:zd,useClass:GE},{provide:$d,useValue:t},{provide:pn,useClass:Wz,multi:!0},{provide:uc,useClass:Uz}])}var OM=(()=>{let e=class e{static forRoot(n=null,r=jd){return{ngModule:e,providers:[Kz(n,r)]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({imports:[Ze]});let t=e;return t})();var bae=new S("AUTH_CONFIG");var LM="@ngrx/router-store/request",Pae=pi(LM,oo()),Yd="@ngrx/router-store/navigation",Fae=pi(Yd,oo()),Kd="@ngrx/router-store/cancel",_ae=pi(Kd,oo()),Zd="@ngrx/router-store/error",Lae=pi(Zd,oo()),Qd="@ngrx/router-store/navigated",kae=pi(Qd,oo());var Wd=class{serialize(e){return{root:this.serializeRoute(e.root),url:e.url}}serializeRoute(e){let i=e.children.map(n=>this.serializeRoute(n));return{params:e.params,data:e.data,url:e.url,outlet:e.outlet,title:e.title,routeConfig:e.routeConfig?{path:e.routeConfig.path,pathMatch:e.routeConfig.pathMatch,redirectTo:e.routeConfig.redirectTo,outlet:e.routeConfig.outlet,title:typeof e.routeConfig.title=="string"?e.routeConfig.title:void 0}:null,queryParams:e.queryParams,fragment:e.fragment,firstChild:i[0],children:i}}},WE=function(t){return t[t.PreActivation=1]="PreActivation",t[t.PostActivation=2]="PostActivation",t}(WE||{}),Qz="router",PM=new S("@ngrx/router-store Internal Configuration"),kM=new S("@ngrx/router-store Configuration");function Jz(t){return v({stateKey:Qz,serializer:Wd,navigationActionTiming:WE.PreActivation},t)}var qd=class{serialize(e){return{root:this.serializeRoute(e.root),url:e.url}}serializeRoute(e){let i=e.children.map(n=>this.serializeRoute(n));return{params:e.params,paramMap:e.paramMap,data:e.data,url:e.url,outlet:e.outlet,title:e.title,routeConfig:e.routeConfig?{component:e.routeConfig.component,path:e.routeConfig.path,pathMatch:e.routeConfig.pathMatch,redirectTo:e.routeConfig.redirectTo,outlet:e.routeConfig.outlet,title:e.routeConfig.title}:null,queryParams:e.queryParams,queryParamMap:e.queryParamMap,fragment:e.fragment,component:e.routeConfig?e.routeConfig.component:void 0,root:void 0,parent:void 0,firstChild:i[0],pathFromRoot:void 0,children:i}}},vo=class{},hr=function(t){return t[t.NONE=1]="NONE",t[t.ROUTER=2]="ROUTER",t[t.STORE=3]="STORE",t}(hr||{}),FM=(()=>{let e=class e{constructor(n,r,s,o,a,c){this.store=n,this.router=r,this.serializer=s,this.errorHandler=o,this.config=a,this.activeRuntimeChecks=c,this.lastEvent=null,this.routerState=null,this.trigger=hr.NONE,this.stateKey=this.config.stateKey,!eE()&&ge()&&(c?.strictActionSerializability||c?.strictStateSerializability)&&this.serializer instanceof qd&&console.warn("@ngrx/router-store: The serializability runtime checks cannot be enabled with the FullRouterStateSerializer. The FullRouterStateSerializer has an unserializable router state and actions that are not serializable. To use the serializability runtime checks either use the MinimalRouterStateSerializer or implement a custom router state serializer."),this.setUpStoreStateListener(),this.setUpRouterEventsListener()}setUpStoreStateListener(){this.store.pipe(M(this.stateKey),rt(this.store)).subscribe(([n,r])=>{this.navigateIfNeeded(n,r)})}navigateIfNeeded(n,r){if(!n||!n.state||this.trigger===hr.ROUTER||this.lastEvent instanceof mn)return;let s=n.state.url;Xz(this.router.url,s)||(this.storeState=r,this.trigger=hr.STORE,this.router.navigateByUrl(s).catch(o=>{this.errorHandler.handleError(o)}))}setUpRouterEventsListener(){let n=this.config.navigationActionTiming===WE.PostActivation,r;this.router.events.pipe(rt(this.store)).subscribe(([s,o])=>{this.lastEvent=s,s instanceof mn?(this.routerState=this.serializer.serialize(this.router.routerState.snapshot),this.trigger!==hr.STORE&&(this.storeState=o,this.dispatchRouterRequest(s))):s instanceof os?(r=s,!n&&this.trigger!==hr.STORE&&this.dispatchRouterNavigation(s)):s instanceof vn?(this.dispatchRouterCancel(s),this.reset()):s instanceof dr?(this.dispatchRouterError(s),this.reset()):s instanceof st&&(this.trigger!==hr.STORE&&(n&&this.dispatchRouterNavigation(r),this.dispatchRouterNavigated(s)),this.reset())})}dispatchRouterRequest(n){this.dispatchRouterAction(LM,{event:n})}dispatchRouterNavigation(n){let r=this.serializer.serialize(n.state);this.dispatchRouterAction(Yd,{routerState:r,event:new os(n.id,n.url,n.urlAfterRedirects,r)})}dispatchRouterCancel(n){this.dispatchRouterAction(Kd,{storeState:this.storeState,event:n})}dispatchRouterError(n){this.dispatchRouterAction(Zd,{storeState:this.storeState,event:new dr(n.id,n.url,`${n}`)})}dispatchRouterNavigated(n){let r=this.serializer.serialize(this.router.routerState.snapshot);this.dispatchRouterAction(Qd,{event:n,routerState:r})}dispatchRouterAction(n,r){this.trigger=hr.ROUTER;try{this.store.dispatch({type:n,payload:T(v({routerState:this.routerState},r),{event:this.config.routerState===0?r.event:{id:r.event.id,url:r.event.url,urlAfterRedirects:r.event.urlAfterRedirects}})})}finally{this.trigger=hr.NONE}}reset(){this.trigger=hr.NONE,this.storeState=null,this.routerState=null}};e.\u0275fac=function(r){return new(r||e)(d(me),d(Ne),d(vo),d(It),d(kM),d(ts))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})();function Xz(t,e){return _M(t)===_M(e)}function _M(t){return t?.length>0&&t[t.length-1]==="/"?t.substring(0,t.length-1):t}function eG(t={}){return rr([{provide:PM,useValue:t},{provide:kM,useFactory:Jz,deps:[PM]},{provide:vo,useClass:t.serializer?t.serializer:t.routerState===0?qd:Wd},{provide:er,multi:!0,useFactory(){return()=>C(FM)}},FM])}var UM=(()=>{let e=class e{static forRoot(n={}){return{ngModule:e,providers:[eG(n)]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})();function qE(t){"@babel/helpers - typeof";return qE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qE(t)}var jM=[],jae=jM.forEach,$ae=jM.slice;function YE(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":qE(XMLHttpRequest))==="object"}function nG(t){return!!t&&typeof t.then=="function"}function $M(t){return nG(t)?t:Promise.resolve(t)}var tf=kF(zM(),1);function GM(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),i.push.apply(i,n)}return i}function WM(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?GM(Object(i),!0).forEach(function(n){rG(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):GM(Object(i)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}function rG(t,e,i){return e=iG(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function iG(t){var e=sG(t,"string");return ls(e)=="symbol"?e:e+""}function sG(t,e){if(ls(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(ls(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ls(t){"@babel/helpers - typeof";return ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ls(t)}var Vr;typeof fetch=="function"&&(typeof global<"u"&&global.fetch?Vr=global.fetch:typeof window<"u"&&window.fetch?Vr=window.fetch:Vr=fetch);var fc;YE()&&(typeof global<"u"&&global.XMLHttpRequest?fc=global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(fc=window.XMLHttpRequest));var nf;typeof ActiveXObject=="function"&&(typeof global<"u"&&global.ActiveXObject?nf=global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(nf=window.ActiveXObject));!Vr&&tf&&!fc&&!nf&&(Vr=tf.default||tf);typeof Vr!="function"&&(Vr=void 0);var ZE=function(e,i){if(i&&ls(i)==="object"){var n="";for(var r in i)n+="&"+encodeURIComponent(r)+"="+encodeURIComponent(i[r]);if(!n)return e;e=e+(e.indexOf("?")!==-1?"&":"?")+n.slice(1)}return e},qM=function(e,i,n,r){var s=function(c){if(!c.ok)return n(c.statusText||"Error",{status:c.status});c.text().then(function(u){n(null,{status:c.status,data:u})}).catch(n)};if(r){var o=r(e,i);if(o instanceof Promise){o.then(s).catch(n);return}}typeof fetch=="function"?fetch(e,i).then(s).catch(n):Vr(e,i).then(s).catch(n)},YM=!1,oG=function(e,i,n,r){e.queryStringParams&&(i=ZE(i,e.queryStringParams));var s=WM({},typeof e.customHeaders=="function"?e.customHeaders():e.customHeaders);typeof window>"u"&&typeof global<"u"&&typeof global.process<"u"&&global.process.versions&&global.process.versions.node&&(s["User-Agent"]="i18next-http-backend (node/".concat(global.process.version,"; ").concat(global.process.platform," ").concat(global.process.arch,")")),n&&(s["Content-Type"]="application/json");var o=typeof e.requestOptions=="function"?e.requestOptions(n):e.requestOptions,a=WM({method:n?"POST":"GET",body:n?e.stringify(n):void 0,headers:s},YM?{}:o),c=typeof e.alternateFetch=="function"&&e.alternateFetch.length>=1?e.alternateFetch:void 0;try{qM(i,a,r,c)}catch(u){if(!o||Object.keys(o).length===0||!u.message||u.message.indexOf("not implemented")<0)return r(u);try{Object.keys(o).forEach(function(l){delete a[l]}),qM(i,a,r,c),YM=!0}catch(l){r(l)}}},aG=function(e,i,n,r){n&&ls(n)==="object"&&(n=ZE("",n).slice(1)),e.queryStringParams&&(i=ZE(i,e.queryStringParams));try{var s;fc?s=new fc:s=new nf("MSXML2.XMLHTTP.3.0"),s.open(n?"POST":"GET",i,1),e.crossDomain||s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s.withCredentials=!!e.withCredentials,n&&s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.overrideMimeType&&s.overrideMimeType("application/json");var o=e.customHeaders;if(o=typeof o=="function"?o():o,o)for(var a in o)s.setRequestHeader(a,o[a]);s.onreadystatechange=function(){s.readyState>3&&r(s.status>=400?s.statusText:null,{status:s.status,data:s.responseText})},s.send(n)}catch(c){console&&console.log(c)}},cG=function(e,i,n,r){if(typeof n=="function"&&(r=n,n=void 0),r=r||function(){},Vr&&i.indexOf("file:")!==0)return oG(e,i,n,r);if(YE()||typeof ActiveXObject=="function")return aG(e,i,n,r);r(new Error("No fetch and no xhr implementation found!"))},KM=cG;function Eo(t){"@babel/helpers - typeof";return Eo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eo(t)}function ZM(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),i.push.apply(i,n)}return i}function QE(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?ZM(Object(i),!0).forEach(function(n){JM(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ZM(Object(i)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}function uG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QM(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,XM(n.key),n)}}function lG(t,e,i){return e&&QM(t.prototype,e),i&&QM(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function JM(t,e,i){return e=XM(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function XM(t){var e=dG(t,"string");return Eo(e)=="symbol"?e:e+""}function dG(t,e){if(Eo(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(Eo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fG=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(i){return JSON.parse(i)},stringify:JSON.stringify,parsePayload:function(i,n,r){return JM({},n,r||"")},parseLoadPayload:function(i,n){},request:KM,reloadInterval:typeof window<"u"?!1:60*60*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},ex=function(){function t(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};uG(this,t),this.services=e,this.options=i,this.allOptions=n,this.type="backend",this.init(e,i,n)}return lG(t,[{key:"init",value:function(i){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.services=i,this.options=QE(QE(QE({},fG()),this.options||{}),r),this.allOptions=s,this.services&&this.options.reloadInterval){var o=setInterval(function(){return n.reload()},this.options.reloadInterval);Eo(o)==="object"&&typeof o.unref=="function"&&o.unref()}}},{key:"readMulti",value:function(i,n,r){this._readAny(i,i,n,n,r)}},{key:"read",value:function(i,n,r){this._readAny([i],i,[n],n,r)}},{key:"_readAny",value:function(i,n,r,s,o){var a=this,c=this.options.loadPath;typeof this.options.loadPath=="function"&&(c=this.options.loadPath(i,r)),c=$M(c),c.then(function(u){if(!u)return o(null,{});var l=a.services.interpolator.interpolate(u,{lng:i.join("+"),ns:r.join("+")});a.loadUrl(l,o,n,s)})}},{key:"loadUrl",value:function(i,n,r,s){var o=this,a=typeof r=="string"?[r]:r,c=typeof s=="string"?[s]:s,u=this.options.parseLoadPayload(a,c);this.options.request(this.options,i,u,function(l,f){if(f&&(f.status>=500&&f.status<600||!f.status))return n("failed loading "+i+"; status code: "+f.status,!0);if(f&&f.status>=400&&f.status<500)return n("failed loading "+i+"; status code: "+f.status,!1);if(!f&&l&&l.message&&l.message.indexOf("Failed to fetch")>-1)return n("failed loading "+i+": "+l.message,!0);if(l)return n(l,!1);var h,g;try{typeof f.data=="string"?h=o.options.parse(f.data,r,s):h=f.data}catch{g="failed parsing "+i+" to json"}if(g)return n(g,!1);n(null,h)})}},{key:"create",value:function(i,n,r,s,o){var a=this;if(this.options.addPath){typeof i=="string"&&(i=[i]);var c=this.options.parsePayload(n,r,s),u=0,l=[],f=[];i.forEach(function(h){var g=a.options.addPath;typeof a.options.addPath=="function"&&(g=a.options.addPath(h,n));var y=a.services.interpolator.interpolate(g,{lng:h,ns:n});a.options.request(a.options,y,c,function(b,w){u+=1,l.push(b),f.push(w),u===i.length&&typeof o=="function"&&o(l,f)})})}}},{key:"reload",value:function(){var i=this,n=this.services,r=n.backendConnector,s=n.languageUtils,o=n.logger,a=r.language;if(!(a&&a.toLowerCase()==="cimode")){var c=[],u=function(f){var h=s.toResolveHierarchy(f);h.forEach(function(g){c.indexOf(g)<0&&c.push(g)})};u(a),this.allOptions.preload&&this.allOptions.preload.forEach(function(l){return u(l)}),c.forEach(function(l){i.allOptions.ns.forEach(function(f){r.read(l,f,"read",null,null,function(h,g){h&&o.warn("loading namespace ".concat(f," for language ").concat(l," failed"),h),!h&&g&&o.log("loaded namespace ".concat(f," for language ").concat(l),g),r.loaded("".concat(l,"|").concat(f),h,g)})})})}}}])}();ex.type="backend";var tx=ex;var hG={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t]&&console[t].apply(console,e)}},XE=class t{constructor(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,i)}init(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=i.prefix||"i18next:",this.logger=e||hG,this.options=i,this.debug=i.debug}log(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return this.forward(i,"log","",!0)}warn(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return this.forward(i,"warn","",!0)}error(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return this.forward(i,"error","")}deprecate(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return this.forward(i,"warn","WARNING DEPRECATED: ",!0)}forward(e,i,n,r){return r&&!this.debug?null:(typeof e[0]=="string"&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[i](e))}create(e){return new t(this.logger,v({prefix:`${this.prefix}:${e}:`},this.options))}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new t(this.logger,e)}},pr=new XE,Io=class{constructor(){this.observers={}}on(e,i){return e.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);let r=this.observers[n].get(i)||0;this.observers[n].set(i,r+1)}),this}off(e,i){if(this.observers[e]){if(!i){delete this.observers[e];return}this.observers[e].delete(i)}}emit(e){for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(o=>{let[a,c]=o;for(let u=0;u<c;u++)a(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(o=>{let[a,c]=o;for(let u=0;u<c;u++)a.apply(a,[e,...n])})}};function hc(){let t,e,i=new Promise((n,r)=>{t=n,e=r});return i.resolve=t,i.reject=e,i}function nx(t){return t==null?"":""+t}function pG(t,e,i){t.forEach(n=>{e[n]&&(i[n]=e[n])})}var gG=/###/g;function pc(t,e,i){function n(a){return a&&a.indexOf("###")>-1?a.replace(gG,"."):a}function r(){return!t||typeof t=="string"}let s=typeof e!="string"?e:e.split("."),o=0;for(;o<s.length-1;){if(r())return{};let a=n(s[o]);!t[a]&&i&&(t[a]=new i),Object.prototype.hasOwnProperty.call(t,a)?t=t[a]:t={},++o}return r()?{}:{obj:t,k:n(s[o])}}function rx(t,e,i){let{obj:n,k:r}=pc(t,e,Object);if(n!==void 0||e.length===1){n[r]=i;return}let s=e[e.length-1],o=e.slice(0,e.length-1),a=pc(t,o,Object);for(;a.obj===void 0&&o.length;)s=`${o[o.length-1]}.${s}`,o=o.slice(0,o.length-1),a=pc(t,o,Object),a&&a.obj&&typeof a.obj[`${a.k}.${s}`]<"u"&&(a.obj=void 0);a.obj[`${a.k}.${s}`]=i}function mG(t,e,i,n){let{obj:r,k:s}=pc(t,e,Object);r[s]=r[s]||[],r[s].push(i)}function sf(t,e){let{obj:i,k:n}=pc(t,e);if(i)return i[n]}function vG(t,e,i){let n=sf(t,i);return n!==void 0?n:sf(e,i)}function ux(t,e,i){for(let n in e)n!=="__proto__"&&n!=="constructor"&&(n in t?typeof t[n]=="string"||t[n]instanceof String||typeof e[n]=="string"||e[n]instanceof String?i&&(t[n]=e[n]):ux(t[n],e[n],i):t[n]=e[n]);return t}function Co(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var yG={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function EG(t){return typeof t=="string"?t.replace(/[&<>"'\/]/g,e=>yG[e]):t}var eC=class{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){let i=this.regExpMap.get(e);if(i!==void 0)return i;let n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}},CG=[" ",",","?","!",";"],SG=new eC(20);function IG(t,e,i){e=e||"",i=i||"";let n=CG.filter(o=>e.indexOf(o)<0&&i.indexOf(o)<0);if(n.length===0)return!0;let r=SG.getRegExp(`(${n.map(o=>o==="?"?"\\?":o).join("|")})`),s=!r.test(t);if(!s){let o=t.indexOf(i);o>0&&!r.test(t.substring(0,o))&&(s=!0)}return s}function tC(t,e){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return t[e];let n=e.split(i),r=t;for(let s=0;s<n.length;){if(!r||typeof r!="object")return;let o,a="";for(let c=s;c<n.length;++c)if(c!==s&&(a+=i),a+=n[c],o=r[a],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&c<n.length-1)continue;s+=c-s+1;break}r=o}return r}function of(t){return t&&t.indexOf("_")>0?t.replace("_","-"):t}var af=class extends Io{constructor(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=i,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){let i=this.options.ns.indexOf(e);i>-1&&this.options.ns.splice(i,1)}getResource(e,i,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,o=r.ignoreJSONStructure!==void 0?r.ignoreJSONStructure:this.options.ignoreJSONStructure,a;e.indexOf(".")>-1?a=e.split("."):(a=[e,i],n&&(Array.isArray(n)?a.push(...n):typeof n=="string"&&s?a.push(...n.split(s)):a.push(n)));let c=sf(this.data,a);return!c&&!i&&!n&&e.indexOf(".")>-1&&(e=a[0],i=a[1],n=a.slice(2).join(".")),c||!o||typeof n!="string"?c:tC(this.data&&this.data[e]&&this.data[e][i],n,s)}addResource(e,i,n,r){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,a=[e,i];n&&(a=a.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(a=e.split("."),r=i,i=a[1]),this.addNamespaces(i),rx(this.data,a,r),s.silent||this.emit("added",e,i,n,r)}addResources(e,i,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(let s in n)(typeof n[s]=="string"||Array.isArray(n[s]))&&this.addResource(e,i,s,n[s],{silent:!0});r.silent||this.emit("added",e,i,n)}addResourceBundle(e,i,n,r,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},a=[e,i];e.indexOf(".")>-1&&(a=e.split("."),r=n,n=i,i=a[1]),this.addNamespaces(i);let c=sf(this.data,a)||{};o.skipCopy||(n=JSON.parse(JSON.stringify(n))),r?ux(c,n,s):c=v(v({},c),n),rx(this.data,a,c),o.silent||this.emit("added",e,i,n)}removeResourceBundle(e,i){this.hasResourceBundle(e,i)&&delete this.data[e][i],this.removeNamespaces(i),this.emit("removed",e,i)}hasResourceBundle(e,i){return this.getResource(e,i)!==void 0}getResourceBundle(e,i){return i||(i=this.options.defaultNS),this.options.compatibilityAPI==="v1"?v({},this.getResource(e,i)):this.getResource(e,i)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){let i=this.getDataByLanguage(e);return!!(i&&Object.keys(i)||[]).find(r=>i[r]&&Object.keys(i[r]).length>0)}toJSON(){return this.data}},lx={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,i,n,r){return t.forEach(s=>{this.processors[s]&&(e=this.processors[s].process(e,i,n,r))}),e}},ix={},cf=class t extends Io{constructor(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),pG(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=i,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=pr.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;let n=this.resolve(e,i);return n&&n.res!==void 0}extractFromKey(e,i){let n=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");let r=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,s=i.ns||this.options.defaultNS||[],o=n&&e.indexOf(n)>-1,a=!this.options.userDefinedKeySeparator&&!i.keySeparator&&!this.options.userDefinedNsSeparator&&!i.nsSeparator&&!IG(e,n,r);if(o&&!a){let c=e.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:e,namespaces:s};let u=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(u[0])>-1)&&(s=u.shift()),e=u.join(r)}return typeof s=="string"&&(s=[s]),{key:e,namespaces:s}}translate(e,i,n){if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof i=="object"&&(i=v({},i)),i||(i={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);let r=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:o,namespaces:a}=this.extractFromKey(e[e.length-1],i),c=a[a.length-1],u=i.lng||this.language,l=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&u.toLowerCase()==="cimode"){if(l){let H=i.nsSeparator||this.options.nsSeparator;return r?{res:`${c}${H}${o}`,usedKey:o,exactUsedKey:o,usedLng:u,usedNS:c,usedParams:this.getUsedParamsDetails(i)}:`${c}${H}${o}`}return r?{res:o,usedKey:o,exactUsedKey:o,usedLng:u,usedNS:c,usedParams:this.getUsedParamsDetails(i)}:o}let f=this.resolve(e,i),h=f&&f.res,g=f&&f.usedKey||o,y=f&&f.exactUsedKey||o,b=Object.prototype.toString.apply(h),w=["[object Number]","[object Function]","[object RegExp]"],R=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,k=!this.i18nFormat||this.i18nFormat.handleAsObject;if(k&&h&&(typeof h!="string"&&typeof h!="boolean"&&typeof h!="number")&&w.indexOf(b)<0&&!(typeof R=="string"&&Array.isArray(h))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");let H=this.options.returnedObjectHandler?this.options.returnedObjectHandler(g,h,T(v({},i),{ns:a})):`key '${o} (${this.language})' returned an object instead of string.`;return r?(f.res=H,f.usedParams=this.getUsedParamsDetails(i),f):H}if(s){let H=Array.isArray(h),te=H?[]:{},ue=H?y:g;for(let fe in h)if(Object.prototype.hasOwnProperty.call(h,fe)){let Oe=`${ue}${s}${fe}`;te[fe]=this.translate(Oe,T(v({},i),{joinArrays:!1,ns:a})),te[fe]===Oe&&(te[fe]=h[fe])}h=te}}else if(k&&typeof R=="string"&&Array.isArray(h))h=h.join(R),h&&(h=this.extendTranslation(h,e,i,n));else{let H=!1,te=!1,ue=i.count!==void 0&&typeof i.count!="string",fe=t.hasDefaultValue(i),Oe=ue?this.pluralResolver.getSuffix(u,i.count,i):"",Ri=i.ordinal&&ue?this.pluralResolver.getSuffix(u,i.count,{ordinal:!1}):"",Vn=ue&&!i.ordinal&&i.count===0&&this.pluralResolver.shouldUseIntlApi(),D=Vn&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${Oe}`]||i[`defaultValue${Ri}`]||i.defaultValue;!this.isValidLookup(h)&&fe&&(H=!0,h=D),this.isValidLookup(h)||(te=!0,h=o);let ne=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&te?void 0:h,ye=fe&&D!==h&&this.options.updateMissing;if(te||H||ye){if(this.logger.log(ye?"updateKey":"missingKey",u,c,o,ye?D:h),s){let ft=this.resolve(o,T(v({},i),{keySeparator:!1}));ft&&ft.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let we=[],de=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&de&&de[0])for(let ft=0;ft<de.length;ft++)we.push(de[ft]);else this.options.saveMissingTo==="all"?we=this.languageUtils.toResolveHierarchy(i.lng||this.language):we.push(i.lng||this.language);let Sr=(ft,He,nn)=>{let Kc=fe&&nn!==h?nn:ne;this.options.missingKeyHandler?this.options.missingKeyHandler(ft,c,He,Kc,ye,i):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(ft,c,He,Kc,ye,i),this.emit("missingKey",ft,c,He,h)};this.options.saveMissing&&(this.options.saveMissingPlurals&&ue?we.forEach(ft=>{let He=this.pluralResolver.getSuffixes(ft,i);Vn&&i[`defaultValue${this.options.pluralSeparator}zero`]&&He.indexOf(`${this.options.pluralSeparator}zero`)<0&&He.push(`${this.options.pluralSeparator}zero`),He.forEach(nn=>{Sr([ft],o+nn,i[`defaultValue${nn}`]||D)})}):Sr(we,o,D))}h=this.extendTranslation(h,e,i,f,n),te&&h===o&&this.options.appendNamespaceToMissingKey&&(h=`${c}:${o}`),(te||H)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?h=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}:${o}`:o,H?h:void 0):h=this.options.parseMissingKeyHandler(h))}return r?(f.res=h,f.usedParams=this.getUsedParamsDetails(i),f):h}extendTranslation(e,i,n,r,s){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,v(v({},this.options.interpolation.defaultVariables),n),n.lng||this.language||r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(T(v({},n),{interpolation:v(v({},this.options.interpolation),n.interpolation)}));let u=typeof e=="string"&&(n&&n.interpolation&&n.interpolation.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),l;if(u){let h=e.match(this.interpolator.nestingRegexp);l=h&&h.length}let f=n.replace&&typeof n.replace!="string"?n.replace:n;if(this.options.interpolation.defaultVariables&&(f=v(v({},this.options.interpolation.defaultVariables),f)),e=this.interpolator.interpolate(e,f,n.lng||this.language||r.usedLng,n),u){let h=e.match(this.interpolator.nestingRegexp),g=h&&h.length;l<g&&(n.nest=!1)}!n.lng&&this.options.compatibilityAPI!=="v1"&&r&&r.res&&(n.lng=this.language||r.usedLng),n.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var h=arguments.length,g=new Array(h),y=0;y<h;y++)g[y]=arguments[y];return s&&s[0]===g[0]&&!n.context?(o.logger.warn(`It seems you are nesting recursively key: ${g[0]} in key: ${i[0]}`),null):o.translate(...g,i)},n)),n.interpolation&&this.interpolator.reset()}let a=n.postProcess||this.options.postProcess,c=typeof a=="string"?[a]:a;return e!=null&&c&&c.length&&n.applyPostProcessor!==!1&&(e=lx.handle(c,e,i,this.options&&this.options.postProcessPassResolved?v({i18nResolved:T(v({},r),{usedParams:this.getUsedParamsDetails(n)})},n):n,this)),e}resolve(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n,r,s,o,a;return typeof e=="string"&&(e=[e]),e.forEach(c=>{if(this.isValidLookup(n))return;let u=this.extractFromKey(c,i),l=u.key;r=l;let f=u.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));let h=i.count!==void 0&&typeof i.count!="string",g=h&&!i.ordinal&&i.count===0&&this.pluralResolver.shouldUseIntlApi(),y=i.context!==void 0&&(typeof i.context=="string"||typeof i.context=="number")&&i.context!=="",b=i.lngs?i.lngs:this.languageUtils.toResolveHierarchy(i.lng||this.language,i.fallbackLng);f.forEach(w=>{this.isValidLookup(n)||(a=w,!ix[`${b[0]}-${w}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(a)&&(ix[`${b[0]}-${w}`]=!0,this.logger.warn(`key "${r}" for languages "${b.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),b.forEach(R=>{if(this.isValidLookup(n))return;o=R;let k=[l];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(k,l,R,w,i);else{let H;h&&(H=this.pluralResolver.getSuffix(R,i.count,i));let te=`${this.options.pluralSeparator}zero`,ue=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(h&&(k.push(l+H),i.ordinal&&H.indexOf(ue)===0&&k.push(l+H.replace(ue,this.options.pluralSeparator)),g&&k.push(l+te)),y){let fe=`${l}${this.options.contextSeparator}${i.context}`;k.push(fe),h&&(k.push(fe+H),i.ordinal&&H.indexOf(ue)===0&&k.push(fe+H.replace(ue,this.options.pluralSeparator)),g&&k.push(fe+te))}}let U;for(;U=k.pop();)this.isValidLookup(n)||(s=U,n=this.getResource(R,w,U,i))}))})}),{res:n,usedKey:r,exactUsedKey:s,usedLng:o,usedNS:a}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,i,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,i,n,r):this.resourceStore.getResource(e,i,n,r)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&typeof e.replace!="string",r=n?e.replace:e;if(n&&typeof e.count<"u"&&(r.count=e.count),this.options.interpolation.defaultVariables&&(r=v(v({},this.options.interpolation.defaultVariables),r)),!n){r=v({},r);for(let s of i)delete r[s]}return r}static hasDefaultValue(e){let i="defaultValue";for(let n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&i===n.substring(0,i.length)&&e[n]!==void 0)return!0;return!1}};function JE(t){return t.charAt(0).toUpperCase()+t.slice(1)}var uf=class{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=pr.create("languageUtils")}getScriptPartFromCode(e){if(e=of(e),!e||e.indexOf("-")<0)return null;let i=e.split("-");return i.length===2||(i.pop(),i[i.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(i.join("-"))}getLanguagePartFromCode(e){if(e=of(e),!e||e.indexOf("-")<0)return e;let i=e.split("-");return this.formatLanguageCode(i[0])}formatLanguageCode(e){if(typeof e=="string"&&e.indexOf("-")>-1){let i=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map(r=>r.toLowerCase()):n.length===2?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),i.indexOf(n[1].toLowerCase())>-1&&(n[1]=JE(n[1].toLowerCase()))):n.length===3&&(n[0]=n[0].toLowerCase(),n[1].length===2&&(n[1]=n[1].toUpperCase()),n[0]!=="sgn"&&n[2].length===2&&(n[2]=n[2].toUpperCase()),i.indexOf(n[1].toLowerCase())>-1&&(n[1]=JE(n[1].toLowerCase())),i.indexOf(n[2].toLowerCase())>-1&&(n[2]=JE(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let i;return e.forEach(n=>{if(i)return;let r=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(r))&&(i=r)}),!i&&this.options.supportedLngs&&e.forEach(n=>{if(i)return;let r=this.getLanguagePartFromCode(n);if(this.isSupportedCode(r))return i=r;i=this.options.supportedLngs.find(s=>{if(s===r)return s;if(!(s.indexOf("-")<0&&r.indexOf("-")<0)&&(s.indexOf("-")>0&&r.indexOf("-")<0&&s.substring(0,s.indexOf("-"))===r||s.indexOf(r)===0&&r.length>1))return s})}),i||(i=this.getFallbackCodes(this.options.fallbackLng)[0]),i}getFallbackCodes(e,i){if(!e)return[];if(typeof e=="function"&&(e=e(i)),typeof e=="string"&&(e=[e]),Array.isArray(e))return e;if(!i)return e.default||[];let n=e[i];return n||(n=e[this.getScriptPartFromCode(i)]),n||(n=e[this.formatLanguageCode(i)]),n||(n=e[this.getLanguagePartFromCode(i)]),n||(n=e.default),n||[]}toResolveHierarchy(e,i){let n=this.getFallbackCodes(i||this.options.fallbackLng||[],e),r=[],s=o=>{o&&(this.isSupportedCode(o)?r.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return typeof e=="string"&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(e))):typeof e=="string"&&s(this.formatLanguageCode(e)),n.forEach(o=>{r.indexOf(o)<0&&s(this.formatLanguageCode(o))}),r}},DG=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],bG={1:function(t){return+(t>1)},2:function(t){return+(t!=1)},3:function(t){return 0},4:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},5:function(t){return t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},6:function(t){return t==1?0:t>=2&&t<=4?1:2},7:function(t){return t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},8:function(t){return t==1?0:t==2?1:t!=8&&t!=11?2:3},9:function(t){return+(t>=2)},10:function(t){return t==1?0:t==2?1:t<7?2:t<11?3:4},11:function(t){return t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3},12:function(t){return+(t%10!=1||t%100==11)},13:function(t){return+(t!==0)},14:function(t){return t==1?0:t==2?1:t==3?2:3},15:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2},16:function(t){return t%10==1&&t%100!=11?0:t!==0?1:2},17:function(t){return t==1||t%10==1&&t%100!=11?0:1},18:function(t){return t==0?0:t==1?1:2},19:function(t){return t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3},20:function(t){return t==1?0:t==0||t%100>0&&t%100<20?1:2},21:function(t){return t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0},22:function(t){return t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3}},wG=["v1","v2","v3"],TG=["v4"],sx={zero:0,one:1,two:2,few:3,many:4,other:5};function AG(){let t={};return DG.forEach(e=>{e.lngs.forEach(i=>{t[i]={numbers:e.nr,plurals:bG[e.fc]}})}),t}var nC=class{constructor(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=i,this.logger=pr.create("pluralResolver"),(!this.options.compatibilityJSON||TG.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=AG()}addRule(e,i){this.rules[e]=i}getRule(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(of(e==="dev"?"en":e),{type:i.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=this.getRule(e,i);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}getPluralFormsOfKey(e,i){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,n).map(r=>`${i}${r}`)}getSuffixes(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=this.getRule(e,i);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort((r,s)=>sx[r]-sx[s]).map(r=>`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${r}`):n.numbers.map(r=>this.getSuffix(e,r,i)):[]}getSuffix(e,i){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=this.getRule(e,n);return r?this.shouldUseIntlApi()?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${r.select(i)}`:this.getSuffixRetroCompatible(r,i):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,i){let n=e.noAbs?e.plurals(i):e.plurals(Math.abs(i)),r=e.numbers[n];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(r===2?r="plural":r===1&&(r=""));let s=()=>this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString();return this.options.compatibilityJSON==="v1"?r===1?"":typeof r=="number"?`_plural_${r.toString()}`:s():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?s():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}shouldUseIntlApi(){return!wG.includes(this.options.compatibilityJSON)}};function ox(t,e,i){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=vG(t,e,i);return!s&&r&&typeof i=="string"&&(s=tC(t,i,n),s===void 0&&(s=tC(e,i,n))),s}var rC=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=pr.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(i=>i),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});let{escape:i,escapeValue:n,useRawValueToEscape:r,prefix:s,prefixEscaped:o,suffix:a,suffixEscaped:c,formatSeparator:u,unescapeSuffix:l,unescapePrefix:f,nestingPrefix:h,nestingPrefixEscaped:g,nestingSuffix:y,nestingSuffixEscaped:b,nestingOptionsSeparator:w,maxReplaces:R,alwaysFormat:k}=e.interpolation;this.escape=i!==void 0?i:EG,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=r!==void 0?r:!1,this.prefix=s?Co(s):o||"{{",this.suffix=a?Co(a):c||"}}",this.formatSeparator=u||",",this.unescapePrefix=l?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":l||"",this.nestingPrefix=h?Co(h):g||Co("$t("),this.nestingSuffix=y?Co(y):b||Co(")"),this.nestingOptionsSeparator=w||",",this.maxReplaces=R||1e3,this.alwaysFormat=k!==void 0?k:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){let e=(i,n)=>i&&i.source===n?(i.lastIndex=0,i):new RegExp(n,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,i,n,r){let s,o,a,c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function u(y){return y.replace(/\$/g,"$$$$")}let l=y=>{if(y.indexOf(this.formatSeparator)<0){let k=ox(i,c,y,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(k,void 0,n,T(v(v({},r),i),{interpolationkey:y})):k}let b=y.split(this.formatSeparator),w=b.shift().trim(),R=b.join(this.formatSeparator).trim();return this.format(ox(i,c,w,this.options.keySeparator,this.options.ignoreJSONStructure),R,n,T(v(v({},r),i),{interpolationkey:w}))};this.resetRegExp();let f=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,h=r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:y=>u(y)},{regex:this.regexp,safeValue:y=>this.escapeValue?u(this.escape(y)):u(y)}].forEach(y=>{for(a=0;s=y.regex.exec(e);){let b=s[1].trim();if(o=l(b),o===void 0)if(typeof f=="function"){let R=f(e,s,r);o=typeof R=="string"?R:""}else if(r&&Object.prototype.hasOwnProperty.call(r,b))o="";else if(h){o=s[0];continue}else this.logger.warn(`missed to pass in variable ${b} for interpolating ${e}`),o="";else typeof o!="string"&&!this.useRawValueToEscape&&(o=nx(o));let w=y.safeValue(o);if(e=e.replace(s[0],w),h?(y.regex.lastIndex+=o.length,y.regex.lastIndex-=s[0].length):y.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),e}nest(e,i){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r,s,o;function a(c,u){let l=this.nestingOptionsSeparator;if(c.indexOf(l)<0)return c;let f=c.split(new RegExp(`${l}[ ]*{`)),h=`{${f[1]}`;c=f[0],h=this.interpolate(h,o);let g=h.match(/'/g),y=h.match(/"/g);(g&&g.length%2===0&&!y||y.length%2!==0)&&(h=h.replace(/'/g,'"'));try{o=JSON.parse(h),u&&(o=v(v({},u),o))}catch(b){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,b),`${c}${l}${h}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,c}for(;r=this.nestingRegexp.exec(e);){let c=[];o=v({},n),o=o.replace&&typeof o.replace!="string"?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let u=!1;if(r[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(r[1])){let l=r[1].split(this.formatSeparator).map(f=>f.trim());r[1]=l.shift(),c=l,u=!0}if(s=i(a.call(this,r[1].trim(),o),o),s&&r[0]===e&&typeof s!="string")return s;typeof s!="string"&&(s=nx(s)),s||(this.logger.warn(`missed to resolve ${r[1]} for nesting ${e}`),s=""),u&&(s=c.reduce((l,f)=>this.format(l,f,n.lng,T(v({},n),{interpolationkey:r[1].trim()})),s.trim())),e=e.replace(r[0],s),this.regexp.lastIndex=0}return e}};function RG(t){let e=t.toLowerCase().trim(),i={};if(t.indexOf("(")>-1){let n=t.split("(");e=n[0].toLowerCase().trim();let r=n[1].substring(0,n[1].length-1);e==="currency"&&r.indexOf(":")<0?i.currency||(i.currency=r.trim()):e==="relativetime"&&r.indexOf(":")<0?i.range||(i.range=r.trim()):r.split(";").forEach(o=>{if(o){let[a,...c]=o.split(":"),u=c.join(":").trim().replace(/^'+|'+$/g,""),l=a.trim();i[l]||(i[l]=u),u==="false"&&(i[l]=!1),u==="true"&&(i[l]=!0),isNaN(u)||(i[l]=parseInt(u,10))}})}return{formatName:e,formatOptions:i}}function So(t){let e={};return function(n,r,s){let o=r+JSON.stringify(s),a=e[o];return a||(a=t(of(r),s),e[o]=a),a(n)}}var iC=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=pr.create("formatter"),this.options=e,this.formats={number:So((i,n)=>{let r=new Intl.NumberFormat(i,v({},n));return s=>r.format(s)}),currency:So((i,n)=>{let r=new Intl.NumberFormat(i,T(v({},n),{style:"currency"}));return s=>r.format(s)}),datetime:So((i,n)=>{let r=new Intl.DateTimeFormat(i,v({},n));return s=>r.format(s)}),relativetime:So((i,n)=>{let r=new Intl.RelativeTimeFormat(i,v({},n));return s=>r.format(s,n.range||"day")}),list:So((i,n)=>{let r=new Intl.ListFormat(i,v({},n));return s=>r.format(s)})},this.init(e)}init(e){let n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||","}add(e,i){this.formats[e.toLowerCase().trim()]=i}addCached(e,i){this.formats[e.toLowerCase().trim()]=So(i)}format(e,i,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return i.split(this.formatSeparator).reduce((a,c)=>{let{formatName:u,formatOptions:l}=RG(c);if(this.formats[u]){let f=a;try{let h=r&&r.formatParams&&r.formatParams[r.interpolationkey]||{},g=h.locale||h.lng||r.locale||r.lng||n;f=this.formats[u](a,g,v(v(v({},l),r),h))}catch(h){this.logger.warn(h)}return f}else this.logger.warn(`there was no format function for ${u}`);return a},e)}};function MG(t,e){t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)}var sC=class extends Io{constructor(e,i,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=i,this.services=n,this.languageUtils=n.languageUtils,this.options=r,this.logger=pr.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=r.maxParallelReads||10,this.readingCalls=0,this.maxRetries=r.maxRetries>=0?r.maxRetries:5,this.retryTimeout=r.retryTimeout>=1?r.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(n,r.backend,r)}queueLoad(e,i,n,r){let s={},o={},a={},c={};return e.forEach(u=>{let l=!0;i.forEach(f=>{let h=`${u}|${f}`;!n.reload&&this.store.hasResourceBundle(u,f)?this.state[h]=2:this.state[h]<0||(this.state[h]===1?o[h]===void 0&&(o[h]=!0):(this.state[h]=1,l=!1,o[h]===void 0&&(o[h]=!0),s[h]===void 0&&(s[h]=!0),c[f]===void 0&&(c[f]=!0)))}),l||(a[u]=!0)}),(Object.keys(s).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(s),pending:Object.keys(o),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(c)}}loaded(e,i,n){let r=e.split("|"),s=r[0],o=r[1];i&&this.emit("failedLoading",s,o,i),n&&this.store.addResourceBundle(s,o,n,void 0,void 0,{skipCopy:!0}),this.state[e]=i?-1:2;let a={};this.queue.forEach(c=>{mG(c.loaded,[s],o),MG(c,e),i&&c.errors.push(i),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(u=>{a[u]||(a[u]={});let l=c.loaded[u];l.length&&l.forEach(f=>{a[u][f]===void 0&&(a[u][f]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(c=>!c.done)}read(e,i,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:i,fcName:n,tried:r,wait:s,callback:o});return}this.readingCalls++;let a=(u,l)=>{if(this.readingCalls--,this.waitingReads.length>0){let f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(u&&l&&r<this.maxRetries){setTimeout(()=>{this.read.call(this,e,i,n,r+1,s*2,o)},s);return}o(u,l)},c=this.backend[n].bind(this.backend);if(c.length===2){try{let u=c(e,i);u&&typeof u.then=="function"?u.then(l=>a(null,l)).catch(a):a(null,u)}catch(u){a(u)}return}return c(e,i,a)}prepareLoading(e,i){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();typeof e=="string"&&(e=this.languageUtils.toResolveHierarchy(e)),typeof i=="string"&&(i=[i]);let s=this.queueLoad(e,i,n,r);if(!s.toLoad.length)return s.pending.length||r(),null;s.toLoad.forEach(o=>{this.loadOne(o)})}load(e,i,n){this.prepareLoading(e,i,{},n)}reload(e,i,n){this.prepareLoading(e,i,{reload:!0},n)}loadOne(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=e.split("|"),r=n[0],s=n[1];this.read(r,s,"read",void 0,void 0,(o,a)=>{o&&this.logger.warn(`${i}loading namespace ${s} for language ${r} failed`,o),!o&&a&&this.logger.log(`${i}loaded namespace ${s} for language ${r}`,a),this.loaded(e,o,a)})}saveMissing(e,i,n,r,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(i)){this.logger.warn(`did not save key "${n}" as the namespace "${i}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if(this.backend&&this.backend.create){let c=T(v({},o),{isUpdate:s}),u=this.backend.create.bind(this.backend);if(u.length<6)try{let l;u.length===5?l=u(e,i,n,r,c):l=u(e,i,n,r),l&&typeof l.then=="function"?l.then(f=>a(null,f)).catch(a):a(null,l)}catch(l){a(l)}else u(e,i,n,r,a,c)}!e||!e[0]||this.store.addResource(e[0],i,n,r)}}};function ax(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){let i={};if(typeof e[1]=="object"&&(i=e[1]),typeof e[1]=="string"&&(i.defaultValue=e[1]),typeof e[2]=="string"&&(i.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){let n=e[3]||e[2];Object.keys(n).forEach(r=>{i[r]=n[r]})}return i},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function cx(t){return typeof t.ns=="string"&&(t.ns=[t.ns]),typeof t.fallbackLng=="string"&&(t.fallbackLng=[t.fallbackLng]),typeof t.fallbackNS=="string"&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function rf(){}function xG(t){Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(i=>{typeof t[i]=="function"&&(t[i]=t[i].bind(t))})}var lf=class t extends Io{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;if(super(),this.options=cx(e),this.services={},this.logger=pr,this.modules={external:[]},xG(this),i&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,i),this;setTimeout(()=>{this.init(e,i)},0)}}init(){var e=this;let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof i=="function"&&(n=i,i={}),!i.defaultNS&&i.defaultNS!==!1&&i.ns&&(typeof i.ns=="string"?i.defaultNS=i.ns:i.ns.indexOf("translation")<0&&(i.defaultNS=i.ns[0]));let r=ax();this.options=v(v(v({},r),this.options),cx(i)),this.options.compatibilityAPI!=="v1"&&(this.options.interpolation=v(v({},r.interpolation),this.options.interpolation)),i.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=i.keySeparator),i.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=i.nsSeparator);function s(l){return l?typeof l=="function"?new l:l:null}if(!this.options.isClone){this.modules.logger?pr.init(s(this.modules.logger),this.options):pr.init(null,this.options);let l;this.modules.formatter?l=this.modules.formatter:typeof Intl<"u"&&(l=iC);let f=new uf(this.options);this.store=new af(this.options.resources,this.options);let h=this.services;h.logger=pr,h.resourceStore=this.store,h.languageUtils=f,h.pluralResolver=new nC(f,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),l&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(h.formatter=s(l),h.formatter.init(h,this.options),this.options.interpolation.format=h.formatter.format.bind(h.formatter)),h.interpolator=new rC(this.options),h.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},h.backendConnector=new sC(s(this.modules.backend),h.resourceStore,h,this.options),h.backendConnector.on("*",function(g){for(var y=arguments.length,b=new Array(y>1?y-1:0),w=1;w<y;w++)b[w-1]=arguments[w];e.emit(g,...b)}),this.modules.languageDetector&&(h.languageDetector=s(this.modules.languageDetector),h.languageDetector.init&&h.languageDetector.init(h,this.options.detection,this.options)),this.modules.i18nFormat&&(h.i18nFormat=s(this.modules.i18nFormat),h.i18nFormat.init&&h.i18nFormat.init(this)),this.translator=new cf(this.services,this.options),this.translator.on("*",function(g){for(var y=arguments.length,b=new Array(y>1?y-1:0),w=1;w<y;w++)b[w-1]=arguments[w];e.emit(g,...b)}),this.modules.external.forEach(g=>{g.init&&g.init(this)})}if(this.format=this.options.interpolation.format,n||(n=rf),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){let l=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);l.length>0&&l[0]!=="dev"&&(this.options.lng=l[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(l=>{this[l]=function(){return e.store[l](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(l=>{this[l]=function(){return e.store[l](...arguments),e}});let c=hc(),u=()=>{let l=(f,h)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(h),n(f,h)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return l(null,this.t.bind(this));this.changeLanguage(this.options.lng,l)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),c}loadResources(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:rf,r=typeof e=="string"?e:this.language;if(typeof e=="function"&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(r&&r.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();let s=[],o=a=>{if(!a||a==="cimode")return;this.services.languageUtils.toResolveHierarchy(a).forEach(u=>{u!=="cimode"&&s.indexOf(u)<0&&s.push(u)})};r?o(r):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>o(c)),this.options.preload&&this.options.preload.forEach(a=>o(a)),this.services.backendConnector.load(s,this.options.ns,a=>{!a&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(a)})}else n(null)}reloadResources(e,i,n){let r=hc();return e||(e=this.languages),i||(i=this.options.ns),n||(n=rf),this.services.backendConnector.reload(e,i,s=>{r.resolve(),n(s)}),r}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&lx.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let i=0;i<this.languages.length;i++){let n=this.languages[i];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}changeLanguage(e,i){var n=this;this.isLanguageChangingTo=e;let r=hc();this.emit("languageChanging",e);let s=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},o=(c,u)=>{u?(s(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,r.resolve(function(){return n.t(...arguments)}),i&&i(c,function(){return n.t(...arguments)})},a=c=>{!e&&!c&&this.services.languageDetector&&(c=[]);let u=typeof c=="string"?c:this.services.languageUtils.getBestMatchFromCodes(c);u&&(this.language||s(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(u)),this.loadResources(u,l=>{o(l,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),r}getFixedT(e,i,n){var r=this;let s=function(o,a){let c;if(typeof a!="object"){for(var u=arguments.length,l=new Array(u>2?u-2:0),f=2;f<u;f++)l[f-2]=arguments[f];c=r.options.overloadTranslationOptionHandler([o,a].concat(l))}else c=v({},a);c.lng=c.lng||s.lng,c.lngs=c.lngs||s.lngs,c.ns=c.ns||s.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||n||s.keyPrefix);let h=r.options.keySeparator||".",g;return c.keyPrefix&&Array.isArray(o)?g=o.map(y=>`${c.keyPrefix}${h}${y}`):g=c.keyPrefix?`${c.keyPrefix}${h}${o}`:o,r.t(g,c)};return typeof e=="string"?s.lng=e:s.lngs=e,s.ns=i,s.keyPrefix=n,s}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;let n=i.lng||this.resolvedLanguage||this.languages[0],r=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;let o=(a,c)=>{let u=this.services.backendConnector.state[`${a}|${c}`];return u===-1||u===2};if(i.precheck){let a=i.precheck(this,o);if(a!==void 0)return a}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(n,e)&&(!r||o(s,e)))}loadNamespaces(e,i){let n=hc();return this.options.ns?(typeof e=="string"&&(e=[e]),e.forEach(r=>{this.options.ns.indexOf(r)<0&&this.options.ns.push(r)}),this.loadResources(r=>{n.resolve(),i&&i(r)}),n):(i&&i(),Promise.resolve())}loadLanguages(e,i){let n=hc();typeof e=="string"&&(e=[e]);let r=this.options.preload||[],s=e.filter(o=>r.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return s.length?(this.options.preload=r.concat(s),this.loadResources(o=>{n.resolve(),i&&i(o)}),n):(i&&i(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";let i=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=this.services&&this.services.languageUtils||new uf(ax());return i.indexOf(n.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;return new t(e,i)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:rf,n=e.forkResourceStore;n&&delete e.forkResourceStore;let r=T(v(v({},this.options),e),{isClone:!0}),s=new t(r);return(e.debug!==void 0||e.prefix!==void 0)&&(s.logger=s.logger.clone(e)),["store","services","language"].forEach(a=>{s[a]=this[a]}),s.services=v({},this.services),s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},n&&(s.store=new af(this.store.data,r),s.services.resourceStore=s.store),s.translator=new cf(s.services,r),s.translator.on("*",function(a){for(var c=arguments.length,u=new Array(c>1?c-1:0),l=1;l<c;l++)u[l-1]=arguments[l];s.emit(a,...u)}),s.init(r,i),s.translator.options=r,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}},mt=lf.createInstance();mt.createInstance=lf.createInstance;var Yae=mt.createInstance,Kae=mt.dir,Zae=mt.init,Qae=mt.loadResources,Jae=mt.reloadResources,Xae=mt.use,ece=mt.changeLanguage,tce=mt.getFixedT,nce=mt.t,rce=mt.exists,ice=mt.setDefaultNamespace,sce=mt.hasLoadedNamespace,oce=mt.loadNamespaces,ace=mt.loadLanguages;var dx=function(e){return{type:"backend",init:function(n,r,s){},read:function(n,r,s){if(typeof e=="function"){if(e.length<3){try{var o=e(n,r);o&&typeof o.then=="function"?o.then(function(a){return s(null,a&&a.default||a)}).catch(s):s(null,o)}catch(a){s(a)}return}e(n,r,s);return}s(null,e&&e[n]&&e[n][r])}}};function gf(t){return t&&typeof t=="object"&&!Array.isArray(t)}function NG(t){return t==="__proto__"||t==="constructor"}function yt(t={},...e){if(!e.length)return t;let i=e.shift()||{};if(!gf(i))return yt(t,...e);for(let n in i)NG(n)||(i[n]instanceof Date?t[n]=i[n]:gf(i[n])?(gf(t[n])||(t[n]={}),yt(t[n],i[n])):t[n]=i[n]);return yt(t,...e)}function OG(){return yt({},C(Ux),C(NS))}var kt=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:()=>OG(),providedIn:"root"});let t=e;return t})();function PG(){return yt({},...C(jo,{optional:!0})??[])}var Ux=new S("DefaultConfiguration",{providedIn:"root",factory:PG});function FG(){return yt({},...C(wc,{optional:!0})??[])}var NS=new S("RootConfiguration",{providedIn:"root",factory:FG}),wc=new S("ConfigurationChunk"),jo=new S("DefaultConfigurationChunk");function fx(t={},e=!1){return{provide:e?jo:wc,useValue:t,multi:!0}}function mf(t,e,i=!1){return{provide:i?jo:wc,useFactory:t,multi:!0,deps:e}}function kn(t={}){return{provide:jo,useValue:t,multi:!0}}function $o(t,e){return{provide:jo,useFactory:t,multi:!0,deps:e}}var _G={anonymousConsents:{registerConsent:"MARKETING_NEWSLETTER",showLegalDescriptionInDialog:!0,requiredConsents:[],consentManagementPage:{showAnonymousConsents:!0,hideConsents:[]}}},OS=function(t){return t.BILLING="BILLING",t.SHIPPING="SHIPPING",t}(OS||{}),be=function(t){return t.CONTENT_PAGE="ContentPage",t.PRODUCT_PAGE="ProductPage",t.CATEGORY_PAGE="CategoryPage",t.CATALOG_PAGE="CatalogPage",t}(be||{}),LG=function(t){return t.AUTO="auto",t.SMOOTH="smooth",t}(LG||{});var kG=function(t){return t.NO_BACKGROUND="NO_BACKGROUND",t.UPLOAD_RESPONSIVE_IMAGE="UPLOAD_RESPONSIVE_IMAGE",t.UPLOAD_THUMBNAIL="UPLOAD_THUMBNAIL",t}(kG||{});var bo="userCmsEndpoints",Oo=function(t){return t.GIVEN="GIVEN",t.WITHDRAWN="WITHDRAWN",t}(Oo||{}),gC="X-Anonymous-Consents";var vf=class{};var UG=function(t){return t.BACK_IN_STOCK="BACK_IN_STOCK",t}(UG||{}),jG=function(t){return t.SIZE="ApparelSizeVariantProduct",t.STYLE="ApparelStyleVariantProduct",t.COLOR="ElectronicsColorVariantProduct",t}(jG||{});var $G=function(t){return t.SIZE="size",t.STYLE="style",t.COLOR="color",t.THUMBNAIL="thumbnail",t.PRODUCT="product",t.ROLLUP_PROPERTY="rollupProperty",t}($G||{}),jx="[ENTITY] REMOVE",$x="[ENTITY] REMOVE ALL";function Di(t,e){return{entityType:t,entityId:e}}function Bx(t,e){return{entityId:e,entityType:t,entityRemove:!0}}function Vx(t){return{entityId:null,entityType:t,entityRemove:!0}}var mC=class{constructor(e,i){this.type=jx,this.meta=Bx(e,i)}},vC=class{constructor(e){this.type=$x,this.meta=Vx(e)}},Hx="[LOADER] LOAD",zx="[LOADER] FAIL",Gx="[LOADER] SUCCESS",Wx="[LOADER] RESET";function PS(t){return{entityType:t,loader:{load:!0}}}function FS(t,e){return{entityType:t,loader:{error:e||!0}}}function _S(t){return{entityType:t,loader:{success:!0}}}function jp(t){return{entityType:t,loader:{}}}var ct=class{constructor(e){this.type=Hx,this.meta=PS(e)}},ut=class{constructor(e,i){this.type=zx,this.meta=FS(e,i)}},lt=class{constructor(e){this.type=Gx,this.meta=_S(e)}},Wr=class{constructor(e){this.type=Wx,this.meta=jp(e)}},LS="[ENTITY] LOAD",kS="[ENTITY] LOAD FAIL",US="[ENTITY] LOAD SUCCESS",jS="[ENTITY] RESET";function $S(t,e){return v(v({},PS(t)),Di(t,e))}function BS(t,e,i){return v(v({},FS(t,i)),Di(t,e))}function VS(t,e){return v(v({},_S(t)),Di(t,e))}function HS(t,e){return v(v({},jp(t)),Di(t,e))}var Lt=class{constructor(e,i){this.type=LS,this.meta=$S(e,i)}},Tt=class{constructor(e,i,n){this.type=kS,this.meta=BS(e,i,n)}},dt=class{constructor(e,i,n){this.payload=n,this.type=US,this.meta=VS(e,i)}},_n=class{constructor(e,i){this.type=jS,this.meta=HS(e,i)}};function tt(t){return t.value}function Ut(t){return t.loading??!1}function Bo(t){return t.error??!1}function Un(t){return t.success??!1}var gr={loading:!1,error:!1,success:!1,value:void 0};function at(t,e){return(i=gr,n)=>{if(n.meta&&n.meta.loader&&n.meta.entityType===t){let s=n.meta.loader;return s.load?T(v({},i),{loading:!0,value:r(i.value)}):s.error?T(v({},i),{loading:!1,error:!0,success:!1,value:r(void 0)}):s.success?T(v({},i),{value:r(n.payload),loading:!1,error:!1,success:!0}):T(v({},gr),{value:e?e(gr.value,n):gr.value})}if(e){let s=e(i.value,n);if(s!==i.value)return T(v({},i),{value:s})}return i;function r(s){return e?e(i.value,n):s}}}function en(t,e){return t.entities[e]||gr}function BG(t,e){let i=en(t,e);return tt(i)}function VG(t,e){let i=en(t,e);return Ut(i)}function HG(t,e){let i=en(t,e);return Bo(i)}function zG(t,e){let i=en(t,e);return Un(i)}var yC={entities:{}};function Tc(t,e){return(n=yC,r)=>{let s=[],o=!1;if(r.meta&&r.meta.entityType===t&&r.meta.entityId!==void 0){if(r.meta.entityId!==null&&(s=[].concat(r.meta.entityId)),r.meta.entityRemove)return i(r,n,s);o=Array.isArray(r.meta.entityId)&&Array.isArray(r.payload)}else s=Object.keys(n.entities);let a={};for(let c=0;c<s.length;c++){let u=s[c],l=o?T(v({},r),{payload:r.payload[c]}):r,f=e(n.entities[u],l);f&&(a[u]=f)}return Object.keys(a).length>0?T(v({},n),{entities:v(v({},n.entities),a)}):n};function i(n,r,s){if(n?.meta?.entityId===null)return yC;{let o=!1,a=Object.keys(r.entities).reduce((c,u)=>(s.includes(u)?o=!0:c[u]=r.entities[u],c),{});return o?{entities:a}:r}}}function ds(t,e){return Tc(t,at(t,e))}var qx="[PROCESSES LOADER] INCREMENT",Yx="[PROCESSES LOADER] DECREMENT",Kx="[PROCESSES LOADER] RESET";function zS(t){return{entityType:t,loader:void 0,processesCountDiff:1}}function GS(t){return{entityType:t,loader:void 0,processesCountDiff:-1}}function WS(t){return T(v({},jp(t)),{processesCountDiff:null})}var EC=class{constructor(e){this.type=Kx,this.meta=WS(e)}},CC=class{constructor(e){this.type=qx,this.meta=zS(e)}},SC=class{constructor(e){this.type=Yx,this.meta=GS(e)}},Zx="[ENTITY] PROCESSES LOADER RESET",Qx="[ENTITY] PROCESSES INCREMENT",Jx="[ENTITY] PROCESSES DECREMENT";function Xx(t,e){return v(v({},WS(t)),Di(t,e))}function eN(t,e){return v(v({},zS(t)),Di(t,e))}function tN(t,e){return v(v({},GS(t)),Di(t,e))}var IC=class{constructor(e,i){this.type=Zx,this.meta=Xx(e,i)}},DC=class{constructor(e,i){this.type=Qx,this.meta=eN(e,i)}},bC=class{constructor(e,i){this.type=Jx,this.meta=tN(e,i)}};function nN(t){return!t.processesCount&&!t.loading}function rN(t){return t.processesCount!==void 0&&t.processesCount>0}var yf={processesCount:0};function iN(t,e){return(i=v(v({},yf),gr),n)=>{let r=at(t,e)(i,n);if(n.meta&&n.meta.entityType===t){let s=n.meta.processesCountDiff;if(ge()&&i.processesCount&&s&&i.processesCount+s<0&&console.error(`Action '${n.type}' sets processesCount to value < 0!
Make sure to keep processesCount in sync.
There should always be only one decrement action for each increment action.
Make sure that you don't reset state in between those actions.
`,n),s)return T(v({},r),{processesCount:i.processesCount?i.processesCount+s:s});if(s===null)return v(v({},r),yf)}return r}}var GG=v(v({},gr),yf);function WG(t,e){let i=en(t,e);return rN(i)}function qG(t,e){let i=en(t,e);return nN(i)}function YG(t,e){return t.entities[e]||GG}function KG(t,e){return Tc(t,iN(t,e))}function sN(t,e){return t.entities[e]||void 0}var qS=".";function ZG(t,e){return t.split(qS).reduce((n,r)=>n?n[r]:void 0,e)}function QG(t,e,i){if(!t||!i||Object.keys(i).length===0)return{};let n=t.split(qS).reduceRight((r,s)=>({[s]:r}),i);return JG(t,e,n)}function YS(t,e,i){if(t&&t.length===0)return{};let n={};for(let r of t){let s=ZG(r,i),o=QG(r,e,s);n=yt(n,o)}return n}function JG(t,e,i){let n=XG(t,e);if(n.length===0)return i;let r=yt({},i);for(let s of n){let o=s.split(qS),a=r;for(let c=0;c<o.length;c++){let u=o[c];c===o.length-1?a&&a[u]&&delete a[u]:a=a[u]}}return r}function XG(t,e){if(!t||!e)return[];let i=[];for(let n of e)n.includes(t)&&i.push(n);return i}function oN(t,e){return t?Object.keys(t).filter(i=>t[i]===e):[]}var e8="all";function KS(t,e){return`${e??""}?pageSize=${t.pageSize??""}&currentPage=${t.currentPage??""}&sort=${t.sort??""}`}function t8(t,e){return aN(t.list,t.entities,e)}function aN(t,e,i,n){let r=en(t,i?KS(i,n):n??e8);if(!r.value||!r.value.ids)return r;let s=Object.assign({},r,{value:{values:r.value.ids.map(o=>en(e,o).value)}});return i&&s.value&&(s.value.pagination=r.value.pagination,s.value.sorts=r.value.sorts),s}function n8(t,e){let i=t.values||[],n={ids:i.map(r=>r[e])};return t.pagination&&(n.pagination=t.pagination),t.sorts&&(n.sorts=t.sorts),{values:i,page:n}}function r8(t,e){return[t,KS(e)].toString()}var Nce=Object.freeze({__proto__:null,ENTITY_FAIL_ACTION:kS,ENTITY_LOAD_ACTION:LS,ENTITY_PROCESSES_DECREMENT_ACTION:Jx,ENTITY_PROCESSES_INCREMENT_ACTION:Qx,ENTITY_PROCESSES_LOADER_RESET_ACTION:Zx,ENTITY_REMOVE_ACTION:jx,ENTITY_REMOVE_ALL_ACTION:$x,ENTITY_RESET_ACTION:jS,ENTITY_SUCCESS_ACTION:US,EntityFailAction:Tt,EntityLoadAction:Lt,EntityLoaderResetAction:_n,EntityProcessesDecrementAction:bC,EntityProcessesIncrementAction:DC,EntityProcessesLoaderResetAction:IC,EntityRemoveAction:mC,EntityRemoveAllAction:vC,EntitySuccessAction:dt,LOADER_FAIL_ACTION:zx,LOADER_LOAD_ACTION:Hx,LOADER_RESET_ACTION:Wx,LOADER_SUCCESS_ACTION:Gx,LoaderFailAction:ut,LoaderLoadAction:ct,LoaderResetAction:Wr,LoaderSuccessAction:lt,PROCESSES_DECREMENT_ACTION:Yx,PROCESSES_INCREMENT_ACTION:qx,PROCESSES_LOADER_RESET_ACTION:Kx,ProcessesDecrementAction:SC,ProcessesIncrementAction:CC,ProcessesLoaderResetAction:EC,denormalizeCustomB2BSearch:aN,denormalizeSearch:t8,entityErrorSelector:HG,entityFailMeta:BS,entityHasPendingProcessesSelector:WG,entityIsStableSelector:qG,entityLoadMeta:$S,entityLoaderReducer:ds,entityLoaderStateSelector:en,entityLoadingSelector:VG,entityMeta:Di,entityProcessesDecrementMeta:tN,entityProcessesIncrementMeta:eN,entityProcessesLoaderReducer:KG,entityProcessesLoaderResetMeta:Xx,entityProcessesLoaderStateSelector:YG,entityReducer:Tc,entityRemoveAllMeta:Vx,entityRemoveMeta:Bx,entityResetMeta:HS,entitySelector:sN,entitySuccessMeta:VS,entitySuccessSelector:zG,entityValueSelector:BG,failMeta:FS,getStateSlice:YS,hasPendingProcessesSelector:rN,initialEntityState:yC,initialLoaderState:gr,initialProcessesState:yf,isStableSelector:nN,loadMeta:PS,loaderErrorSelector:Bo,loaderLoadingSelector:Ut,loaderReducer:at,loaderSuccessSelector:Un,loaderValueSelector:tt,normalizeListPage:n8,processesDecrementMeta:GS,processesIncrementMeta:zS,processesLoaderReducer:iN,processesLoaderResetMeta:WS,resetMeta:jp,serializeParams:r8,serializeSearchConfig:KS,successMeta:_S}),cN="anonymous-consents",Ac="[Anonymous Consents] Anonymous Consents",uN="[Anonymous Consents] Load Anonymous Consent Templates",i8="[Anonymous Consents] Load Anonymous Consent Templates Success",s8="[Anonymous Consents] Load Anonymous Consent Templates Fail",o8="[Anonymous Consents] Reset Load Anonymous Consent Templates";var lN="[Anonymous Consents] Set Anonymous Consents",dN="[Anonymous Consents] Give Anonymous Consent",fN="[Anonymous Consents] Withdraw Anonymous Consent",hN="[Anonymous Consents] Toggle Anonymous Consents Banner Dismissed",pN="[Anonymous Consents] Anonymous Consent Templates Updated",gN="[Anonymous Consents] Check Updated Versions",Ef=class extends ct{constructor(){super(Ac),this.type=uN}},Cf=class extends lt{constructor(e){super(Ac),this.payload=e,this.type=i8}},Sf=class extends ut{constructor(e){super(Ac,e),this.type=s8}},wC=class extends Wr{constructor(){super(Ac),this.type=o8}};var TC=class{constructor(e){this.payload=e,this.type=lN}},AC=class{constructor(e){this.templateCode=e,this.type=dN}},RC=class{constructor(e){this.templateCode=e,this.type=fN}},MC=class{constructor(e){this.dismissed=e,this.type=hN}},If=class{constructor(e){this.updated=e,this.type=pN}},xC=class{constructor(){this.type=gN}};var Rc=Pn(cN),$p=A(Rc,t=>t.templates),NC=A($p,t=>tt(t)),a8=A($p,Ut),c8=A($p,Un),u8=A($p,Bo),l8=t=>A(NC,e=>e?e.find(i=>i.id===t):void 0),d8=A(Rc,t=>t.ui.updated),f8=A(Rc,t=>t.ui.bannerDismissed),mN=A(Rc,t=>t.consents),h8=t=>A(mN,e=>e.find(i=>i.templateCode===t));var To="current",Ao="anonymous",p8="guest",g8=Object.freeze({__proto__:null,OCC_USER_ID_ANONYMOUS:Ao,OCC_USER_ID_CURRENT:To,OCC_USER_ID_GUEST:p8}),Oce="current",mr="[Auth] Login",Kr="[Auth] Logout",Ro=class{constructor(){this.type=mr}},Df=class{constructor(){this.type=Kr}},Pce=Object.freeze({__proto__:null,LOGIN:mr,LOGOUT:Kr,Login:Ro,Logout:Df}),jn=(()=>{let e=class e{constructor(){this._userId=new rn(1)}setUserId(n){this._userId.next(n)}getUserId(){return this._userId}takeUserId(n=!1){return this.getUserId().pipe(oe(1),E(r=>{if(n&&r===Ao)throw new Error("Requested user id for logged user while user is not logged in.");return r}))}clearUserId(){this.setUserId(Ao)}isEmulated(){return this.getUserId().pipe(E(n=>n!==Ao&&n!==To))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),m8="oAuthRedirectCodeFlow",mc=function(t){return t[t.ResourceOwnerPasswordFlow=0]="ResourceOwnerPasswordFlow",t[t.ImplicitFlow=1]="ImplicitFlow",t[t.AuthorizationCode=2]="AuthorizationCode",t}(mc||{}),v8=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:function(r){let s=null;return r?s=new(r||e):s=d(kt),s},providedIn:"root"});let t=e;return t})(),Zr=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:function(r){let s=null;return r?s=new(r||e):s=d(kt),s},providedIn:"root"});let t=e;return t})(),yr=(()=>{let e=class e extends Zr{};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=m({token:e,factory:function(r){let s=null;return r?s=new(r||e):s=d(kt),s},providedIn:"root"});let t=e;return t})(),Bp=(()=>{let e=class e{constructor(n,r){this.authConfig=n,this.occConfig=r}get config(){return this.authConfig?.authentication??{}}getClientId(){return this.config?.client_id??""}getClientSecret(){return this.config?.client_secret??""}getBaseUrl(){return this.config?.baseUrl??(this.occConfig?.backend?.occ?.baseUrl??"")+"/authorizationserver"}getTokenEndpoint(){let n=this.config?.tokenEndpoint??"";return this.prefixEndpoint(n)}getLoginUrl(){let n=this.config?.loginUrl??"";return this.prefixEndpoint(n)}getRevokeEndpoint(){let n=this.config?.revokeEndpoint??"";return this.prefixEndpoint(n)}getLogoutUrl(){let n=this.config?.logoutUrl??"";return this.prefixEndpoint(n)}getUserinfoEndpoint(){let n=this.config?.userinfoEndpoint??"";return this.prefixEndpoint(n)}getOAuthLibConfig(){return this.config?.OAuthLibConfig??{}}prefixEndpoint(n){let r=n;return r.startsWith("/")||(r="/"+r),`${this.getBaseUrl()}${r}`}getOAuthFlow(){let n=this.config?.OAuthLibConfig?.responseType;if(n){let r=n.split(" ");return r.includes("code")?mc.AuthorizationCode:r.includes("token")?mc.ImplicitFlow:mc.ResourceOwnerPasswordFlow}return mc.ResourceOwnerPasswordFlow}};e.\u0275fac=function(r){return new(r||e)(d(v8),d(yr))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),y8=new S("SERVER_REQUEST_URL"),E8=new S("SERVER_REQUEST_ORIGIN"),bi=(()=>{let e=class e{constructor(n,r,s,o){this.platformId=r,this.serverUrl=s,this.serverOrigin=o,this.document=n}isBrowser(){return On(this.platformId)}get nativeWindow(){return this.isBrowser()?window:void 0}get sessionStorage(){return this.nativeWindow?this.nativeWindow.sessionStorage:void 0}get localStorage(){return this.nativeWindow?this.nativeWindow.localStorage:void 0}get location(){if(this.isBrowser())return this.document.location;if(!this.serverUrl)throw new Error("Cannot resolve the href as the SERVER_REQUEST_URL is undefined");if(!this.serverOrigin)throw new Error("Cannot resolve the origin as the SERVER_REQUEST_ORIGIN is undefined");return{href:this.serverUrl,origin:this.serverOrigin}}get resize$(){return this.nativeWindow?Xo(this.nativeWindow,"resize").pipe(Fi(300),Kn({target:this.nativeWindow}),an()):I(null)}};e.\u0275fac=function(r){return new(r||e)(d(_e),d($e),d(y8,8),d(E8,8))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),vN=(()=>{let e=class e{constructor(n,r,s,o){this.oAuthService=n,this.authConfigService=r,this.platformId=s,this.winRef=o,this.events$=this.oAuthService.events,this.initialize()}initialize(){let n=!this.winRef.isBrowser();this.oAuthService.configure(v({tokenEndpoint:this.authConfigService.getTokenEndpoint(),loginUrl:this.authConfigService.getLoginUrl(),clientId:this.authConfigService.getClientId(),dummyClientSecret:this.authConfigService.getClientSecret(),revocationEndpoint:this.authConfigService.getRevokeEndpoint(),logoutUrl:this.authConfigService.getLogoutUrl(),userinfoEndpoint:this.authConfigService.getUserinfoEndpoint(),issuer:this.authConfigService.getOAuthLibConfig()?.issuer??this.authConfigService.getBaseUrl(),redirectUri:this.authConfigService.getOAuthLibConfig()?.redirectUri??(n?"":this.winRef.nativeWindow.location.origin)},this.authConfigService.getOAuthLibConfig()))}authorizeWithPasswordFlow(n,r){return this.oAuthService.fetchTokenUsingPasswordFlow(n,r)}refreshToken(){this.oAuthService.refreshToken()}revokeAndLogout(){return new Promise(n=>{this.oAuthService.revokeTokenAndLogout(!0).catch(()=>{this.oAuthService.logOut(!0)}).finally(()=>{n()})})}logout(){this.oAuthService.logOut(!0)}getIdToken(){return this.oAuthService.getIdToken()}initLoginFlow(){return this.winRef.localStorage&&this.winRef.localStorage?.setItem(m8,"true"),this.oAuthService.initLoginFlow()}tryLogin(){return new Promise(n=>{let r,s=this.events$.pipe(x(o=>o.type==="token_received"),oe(1)).subscribe(o=>r=o);this.oAuthService.tryLogin({disableOAuth2StateCheck:!0}).then(o=>{n({result:o,tokenReceived:!!r})}).finally(()=>{s.unsubscribe()})})}};e.\u0275fac=function(r){return new(r||e)(d(Gd),d(Bp),d($e),d(bi))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Mc=(()=>{let e=class e extends us{constructor(){super(...arguments),this._token$=new Te({})}decode(n,r){return e.nonStringifiedOAuthLibKeys.includes(n)?r:JSON.stringify(r)}encode(n,r){if(e.nonStringifiedOAuthLibKeys.includes(n))return r;try{return JSON.parse(r)}catch{return r}}getToken(){return this._token$}setToken(n){this._token$.next(n)}getItem(n){let r;return this.getToken().subscribe(s=>r=s).unsubscribe(),this.decode(n,r?.[n])}removeItem(n){let r=v({},this._token$.value);delete r[n],this._token$.next(v({},r))}setItem(n,r){n&&this._token$.next(T(v({},this._token$.value),{[n]:this.encode(n,r)}))}};e.nonStringifiedOAuthLibKeys=["PKCE_verifier","access_token","refresh_token","expires_at","access_token_stored_at","id_token","id_token_expires_at","id_token_stored_at","session_state","nonce"],e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),yN="[Router] Change Next PageContext",OC=class{constructor(e){this.payload=e,this.type=yN}};var PC="router",C8=Pn(PC),Vp=A(C8,t=>t.router),Fce=A(Vp,t=>t.state&&t.state.semanticRoute||""),S8=A(Vp,t=>t.state&&t.state.context||{id:""}),EN=A(Vp,t=>t.nextState&&t.nextState.context),I8=A(EN,t=>!!t);var FC=t=>t.startsWith(":"),hx=t=>t.slice(1);var Q=(()=>{let e=class e{log(...n){console.log(...n)}warn(...n){console.warn(...n)}error(...n){console.error(...n)}info(...n){console.info(...n)}debug(...n){console.debug(...n)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Hp=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:function(r){let s=null;return r?s=new(r||e):s=d(kt),s},providedIn:"root"});let t=e;return t})(),zp=(()=>{let e=class e{constructor(n){this.config=n,this.logger=C(Q)}getRouteConfig(n){let r=this.config?.routing?.routes,s=r&&r[n];return(!r||s===void 0)&&this.warn(`No path was configured for the named route '${n}'!`),s}warn(...n){ge()&&this.logger.warn(...n)}getLoadStrategy(){return this.config?.routing?.loadStrategy??"always"}getRouteName(n){return this.routeNamesByPath||this.initRouteNamesByPath(),this.routeNamesByPath[n]}initRouteNamesByPath(){this.routeNamesByPath={};for(let[n,r]of Object.entries(this.config?.routing?.routes??{}))r?.paths?.forEach(s=>{ge()&&this.routeNamesByPath[s]&&this.logger.error(`The same path '${s}' is configured for two different route names: '${this.routeNamesByPath[s]}' and '${n}`),this.routeNamesByPath[s]=n})}};e.\u0275fac=function(r){return new(r||e)(d(Hp))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ZS=(()=>{let e=class e{constructor(n){this.router=n}getPrimarySegments(n){let r=this.router.parseUrl(n);return this._getPrimarySegmentsFromUrlTree(r.root)}_getPrimarySegmentsFromUrlTree(n){let r=n.segments.map(o=>o.path),s=n.children[ee]?this._getPrimarySegmentsFromUrlTree(n.children[ee]):[];return r.concat(s)}matchPath(n,r){if(n=Array.isArray(n)?n:this.getPrimarySegments(n),r=Array.isArray(r)?r:this.getPrimarySegments(r),n.length!==r.length)return!1;for(let s=0;s<r.length;s++){let o=r[s],a=n[s];if(!FC(o)&&o!==a)return!1}return!0}};e.\u0275fac=function(r){return new(r||e)(d(Ne))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),xc=(()=>{let e=class e{constructor(n,r){this.routingConfigService=n,this.urlParser=r,this.ROOT_URL=["/"]}get(n){let r=this.routingConfigService.getRouteConfig(n);return r&&Array.isArray(r.paths)?"/"+r.paths[0]:void 0}transform(n){Array.isArray(n)||(n=[n]);let r=[];for(let s of n)if(!this.isRouteCommand(s))r.push(s);else{let o=this.generateUrlPart(s);if(o===null)return this.ROOT_URL;r.push(...o)}return this.shouldOutputAbsolute(n)&&r.unshift("/"),r}isRouteCommand(n){return n&&!!n.cxRoute}shouldOutputAbsolute(n){return this.isRouteCommand(n[0])}generateUrlPart(n){if(this.standarizeRouteCommand(n),!n.cxRoute)return null;let r=this.routingConfigService.getRouteConfig(n.cxRoute);if(!r||!r.paths)return null;let s=this.findPathWithFillableParams(r,n.params);return s?this.provideParamsValues(s,n.params,r.paramsMapping):null}standarizeRouteCommand(n){n.params=n.params||{}}provideParamsValues(n,r,s){return this.urlParser.getPrimarySegments(n).map(o=>{if(FC(o)){let a=hx(o),c=this.getMappedParamName(a,s);return r?.[c]}return o})}findPathWithFillableParams(n,r){let s=n.paths?.find(o=>this.getParams(o).every(a=>{let c=this.getMappedParamName(a,n.paramsMapping);return r?.[c]!==void 0}));return s??null}getParams(n){return this.urlParser.getPrimarySegments(n).filter(FC).map(hx)}getMappedParamName(n,r){return r&&r[n]||n}};e.\u0275fac=function(r){return new(r||e)(d(zp),d(ZS))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),CN=(()=>{let e=class e{constructor(n){this.router=n,this.routes$=this.router.events.pipe(x(r=>r instanceof st),Kn(void 0),E(()=>{let r=this.router.routerState.snapshot.root,s=[r];for(;r=r.firstChild;)s.push(r);return s}),ht({bufferSize:1,refCount:!0}))}};e.\u0275fac=function(r){return new(r||e)(d(Ne))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),D8=(()=>{let e=class e{constructor(n,r){this.router=n,this.activatedRoutesService=r,this.params$=this.activatedRoutesService.routes$.pipe(E(s=>this.findAllParam(s)),ht({refCount:!0,bufferSize:1}))}getParams(){return this.params$}findAllParam(n){return Object.assign({},...n.map(r=>r.params))}};e.\u0275fac=function(r){return new(r||e)(d(Ne),d(CN))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),wi=(()=>{let e=class e{constructor(n,r,s,o,a,c){this.store=n,this.winRef=r,this.semanticPathService=s,this.routingParamsService=o,this.router=a,this.location=c}getParams(){return this.routingParamsService.getParams()}getRouterState(){return this.store.pipe(M(Vp))}getPageContext(){return this.store.pipe(M(S8))}getNextPageContext(){return this.store.pipe(M(EN))}changeNextPageContext(n){this.store.dispatch(new OC(n))}isNavigating(){return this.store.pipe(M(I8))}go(n,r){let s=this.semanticPathService.transform(n);return this.navigate(s,r)}getUrl(n,r){let s=this.router.serializeUrl(this.router.createUrlTree(this.semanticPathService.transform(n),r));return s.startsWith("/")||(s=`/${s}`),s}getFullUrl(n,r){return`${this.winRef.location.origin}${this.getUrl(n,r)}`}goByUrl(n,r){return this.router.navigateByUrl(n,r)}back(){if(this.winRef.nativeWindow&&this.winRef.document.referrer.includes(this.winRef.nativeWindow.location.origin)){this.location.back();return}this.go(["/"])}forward(){this.location.forward()}navigate(n,r){return this.router.navigate(n,r)}};e.\u0275fac=function(r){return new(r||e)(d(me),d(bi),d(xc),d(D8),d(Ne),d(ar))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),SN=(()=>{let e=class e{constructor(){this.redirectUrl$=new Te(void 0)}getRedirectUrl(){return this.redirectUrl$}setRedirectUrl(n){this.redirectUrl$.next(n)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),b8=(()=>{let e=class e{constructor(n,r){this.config=n,this.urlParsingService=r}get authFlowPaths(){return this._authFlowPaths||(this._authFlowPaths=Object.values(this.config?.routing?.routes||{}).reduce((n,r)=>r.authFlow===!0&&r.paths?.length?n.concat(r?.paths):n,[])),this._authFlowPaths}isAuthFlow(n){return this.authFlowPaths.some(r=>this.urlParsingService.matchPath(n,r))}};e.\u0275fac=function(r){return new(r||e)(d(Hp),d(ZS))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),QS=(()=>{let e=class e{constructor(n,r,s,o){this.routing=n,this.router=r,this.authRedirectStorageService=s,this.authFlowRoutesService=o,this.init()}init(){this.subscription=this.router.events.subscribe(n=>{n instanceof st&&this.setRedirectUrl(n.urlAfterRedirects)})}ngOnDestroy(){this.subscription?.unsubscribe()}redirect(){this.authRedirectStorageService.getRedirectUrl().pipe(oe(1)).subscribe(n=>{n===void 0?this.routing.go("/"):this.routing.goByUrl(n),this.clearRedirectUrl()})}saveCurrentNavigationUrl(){let n=this.router.getCurrentNavigation();if(!n?.finalUrl)return;let r=this.router.serializeUrl(n.finalUrl);this.setRedirectUrl(r)}setRedirectUrl(n){this.authFlowRoutesService.isAuthFlow(n)||this.authRedirectStorageService.setRedirectUrl(n)}clearRedirectUrl(){this.authRedirectStorageService.setRedirectUrl(void 0)}};e.\u0275fac=function(r){return new(r||e)(d(wi),d(Ne),d(SN),d(b8))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function yn(t){return typeof t<"u"}function yc(t){return yn(t)&&t!==null}function Nc(t,e){return t.context&&t.context[e]||[]}function Si(t,e){let i=Nc(t,e);return i&&i.length?i[0]:void 0}var ys="language",Es="currency",qr="baseSite",w8="theme",JS="[Site-context] Load BaseSite",IN="[Site-context] Load BaseSite Fail",XS="[Site-context] Load BaseSite Success",eI="[Site-context] Load BaseSites",DN="[Site-context] Load BaseSites Fail",tI="[Site-context] Load BaseSites Success",nI="[Site-context] Set Active BaseSite",bN="[Site-context] BaseSite Change",_C=class{constructor(){this.type=JS}},bf=class{constructor(e){this.payload=e,this.type=IN}},wf=class{constructor(e){this.payload=e,this.type=XS}},Tf=class{constructor(){this.type=eI}},Af=class{constructor(e){this.payload=e,this.type=DN}},Rf=class{constructor(e){this.payload=e,this.type=tI}},Mf=class{constructor(e){this.payload=e,this.type=nI}},LC=class{constructor(){this.type=bN}},rI="[Site-context] Load Currencies",wN="[Site-context] Load Currencies Fail",iI="[Site-context] Load Currencies Success",Gp="[Site-context] Set Active Currency",Oc="[Site-context] Currency Change",xf=class{constructor(){this.type=rI}},Nf=class{constructor(e){this.payload=e,this.type=wN}},Of=class{constructor(e){this.payload=e,this.type=iI}},Pf=class{constructor(e){this.payload=e,this.type=Gp}},Ff=class{constructor(e){this.payload=e,this.type=Oc}},sI="[Site-context] Load Languages",TN="[Site-context] Load Languages Fail",oI="[Site-context] Load Languages Success",Wp="[Site-context] Set Active Language",$n="[Site-context] Language Change",_f=class{constructor(){this.type=sI}},Lf=class{constructor(e){this.payload=e,this.type=TN}},kf=class{constructor(e){this.payload=e,this.type=oI}},Uf=class{constructor(e){this.payload=e,this.type=Wp}},jf=class{constructor(e){this.payload=e,this.type=$n}},_ce=Object.freeze({__proto__:null,BASE_SITE_CHANGE:bN,BaseSiteChange:LC,CURRENCY_CHANGE:Oc,CurrencyChange:Ff,LANGUAGE_CHANGE:$n,LOAD_BASE_SITE:JS,LOAD_BASE_SITES:eI,LOAD_BASE_SITES_FAIL:DN,LOAD_BASE_SITES_SUCCESS:tI,LOAD_BASE_SITE_FAIL:IN,LOAD_BASE_SITE_SUCCESS:XS,LOAD_CURRENCIES:rI,LOAD_CURRENCIES_FAIL:wN,LOAD_CURRENCIES_SUCCESS:iI,LOAD_LANGUAGES:sI,LOAD_LANGUAGES_FAIL:TN,LOAD_LANGUAGES_SUCCESS:oI,LanguageChange:jf,LoadBaseSite:_C,LoadBaseSiteFail:bf,LoadBaseSiteSuccess:wf,LoadBaseSites:Tf,LoadBaseSitesFail:Af,LoadBaseSitesSuccess:Rf,LoadCurrencies:xf,LoadCurrenciesFail:Nf,LoadCurrenciesSuccess:Of,LoadLanguages:_f,LoadLanguagesFail:Lf,LoadLanguagesSuccess:kf,SET_ACTIVE_BASE_SITE:nI,SET_ACTIVE_CURRENCY:Gp,SET_ACTIVE_LANGUAGE:Wp,SetActiveBaseSite:Mf,SetActiveCurrency:Pf,SetActiveLanguage:Uf}),aI="siteContext",Pc=Pn(aI),T8=t=>t.entities,A8=A(Pc,t=>t.baseSite),px=A(Pc,t=>t&&t.baseSite&&t.baseSite.activeSite),Lce=A(Pc,t=>t&&t.baseSite&&t.baseSite.details),R8=A(A8,T8),M8=A(R8,t=>t?Object.keys(t).map(e=>t[e]):null),x8=t=>t.entities,N8=t=>t.activeCurrency,AN=A(Pc,t=>t.currencies),O8=A(AN,x8),kC=A(AN,N8),P8=A(O8,t=>t?Object.keys(t).map(e=>t[e]):null),F8=t=>t.activeLanguage,_8=t=>t.entities,RN=A(Pc,t=>t.languages),L8=A(RN,_8),UC=A(RN,F8),k8=A(L8,t=>t?Object.keys(t).map(e=>t[e]):null);var Cs=(()=>{let e=class e{constructor(n,r){this.store=n,this.config=r}getActive(){return this.store.pipe(M(px),x(n=>!!n))}getAll(){return this.store.pipe(M(M8),L(n=>{n||this.store.dispatch(new Tf)}),x(yc))}get(n){return n?this.getAll().pipe(E(r=>r.find(s=>s.uid===n))):this.getActive().pipe(N(r=>this.getAll().pipe(E(s=>s.find(o=>o.uid===r)))))}setActive(n){this.store.pipe(M(px),oe(1)).subscribe(r=>{n&&r!==n&&this.store.dispatch(new Mf(n))})}isInitialized(){let n=!1;return this.getActive().subscribe(()=>n=!0).unsubscribe(),n}isValid(n){return!!n&&Nc(this.config,qr).includes(n)}};e.\u0275fac=function(r){return new(r||e)(d(me),d(Zr))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),U8=(()=>{let e=class e{constructor(n){this.baseSiteService=n,this.MULTISITE_SEPARATOR="|"}getBaseSiteDecorator(){return this.baseSiteService.get().pipe(oe(1),E(n=>n?.isolated?this.MULTISITE_SEPARATOR+n?.uid:""))}decorateUserId(n){return this.getBaseSiteDecorator().pipe(E(r=>n+r))}};e.\u0275fac=function(r){return new(r||e)(d(Cs))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Bn=(()=>{let e=class e{constructor(n,r,s,o,a,c,u){this.store=n,this.userIdService=r,this.oAuthLibWrapperService=s,this.authStorageService=o,this.authRedirectService=a,this.routingService=c,this.authMultisiteIsolationService=u,this.refreshInProgress$=new Te(!1),this.logoutInProgress$=new Te(!1)}checkOAuthParamsInUrl(){return nt(this,null,function*(){try{let n=yield this.oAuthLibWrapperService.tryLogin(),r=this.authStorageService.getItem("access_token");n.result&&r&&(this.userIdService.setUserId(To),this.store.dispatch(new Ro),n.tokenReceived&&this.authRedirectService.redirect())}catch{}})}loginWithRedirect(){return this.oAuthLibWrapperService.initLoginFlow(),!0}loginWithCredentials(n,r){return nt(this,null,function*(){let s=n;this.authMultisiteIsolationService&&(s=yield Zn(this.authMultisiteIsolationService.decorateUserId(s)));try{yield this.oAuthLibWrapperService.authorizeWithPasswordFlow(s,r),this.userIdService.setUserId(To),this.store.dispatch(new Ro),this.authRedirectService.redirect()}catch{}})}otpLoginWithCredentials(n,r){return nt(this,null,function*(){try{yield this.oAuthLibWrapperService.authorizeWithPasswordFlow(n,r),this.userIdService.setUserId(To),this.store.dispatch(new Ro),this.authRedirectService.redirect()}catch{}})}coreLogout(){return this.setLogoutProgress(!0),this.userIdService.clearUserId(),new Promise(n=>{this.oAuthLibWrapperService.revokeAndLogout().finally(()=>{this.store.dispatch(new Df),this.setLogoutProgress(!1),n()})})}isUserLoggedIn(){return this.authStorageService.getToken().pipe(E(n=>!!n?.access_token),an())}logout(){this.routingService.go({cxRoute:"logout"})}setRefreshProgress(n){this.refreshInProgress$.next(n)}setLogoutProgress(n){this.logoutInProgress$.next(n)}};e.\u0275fac=function(r){return new(r||e)(d(me),d(jn),d(vN),d(Mc),d(QS),d(wi),d(U8))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Fc=(()=>{let e=class e{constructor(n,r){this.store=n,this.authService=r}loadTemplates(){this.store.dispatch(new Ef)}getTemplates(n=!1){return ea(()=>n,this.store.pipe(M(NC),rt(this.getLoadTemplatesLoading()),x(([r,s])=>!s),L(([r,s])=>{r||this.loadTemplates()}),x(([r,s])=>!!r),E(([r,s])=>r)),this.store.pipe(M(NC)))}getTemplate(n){return this.store.pipe(M(l8(n)))}getLoadTemplatesLoading(){return this.store.pipe(M(a8))}getLoadTemplatesSuccess(){return this.store.pipe(M(c8))}getLoadTemplatesError(){return this.store.pipe(M(u8))}resetLoadTemplatesState(){this.store.dispatch(new wC)}getConsents(){return this.store.pipe(M(mN))}setConsents(n){return this.store.dispatch(new TC(n))}getConsent(n){return this.authService.isUserLoggedIn().pipe(x(r=>!r),L(()=>this.getTemplates(!0)),N(()=>this.store.pipe(M(h8(n)))))}giveConsent(n){this.store.dispatch(new AC(n))}giveAllConsents(){return this.getTemplates(!0).pipe(L(n=>n.forEach(r=>{r.id&&this.giveConsent(r.id)})))}isConsentGiven(n){return(n&&n.consentState===Oo.GIVEN)??!1}withdrawConsent(n){this.store.dispatch(new RC(n))}withdrawAllConsents(){return this.getTemplates(!0).pipe(L(n=>n.forEach(r=>{r.id&&this.withdrawConsent(r.id)})))}isConsentWithdrawn(n){return n&&n.consentState===Oo.WITHDRAWN}toggleBannerDismissed(n){this.store.dispatch(new MC(n)),n&&this.toggleTemplatesUpdated(!1)}isBannerDismissed(){return this.store.pipe(M(f8))}getTemplatesUpdated(){return this.getTemplates(!0).pipe(N(()=>this.store.pipe(M(d8))))}toggleTemplatesUpdated(n){this.store.dispatch(new If(n))}isBannerVisible(){return Pe([this.isBannerDismissed(),this.getTemplatesUpdated()]).pipe(L(()=>this.checkConsentVersions()),E(([n,r])=>!n||r))}checkConsentVersions(){this.store.dispatch(new xC)}detectUpdatedTemplates(n,r){if(r.length!==n.length)return!0;for(let s=0;s<r.length;s++){let o=r[s],a=n[s];if(o.version!==a.version)return!0}return!1}serializeAndEncode(n){if(!n)return"";let r=JSON.stringify(n);return encodeURIComponent(r)}decodeAndDeserialize(n){let r=decodeURIComponent(n);return r.length>0?JSON.parse(r):[]}consentsUpdated(n,r){let s=this.serializeAndEncode(n),o=this.serializeAndEncode(r);return s!==o}};e.\u0275fac=function(r){return new(r||e)(d(me),d(Bn))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),jC="cx-use-client-token",kce="cx-use-csagent-token",Ec=class{static createHeader(e,i,n){return n?n.append(e,JSON.stringify(i)):(n=new le().set(e,JSON.stringify(i)),n)}static removeHeader(e,i){let n=i.headers.delete(e);return i.clone({headers:n})}static getInterceptorParam(e,i){let n=i.get(e);if(n)return JSON.parse(n)}},MN="client-auth",qp="[Client auth] Client Token Data",xN="[Token] Load Client Token",j8="[Token] Load Client Token Fail",$8="[Token] Load Client Token Success",$f=class extends ct{constructor(){super(qp),this.type=xN}},$C=class extends ut{constructor(e){super(qp,e),this.payload=e,this.type=j8}},BC=class extends lt{constructor(e){super(qp),this.payload=e,this.type=$8}};var B8=Pn(MN),gx=A(B8,t=>t.clientToken);var NN=(()=>{let e=class e{constructor(n){this.store=n}getClientToken(){return this.store.pipe(M(gx),sn(ni),x(n=>this.isClientTokenLoaded(n)?!0:(n.loading||this.store.dispatch(new $f),!1)),E(n=>n.value))}refreshClientToken(){return this.store.dispatch(new $f),this.store.pipe(M(gx),x(n=>this.isClientTokenLoaded(n)),E(n=>n.value),x(yn))}isClientTokenLoaded(n){return!!((n.success||n.error)&&!n.loading)}};e.\u0275fac=function(r){return new(r||e)(d(me))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),V8=(()=>{let e=class e{constructor(n){this.clientTokenService=n}handleExpiredClientToken(n,r){return this.clientTokenService.refreshClientToken().pipe(oe(1),N(s=>r.handle(this.createNewRequestWithNewToken(n,s))))}createNewRequestWithNewToken(n,r){return n=n.clone({setHeaders:{Authorization:`${r.token_type||"Bearer"} ${r.access_token}`}}),n}};e.\u0275fac=function(r){return new(r||e)(d(NN))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),VC=class{static resolve(e,i,n){for(let r of Object.keys(i)){let s=new RegExp("\\${"+r+"}","g");e=e.replace(s,n?encodeURIComponent(i[r]):i[r])}return e}},HC=class{encodeKey(e){return encodeURIComponent(e)}encodeValue(e){return encodeURIComponent(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}},vc="default";function mx(...t){let e=[];t=t.filter(i=>!!i);for(let i of t)e.push(H8(i));return t[0]?.startsWith("/")&&(e[0]="/"+e[0]),t[t.length-1]?.endsWith("/")&&(e[e.length-1]=e[e.length-1]+"/"),e.join("/")}function H8(t){return t=t.startsWith("/")?t.slice(1):t,t=t.endsWith("/")?t.slice(0,-1):t,t}var Qe=(()=>{let e=class e{get activeBaseSite(){return this._activeBaseSite??Si(this.config,qr)}constructor(n,r){this.config=n,this.baseSiteService=r,this.logger=C(Q),this.baseSiteService&&this.baseSiteService.getActive().subscribe(s=>this._activeBaseSite=s)}getRawEndpointValue(n,r){return this.getEndpointForScope(n,r)}isConfigured(n,r){return!(typeof this.getEndpointFromConfig(n,r)>"u")}getBaseUrl(n={baseUrl:!0,prefix:!0,baseSite:!0}){let r=n.baseUrl===!1?"":this.config?.backend?.occ?.baseUrl??"",s=n.prefix===!1?"":this.getPrefix(),o=n.baseSite===!1?"":this.activeBaseSite;return mx(r,s,o)}buildUrl(n,r,s){let o=this.getEndpointForScope(n,r?.scope);if(r){let{urlParams:a,queryParams:c}=r;if(a&&(o=VC.resolve(o,a,!0)),c){let u={encoder:new HC};if(o.includes("?")){let h;[o,h]=o.split("?"),u=T(v({},u),{fromString:h})}let f=this.getHttpParamsFromQueryParams(c,u).toString();f.length&&(o+="?"+f)}}return this.buildUrlFromEndpointString(o,s)}getHttpParamsFromQueryParams(n,r){let s=new ze(r);return Object.keys(n).forEach(o=>{let a=n[o];a!==void 0&&(a===null?s=s.delete(o):s=s.set(o,a))}),s}getEndpointFromConfig(n,r){let s=this.config.backend?.occ?.endpoints;if(!s)return;let o=s[n];return r?r===vc&&typeof o=="string"?o:o?.[r]:typeof o=="string"?o:o?.[vc]}getEndpointForScope(n,r){let s=this.config.backend?.occ?.endpoints;if(!s)return"";let o=s[n];if(r){if(o?.[r])return o?.[r];if(r===vc&&typeof o=="string")return o;ge()&&this.logger.warn(`${n} endpoint configuration missing for scope "${r}"`)}return(typeof o=="string"?o:o?.[vc])||n}buildUrlFromEndpointString(n,r){return mx(this.getBaseUrl(r),n)}getPrefix(){return this.config?.backend?.occ?.prefix&&!this.config.backend.occ.prefix.startsWith("/")?"/"+this.config.backend.occ.prefix:this.config?.backend?.occ?.prefix??""}};e.\u0275fac=function(r){return new(r||e)(d(yr),d(Cs,8))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),z8=(()=>{let e=class e{constructor(n,r,s){this.clientTokenService=n,this.clientErrorHandlingService=r,this.occEndpoints=s}intercept(n,r){let s=this.isClientTokenRequest(n);return s&&(n=Ec.removeHeader(jC,n)),this.getClientToken(s).pipe(oe(1),N(o=>(o?.access_token&&n.url.includes(this.occEndpoints.getBaseUrl())&&(n=n.clone({setHeaders:{Authorization:`${o.token_type||"Bearer"} ${o.access_token}`}})),r.handle(n).pipe(F(a=>{if(a instanceof zt&&a.status===401&&s&&this.isExpiredToken(a))return this.clientErrorHandlingService.handleExpiredClientToken(n,r);throw a})))))}getClientToken(n){return n?this.clientTokenService.getClientToken():I(void 0)}isClientTokenRequest(n){return!!Ec.getInterceptorParam(jC,n.headers)}isExpiredToken(n){return n.error?.errors?.[0]?.type==="InvalidTokenError"}};e.\u0275fac=function(r){return new(r||e)(d(NN),d(V8),d(Qe))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),G8=[{provide:pn,useExisting:z8,multi:!0}],Mo=function(t){return t.NO_STORAGE="NO_STORAGE",t.LOCAL_STORAGE="LOCAL_STORAGE",t.SESSION_STORAGE="SESSION_STORAGE",t}(Mo||{}),Vo=function(t){return t.TRANSFER_STATE="SSR",t}(Vo||{});function vx(t,e){let i;switch(t){case Mo.LOCAL_STORAGE:{i=e.localStorage;break}case Mo.SESSION_STORAGE:{i=e.sessionStorage;break}case Mo.NO_STORAGE:{i=void 0;break}default:i=e.sessionStorage}return i}function W8(t,e,i){!ON(i)&&e&&i.setItem(t,JSON.stringify(e))}function yx(t,e){if(ON(t))return;let i=t.getItem(e);if(i)return JSON.parse(i)}function ON(t){return!t}var Yp=(()=>{let e=class e{constructor(n){this.winRef=n}syncWithStorage({key:n,state$:r,context$:s=I(""),storageType:o=Mo.LOCAL_STORAGE,onRead:a=()=>{}}){let c=vx(o,this.winRef),u=new Ee;return u.add(s.pipe(E(l=>c?yx(c,this.generateKeyWithContext(l,n)):void 0),L(l=>a(l))).subscribe()),c&&u.add(r.pipe(rt(s)).subscribe(([l,f])=>{W8(this.generateKeyWithContext(f,n),l,c)})),u}readStateFromStorage({key:n,context:r="",storageType:s=Mo.LOCAL_STORAGE}){let o=vx(s,this.winRef);if(o)return yx(o,this.generateKeyWithContext(r,n))}generateKeyWithContext(n,r){return`spartacus\u26BF${[].concat(n).join("\u26BF")}\u26BF${r}`}};e.\u0275fac=function(r){return new(r||e)(d(bi))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),PN=(()=>{let e=class e{constructor(n,r,s,o){this.statePersistenceService=n,this.userIdService=r,this.authStorageService=s,this.authRedirectStorageService=o,this.subscription=new Ee,this.key="auth"}initSync(){this.subscription.add(this.statePersistenceService.syncWithStorage({key:this.key,state$:this.getAuthState(),onRead:n=>this.onRead(n)}))}getAuthState(){return Pe([this.authStorageService.getToken().pipe(x(n=>!!n),E(n=>v({},n))),this.userIdService.getUserId(),this.authRedirectStorageService.getRedirectUrl()]).pipe(E(([n,r,s])=>{let o=n;return o&&(o=v({},o),delete o.refresh_token),{token:o,userId:r,redirectUrl:s}}))}onRead(n){n?.token&&this.authStorageService.setToken(n.token),n?.redirectUrl&&this.authRedirectStorageService.setRedirectUrl(n.redirectUrl),n?.userId?this.userIdService.setUserId(n.userId):this.userIdService.clearUserId()}readStateFromStorage(){return this.statePersistenceService.readStateFromStorage({key:this.key})}isUserLoggedIn(){return!!this.readStateFromStorage()?.token?.access_token}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)(d(Yp),d(jn),d(Mc),d(SN))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),zC="cx-state";function q8(t,e,i,n){if(e&&i?.state?.ssrTransfer?.keys){if(On(t))return K8(e,i.state.ssrTransfer.keys,!!n?.isUserLoggedIn());if(Xi(t))return Y8(e,i.state.ssrTransfer.keys)}return r=>r}function Y8(t,e){let i=oN(e,Vo.TRANSFER_STATE);return function(n){return function(r,s){let o=n(r,s);if(o){let a=YS(i,[],o);t.set(zC,a)}return o}}}function K8(t,e,i){let n=oN(e,Vo.TRANSFER_STATE);return function(r){return function(s,o){if(o.type===vd){if(s||(s=r(s,o)),!i&&t.hasKey(zC)){let a=t.get(zC,{}),c=YS(n,[],a);s=yt({},s,c)}return s}return r(s,o)}}}var Ex=new S("TransferStateMetaReducer"),Z8=[{provide:Ex,useFactory:q8,deps:[$e,[new ln,Ta],[new ln,kt],[new ln,PN]]},{provide:so,useExisting:Ex,multi:!0}],Ti=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[...Z8]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})();function Y(t,e){if(t instanceof vf)return t;if(t instanceof zt){let i=new vf;return i.message=t.message,i.status=t.status,i.statusText=t.statusText,i.url=t.url,Array.isArray(t.error.errors)?i.details=t.error.errors:typeof t.error.error=="string"&&(i.details=[{type:t.error.error,message:t.error.error_description}]),i}ge()&&e.error("Error passed to normalizeHttpError is not HttpErrorResponse instance",t)}var Q8=(()=>{let e=class e{constructor(n,r){this.http=n,this.authConfigService=r}loadClientAuthenticationToken(){let n=this.authConfigService.getTokenEndpoint(),r=new ze().set("client_id",encodeURIComponent(this.authConfigService.getClientId())).set("client_secret",encodeURIComponent(this.authConfigService.getClientSecret())).set("grant_type","client_credentials"),s=new le({"Content-Type":"application/x-www-form-urlencoded"});return this.http.post(n,r,{headers:s})}};e.\u0275fac=function(r){return new(r||e)(d(Le),d(Bp))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),J8=(()=>{let e=class e{constructor(n,r){this.actions$=n,this.clientAuthenticationTokenService=r,this.logger=C(Q),this.loadClientToken$=W(()=>this.actions$.pipe(V(xN),Qn(()=>this.clientAuthenticationTokenService.loadClientAuthenticationToken().pipe(E(s=>new BC(s)),F(s=>I(new $C(Y(s,this.logger))))))))}};e.\u0275fac=function(r){return new(r||e)(d(Me),d(Q8))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),X8=[J8];function e3(){return{clientToken:at(qp)}}var FN=new S("ClientAuthReducers"),t3={provide:FN,useFactory:e3},n3=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({providers:[t3],imports:[Ze,Ti,ur.forFeature(MN,FN),$r.forFeature(X8)]});let t=e;return t})(),r3=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[...G8]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({imports:[Ze,n3]});let t=e;return t})(),Kp=new S("ConfigInitializer"),_N=new S("CONFIG_INITIALIZER_FORROOT_GUARD"),Ln=(()=>{let e=class e{constructor(n,r,s){this.config=n,this.initializerGuard=r,this.rootConfig=s,this.logger=C(Q),this.ongoingScopes$=new Te(void 0)}get isStable(){return!this.initializerGuard||this.ongoingScopes$.value?.length===0}getStable(...n){return this.isStable?I(this.config):this.ongoingScopes$.pipe(x(r=>!!r&&this.areReady(n,r)),oe(1),E(()=>this.config))}finishScopes(n){let r=[...this.ongoingScopes$.value??[]];for(let s of n)r.splice(r.indexOf(s),1);this.ongoingScopes$.next(r)}areReady(n,r){if(!n.length)return!r.length;for(let s of n)for(let o of r)if(this.scopesOverlap(s,o))return!1;return!0}scopesOverlap(n,r){return r.length>n.length&&([n,r]=[r,n]),n.startsWith(r)&&(n[r.length]||".")==="."}initialize(n){return nt(this,null,function*(){if(this.ongoingScopes$.value)return;let r=[],s=[];for(let o of n||[])if(o){if(!o.scopes||!o.scopes.length)throw new Error("CONFIG_INITIALIZER should provide scope!");ge()&&!this.areReady(o.scopes,r)&&this.logger.warn("More than one CONFIG_INITIALIZER is initializing the same config scope."),r.push(...o.scopes),s.push(nt(this,null,function*(){let a=yield o.configFactory();yt(this.rootConfig,a),yt(this.config,a),this.finishScopes(o.scopes)}))}this.ongoingScopes$.next(r),s.length&&(yield Promise.all(s))})}};e.\u0275fac=function(r){return new(r||e)(d(kt),d(_N,8),d(NS))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),LN=new S("ConfigurationValidator");function cI(t){return{provide:LN,useValue:t,multi:!0}}function i3(t,e,i){for(let n of e){let r=n(t);r&&i.warn(r)}}function s3(t){if(typeof t?.authentication?.baseUrl>"u"&&typeof t?.backend?.occ?.baseUrl>"u"&&t?.authentication?.OAuthLibConfig?.requireHttps!==!1)return"Authentication might not work correctly without setting either authentication.baseUrl or backend.occ.baseUrl configuration option! Workaround: To support relative urls in angular-oauth2-oidc library you can try setting authentication.OAuthLibConfig.requireHttps to false."}var o3={authentication:{client_id:"mobile_android",client_secret:"secret",tokenEndpoint:"/oauth/token",revokeEndpoint:"/oauth/revoke",loginUrl:"/oauth/authorize",OAuthLibConfig:{scope:"",customTokenParameters:["token_type"],strictDiscoveryDocumentValidation:!1,skipIssuerCheck:!0,disablePKCE:!0,oidc:!1,clearHashAfterLogin:!1}}};function Ii(t,e){return Object.assign(new t,e)}var Yr=(()=>{let e=class e{};e.type="CxEvent";let t=e;return t})(),Cx=(()=>{let e=class e extends Yr{};e.type="LogoutEvent";let t=e;return t})(),a3=(()=>{let e=class e extends Yr{};e.type="LoginEvent";let t=e;return t})(),GC=class{constructor(){this.sources=[],this.subscriptionsToSources=new Map,this.output$=new z(e=>(this.consumer=e,this.bindAllSourcesToConsumer(e),()=>{this.consumer=null,this.unbindAllSourcesFromConsumer()})).pipe(Os()),this.consumer=null}add(e){this.has(e)||(this.consumer&&this.bindSourceToConsumer(e,this.consumer),this.sources.push(e))}bindAllSourcesToConsumer(e){this.sources.forEach(i=>this.bindSourceToConsumer(i,e))}unbindAllSourcesFromConsumer(){this.sources.forEach(e=>this.unbindSourceFromConsumer(e))}bindSourceToConsumer(e,i){let n=e.subscribe(r=>i.next(r));this.subscriptionsToSources.set(e,n)}unbindSourceFromConsumer(e){let i=this.subscriptionsToSources.get(e);i!==void 0&&(i.unsubscribe(),this.subscriptionsToSources.delete(e))}remove(e){this.unbindSourceFromConsumer(e);let i;(i=this.sources.findIndex(n=>n===e))!==-1&&this.sources.splice(i,1)}has(e){return this.sources.includes(e)}},Ss=(()=>{let e=class e{constructor(){this.logger=C(Q),this.eventsMeta=new Map}register(n,r){let s=this.getEventMeta(n);return s.mergingSubject.has(r)?ge()&&this.logger.warn("EventService: the event source",r,"has been already registered for the type",n):s.mergingSubject.add(r),()=>s.mergingSubject.remove(r)}get(n){let r=this.getEventMeta(n).mergingSubject.output$;return ge()&&(r=this.getValidatedEventStream(r,n)),r}dispatch(n,r){r?n instanceof r||(n=Ii(r,n)):r=n.constructor,this.getInputSubject(r).next(n)}getInputSubject(n){let r=this.getEventMeta(n);return r.inputSubject$||(r.inputSubject$=new re,this.register(n,r.inputSubject$)),r.inputSubject$}getEventMeta(n){return this.eventsMeta.get(n)||(ge()&&this.validateEventType(n),this.createEventMeta(n)),this.eventsMeta.get(n)}createEventMeta(n){let r={inputSubject$:null,mergingSubject:new GC};this.eventsMeta.set(n,r);let s=Object.getPrototypeOf(n);for(;s!==null&&Object.getPrototypeOf(s)!==Object.getPrototypeOf({});)this.register(s,r.mergingSubject.output$),s=Object.getPrototypeOf(s)}validateEventType(n){if(!n?.constructor)throw new Error(`EventService:  ${n} is not a valid event type. Please provide a class reference.`);this.validateCxEvent(n)}validateCxEvent(n){let r=n;for(;r!==null&&Object.getPrototypeOf(r)!==Object.getPrototypeOf({});){if(r.type===Yr.type)return;r=Object.getPrototypeOf(r)}this.logger.warn(`The ${n.name} (or one of its parent classes) does not inherit from the ${Yr.type}`)}getValidatedEventStream(n,r){return n.pipe(L(s=>{s instanceof r||this.logger.warn("EventService: The stream",n,"emitted the event",s,"that is not an instance of the declared type",r.name)}))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),kN=(()=>{let e=class e{constructor(n,r){this.actionsSubject=n,this.eventService=r}register(n){return this.eventService.register(n.event,this.getFromAction(n))}getFromAction(n){return this.actionsSubject.pipe(V(...[].concat(n.action))).pipe(E(r=>this.createEvent(r,n.event,n.factory)))}createEvent(n,r,s){return s?s(n):Ii(r,n.payload??{})}};e.\u0275fac=function(r){return new(r||e)(d(jr),d(Ss))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),c3=(()=>{let e=class e{constructor(n,r,s){this.stateEventService=n,this.eventService=r,this.authService=s,this.register()}register(){this.registerLoginEvent(),this.registerLogoutEvent()}registerLoginEvent(){this.stateEventService.register({action:mr,event:a3})}registerLogoutEvent(){this.eventService.register(Cx,this.buildLogoutEvent())}buildLogoutEvent(){return this.authService.isUserLoggedIn().pipe(na(),x(([n,r])=>n&&!r),E(()=>Ii(Cx,{})))}};e.\u0275fac=function(r){return new(r||e)(d(kN),d(Ss),d(Bn))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),u3=(()=>{let e=class e{constructor(n){}};e.\u0275fac=function(r){return new(r||e)(d(c3))},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})(),ke=function(t){return t.MSG_TYPE_CONFIRMATION="[GlobalMessage] Confirmation",t.MSG_TYPE_ERROR="[GlobalMessage] Error",t.MSG_TYPE_INFO="[GlobalMessage] Information",t.MSG_TYPE_WARNING="[GlobalMessage] Warning",t.MSG_TYPE_ASSISTIVE="[GlobalMessage] Assistive",t}(ke||{}),Bf="[Global-message] Add a Message",UN="[Global-message] Remove a Message",jN="[Global-message] Remove messages by type",WC=class{constructor(e){this.payload=e,this.type=Bf}},Cc=class{constructor(e){this.payload=e,this.type=UN}},Vf=class{constructor(e){this.payload=e,this.type=jN}};var $N="global-message",l3=Pn($N),BN=A(l3,t=>t.entities),VN=t=>A(BN,e=>e&&e[t]),d3=t=>A(VN(t),e=>e&&e.length);var Ho=(()=>{let e=class e{constructor(n){this.store=n}get(){return this.store.pipe(M(BN),x(yn))}add(n,r,s){this.store.dispatch(new WC({text:typeof n=="string"?{raw:n}:n,type:r,timeout:s}))}remove(n,r){this.store.dispatch(r!==void 0?new Cc({type:n,index:r}):new Vf(n))}};e.\u0275fac=function(r){return new(r||e)(d(me))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),f3=(()=>{let e=class e{constructor(n,r,s,o,a,c,u){this.authService=n,this.authStorageService=r,this.oAuthLibWrapperService=s,this.routingService=o,this.occEndpoints=a,this.globalMessageService=c,this.authRedirectService=u,this.refreshTokenTrigger$=new re,this.token$=this.authStorageService.getToken().pipe(E(l=>l?.access_token?l:void 0)),this.stopProgress$=this.token$.pipe(na(),L(([l,f])=>{l?.access_token!==f?.access_token&&(this.authService.setLogoutProgress(!1),this.authService.setRefreshProgress(!1))})),this.refreshToken$=this.refreshTokenTrigger$.pipe(rt(this.authService.refreshInProgress$,this.authService.logoutInProgress$),x(([,l,f])=>!l&&!f),L(([l])=>{l?.refresh_token?(this.oAuthLibWrapperService.refreshToken(),this.authService.setRefreshProgress(!0)):this.handleExpiredRefreshToken()})),this.tokenToRetryRequest$=xs(()=>this.refreshToken$.subscribe(),()=>this.getStableToken()).pipe(ht({refCount:!0,bufferSize:1})),this.subscriptions=new Ee,this.subscriptions.add(this.stopProgress$.subscribe())}shouldCatchError(n){return this.isOccUrl(n.url)}shouldAddAuthorizationHeader(n){let r=!!this.getAuthorizationHeader(n),s=this.isOccUrl(n.url);return!r&&s}alterRequest(n,r){let s=!!this.getAuthorizationHeader(n),o=this.isBaseSitesRequest(n),a=this.isOccUrl(n.url);return!s&&a&&!o?n.clone({setHeaders:v({},this.createAuthorizationHeader(r))}):n}isOccUrl(n){return n.includes(this.occEndpoints.getBaseUrl())}isBaseSitesRequest(n){return n.url.includes(this.occEndpoints.getRawEndpointValue("baseSites"))}getAuthorizationHeader(n){return n.headers.get("Authorization")}createAuthorizationHeader(n){if(n?.access_token)return{Authorization:`${n.token_type||"Bearer"} ${n.access_token}`};let r;return this.authStorageService.getToken().subscribe(s=>r=s).unsubscribe(),r?.access_token?{Authorization:`${r.token_type||"Bearer"} ${r.access_token}`}:{}}handleExpiredAccessToken(n,r,s){return this.getValidToken(s).pipe(N(o=>o?r.handle(this.createNewRequestWithNewToken(n,o)):he))}handleExpiredRefreshToken(){this.authRedirectService.saveCurrentNavigationUrl(),this.authService.coreLogout().finally(()=>{this.routingService.go({cxRoute:"login"}),this.globalMessageService.add({key:"httpHandlers.sessionExpired"},ke.MSG_TYPE_ERROR)})}getStableToken(){return Pe([this.token$,this.authService.refreshInProgress$,this.authService.logoutInProgress$]).pipe(sn(ni),x(([n,r,s])=>!r&&!s),N(()=>this.token$))}getValidToken(n){return qe(()=>{let r=!1;return this.tokenToRetryRequest$.pipe(L(s=>{s?.access_token===n?.access_token&&!r&&this.refreshTokenTrigger$.next(s),r=!0}),Nu(s=>s?.access_token===n?.access_token),oe(1))})}createNewRequestWithNewToken(n,r){return n=n.clone({setHeaders:{Authorization:`${r.token_type||"Bearer"} ${r.access_token}`}}),n}ngOnDestroy(){this.subscriptions.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)(d(Bn),d(Mc),d(vN),d(wi),d(Qe),d(Ho),d(QS))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),h3=(()=>{let e=class e{constructor(n,r){this.authHttpHeaderService=n,this.authConfigService=r}intercept(n,r){let s=this.authHttpHeaderService.shouldCatchError(n);return(this.authHttpHeaderService.shouldAddAuthorizationHeader(n)?this.authHttpHeaderService.getStableToken().pipe(oe(1)):I(void 0)).pipe(E(u=>({token:u,request:this.authHttpHeaderService.alterRequest(n,u)}))).pipe(N(({request:u,token:l})=>r.handle(u).pipe(F(f=>{switch(f.status){case 401:if(this.isExpiredToken(f)&&s)return this.authHttpHeaderService.handleExpiredAccessToken(u,r,l);if(this.errorIsInvalidToken(f))return this.authHttpHeaderService.handleExpiredRefreshToken(),he;break;case 400:this.errorIsInvalidGrant(f)&&u.body.get("grant_type")==="refresh_token"&&this.authHttpHeaderService.handleExpiredRefreshToken();break}throw f}))))}errorIsInvalidToken(n){return(n.url?.includes(this.authConfigService.getTokenEndpoint())&&n.error.error==="invalid_token")??!1}errorIsInvalidGrant(n){return(n.url?.includes(this.authConfigService.getTokenEndpoint())&&n.error.error==="invalid_grant")??!1}isExpiredToken(n){return n.error?.errors?.[0]?.type==="InvalidTokenError"}};e.\u0275fac=function(r){return new(r||e)(d(f3),d(Bp))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),p3=(()=>{let e=class e{constructor(n,r){this.authStorageService=n,this.authConfigService=r}intercept(n,r){let s=this.isTokenRevocationRequest(n);return this.authStorageService.getToken().pipe(oe(1),N(o=>(s&&(n=n.clone({setHeaders:{Authorization:`${o.token_type||"Bearer"} ${o.access_token}`}})),r.handle(n))))}isTokenRevocationRequest(n){return n.url===this.authConfigService.getRevokeEndpoint()}};e.\u0275fac=function(r){return new(r||e)(d(Mc),d(Bp))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),g3=[{provide:pn,useExisting:h3,multi:!0},{provide:pn,useExisting:p3,multi:!0}],uI=new S("MULTI_LOCATION_INITIALIZED");function m3(t,e,i){return()=>On(i)?Zn(e.getStable().pipe(N(()=>t.checkOAuthParamsInUrl()))):Promise.resolve()}function v3(t){return()=>t.initSync()}var y3=()=>{let t=C(Bn),e=C(Ln),i=C($e),n=C(PN);return v3(n)(),m3(t,e,i)},E3=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[kn(o3),cI(s3),...g3,{provide:us,useExisting:Mc},{provide:uI,useFactory:y3,multi:!0}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({imports:[Ze,OM.forRoot(),u3]});let t=e;return t})(),Uce=(()=>{let e=class e{static forRoot(){return{ngModule:e}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({imports:[Ze,E3.forRoot(),r3.forRoot()]});let t=e;return t})(),C3=(()=>{let e=class e{constructor(n,r,s,o){this.authService=n,this.authRedirectService=r,this.router=s,this.semanticPathService=o}canActivate(){return this.authService.isUserLoggedIn().pipe(E(n=>n||(this.authRedirectService.saveCurrentNavigationUrl(),this.router.parseUrl(this.semanticPathService.get("login")??""))))}};e.\u0275fac=function(r){return new(r||e)(d(Bn),d(QS),d(Ne),d(xc))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),jce=(()=>{let e=class e{constructor(n,r,s){this.authService=n,this.semanticPathService=r,this.router=s}canActivate(){return this.authService.isUserLoggedIn().pipe(E(n=>n?this.router.parseUrl(this.semanticPathService.get("home")??""):!n))}};e.\u0275fac=function(r){return new(r||e)(d(Bn),d(xc),d(Ne))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),HN=(()=>{let e=class e extends yr{};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=m({token:e,factory:function(r){let s=null;return r?s=new(r||e):s=d(kt),s},providedIn:"root"});let t=e;return t})(),S3=(()=>{let e=class e{constructor(n,r,s,o){this.anonymousConsentsService=n,this.authService=r,this.occEndpoints=s,this.config=o}intercept(n,r){return Pe([this.anonymousConsentsService.getConsents(),this.authService.isUserLoggedIn()]).pipe(oe(1),N(([s,o])=>{if(!this.isOccUrl(n.url))return r.handle(n);let a=this.handleRequest(s,n);return r.handle(a).pipe(L(c=>{c instanceof es&&(c.url??"").startsWith(this.occEndpoints.buildUrl("anonymousConsentTemplates"))&&this.handleResponse(o,c.headers.get(gC),s)}))}))}handleResponse(n,r,s){if(!n&&r){let o=[];o=this.anonymousConsentsService.decodeAndDeserialize(r),o=this.giveRequiredConsents(o),this.anonymousConsentsService.consentsUpdated(o,s)&&this.anonymousConsentsService.setConsents(o)}}handleRequest(n,r){if(!n)return r;let s=this.anonymousConsentsService.serializeAndEncode(n);return r.clone({setHeaders:{[gC]:s}})}isOccUrl(n){return n.includes(this.occEndpoints.getBaseUrl())}giveRequiredConsents(n){let r=[...n];if(this.config.anonymousConsents&&this.config.anonymousConsents.requiredConsents)for(let s of r)s.templateCode&&this.config.anonymousConsents.requiredConsents.includes(s.templateCode)&&(s.consentState=Oo.GIVEN);return r}};e.\u0275fac=function(r){return new(r||e)(d(Fc),d(Bn),d(Qe),d(HN))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),I3=[{provide:pn,useExisting:S3,multi:!0}],lI="[User] Load Billing Countries",zN="[User] Load Billing Countries Fail",dI="[User] Load Billing Countries Success",Hf=class{constructor(){this.type=lI}},zf=class{constructor(e){this.payload=e,this.type=zN}},Gf=class{constructor(e){this.payload=e,this.type=dI}},ae="process";function D3(){return Pn(ae)}function Zp(t){return A(D3(),e=>en(e,t))}function Ci(t){return A(Zp(t),e=>Ut(e))}function zr(t){return A(Zp(t),e=>Un(e))}function Ei(t){return A(Zp(t),e=>Bo(e))}var $ce=Object.freeze({__proto__:null,getProcessErrorFactory:Ei,getProcessLoadingFactory:Ci,getProcessStateFactory:Zp,getProcessSuccessFactory:zr}),GN="user",b3="registerUser",fs="giveConsent",hs="withdrawConsent",_c="updateNotificationPreferences",Po="addProductInterests",Fo="removeProductInterests",Lc="[User] User Consents",Er="[User] User Payment Methods",tn="[User] User Addresses",Qp="[User] User Cost Centers",kc="[User] Regions",Uc="[User] Customer Coupons",ps="subscribeCustomerCoupon",gs="unsubscribeCustomerCoupon",xo="claimCustomerCoupon",_o="disclaimCustomerCoupon",jc="[User] Notification Preferences",$c="[User] Product Interests",fI="[User] Load Customer Coupons",WN="[User] Load Customer Coupons Fail",hI="[User] Load Customer Coupons Success",qN="[User] Reset Load Customer Coupons",pI="[User] Subscribe Customer Notification Coupon",YN="[User] Subscribe Customer Coupon Notification Fail",gI="[User] Subscribe Customer Coupon Notification Success",KN="[User] Reset Subscribe Customer Coupon Process",mI="[User] Unsubscribe Customer Notification Coupon",ZN="[User] Unsubscribe Customer Coupon Notification Fail",vI="[User] Unsubscribe Customer Coupon Notification Success",QN="[User] Reset Unsubscribe Customer Coupon Process",yI="[User] Claim Customer",JN="[User] Claim Customer Fail",XN="[User] Claim Customer Success",EI="[User] Disclaim Customer",eO="[User] Disclaim Customer Fail",tO="[User] Disclaim Customer Success",nO="[User] Reset Disclaim Customer",Wf=class extends ct{constructor(e){super(Uc),this.payload=e,this.type=fI}},qf=class extends ut{constructor(e){super(Uc,e),this.payload=e,this.type=WN}},Yf=class extends lt{constructor(e){super(Uc),this.payload=e,this.type=hI}},qC=class extends Wr{constructor(){super(Uc),this.type=qN}},Kf=class extends Lt{constructor(e){super(ae,ps),this.payload=e,this.type=pI}},Zf=class extends Tt{constructor(e){super(ae,ps,e),this.payload=e,this.type=YN}},Qf=class extends dt{constructor(e){super(ae,ps,e),this.payload=e,this.type=gI}},YC=class extends _n{constructor(){super(ae,ps),this.type=KN}},Jf=class extends Lt{constructor(e){super(ae,gs),this.payload=e,this.type=mI}},Xf=class extends Tt{constructor(e){super(ae,gs,e),this.payload=e,this.type=ZN}},eh=class extends dt{constructor(e){super(ae,gs,e),this.payload=e,this.type=vI}},KC=class extends _n{constructor(){super(ae,gs),this.type=QN}},th=class extends Lt{constructor(e){super(ae,xo),this.payload=e,this.type=yI}},nh=class extends Lt{constructor(e){super(ae,_o),this.payload=e,this.type=EI}},rh=class extends _n{constructor(){super(ae,_o),this.type=nO}},ih=class extends Tt{constructor(e){super(ae,_o,e),this.payload=e,this.type=eO}},sh=class extends dt{constructor(e){super(ae,_o,e),this.payload=e,this.type=tO}},oh=class extends Tt{constructor(e){super(ae,xo,e),this.payload=e,this.type=JN}},ah=class extends dt{constructor(e){super(ae,xo,e),this.payload=e,this.type=XN}},CI="[User] Load Delivery Countries",rO="[User] Load Delivery Countries Fail",SI="[User] Load Delivery Countries Success",ch=class{constructor(){this.type=CI}},uh=class{constructor(e){this.payload=e,this.type=rO}},lh=class{constructor(e){this.payload=e,this.type=SI}},II="[User] Load Notification Preferences",DI="[User] Load Notification Preferences Fail",bI="[User] Load Notification Preferences Success",wI="[User] Update Notification Preferences",iO="[User] Update Notification Preferences Fail",TI="[User] Update Notification Preferences Success",sO="[User] Reset Notification Preferences",oO="[User] Clear Notification Preferences",dh=class extends ct{constructor(e){super(jc),this.payload=e,this.type=II}},fh=class extends ut{constructor(e){super(jc,e),this.payload=e,this.type=DI}},hh=class extends lt{constructor(e){super(jc),this.payload=e,this.type=bI}},ph=class extends Lt{constructor(e){super(ae,_c),this.payload=e,this.type=wI}},gh=class extends Tt{constructor(e){super(ae,_c,e),this.payload=e,this.type=iO}},mh=class extends dt{constructor(e){super(ae,_c),this.payload=e,this.type=TI}},vh=class extends _n{constructor(){super(ae,_c),this.type=sO}},yh=class extends Wr{constructor(){super(jc),this.type=oO}},AI="[User] Load User Payment Methods",RI="[User] Load User Payment Methods Fail",MI="[User] Load User Payment Methods Success",xI="[User] Set Default User Payment Method",aO="[User] Set Default User Payment Method Fail",cO="[User] Set Default User Payment Method Success",NI="[User] Delete User Payment Method",uO="[User] Delete User Payment Method Fail",lO="[User] Delete User  Payment Method Success",Lo=class extends ct{constructor(e){super(Er),this.payload=e,this.type=AI}},Eh=class extends ut{constructor(e){super(Er,e),this.payload=e,this.type=RI}},Ch=class extends lt{constructor(e){super(Er),this.payload=e,this.type=MI}},Sh=class extends ct{constructor(e){super(Er),this.payload=e,this.type=xI}},Ih=class extends ut{constructor(e){super(Er,e),this.payload=e,this.type=aO}},Dh=class extends lt{constructor(e){super(Er),this.payload=e,this.type=cO}},bh=class extends ct{constructor(e){super(Er),this.payload=e,this.type=NI}},wh=class extends ut{constructor(e){super(Er,e),this.payload=e,this.type=uO}},Th=class extends lt{constructor(e){super(Er),this.payload=e,this.type=lO}},OI="Load Product Interests",PI="Load Product Interests Fail",FI="Load Product Interests Success",_I="Remove Product Interest",dO="Remove Product Interest Success",fO="Remove Product Interest Fail",LI="Add Product Interest",hO="Add Product Interest Fail",pO="Add Product Interest Success",gO="Add Product Interest Reset",mO="Remove Product Interest Reset",vO="Clear Product Interests",ko=class extends ct{constructor(e){super($c),this.payload=e,this.type=OI}},Ah=class extends ut{constructor(e){super($c,e),this.payload=e,this.type=PI}},Rh=class extends lt{constructor(e){super($c),this.payload=e,this.type=FI}},Mh=class extends Lt{constructor(e){super(ae,Fo),this.payload=e,this.type=_I}},xh=class extends dt{constructor(e){super(ae,Fo),this.payload=e,this.type=dO}},Nh=class extends Tt{constructor(e){super(ae,Fo,e),this.payload=e,this.type=fO}},Oh=class extends Lt{constructor(e){super(ae,Po),this.payload=e,this.type=LI}},Ph=class extends dt{constructor(e){super(ae,Po),this.payload=e,this.type=pO}},Fh=class extends Tt{constructor(e){super(ae,Po,e),this.payload=e,this.type=hO}},_h=class extends _n{constructor(){super(ae,Po),this.type=gO}},Lh=class extends _n{constructor(){super(ae,Fo),this.type=mO}},kh=class extends Wr{constructor(){super($c),this.type=vO}},kI="[User] Load Regions",UI="[User] Load Regions Success",yO="[User] Load Regions Fail",jI="[User] Clear Regions",Uh=class extends ct{constructor(e){super(kc),this.payload=e,this.type=kI}},jh=class extends ut{constructor(e){super(kc,e),this.payload=e,this.type=yO}},$h=class extends lt{constructor(e){super(kc),this.payload=e,this.type=UI}},Bh=class{constructor(){this.type=jI}},$I="[User] Load User Addresses",BI="[User] Load User Addresses Fail",VI="[User] Load User Addresses Success",Jp="[User] Add User Address",EO="[User] Add User Address Fail",HI="[User] Add User Address Success",Xp="[User] Update User Address",CO="[User] Update User Address Fail",zI="[User] Update User Address Success",eg="[User] Delete User Address",SO="[User] Delete User Address Fail",GI="[User] Delete User Address Success",Vh=class extends ct{constructor(e){super(tn),this.payload=e,this.type=$I}},Hh=class extends ut{constructor(e){super(tn,e),this.payload=e,this.type=BI}},zh=class extends lt{constructor(e){super(tn),this.payload=e,this.type=VI}},Gh=class extends ct{constructor(e){super(tn),this.payload=e,this.type=Jp}},Wh=class extends ut{constructor(e){super(tn,e),this.payload=e,this.type=EO}},qh=class extends lt{constructor(e){super(tn),this.payload=e,this.type=HI}},Sc=class extends ct{constructor(e){super(tn),this.payload=e,this.type=Xp}},Yh=class extends ut{constructor(e){super(tn,e),this.payload=e,this.type=CO}},Kh=class extends lt{constructor(e){super(tn),this.payload=e,this.type=zI}},Zh=class extends ct{constructor(e){super(tn),this.payload=e,this.type=eg}},Qh=class extends ut{constructor(e){super(tn,e),this.payload=e,this.type=SO}},Jh=class extends lt{constructor(e){super(tn),this.payload=e,this.type=GI}},WI="[User] Load User Consents",qI="[User] Load User Consents Success",IO="[User] Load User Consents Fail",DO="[User] Reset Load User Consents",YI="[User] Give User Consent",bO="[User] Give User Consent Fail",KI="[User] Give User Consent Success",wO="[User] Reset Give User Consent Process",Xh="[User] Transfer Anonymous Consent",ZI="[User] Withdraw User Consent",TO="[User] Withdraw User Consent Fail",AO="[User] Withdraw User Consent Success",RO="[User] Reset Withdraw User Consent Process",ep=class extends ct{constructor(e){super(Lc),this.payload=e,this.type=WI}},tp=class extends ut{constructor(e){super(Lc,e),this.payload=e,this.type=IO}},np=class extends lt{constructor(e){super(Lc),this.payload=e,this.type=qI}},Ic=class extends Wr{constructor(){super(Lc),this.type=DO}},Dc=class extends Lt{constructor(e){super(ae,fs),this.payload=e,this.type=YI}},rp=class extends Tt{constructor(e){super(ae,fs,e),this.type=bO}},ip=class extends dt{constructor(e){super(ae,fs),this.consentTemplate=e,this.type=KI}},sp=class extends _n{constructor(){super(ae,fs),this.type=wO}},op=class{constructor(e){this.payload=e,this.type=Xh}},ap=class extends Lt{constructor(e){super(ae,hs),this.payload=e,this.type=ZI}},cp=class extends Tt{constructor(e){super(ae,hs,e),this.type=TO}},up=class extends dt{constructor(){super(ae,hs),this.type=AO}},lp=class extends _n{constructor(){super(ae,hs),this.type=RO}},QI="[User] Load Active CostCenters",JI="[User] Load Active CostCenters Fail",XI="[User] Load Active CostCenters Success",ZC=class extends ct{constructor(e){super(Qp),this.payload=e,this.type=QI}},dp=class extends ut{constructor(e){super(Qp,e),this.payload=e,this.type=JI}},fp=class extends lt{constructor(e){super(Qp),this.payload=e,this.type=XI}},Bc="[User] Clear User Misc Data",hp=class{constructor(){this.type=Bc}},eD="[User] Register User Success",QC=class extends dt{constructor(){super(ae,b3),this.type=eD}},Bce=Object.freeze({__proto__:null,ADD_PRODUCT_INTEREST:LI,ADD_PRODUCT_INTEREST_FAIL:hO,ADD_PRODUCT_INTEREST_RESET:gO,ADD_PRODUCT_INTEREST_SUCCESS:pO,ADD_USER_ADDRESS:Jp,ADD_USER_ADDRESS_FAIL:EO,ADD_USER_ADDRESS_SUCCESS:HI,AddProductInterest:Oh,AddProductInterestFail:Fh,AddProductInterestSuccess:Ph,AddUserAddress:Gh,AddUserAddressFail:Wh,AddUserAddressSuccess:qh,CLAIM_CUSTOMER_COUPON:yI,CLAIM_CUSTOMER_COUPON_FAIL:JN,CLAIM_CUSTOMER_COUPON_SUCCESS:XN,CLEAR_NOTIFICATION_PREFERENCES:oO,CLEAR_PRODUCT_INTERESTS:vO,CLEAR_REGIONS:jI,CLEAR_USER_MISCS_DATA:Bc,ClaimCustomerCoupon:th,ClaimCustomerCouponFail:oh,ClaimCustomerCouponSuccess:ah,ClearNotificationPreferences:yh,ClearProductInterests:kh,ClearRegions:Bh,ClearUserMiscsData:hp,DELETE_USER_ADDRESS:eg,DELETE_USER_ADDRESS_FAIL:SO,DELETE_USER_ADDRESS_SUCCESS:GI,DELETE_USER_PAYMENT_METHOD:NI,DELETE_USER_PAYMENT_METHOD_FAIL:uO,DELETE_USER_PAYMENT_METHOD_SUCCESS:lO,DISCLAIM_CUSTOMER_COUPON:EI,DISCLAIM_CUSTOMER_COUPON_FAIL:eO,DISCLAIM_CUSTOMER_COUPON_SUCCESS:tO,DeleteUserAddress:Zh,DeleteUserAddressFail:Qh,DeleteUserAddressSuccess:Jh,DeleteUserPaymentMethod:bh,DeleteUserPaymentMethodFail:wh,DeleteUserPaymentMethodSuccess:Th,DisclaimCustomerCoupon:nh,DisclaimCustomerCouponFail:ih,DisclaimCustomerCouponSuccess:sh,GIVE_USER_CONSENT:YI,GIVE_USER_CONSENT_FAIL:bO,GIVE_USER_CONSENT_SUCCESS:KI,GiveUserConsent:Dc,GiveUserConsentFail:rp,GiveUserConsentSuccess:ip,LOAD_ACTIVE_COST_CENTERS:QI,LOAD_ACTIVE_COST_CENTERS_FAIL:JI,LOAD_ACTIVE_COST_CENTERS_SUCCESS:XI,LOAD_BILLING_COUNTRIES:lI,LOAD_BILLING_COUNTRIES_FAIL:zN,LOAD_BILLING_COUNTRIES_SUCCESS:dI,LOAD_CUSTOMER_COUPONS:fI,LOAD_CUSTOMER_COUPONS_FAIL:WN,LOAD_CUSTOMER_COUPONS_SUCCESS:hI,LOAD_DELIVERY_COUNTRIES:CI,LOAD_DELIVERY_COUNTRIES_FAIL:rO,LOAD_DELIVERY_COUNTRIES_SUCCESS:SI,LOAD_NOTIFICATION_PREFERENCES:II,LOAD_NOTIFICATION_PREFERENCES_FAIL:DI,LOAD_NOTIFICATION_PREFERENCES_SUCCESS:bI,LOAD_PRODUCT_INTERESTS:OI,LOAD_PRODUCT_INTERESTS_FAIL:PI,LOAD_PRODUCT_INTERESTS_SUCCESS:FI,LOAD_REGIONS:kI,LOAD_REGIONS_FAIL:yO,LOAD_REGIONS_SUCCESS:UI,LOAD_USER_ADDRESSES:$I,LOAD_USER_ADDRESSES_FAIL:BI,LOAD_USER_ADDRESSES_SUCCESS:VI,LOAD_USER_CONSENTS:WI,LOAD_USER_CONSENTS_FAIL:IO,LOAD_USER_CONSENTS_SUCCESS:qI,LOAD_USER_PAYMENT_METHODS:AI,LOAD_USER_PAYMENT_METHODS_FAIL:RI,LOAD_USER_PAYMENT_METHODS_SUCCESS:MI,LoadActiveCostCenters:ZC,LoadActiveCostCentersFail:dp,LoadActiveCostCentersSuccess:fp,LoadBillingCountries:Hf,LoadBillingCountriesFail:zf,LoadBillingCountriesSuccess:Gf,LoadCustomerCoupons:Wf,LoadCustomerCouponsFail:qf,LoadCustomerCouponsSuccess:Yf,LoadDeliveryCountries:ch,LoadDeliveryCountriesFail:uh,LoadDeliveryCountriesSuccess:lh,LoadNotificationPreferences:dh,LoadNotificationPreferencesFail:fh,LoadNotificationPreferencesSuccess:hh,LoadProductInterests:ko,LoadProductInterestsFail:Ah,LoadProductInterestsSuccess:Rh,LoadRegions:Uh,LoadRegionsFail:jh,LoadRegionsSuccess:$h,LoadUserAddresses:Vh,LoadUserAddressesFail:Hh,LoadUserAddressesSuccess:zh,LoadUserConsents:ep,LoadUserConsentsFail:tp,LoadUserConsentsSuccess:np,LoadUserPaymentMethods:Lo,LoadUserPaymentMethodsFail:Eh,LoadUserPaymentMethodsSuccess:Ch,REGISTER_USER_SUCCESS:eD,REMOVE_PRODUCT_INTEREST:_I,REMOVE_PRODUCT_INTEREST_FAIL:fO,REMOVE_PRODUCT_INTEREST_RESET:mO,REMOVE_PRODUCT_INTEREST_SUCCESS:dO,RESET_DISCLAIM_CUSTOMER_COUPON:nO,RESET_GIVE_USER_CONSENT_PROCESS:wO,RESET_LOAD_CUSTOMER_COUPONS:qN,RESET_LOAD_USER_CONSENTS:DO,RESET_NOTIFICATION_PREFERENCES:sO,RESET_SUBSCRIBE_CUSTOMER_COUPON_PROCESS:KN,RESET_UNSUBSCRIBE_CUSTOMER_COUPON_PROCESS:QN,RESET_WITHDRAW_USER_CONSENT_PROCESS:RO,RegisterUserSuccess:QC,RemoveProductInterest:Mh,RemoveProductInterestFail:Nh,RemoveProductInterestSuccess:xh,ResetAddInterestState:_h,ResetDisclaimCustomerCoupon:rh,ResetGiveUserConsentProcess:sp,ResetLoadCustomerCoupons:qC,ResetLoadUserConsents:Ic,ResetNotificationPreferences:vh,ResetRemoveInterestState:Lh,ResetSubscribeCustomerCouponProcess:YC,ResetUnsubscribeCustomerCouponProcess:KC,ResetWithdrawUserConsentProcess:lp,SET_DEFAULT_USER_PAYMENT_METHOD:xI,SET_DEFAULT_USER_PAYMENT_METHOD_FAIL:aO,SET_DEFAULT_USER_PAYMENT_METHOD_SUCCESS:cO,SUBSCRIBE_CUSTOMER_COUPON:pI,SUBSCRIBE_CUSTOMER_COUPON_FAIL:YN,SUBSCRIBE_CUSTOMER_COUPON_SUCCESS:gI,SetDefaultUserPaymentMethod:Sh,SetDefaultUserPaymentMethodFail:Ih,SetDefaultUserPaymentMethodSuccess:Dh,SubscribeCustomerCoupon:Kf,SubscribeCustomerCouponFail:Zf,SubscribeCustomerCouponSuccess:Qf,TRANSFER_ANONYMOUS_CONSENT:Xh,TransferAnonymousConsent:op,UNSUBSCRIBE_CUSTOMER_COUPON:mI,UNSUBSCRIBE_CUSTOMER_COUPON_FAIL:ZN,UNSUBSCRIBE_CUSTOMER_COUPON_SUCCESS:vI,UPDATE_NOTIFICATION_PREFERENCES:wI,UPDATE_NOTIFICATION_PREFERENCES_FAIL:iO,UPDATE_NOTIFICATION_PREFERENCES_SUCCESS:TI,UPDATE_USER_ADDRESS:Xp,UPDATE_USER_ADDRESS_FAIL:CO,UPDATE_USER_ADDRESS_SUCCESS:zI,UnsubscribeCustomerCoupon:Jf,UnsubscribeCustomerCouponFail:Xf,UnsubscribeCustomerCouponSuccess:eh,UpdateNotificationPreferences:ph,UpdateNotificationPreferencesFail:gh,UpdateNotificationPreferencesSuccess:mh,UpdateUserAddress:Sc,UpdateUserAddressFail:Yh,UpdateUserAddressSuccess:Kh,WITHDRAW_USER_CONSENT:ZI,WITHDRAW_USER_CONSENT_FAIL:TO,WITHDRAW_USER_CONSENT_SUCCESS:AO,WithdrawUserConsent:ap,WithdrawUserConsentFail:cp,WithdrawUserConsentSuccess:up}),pp=class{},w3=(()=>{let e=class e{constructor(n){this.adapter=n}loadAnonymousConsentTemplates(){return this.adapter.loadAnonymousConsentTemplates()}loadAnonymousConsents(){return this.adapter.loadAnonymousConsents()}};e.\u0275fac=function(r){return new(r||e)(d(pp))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),gp=class{},mp=class{},JC=new S("CmsPageNormalizer"),T3="JspIncludeComponent",A3="CMSFlexComponent";var R3=function(t){return t.DEFER="DEFERRED-LOADING",t.INSTANT="INSTANT-LOADING",t}(R3||{}),tD=(()=>{let e=class e extends yr{};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=m({token:e,factory:function(r){let s=null;return r?s=new(r||e):s=d(kt),s},providedIn:"root"});let t=e;return t})(),Hr=function(t){return t.INDEX="INDEX",t.NOINDEX="NOINDEX",t.FOLLOW="FOLLOW",t.NOFOLLOW="NOFOLLOW",t}(Hr||{}),wo;(function(t){let e;(function(p){p.INDEX_FOLLOW="INDEX_FOLLOW",p.NOINDEX_FOLLOW="NOINDEX_FOLLOW",p.INDEX_NOFOLLOW="INDEX_NOFOLLOW",p.NOINDEX_NOFOLLOW="NOINDEX_NOFOLLOW"})(e=t.PageRobots||(t.PageRobots={}));let i;(function(p){p.Success="SUCCESS",p.Info="INFO",p.Warning="WARNING",p.Error="ERROR"})(i=t.OrderEntryStatus||(t.OrderEntryStatus={}));let n;(function(p){p.BUY="BUY",p.FROM="FROM"})(n=t.PriceType||(t.PriceType={}));let r;(function(p){p.PRIMARY="PRIMARY",p.GALLERY="GALLERY"})(r=t.ImageType||(t.ImageType={}));let s;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(s=t.Fields||(t.Fields={}));let o;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(o=t.Fields1||(t.Fields1={}));let a;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(a=t.Fields2||(t.Fields2={}));let c;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(c=t.Fields3||(t.Fields3={}));let u;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(u=t.Fields4||(t.Fields4={}));let l;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(l=t.Fields5||(t.Fields5={}));let f;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(f=t.Fields6||(t.Fields6={}));let h;(function(p){p.CONTENT_PAGE="ContentPage",p.PRODUCT_PAGE="ProductPage",p.CATEGORY_PAGE="CategoryPage",p.CATALOG_PAGE="CatalogPage"})(h=t.PageType||(t.PageType={}));let g;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(g=t.Fields7||(t.Fields7={}));let y;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(y=t.Fields8||(t.Fields8={}));let b;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(b=t.Fields9||(t.Fields9={}));let w;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(w=t.Fields10||(t.Fields10={}));let R;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(R=t.Fields11||(t.Fields11={}));let k;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(k=t.Fields12||(t.Fields12={}));let U;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(U=t.Fields13||(t.Fields13={}));let H;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(H=t.Fields14||(t.Fields14={}));let te;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(te=t.Fields15||(t.Fields15={}));let ue;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(ue=t.Fields16||(t.Fields16={}));let fe;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(fe=t.SortEnum||(t.SortEnum={}));let Oe;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(Oe=t.Fields17||(t.Fields17={}));let Ri;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(Ri=t.Fields18||(t.Fields18={}));let Vn;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(Vn=t.Fields19||(t.Fields19={}));let D;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(D=t.Fields20||(t.Fields20={}));let O;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(O=t.Fields21||(t.Fields21={}));let ne;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(ne=t.Fields22||(t.Fields22={}));let ye;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(ye=t.Fields23||(t.Fields23={}));let we;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(we=t.Fields24||(t.Fields24={}));let de;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(de=t.Fields25||(t.Fields25={}));let Sr;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(Sr=t.Fields26||(t.Fields26={}));let ft;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(ft=t.Fields27||(t.Fields27={}));let He;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(He=t.Fields28||(t.Fields28={}));let nn;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(nn=t.Fields29||(t.Fields29={}));let Kc;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(Kc=t.Fields30||(t.Fields30={}));let qP;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(qP=t.Fields31||(t.Fields31={}));let YP;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(YP=t.Fields32||(t.Fields32={}));let KP;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(KP=t.Fields33||(t.Fields33={}));let ZP;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(ZP=t.Fields34||(t.Fields34={}));let QP;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(QP=t.Fields35||(t.Fields35={}));let JP;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(JP=t.Fields36||(t.Fields36={}));let XP;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(XP=t.Fields37||(t.Fields37={}));let eF;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(eF=t.Fields38||(t.Fields38={}));let tF;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(tF=t.Fields39||(t.Fields39={}));let nF;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(nF=t.Fields40||(t.Fields40={}));let rF;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(rF=t.Fields41||(t.Fields41={}));let iF;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(iF=t.Fields42||(t.Fields42={}));let sF;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(sF=t.Fields43||(t.Fields43={}));let oF;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(oF=t.Fields44||(t.Fields44={}));let aF;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(aF=t.Fields45||(t.Fields45={}));let cF;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(cF=t.Fields46||(t.Fields46={}));let uF;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(uF=t.Fields47||(t.Fields47={}));let lF;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(lF=t.Fields48||(t.Fields48={}));let dF;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(dF=t.Fields49||(t.Fields49={}));let fF;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(fF=t.Fields50||(t.Fields50={}));let hF;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(hF=t.Fields51||(t.Fields51={}));let pF;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(pF=t.Fields52||(t.Fields52={}));let gF;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(gF=t.Fields53||(t.Fields53={}));let mF;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(mF=t.Fields54||(t.Fields54={}));let vF;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(vF=t.Fields55||(t.Fields55={}));let yF;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(yF=t.Fields56||(t.Fields56={}));let EF;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(EF=t.Fields57||(t.Fields57={}));let CF;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(CF=t.Fields58||(t.Fields58={}));let SF;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(SF=t.Fields59||(t.Fields59={}));let IF;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(IF=t.Fields60||(t.Fields60={}));let DF;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(DF=t.Fields61||(t.Fields61={}));let bF;(function(p){p.All="all",p.Product="product",p.Order="order"})(bF=t.Type||(t.Type={}));let wF;(function(p){p.ANONYMOUS_CONSENT_GIVEN="GIVEN",p.ANONYMOUS_CONSENT_WITHDRAWN="WITHDRAWN"})(wF=t.CONSENT_STATUS||(t.CONSENT_STATUS={}));let TF;(function(p){p.BACK_IN_STOCK="BACK_IN_STOCK"})(TF=t.NotificationType||(t.NotificationType={}));let AF;(function(p){p.DAY="DAY",p.WEEK="WEEK",p.MONTH="MONTH",p.QUARTER="QUARTER",p.YEAR="YEAR"})(AF=t.Period||(t.Period={}));let RF;(function(p){p.MONDAY="MONDAY",p.TUESDAY="TUESDAY",p.WEDNESDAY="WEDNESDAY",p.THURSDAY="THURSDAY",p.FRIDAY="FRIDAY",p.SATURDAY="SATURDAY",p.SUNDAY="SUNDAY"})(RF=t.DaysOfWeek||(t.DaysOfWeek={}));let MF;(function(p){p.APPROVE="APPROVE",p.REJECT="REJECT"})(MF=t.OrderApprovalDecisionValue||(t.OrderApprovalDecisionValue={}))})(wo||(wo={}));var M3=(()=>{let e=class e{convert(n,r={}){return this.normalizePageData(n,r),this.normalizePageSlotData(n,r),this.normalizePageComponentData(n,r),this.normalizeComponentData(n,r),r}normalizePageData(n,r){if(!n)return;let s={};n.name&&(s.name=n.name),n.typeCode&&(s.type=n.typeCode),n.label&&(s.label=n.label),n.template&&(s.template=n.template),n.uid&&(s.pageId=n.uid),n.title&&(s.title=n.title),n.description&&(s.description=n.description),n.properties&&(s.properties=n.properties),this.normalizeRobots(n,s),r.page=s}normalizePageSlotData(n,r){if(n?.contentSlots){n.contentSlots.contentSlot&&!Array.isArray(n.contentSlots.contentSlot)&&(n.contentSlots.contentSlot=[n.contentSlots.contentSlot]),r.page=r.page??{},r.page.slots={};for(let s of n.contentSlots.contentSlot??[])s.position&&(r.page.slots[s.position]={},s.properties&&(r.page.slots[s.position].properties=s.properties))}}normalizePageComponentData(n,r){if(n?.contentSlots?.contentSlot){for(let s of n.contentSlots.contentSlot)if(Array.isArray(s.components?.component))for(let o of s.components?.component??[]){let a={uid:o.uid,typeCode:o.typeCode,flexType:this.getFlexTypeFromComponent(o),properties:this.getComponentProperties(o.properties)};if(s.position){let c=r.page?.slots?.[s.position];c&&(c.components||(c.components=[]),c.components.push(a))}}}}getComponentProperties(n){return n||void 0}getFlexTypeFromComponent(n){return n.typeCode===A3?n.flexType:n.typeCode===T3?n.uid:n.typeCode}normalizeComponentData(n,r){if(n?.contentSlots?.contentSlot)for(let s of n.contentSlots.contentSlot)for(let o of s.components?.component??[])o.modifiedtime&&(o.modifiedTime=o.modifiedtime,delete o.modifiedtime),o.properties&&(o.properties=void 0),r.components||(r.components=[]),r.components.push(o)}normalizeRobots(n,r){let s=[];if(n.robotTag)switch(n.robotTag){case wo.PageRobots.INDEX_FOLLOW:s.push(Hr.INDEX),s.push(Hr.FOLLOW);break;case wo.PageRobots.NOINDEX_FOLLOW:s.push(Hr.NOINDEX),s.push(Hr.FOLLOW);break;case wo.PageRobots.INDEX_NOFOLLOW:s.push(Hr.INDEX),s.push(Hr.NOFOLLOW);break;case wo.PageRobots.NOINDEX_NOFOLLOW:s.push(Hr.NOINDEX),s.push(Hr.NOFOLLOW);break}r.robots=s}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),df=new S("CmsComponentNormalizer"),x3=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:function(r){let s=null;return r?s=new(r||e):s=d(kt),s},providedIn:"root"});let t=e;return t})();function MO(t){return typeof t=="object"&&!!t.features}function Sx(t,e){if(t==="*")return!0;let i=t.split("."),n=e.split(".");for(let r=0;r<n.length;r++){let s=Number(n[r]),o=Number(i[r])||0;if(s!==o)return o>s}return!0}function xO(t,e){return MO(t)&&t.features.level?e.startsWith("!")?!Sx(t.features.level,e.substring(1)):Sx(t.features.level,e):!1}function NO(t,e){if(MO(t)){let i=e[0]==="!"?t.features[e.substring(1)]:t.features[e],n=typeof i=="string"?xO(t,i):i;return e.startsWith("!")?!n:!!n}return!1}var tg=(()=>{let e=class e{constructor(n){this.config=n}isLevel(n){return xO(this.config,n)}isEnabled(n){return NO(this.config,n)}};e.\u0275fac=function(r){return new(r||e)(d(x3))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Vce=(()=>{let e=class e{constructor(n,r,s){this.templateRef=n,this.viewContainer=r,this.featureConfig=s,this.hasView=!1}set cxFeature(n){this.featureConfig.isEnabled(n)&&!this.hasView?(this.viewContainer.createEmbeddedView(this.templateRef),this.hasView=!0):!this.featureConfig.isEnabled(n)&&this.hasView&&(this.viewContainer.clear(),this.hasView=!1)}};e.\u0275fac=function(r){return new(r||e)(X(Rn),X(Vt),X(tg))},e.\u0275dir=Ot({type:e,selectors:[["","cxFeature",""]],inputs:{cxFeature:"cxFeature"}});let t=e;return t})(),Hce=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:()=>Object.assign({},C(OO),C(PO)),providedIn:"root"});let t=e;return t})(),OO=new S("DefaultFeatureToggles",{providedIn:"root",factory:()=>Object.assign({},...C(_O,{optional:!0})??[])}),PO=new S("RootFeatureToggles",{providedIn:"root",factory:()=>Object.assign({},...C(FO,{optional:!0})??[])}),FO=new S("FeatureTogglesChunk",{providedIn:"root",factory:()=>[]}),_O=new S("DefaultFeatureTogglesChunk",{providedIn:"root",factory:()=>[]});function zce(t={}){return{provide:FO,useValue:t,multi:!0}}function N3(t={}){return{provide:_O,useValue:t,multi:!0}}var O3={formErrorsDescriptiveMessages:!0,showSearchingCustomerByOrderInASM:!1,showStyleChangesInASM:!1,shouldHideAddToCartForUnpurchasableProducts:!1,useExtractedBillingAddressComponent:!1,showBillingAddressInDigitalPayments:!1,showDownloadProposalButton:!1,showPromotionsInPDP:!1,recentSearches:!1,pdfInvoicesSortByInvoiceDate:!1,storeFrontLibCardParagraphTruncated:!1,productConfiguratorAttributeTypesV2:!1,a11yRequiredAsterisks:!1,a11yQuantityOrderTabbing:!1,a11yNavigationUiKeyboardControls:!1,a11yOrderConfirmationHeadingOrder:!1,a11yStarRating:!1,a11yViewChangeAssistiveMessage:!1,a11yReorderDialog:!1,a11yPopoverFocus:!1,a11yScheduleReplenishment:!1,a11yScrollToTop:!1,a11ySavedCartsZoom:!1,a11ySortingOptionsTruncation:!1,a11yExpandedFocusIndicator:!1,a11yCheckoutDeliveryFocus:!1,a11yMobileVisibleFocus:!1,a11yOrganizationsBanner:!1,a11yOrganizationListHeadingOrder:!1,a11yReplenishmentOrderFieldset:!1,a11yListOversizedFocus:!1,a11yStoreFinderOverflow:!1,a11yCartSummaryHeadingOrder:!1,a11ySearchBoxMobileFocus:!1,a11yFacetKeyboardNavigation:!1,a11yUnitsListKeyboardControls:!1,a11yCartItemsLinksStyles:!1,a11yHideSelectBtnForSelectedAddrOrPayment:!1,a11yFocusableCarouselControls:!1,cmsGuardsServiceUseGuardsComposer:!1,cartQuickOrderRemoveListeningToFailEvent:!1,a11yKeyboardAccessibleZoom:!1,a11yOrganizationLinkableCells:!1,a11yVisibleFocusOverflows:!1,a11yTruncatedTextForResponsiveView:!1,a11ySemanticPaginationLabel:!1,a11yPreventCartItemsFormRedundantRecreation:!1,a11yPreventSRFocusOnHiddenElements:!1,a11yMyAccountLinkOutline:!1,a11yCloseProductImageBtnFocus:!1,a11yNotificationPreferenceFieldset:!1,a11yImproveContrast:!1,a11yEmptyWishlistHeading:!1,a11yScreenReaderBloatFix:!1,a11yUseButtonsForBtnLinks:!1,a11yNotificationsOnConsentChange:!1,a11yDisabledCouponAndQuickOrderActionButtonsInsteadOfRequiredFields:!1,a11yFacetsDialogFocusHandling:!1,a11yStoreFinderAlerts:!1,a11yFormErrorMuteIcon:!1,a11yCxMessageFocus:!1,a11yLinkBtnsToTertiaryBtns:!1,a11yDeliveryModeRadiogroup:!1,a11yNgSelectMobileReadout:!1,occCartNameAndDescriptionInHttpRequestBody:!1,cmsBottomHeaderSlotUsingFlexStyles:!1};function P3(t,e){return()=>t.initialize(e)}var F3=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[{provide:_N,useValue:!0},{provide:bt,multi:!0,useFactory:P3,deps:[Ln,[new ln,Kp]]},{provide:uI,useFactory:()=>{let n=C(Ln);return()=>Zn(n.getStable())},multi:!0}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})();function _3(t,e){let i=C(Q);return()=>{ge()&&t.getStable().subscribe(n=>i3(n,e||[],i))}}var L3=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[{provide:bt,multi:!0,useFactory:_3,deps:[Ln,[new ln,LN]]}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})(),ff={},XC=class{constructor(e,i){this.mainInjector=e,this.complementaryInjectors=i}get(e,i,n){if(n&&n.self){if(i!==void 0)return i;throw new Error("CombinedInjector should be used as a parent injector / doesn't support self dependencies")}for(let r of this.complementaryInjectors){let s=r.get(e,ff,{self:!0});if(s!==ff)return s}for(let r of this.complementaryInjectors){let s=r.get(e,ff);if(s!==ff)return s}return this.mainInjector.get(e,i)}},oC=(()=>{let e=class e extends Yr{};e.type="ModuleInitializedEvent";let t=e;return t})(),LO=new S("MODULE_INITIALIZER"),nD=(()=>{let e=class e{constructor(n,r,s){this.compiler=n,this.injector=r,this.events=s,this.logger=C(Q),this.modules$=Tu(this.events.get(oC).pipe(E(o=>o.moduleRef)),{connector:()=>new rn,resetOnDisconnect:!1}),this.dependencyModules=new Map,this.eventSubscription=this.modules$.connect()}resolveModuleInstance(n,r,s=[]){let o;return s.length?s.length===1?o=s[0].injector:o=new XC(this.injector,s.map(a=>a.injector)):o=this.injector,this.resolveModuleFactory(n).pipe(E(([a])=>a.create(o)),Ue(a=>this.runModuleInitializersForModule(a)),L(a=>this.events.dispatch(Ii(oC,{feature:r,moduleRef:a}))))}resolveDependencyModuleInstance(n){return this.resolveModuleFactory(n).pipe(E(([r,s])=>{if(!this.dependencyModules.has(s)){let o=r.create(this.injector);this.dependencyModules.set(s,o)}return this.dependencyModules.get(s)}),Ue(r=>this.runModuleInitializersForModule(r)),L(r=>this.events.dispatch(Ii(oC,{moduleRef:r}))))}runModuleInitializersForModule(n){let r=n.injector.get(LO,[],{self:!0}),s=this.runModuleInitializerFunctions(r);return s.length?pe(Promise.all(s)).pipe(L({error:o=>{this.logger.error("MODULE_INITIALIZER promise was rejected while lazy loading a module.",o)}}),N(()=>I(n))):I(n)}runModuleInitializerFunctions(n){let r=[];try{if(n)for(let s=0;s<n.length;s++){let o=n[s]();this.isObjectPromise(o)&&r.push(o)}return r}catch(s){throw this.logger.error("MODULE_INITIALIZER init function throwed an error. ",s),s}}isObjectPromise(n){return!!n&&typeof n.then=="function"}resolveModuleFactory(n){return pe(n()).pipe(N(r=>r instanceof qi?I([r,r]):Pe([pe(this.compiler.compileModuleAsync(r)),I(r)])),sn(ni))}ngOnDestroy(){this.eventSubscription&&this.eventSubscription.unsubscribe(),this.dependencyModules.forEach(n=>n.destroy())}};e.\u0275fac=function(r){return new(r||e)(d(no),d(Ye),d(Ss))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ix={},Vc=(()=>{let e=class e{constructor(n,r){this.rootInjector=n,this.lazyModules=r,this.injectors$=this.lazyModules.modules$.pipe(E(s=>s.injector),Kn(this.rootInjector))}get(n,r){return this.injectors$.pipe(E((s,o)=>s.get(n,r??Ix,o?{self:!0}:void 0)),x(s=>s!==Ix))}getMulti(n){return this.get(n,[]).pipe(x(r=>{if(!Array.isArray(r))throw new Error(`Multi-providers mixed with single providers for ${n.toString()}!`);return r.length>0}),_i((r,s)=>[...r,...s],[]))}};e.\u0275fac=function(r){return new(r||e)(d(Ye),d(nD))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),k3=(()=>{let e=class e{constructor(n,r,s,o){this.rootConfig=n,this.defaultConfig=r,this.unifiedInjector=s,this.ambientDefaultConfig={},this.ambientConfig={},this.config=o,this.unifiedConfig$=new Te(o),this.subscription=this.feedUnifiedConfig().subscribe()}feedUnifiedConfig(){let n=this.unifiedInjector.get(wc,[]),r=this.unifiedInjector.get(jo,[]);return Pi(n,r).pipe(Ig(1),L(([s,o])=>this.processConfig(s,o)))}processConfig(n,r){r?.length&&yt(this.ambientDefaultConfig,...r),n.length&&yt(this.ambientConfig,...n),(n.length||r.length)&&this.emitUnifiedConfig()}emitUnifiedConfig(){let n=yt({},this.defaultConfig,this.ambientDefaultConfig,this.ambientConfig,this.rootConfig);this.unifiedConfig$.next(n),NO(this.config,"disableConfigUpdates")||yt(this.config,n)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),this.unifiedConfig$.complete()}};e.\u0275fac=function(r){return new(r||e)(d(NS),d(Ux),d(Vc),d(kt))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),kO=(()=>{let e=class e{constructor(n){}static withConfig(n){return{ngModule:e,providers:[fx(n)]}}static withConfigFactory(n,r){return{ngModule:e,providers:[mf(n,r)]}}static forRoot(n={}){return{ngModule:e,providers:[fx(n)]}}};e.\u0275fac=function(r){return new(r||e)(d(k3))},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})();function U3(t,e){let n=new RegExp("(?:^|;\\s*)"+e+"=([^;]*)","g").exec(t);return n&&decodeURIComponent(n[1])||""}var j3=new S("TEST_CONFIG_COOKIE_NAME"),Gce=new S("TEST_CONFIG",{providedIn:"root",factory:()=>{let t=C(j3),e=C($e),i=C(_e);if(On(e)&&t){let n=U3(i.cookie,t);return $3(n)}return{}}});function $3(t){try{return JSON.parse(decodeURIComponent(t))}catch{return{}}}var B3=[mf(()=>{let t=C(PO);return{features:v({},t)}}),$o(()=>{let t=C(OO);return{features:v({},t)}})],UO=(()=>{let e=class e{constructor(){this.rendererFactory=C(Wi),this.featureConfig=C(tg),this.logger=C(Q),this.CSS_FEATURE_FLAG_PREFIX="cxFeat_",this.renderer=this.rendererFactory.createRenderer(null,null),this.usagesCounter=new Map}init(n){this.rootElement=n.location.nativeElement;for(let[r,s]of this.usagesCounter.entries())s>0&&this.addClass(r)}registerUsage(n){let r=this.usagesCounter.get(n)??0;this.isEnabled(n)&&r===0&&this.addClass(n),this.usagesCounter.set(n,r+1)}unregisterUsage(n){let r=this.usagesCounter.get(n)??0;r===0&&ge()&&this.logger.warn(`Feature flag CSS: "${n}" is already not used, so it cannot be unregistered.`),this.isEnabled(n)&&r===1&&this.removeClass(n),this.usagesCounter.set(n,Math.max(r-1,0))}isEnabled(n){return this.featureConfig.isEnabled(n)}addClass(n){let r=this.getCssClass(n);!this.rootElement||!r||this.renderer.addClass(this.rootElement,r)}removeClass(n){let r=this.getCssClass(n);!this.rootElement||!r||this.renderer.removeClass(this.rootElement,r)}getCssClass(n){return this.featureConfig.isEnabled(n)?`${this.CSS_FEATURE_FLAG_PREFIX}${n}`:void 0}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),V3=(()=>{let e=class e{static forRoot(n="3.0"){return{ngModule:e,providers:[N3(O3),...B3,kn({features:{level:n||"*"}}),{provide:to,multi:!0,useFactory:()=>{let r=C(UO);return s=>r.init(s)}}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})();function H3(t){Ca(H3);let e=C(UO),i=C(fi);e.registerUsage(t),i.onDestroy(()=>e.unregisterUsage(t))}function vp(t){let e;return t.subscribe(i=>e=i).unsubscribe(),e}var Je=(()=>{let e=class e{constructor(n){this.unifiedInjector=n,this.subscriptions=new Ee,this.converters=new Map;let r=this.unifiedInjector.injectors$.pipe(L(()=>this.converters.clear()));this.subscriptions.add(r.subscribe())}getConverters(n){if(!this.converters.has(n)){let r=vp(this.unifiedInjector.getMulti(n));r&&this.converters.set(n,r)}return this.converters.get(n)}hasConverters(n){let r=this.getConverters(n);return Array.isArray(r)&&r.length>0}pipeable(n){return this.hasConverters(n)?E(r=>this.convertSource(r,n)):r=>r}pipeableMany(n){return this.hasConverters(n)?E(r=>this.convertMany(r,n)):r=>r}convert(n,r){return this.hasConverters(r)?this.convertSource(n,r):n}convertMany(n,r){return this.hasConverters(r)&&Array.isArray(n)?n.map(s=>this.convertSource(s,r)):n}convertSource(n,r){return this.getConverters(r)?.reduce((s,o)=>o.convert(n,s),void 0)}ngOnDestroy(){this.subscriptions.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)(d(Vc))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),z3=(()=>{let e=class e{constructor(n,r,s){this.http=n,this.occEndpoints=r,this.converter=s,this.userIdService=C(jn),this.featureConfigService=C(tg),this.headers=new le().set("Content-Type","application/json")}load(n,r){return this.featureConfigService.isEnabled(bo)?this.userIdService.getUserId().pipe(N(s=>this.http.get(this.getComponentEndPoint(n,r,s),{headers:this.headers})),this.converter.pipeable(df)):this.http.get(this.getComponentEndPoint(n,r),{headers:this.headers}).pipe(this.converter.pipeable(df))}findComponentsByIds(n,r,s="DEFAULT",o=0,a=n.length,c){let u=v(v({},this.getContextParams(r)),this.getPaginationParams(o,a,c));return u.componentIds=n.toString(),this.featureConfigService.isEnabled(bo)?this.userIdService.getUserId().pipe(N(l=>this.http.get(this.getComponentsEndpoint(u,s,l),{headers:this.headers})),E(l=>l.component??[]),this.converter.pipeableMany(df)):this.http.get(this.getComponentsEndpoint(u,s),{headers:this.headers}).pipe(E(l=>l.component??[]),this.converter.pipeableMany(df))}getComponentEndPoint(n,r,s){if(this.featureConfigService.isEnabled(bo)){let o=this.getContextParams(r),a=s?{urlParams:{id:n,userId:s},queryParams:o}:{urlParams:{id:n},queryParams:o};return this.occEndpoints.buildUrl("component",a)}return this.occEndpoints.buildUrl("component",{urlParams:{id:n},queryParams:this.getContextParams(r)})}getComponentsEndpoint(n,r,s){if(this.featureConfigService.isEnabled(bo)){let o=v({fields:r},n),a=s?{urlParams:{userId:s},queryParams:o}:{queryParams:o};return this.occEndpoints.buildUrl("components",a)}return this.occEndpoints.buildUrl("components",{queryParams:v({fields:r},n)})}getPaginationParams(n,r,s){let o={};return n!==void 0&&(o.currentPage=n.toString()),r!==void 0&&(o.pageSize=r.toString()),s!==void 0&&(o.sort=s),o}getContextParams(n){let r={};switch(n.type){case be.PRODUCT_PAGE:{r={productCode:n.id};break}case be.CATEGORY_PAGE:{r={categoryCode:n.id};break}case be.CATALOG_PAGE:{r={catalogCode:n.id};break}}return r}};e.\u0275fac=function(r){return new(r||e)(d(Le),d(Qe),d(Je))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),jO="__HOMEPAGE__",$O="smartedit-preview";var G3=(()=>{let e=class e{constructor(n,r,s){this.http=n,this.occEndpoints=r,this.converter=s,this.userIdService=C(jn),this.featureConfigService=C(tg),this.headers=new le().set("Content-Type","application/json")}load(n){let r=this.getPagesRequestParams(n);if(this.featureConfigService.isEnabled(bo))return this.userIdService.getUserId().pipe(N(o=>{let a=n.type?this.occEndpoints.buildUrl("pages",{urlParams:{userId:o},queryParams:r}):this.occEndpoints.buildUrl("page",{urlParams:{id:n.id,userId:o}});return this.http.get(a,{headers:this.headers})}),this.converter.pipeable(JC));let s=n.type?this.occEndpoints.buildUrl("pages",{queryParams:r}):this.occEndpoints.buildUrl("page",{urlParams:{id:n.id}});return this.http.get(s,{headers:this.headers}).pipe(this.converter.pipeable(JC))}getPagesRequestParams(n){if(n.id===jO||n.id===$O)return{};let r={};return n.type&&(r.pageType=n.type),n.type===be.CONTENT_PAGE?r.pageLabelOrId=n.id:r.code=n.id,r}};e.\u0275fac=function(r){return new(r||e)(d(Le),d(Qe),d(Je))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),W3=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({providers:[{provide:mp,useExisting:G3},{provide:JC,useExisting:M3,multi:!0},{provide:gp,useExisting:z3}],imports:[Ze]});let t=e;return t})();var q3=(()=>{let e=class e{convert(n,r){return r===void 0&&(r=v({},n)),r.active=this.normalizeBoolean(n.active),r}normalizeBoolean(n){return n===void 0?!1:typeof n=="string"?n==="true":n}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Y3=(()=>{let e=class e{convert(n,r){return r===void 0&&(r=v({},n)),r.activeFlag=n.active,delete r.active,r}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),BO=new S("CostCenterNormalizer"),VO=new S("CostCentersListNormalizer"),K3=new S("CostCenterSerializer"),Z3=(()=>{let e=class e{constructor(n){this.converter=n}convert(n,r){return r===void 0&&(r=v({},n)),r.values=n.costCenters.map(s=>v({},this.converter.convert(s,BO))),r}};e.\u0275fac=function(r){return new(r||e)(d(Je))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Q3={backend:{occ:{endpoints:{getActiveCostCenters:"/costcenters?fields=DEFAULT,unit(BASIC,addresses(DEFAULT))"}}}},Wce=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({providers:[{provide:VO,useExisting:Z3,multi:!0},{provide:BO,useExisting:q3,multi:!0},{provide:K3,useExisting:Y3,multi:!0}],imports:[Ze,kO.withConfig(Q3)]});let t=e;return t})(),J3=(()=>{let e=class e{constructor(n){this.config=n}convert(n,r){return r===void 0&&(r=v({},n)),n.images&&(r.images=this.normalize(n.images)),r}normalize(n){let r={};if(n)for(let s of n){let o=this.hasGalleryIndex(s);if(s.imageType){r.hasOwnProperty(s.imageType)||(r[s.imageType]=o?[]:{});let a=this.getImageContainer(o,r,s),c=v({},s);c.url=this.normalizeImageUrl(c.url??""),s.format&&(a[s.format]=c)}}return r}getImageContainer(n,r,s){return n?this.getImageGroups(r,s)[s.galleryIndex]:r[s.imageType]}getImageGroups(n,r){let s=n[r.imageType];return s[r.galleryIndex]||(s[r.galleryIndex]={}),s}normalizeImageUrl(n){return new RegExp(/^(http|data:image|\/\/)/i).test(n)?n:(this.config.backend?.media?.baseUrl||this.config.backend?.occ?.baseUrl||"")+n}hasGalleryIndex(n){return(n.galleryIndex??!1)!==!1}};e.\u0275fac=function(r){return new(r||e)(d(yr))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ms=new S("ProductNormalizer"),X3=(()=>{let e=class e{constructor(n){this.converterService=n,this.DEFAULT_TOP_VALUES=6}convert(n,r={}){return r=v(v({},r),n),this.normalizeFacets(r),n.products&&(r.products=n.products.map(s=>this.converterService.convert(s,ms))),r}normalizeFacets(n){this.normalizeFacetValues(n),this.normalizeUselessFacets(n)}normalizeUselessFacets(n){n.facets&&(n.facets=n.facets.filter(r=>!n.pagination||!n.pagination.totalResults||(!r.hasOwnProperty("visible")||r.visible)&&r.values&&r.values.find(s=>s.selected||(s.count??0)<(n.pagination?.totalResults??0))))}normalizeFacetValues(n){n.facets&&(n.facets=n.facets.map(r=>{let a=r,{topValues:s}=a,o=fg(a,["topValues"]);return o.topValueCount=s&&s.length>0?s.length:this.DEFAULT_TOP_VALUES,o}))}};e.\u0275fac=function(r){return new(r||e)(d(Je))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),eW=(()=>{let e=class e{constructor(n){this.converter=n}convert(n,r=[]){return r===void 0&&(r=v({},n)),n&&n.references?(r=n.references.map(s=>T(v({},s),{target:this.converter.convert(s.target,ms)})),r):[]}};e.\u0275fac=function(r){return new(r||e)(d(Je))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),tW=(()=>{let e=class e{constructor(n){this.config=n,this.reservedSlugCharacters=" !*'();:@&=+$,/?%#[]",this.slugChar="-",this.slugRegex=new RegExp(`[${this.reservedSlugCharacters.split("").join("\\")}]`,"g"),this.sanitizeMultipleSlugChars=new RegExp(`${this.slugChar}+`,"g")}convert(n,r){return r=r??v({},n),n.name&&(r.name=this.normalize(n.name),r.slug=this.normalizeSlug(n.name),r.nameHtml=n.name),r}normalize(n){return n.replace(/<[^>]*>/g,"")}normalizeSlug(n){return this.normalize(n).trim().toLowerCase().replace(this.slugRegex,this.slugChar).replace(this.sanitizeMultipleSlugChars,this.slugChar)}};e.\u0275fac=function(r){return new(r||e)(d(yr))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),HO=new S("ProductReferencesListNormalizer"),nW=(()=>{let e=class e{constructor(n,r,s){this.http=n,this.occEndpoints=r,this.converter=s}load(n,r,s){return this.http.get(this.getEndpoint(n,r,s)).pipe(this.converter.pipeable(HO))}getEndpoint(n,r,s){return this.occEndpoints.buildUrl("productReferences",{urlParams:{productCode:n},queryParams:{referenceType:r,pageSize:s}})}};e.\u0275fac=function(r){return new(r||e)(d(Le),d(Qe),d(Je))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),rW=new S("ProductReviewNormalizer"),iW=new S("ProductReviewSerializer"),sW=(()=>{let e=class e{constructor(n,r,s){this.http=n,this.occEndpoints=r,this.converter=s}load(n,r){return this.http.get(this.getEndpoint(n,r)).pipe(E(s=>s.reviews),E(s=>s??[]),this.converter.pipeableMany(rW))}post(n,r){r=this.converter.convert(r,iW);let s=new le({"Content-Type":"application/x-www-form-urlencoded"}),o=new URLSearchParams;return o.append("headline",r.headline),o.append("comment",r.comment),o.append("rating",r.rating.toString()),o.append("alias",r.alias),this.http.post(this.getEndpoint(n),o.toString(),{headers:s})}getEndpoint(n,r){return this.occEndpoints.buildUrl("productReviews",{urlParams:{productCode:n},queryParams:{maxCount:r}})}};e.\u0275fac=function(r){return new(r||e)(d(Le),d(Qe),d(Je))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),zO=new S("ProductSearchPageNormalizer"),oW=new S("ProductSuggestionNormalizer"),GO=new La(()=>({}));function aW(t){let e=t.map(n=>typeof n=="string"?ng(n):n),i=WO(yt({},...e));return qO(i)}function WO(t={}){let e=Object.keys(t);return e.includes("FULL")?(delete t.DEFAULT,delete t.BASIC):e.includes("DEFAULT")&&delete t.BASIC,Object.keys(t).forEach(i=>{t[i]=WO(t[i])}),t}function ng(t,e=0){let i={},n=e;for(;n<t.length;){if(t[n]===",")n>e&&(i[t.substring(e,n)]={}),e=n+1;else if(t[n]==="("){let r=ng(t,n+1);if(!Array.isArray(r))return i;i[t.substring(e,n)]=r[0],e=r[1],n=e-1}else if(t[n]===")")return n>e&&(i[t.substring(e,n)]={}),[i,n+1];n++}return e<t.length&&(i[t.substring(e,n)]={}),i}function qO(t){return Object.keys(t).map(e=>{let i=qO(t[e]);return i?`${e}(${i})`:e}).join(",")}function cW(t,e){let i=typeof e=="string"?ng(e):e;return YO(t,i)}function YO(t,e){if(!gf(t))return t;let i=Object.keys(e);if(i.length===0||i.find(r=>r==="BASIC"||r==="DEFAULT"||r==="FULL"))return t;let n={};return i.forEach(r=>{t.hasOwnProperty(r)&&(n[r]=YO(t[r],e[r]))}),n}var qce=new S("List of OCC constants that pass for user IDs.",{providedIn:"root",factory:()=>g8}),uW=(()=>{let e=class e{constructor(n,r,s){this.http=n,this.occEndpoints=r,this.converter=s,this.router=C(Ne,{optional:!0}),this.DEFAULT_SEARCH_CONFIG={pageSize:20}}search(n,r=this.DEFAULT_SEARCH_CONFIG){let s=new io().set(GO,{sendUserIdAsHeader:!0});return this.http.get(this.getSearchEndpoint(n,r),{context:s}).pipe(this.converter.pipeable(zO),L(o=>o.keywordRedirectUrl&&this.router?.navigate([o.keywordRedirectUrl])))}loadSuggestions(n,r=3){return this.http.get(this.getSuggestionEndpoint(n,r.toString())).pipe(E(s=>s.suggestions??[]),this.converter.pipeableMany(oW))}getSearchEndpoint(n,r){return this.occEndpoints.buildUrl("productSearch",{queryParams:v({query:n},r)})}getSuggestionEndpoint(n,r){return this.occEndpoints.buildUrl("productSuggestions",{queryParams:{term:n,max:r}})}};e.\u0275fac=function(r){return new(r||e)(d(Le),d(Qe),d(Je))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),lW=(()=>{let e=class e{constructor(n){this.http=n,this.FIELDS_PARAM="fields"}getOptimalUrlGroups(n){let r={};for(let o of n){let[a,c]=this.splitFields(o.url??"");r[a]||(r[a]={}),o.fields=c?ng(c):{},o.scopedData.scope!==void 0&&(r[a][o.scopedData.scope]=o)}let s={};for(let[o,a]of Object.entries(r)){let c=this.getUrlWithFields(o,Object.values(a).map(u=>u.fields));s[c]=a}return s}splitFields(n){let[r,s]=n.split("?"),o={};s&&s.split("&").forEach(u=>{let l=u.split("=");o[l[0]]=l[1]});let c=Object.keys(o).sort().reduce((u,l)=>(l!==this.FIELDS_PARAM&&u.push(o[l]?`${l}=${o[l]}`:l),u),[]).join("&");return[c?`${r}?${c}`:r,o[this.FIELDS_PARAM]]}getUrlWithFields(n,r){let s=aW(r);return s&&(n+=n.includes("?")?"&":"?",n+=`${this.FIELDS_PARAM}=${s}`),n}};e.\u0275fac=function(r){return new(r||e)(d(Le))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),dW=(()=>{let e=class e{constructor(n,r){this.http=n,this.occFields=r}scopedDataLoad(n,r){let s=[];r||(r=a=>this.http.get(a));let o=this.occFields.getOptimalUrlGroups(n);return Object.entries(o).forEach(([a,c])=>{let u=Object.values(c);if(u.length===1)s.push(T(v({},u[0].scopedData),{data$:r?.(a)}));else{let l=r?.(a).pipe(ht(1));u.forEach(f=>{s.push(T(v({},f.scopedData),{data$:l?.pipe(E(h=>cW(h,f.fields)))}))})}}),s}};e.\u0275fac=function(r){return new(r||e)(d(Le),d(lW))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),fW=(()=>{let e=class e{constructor(n,r,s,o){this.http=n,this.occEndpoints=r,this.converter=s,this.requestsOptimizer=o}load(n,r){return this.http.get(this.getEndpoint(n,r)).pipe(this.converter.pipeable(ms))}loadMany(n){let r=n.map(s=>({scopedData:s,url:this.getEndpoint(s.code,s.scope)}));return this.requestsOptimizer.scopedDataLoad(r).map(s=>T(v({},s),{data$:s.data$?.pipe(this.converter.pipeable(ms))}))}getEndpoint(n,r){return this.occEndpoints.buildUrl("product",{urlParams:{productCode:n},scope:r})}};e.\u0275fac=function(r){return new(r||e)(d(Le),d(Qe),d(Je),d(dW))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),yp=class{},Ep=class{},Cp=class{},Sp=class{},hW={backend:{occ:{endpoints:{product:{default:"products/${productCode}?fields=DEFAULT,averageRating,images(FULL),classifications,manufacturer,numberOfReviews,categories(FULL),baseOptions,baseProduct,variantOptions,variantType",list:"products/${productCode}?fields=code,purchasable,name,summary,price(formattedValue),images(DEFAULT,galleryIndex),baseProduct",details:"products/${productCode}?fields=averageRating,stock(DEFAULT),description,availableForPickup,code,url,price(DEFAULT),numberOfReviews,manufacturer,categories(FULL),priceRange,multidimensional,tags,images(FULL)",promotions:"products/${productCode}?fields=potentialPromotions(description)",attributes:"products/${productCode}?fields=classifications",price:"products/${productCode}?fields=price(formattedValue)",stock:"products/${productCode}?fields=stock(DEFAULT)",list_item:"products/${productCode}?fields=code,name,price(formattedValue),images(DEFAULT),baseProduct"},productReviews:"products/${productCode}/reviews",productReferences:"products/${productCode}/references?fields=DEFAULT,references(target(images(FULL)))",productSearch:"products/search?fields=products(code,name,summary,configurable,configuratorType,multidimensional,price(FULL),images(DEFAULT),stock(FULL),averageRating,variantOptions),facets,breadcrumbs,pagination(DEFAULT),sorts(DEFAULT),freeTextSearch,currentQuery,keywordRedirectUrl",productSuggestions:"products/suggestions"}},loadingScopes:{product:{details:{include:["list","variants"]}}}}},Yce=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({providers:[kn(hW),{provide:yp,useClass:fW},{provide:ms,useExisting:J3,multi:!0},{provide:ms,useExisting:tW,multi:!0},{provide:Ep,useClass:nW},{provide:HO,useExisting:eW,multi:!0},{provide:Sp,useClass:uW},{provide:zO,useExisting:X3,multi:!0},{provide:Cp,useClass:sW}],imports:[Ze]});let t=e;return t})(),pW=(()=>{let e=class e{constructor(){}convert(n,r){return r===void 0&&(r=v({},n)),r.baseStore=n.stores?.[0],delete r.stores,r}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),gW=new S("LanguageNormalizer"),mW=new S("CurrencyNormalizer"),vW=new S("CountryNormalizer"),yW=new S("RegionNormalizer"),KO=new S("BaseSiteNormalizer"),EW=(()=>{let e=class e{constructor(n,r,s){this.http=n,this.occEndpointsService=r,this.converterService=s}loadLanguages(){return this.http.get(this.occEndpointsService.buildUrl("languages")).pipe(E(n=>n.languages??[]),this.converterService.pipeableMany(gW))}loadCurrencies(){return this.http.get(this.occEndpointsService.buildUrl("currencies")).pipe(E(n=>n.currencies??[]),this.converterService.pipeableMany(mW))}loadCountries(n){return this.http.get(this.occEndpointsService.buildUrl("countries",{queryParams:n?{type:n}:void 0})).pipe(E(r=>r.countries??[]),this.converterService.pipeableMany(vW))}loadRegions(n){return this.http.get(this.occEndpointsService.buildUrl("regions",{urlParams:{isoCode:n}})).pipe(E(r=>r.regions??[]),this.converterService.pipeableMany(yW))}loadBaseSite(n){return n||(n=this.occEndpointsService.getBaseUrl().split("/").pop()),this.http.get(this.occEndpointsService.buildUrl("baseSites",{},{baseSite:!1})).pipe(E(r=>r.baseSites.find(s=>s.uid===n)))}loadBaseSites(){return this.http.get(this.occEndpointsService.buildUrl("baseSites",{},{baseSite:!1})).pipe(E(n=>n.baseSites),this.converterService.pipeableMany(KO))}};e.\u0275fac=function(r){return new(r||e)(d(Le),d(Qe),d(Je))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),Ip=class{},CW={backend:{occ:{endpoints:{languages:"languages",currencies:"currencies",countries:"countries",regions:"countries/${isoCode}/regions?fields=regions(name,isocode,isocodeShort)",baseSites:"basesites?fields=FULL"}}}},Ai=(()=>{let e=class e{constructor(n,r){this.store=n,this.config=r}getAll(){return this.store.pipe(M(k8),L(n=>{n||this.store.dispatch(new _f)}),x(yc))}getActive(){return this.store.pipe(M(UC),x(yc))}setActive(n){this.store.pipe(M(UC),oe(1)).subscribe(r=>{r!==n&&this.isValid(n)&&this.store.dispatch(new Uf(n))})}isInitialized(){let n=!1;return this.getActive().subscribe(()=>n=!0).unsubscribe(),n}isValid(n){return!!n&&Nc(this.config,ys).includes(n)}};e.\u0275fac=function(r){return new(r||e)(d(me),d(Zr))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),Hc=(()=>{let e=class e{constructor(n,r){this.store=n,this.config=r}getAll(){return this.store.pipe(M(P8),L(n=>{n||this.store.dispatch(new xf)}),x(yc))}getActive(){return this.store.pipe(M(kC),x(yc))}setActive(n){this.store.pipe(M(kC),oe(1)).subscribe(r=>{r!==n&&this.isValid(n)&&this.store.dispatch(new Pf(n))})}isInitialized(){let n=!1;return this.getActive().subscribe(()=>n=!0).unsubscribe(),n}isValid(n){return!!n&&Nc(this.config,Es).includes(n)}};e.\u0275fac=function(r){return new(r||e)(d(me),d(Zr))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),SW=(()=>{let e=class e{constructor(n,r,s,o){this.languageService=n,this.currencyService=r,this.occEndpoints=s,this.config=o,this.activeLang=Si(this.config,ys),this.activeCurr=Si(this.config,Es),this.languageService.getActive().subscribe(a=>this.activeLang=a),this.currencyService.getActive().subscribe(a=>{this.activeCurr=a})}intercept(n,r){return n.url.includes(this.occEndpoints.getBaseUrl())&&(n=n.clone({setParams:{lang:this.activeLang??"",curr:this.activeCurr??""}})),r.handle(n)}};e.\u0275fac=function(r){return new(r||e)(d(Ai),d(Hc),d(Qe),d(Zr))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),IW=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({providers:[kn(CW),{provide:Ip,useClass:EW},{provide:pn,useExisting:SW,multi:!0},{provide:KO,useExisting:pW,multi:!0}],imports:[Ze]});let t=e;return t})(),DW=(()=>{let e=class e{constructor(n){this.anonymousConsentsService=n}convert(n){return this.anonymousConsentsService.decodeAndDeserialize(n)}};e.\u0275fac=function(r){return new(r||e)(d(Fc))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),bW=(()=>{let e=class e{constructor(n){this.converter=n}convert(n,r){return r===void 0&&(r=v({},n)),n&&n.results&&(r.results=n.results.map(s=>T(v({},s),{product:this.converter.convert(s.product,ms)}))),r}};e.\u0275fac=function(r){return new(r||e)(d(Je))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ZO=new S("AnonymousConsentNormalizer"),eS=new S("ConsentTemplateNormalizer"),wW=(()=>{let e=class e{constructor(n,r,s){this.http=n,this.occEndpoints=r,this.converter=s,this.logger=C(Q)}loadAnonymousConsentTemplates(){let n=this.occEndpoints.buildUrl("anonymousConsentTemplates");return this.http.get(n).pipe(F(r=>{throw Y(r,this.logger)}),E(r=>r.consentTemplates??[]),this.converter.pipeableMany(eS))}loadAnonymousConsents(){let n=this.occEndpoints.buildUrl("anonymousConsentTemplates");return this.http.head(n,{observe:"response"}).pipe(F(r=>{throw Y(r,this.logger)}),E(r=>r.headers.get(gC)??""),this.converter.pipeable(ZO))}};e.\u0275fac=function(r){return new(r||e)(d(Le),d(Qe),d(Je))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),TW=new S("CustomerCouponSearchResultNormalizer"),AW=(()=>{let e=class e{constructor(n,r,s){this.http=n,this.occEndpoints=r,this.converter=s}getCustomerCoupons(n,r,s,o){if(n===Ao)return I({});let a=this.occEndpoints.buildUrl("customerCoupons",{urlParams:{userId:n}}),c=new ze().set("sort",o||"startDate:asc");r&&(c=c.set("pageSize",r.toString())),s&&(c=c.set("currentPage",s.toString()));let u=this.newHttpHeader();return this.http.get(a,{headers:u,params:c}).pipe(this.converter.pipeable(TW))}turnOffNotification(n,r){let s=this.occEndpoints.buildUrl("couponNotification",{urlParams:{userId:n,couponCode:r}}),o=this.newHttpHeader();return this.http.delete(s,{headers:o})}turnOnNotification(n,r){let s=this.occEndpoints.buildUrl("couponNotification",{urlParams:{userId:n,couponCode:r}}),o=this.newHttpHeader();return this.http.post(s,{headers:o})}claimCustomerCoupon(n,r){let s=this.occEndpoints.buildUrl("claimCoupon",{urlParams:{userId:n,couponCode:r}}),o=this.newHttpHeader();return this.http.post(s,{headers:o})}disclaimCustomerCoupon(n,r){let s=this.occEndpoints.buildUrl("claimCoupon",{urlParams:{userId:n,couponCode:r}}),o=this.newHttpHeader();return this.http.delete(s,{headers:o})}newHttpHeader(){return new le({"Content-Type":"application/json"})}};e.\u0275fac=function(r){return new(r||e)(d(Le),d(Qe),d(Je))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),QO=new S("AddressNormalizer"),RW=new S("AddressesNormalizer"),aC=new S("AddressSerializer"),MW=new S("AddressValidationNormalizer"),gc={"Content-Type":"application/json"},xW=(()=>{let e=class e{constructor(n,r,s){this.http=n,this.occEndpoints=r,this.converter=s,this.logger=C(Q)}loadAll(n){let r=this.occEndpoints.buildUrl("addresses",{urlParams:{userId:n}}),s=new le(v({},gc));return this.http.get(r,{headers:s}).pipe(F(o=>{throw Y(o,this.logger)}),E(o=>o.addresses??[]),this.converter.pipeableMany(QO))}add(n,r){let s=this.occEndpoints.buildUrl("addresses",{urlParams:{userId:n}}),o=new le(v({},gc));return r=this.converter.convert(r,aC),this.http.post(s,r,{headers:o}).pipe(F(a=>{throw Y(a,this.logger)}))}update(n,r,s){let o=this.occEndpoints.buildUrl("addressDetail",{urlParams:{userId:n,addressId:r}}),a=new le(v({},gc));return s=this.converter.convert(s,aC),this.http.patch(o,s,{headers:a}).pipe(F(c=>{throw Y(c,this.logger)}))}verify(n,r){let s=this.occEndpoints.buildUrl("addressVerification",{urlParams:{userId:n}}),o=new le(v({},gc));return n===Ao&&(o=Ec.createHeader(jC,!0,o)),r=this.converter.convert(r,aC),this.http.post(s,r,{headers:o}).pipe(F(a=>{throw Y(a,this.logger)}),this.converter.pipeable(MW))}delete(n,r){let s=this.occEndpoints.buildUrl("addressDetail",{urlParams:{userId:n,addressId:r}}),o=new le(v({},gc));return this.http.delete(s,{headers:o}).pipe(F(a=>{throw Y(a,this.logger)}))}};e.\u0275fac=function(r){return new(r||e)(d(Le),d(Qe),d(Je))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),NW=(()=>{let e=class e{constructor(n,r,s){this.http=n,this.occEndpoints=r,this.converter=s,this.logger=C(Q)}loadConsents(n){let r=this.occEndpoints.buildUrl("consentTemplates",{urlParams:{userId:n}}),s=new le({"Cache-Control":"no-cache"});return this.http.get(r,{headers:s}).pipe(F(o=>{throw Y(o,this.logger)}),E(o=>o.consentTemplates??[]),this.converter.pipeableMany(eS))}giveConsent(n,r,s){let o=this.occEndpoints.buildUrl("consents",{urlParams:{userId:n}}),a=new ze().set("consentTemplateId",r).set("consentTemplateVersion",s.toString()),c=new le({"Content-Type":"application/x-www-form-urlencoded","Cache-Control":"no-cache"});return this.http.post(o,a,{headers:c}).pipe(F(u=>{throw Y(u,this.logger)}),this.converter.pipeable(eS))}withdrawConsent(n,r){let s=new le({"Cache-Control":"no-cache"}),o=this.occEndpoints.buildUrl("consentDetail",{urlParams:{userId:n,consentId:r}});return this.http.delete(o,{headers:s})}};e.\u0275fac=function(r){return new(r||e)(d(Le),d(Qe),d(Je))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),JO=new S("ProductInterestsNormalizer"),Dx=new le({"Content-Type":"application/json"}),OW=(()=>{let e=class e{constructor(n,r,s,o){this.http=n,this.occEndpoints=r,this.config=s,this.converter=o,this.logger=C(Q)}getInterests(n,r,s,o,a,c){let u=new ze().set("sort",o||"name:asc");return r&&(u=u.set("pageSize",r.toString())),s&&(u=u.set("currentPage",s.toString())),a&&(u=u.set("productCode",a)),c&&(u=u.set("notificationType",c.toString())),this.http.get(this.occEndpoints.buildUrl("getProductInterests",{urlParams:{userId:n}}),{headers:Dx,params:u}).pipe(this.converter.pipeable(JO),F(l=>{throw Y(l,this.logger)}))}removeInterest(n,r){let s=[];return r.productInterestEntry?.forEach(o=>{let a=new ze().set("productCode",r.product?.code??"").set("notificationType",o.interestType);s.push(this.http.delete(this.occEndpoints.buildUrl("productInterests",{urlParams:{userId:n}}),{params:a}).pipe(F(c=>{throw Y(c,this.logger)})))}),Au(s)}addInterest(n,r,s){let o=new ze().set("productCode",r).set("notificationType",s.toString());return this.http.post(this.occEndpoints.buildUrl("productInterests",{urlParams:{userId:n}}),{},{headers:Dx,params:o}).pipe(F(a=>{throw Y(a,this.logger)}))}};e.\u0275fac=function(r){return new(r||e)(d(Le),d(Qe),d(yr),d(Je))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),PW=new S("NotificationPreferenceSerializer"),FW=new S("NotificationPreferenceNormalizer"),Dp=class{},_W=(()=>{let e=class e{constructor(n){this.adapter=n}loadAll(n){return this.adapter.loadAll(n)}update(n,r){return this.adapter.update(n,r)}};e.\u0275fac=function(r){return new(r||e)(d(Dp))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),bx=new le({"Content-Type":"application/json"}),LW=(()=>{let e=class e{constructor(n,r,s){this.http=n,this.converter=r,this.occEndpoints=s,this.logger=C(Q)}loadAll(n){return this.http.get(this.occEndpoints.buildUrl("notificationPreference",{urlParams:{userId:n}}),{headers:bx}).pipe(E(r=>r.preferences??[]),this.converter.pipeableMany(FW),F(r=>{throw Y(r,this.logger)}))}update(n,r){return r=this.converter.convert(r,PW),this.http.patch(this.occEndpoints.buildUrl("notificationPreference",{urlParams:{userId:n}}),{preferences:r},{headers:bx}).pipe(F(s=>{throw Y(s,this.logger)}))}};e.\u0275fac=function(r){return new(r||e)(d(Le),d(Je),d(Qe))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),kW=new S("PaymentDetailsNormalizer"),cC={"Content-Type":"application/json"},UW=(()=>{let e=class e{constructor(n,r,s){this.http=n,this.occEndpoints=r,this.converter=s,this.logger=C(Q)}loadAll(n){let r=this.occEndpoints.buildUrl("paymentDetailsAll",{urlParams:{userId:n}})+"?saved=true",s=new le(v({},cC));return this.http.get(r,{headers:s}).pipe(F(o=>{throw Y(o,this.logger)}),E(o=>o.payments??[]),this.converter.pipeableMany(kW))}delete(n,r){let s=this.occEndpoints.buildUrl("paymentDetail",{urlParams:{userId:n,paymentDetailId:r}}),o=new le(v({},cC));return this.http.delete(s,{headers:o}).pipe(F(a=>{throw Y(a,this.logger)}))}setDefault(n,r){let s=this.occEndpoints.buildUrl("paymentDetail",{urlParams:{userId:n,paymentDetailId:r}}),o=new le(v({},cC));return this.http.patch(s,{billingAddress:{titleCode:"mr"},defaultPayment:!0},{headers:o}).pipe(F(a=>{throw Y(a,this.logger)}))}};e.\u0275fac=function(r){return new(r||e)(d(Le),d(Qe),d(Je))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),bp=class{},wp=class{},Tp=class{},Ap=class{},Rp=class{},Mp=class{},jW=(()=>{let e=class e{constructor(n){this.converter=n}convert(n,r){return r===void 0&&(r=v({},n)),r.values=n.addresses?.map(s=>v({},this.converter.convert(s,QO)))??[],r}};e.\u0275fac=function(r){return new(r||e)(d(Je))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),$W={backend:{occ:{endpoints:{paymentDetailsAll:"users/${userId}/paymentdetails",paymentDetail:"users/${userId}/paymentdetails/${paymentDetailId}",anonymousConsentTemplates:"users/anonymous/consenttemplates",consentTemplates:"users/${userId}/consenttemplates",consents:"users/${userId}/consents",consentDetail:"users/${userId}/consents/${consentId}",addresses:"users/${userId}/addresses",addressDetail:"users/${userId}/addresses/${addressId}",addressVerification:"users/${userId}/addresses/verification",customerCoupons:"users/${userId}/customercoupons",claimCoupon:"users/${userId}/customercoupons/${couponCode}/claim",couponNotification:"users/${userId}/customercoupons/${couponCode}/notification",notificationPreference:"users/${userId}/notificationpreferences",productInterests:"users/${userId}/productinterests",getProductInterests:"users/${userId}/productinterests?fields=sorts,pagination,results(productInterestEntry,product(code))"}}}},BW=(()=>{let e=class e{constructor(n,r,s){this.http=n,this.occEndpoints=r,this.converter=s}loadActiveList(n){let r=new io().set(GO,{sendUserIdAsHeader:!0});return this.http.get(this.getCostCentersEndpoint(n),{context:r}).pipe(this.converter.pipeable(VO))}getCostCentersEndpoint(n,r){return this.occEndpoints.buildUrl("getActiveCostCenters",{urlParams:{userId:n},queryParams:r})}};e.\u0275fac=function(r){return new(r||e)(d(Le),d(Qe),d(Je))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),Kce=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({providers:[kn($W),{provide:bp,useClass:xW},{provide:wp,useClass:NW},{provide:pp,useClass:wW},{provide:Mp,useClass:UW},{provide:Ap,useClass:AW},{provide:Dp,useClass:LW},{provide:Rp,useClass:OW},{provide:Tp,useClass:BW},{provide:JO,useExisting:bW,multi:!0},{provide:ZO,useExisting:DW,multi:!0},{provide:RW,useExisting:jW,multi:!0}],imports:[Ze]});let t=e;return t})(),VW={backend:{occ:{prefix:"/occ/v2/"},media:{}}};function HW(t){if(t.backend===void 0||t.backend.occ===void 0||t.backend.occ.baseUrl===void 0)return"Please configure backend.occ.baseUrl before using storefront library!"}var zW=(()=>{let e=class e{constructor(n){this.config=n}intercept(n,r){return this.requiresWithCredentials(n)&&(n=n.clone({withCredentials:!0})),r.handle(n)}requiresWithCredentials(n){return this.occConfig?.useWithCredentials!==void 0&&n.url.indexOf(this.occConfig?.prefix??"")>-1}get occConfig(){return this.config.backend?.occ}};e.\u0275fac=function(r){return new(r||e)(d(yr))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),GW=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[{provide:pn,useExisting:zW,multi:!0},kn(VW),cI(HW)]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({imports:[W3,IW]});let t=e;return t})(),WW="occ-backend-base-url",qW="OCC_BACKEND_BASE_URL_VALUE",YW="media-backend-base-url",KW="MEDIA_BACKEND_BASE_URL_VALUE";function ZW(t){let e=XO(WW,t);return e&&e!==qW?{backend:{occ:{baseUrl:e}}}:{}}function QW(t){let e=XO(YW,t);return e&&e!==KW?{backend:{media:{baseUrl:e}}}:{}}function XO(t,e){let i=e.getTag(`name="${t}"`);return i&&i.content}function JW(){return[mf(ZW,[Vy]),mf(QW,[Vy])]}var XW=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[...JW()]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})(),e4=(()=>{let e=class e{constructor(n){this.config=n}expand(n,r){let s=this.config?.backend?.loadingScopes?.[n];if(s){let o=[...r],a=o.length;for(;a>0;){a--;let c=s[o[a]]?.include;if(c)for(let u of c)o.includes(u)||(o.splice(a,0,u),a++)}return o}return r}getMaxAge(n,r){return(this.config.backend?.loadingScopes?.[n]?.[r]?.maxAge??0)*1e3}getReloadTriggers(n,r){return this.config.backend?.loadingScopes?.[n]?.[r]?.reloadOn??[]}};e.\u0275fac=function(r){return new(r||e)(d(yr))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Cr=Pn(GN),t4=A(Cr,t=>t.billingCountries),n4=A(t4,t=>t.entities),r4=A(n4,t=>Object.keys(t).map(e=>t[e])),rg=A(Cr,t=>t.customerCoupons),i4=A(rg,t=>Un(t)),s4=A(rg,t=>Ut(t)),Zce=A(rg,t=>tt(t)),o4=A(Cr,t=>t.countries),eP=A(o4,t=>t.entities),a4=A(eP,t=>Object.keys(t).map(e=>t[e])),c4=t=>A(eP,e=>Object.keys(e).length!==0?e[t]:null),rD=A(Cr,t=>t.notificationPreferences),u4=A(rD,t=>tt(t)),l4=A(rD,t=>tt(t).filter(e=>e.enabled)),d4=A(rD,t=>Ut(t)),iD=A(Cr,t=>t.payments),f4=A(iD,t=>tt(t)),h4=A(iD,t=>Ut(t)),p4=A(iD,t=>Un(t)&&!Ut(t)),sD=A(Cr,t=>t.productInterests),g4=A(sD,t=>tt(t)),m4=A(sD,t=>Ut(t)),zc=A(Cr,t=>t.regions),Qce=A(zc,t=>tt(t).entities),v4=A(zc,t=>({loaded:Un(t),loading:Ut(t),regions:tt(t).entities,country:tt(t).country})),Jce=A(zc,t=>tt(t).country),Xce=A(zc,t=>Ut(t)),eue=A(zc,t=>Un(t)),oD=A(Cr,t=>t.addresses),y4=A(oD,t=>tt(t)),E4=A(oD,t=>Ut(t)),C4=A(oD,t=>Un(t)&&!Ut(t)),ig=A(Cr,t=>t.consents),tS=A(ig,t=>tt(t)),S4=t=>A(tS,e=>e.find(i=>i.id===t)),I4=A(ig,Ut),D4=A(ig,Un),b4=A(ig,Bo),w4=A(Cr,t=>t.costCenters),tue=A(w4,t=>tt(t));var T4=(()=>{let e=class e{constructor(n,r,s){this.store=n,this.authService=r,this.userIdService=s}loadConsents(){this.userIdService.takeUserId().subscribe(n=>{this.store.dispatch(new ep(n))})}getConsents(n=!1){return ea(()=>n,this.store.pipe(M(tS),rt(this.getConsentsResultLoading(),this.getConsentsResultSuccess()),x(([r,s,o])=>!s),L(([r,s,o])=>{(!r||r.length===0)&&(o||this.loadConsents())}),x(([r,s])=>!!r),E(([r,s])=>r)),this.store.pipe(M(tS)))}getConsentsResultLoading(){return this.store.pipe(M(I4))}getConsentsResultSuccess(){return this.store.pipe(M(D4))}getConsentsResultError(){return this.store.pipe(M(b4))}resetConsentsProcessState(){this.store.dispatch(new Ic)}getConsent(n){return Pe([this.authService.isUserLoggedIn(),this.userIdService.getUserId()]).pipe(x(([r,s])=>r&&s===To),N(()=>this.getConsents(!0)),oe(1),N(()=>this.store.pipe(M(S4(n)))),x(yn),E(r=>r.currentConsent))}isConsentGiven(n){return!!n&&!!n.consentGivenDate&&!n.consentWithdrawnDate}isConsentWithdrawn(n){return n?!!n?.consentWithdrawnDate:!0}giveConsent(n,r){this.userIdService.takeUserId().subscribe(s=>{this.store.dispatch(new Dc({userId:s,consentTemplateId:n,consentTemplateVersion:r}))})}getGiveConsentResultLoading(){return this.store.pipe(M(Ci(fs)))}getGiveConsentResultSuccess(){return this.store.pipe(M(zr(fs)))}getGiveConsentResultError(){return this.store.pipe(M(Ei(fs)))}resetGiveConsentProcessState(){return this.store.dispatch(new sp)}withdrawConsent(n,r){this.userIdService.takeUserId().subscribe(s=>{this.store.dispatch(new ap({userId:s,consentCode:n,consentId:r}))})}getWithdrawConsentResultLoading(){return this.store.pipe(M(Ci(hs)))}getWithdrawConsentResultSuccess(){return this.store.pipe(M(zr(hs)))}getWithdrawConsentResultError(){return this.store.pipe(M(Ei(hs)))}resetWithdrawConsentProcessState(){return this.store.dispatch(new lp)}filterConsentTemplates(n,r=[]){if(r.length===0)return n;let s=[];for(let o of n)o.id&&!r.includes(o.id)&&s.push(o);return s}};e.\u0275fac=function(r){return new(r||e)(d(me),d(Bn),d(jn))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),A4=(()=>{let e=class e{isRequiredConsent(n){return!!(n&&this.anonymousConsentsConfig.anonymousConsents?.requiredConsents?.includes(n))}constructor(n,r,s,o,a,c,u){this.actions$=n,this.anonymousConsentTemplatesConnector=r,this.authService=s,this.anonymousConsentsConfig=o,this.anonymousConsentService=a,this.userConsentService=c,this.userIdService=u,this.logger=C(Q),this.checkConsentVersions$=W(()=>this.actions$.pipe(V(gN),rt(this.anonymousConsentService.getConsents()),Ue(([l,f])=>this.anonymousConsentTemplatesConnector.loadAnonymousConsents().pipe(E(h=>{if(!h)return ge()&&this.logger.warn("No consents were loaded. Please check the Spartacus documentation as this could be a back-end configuration issue."),!1;let g=f.map(b=>b.templateVersion),y=h.map(b=>b.templateVersion);return this.detectUpdatedVersion(g,y)}),N(h=>h?I(new Ef):he),F(h=>I(new Sf(Y(h,this.logger)))))))),this.loadAnonymousConsentTemplates$=W(()=>this.actions$.pipe(V(uN),rt(this.anonymousConsentService.getTemplates()),Ue(([l,f])=>this.anonymousConsentTemplatesConnector.loadAnonymousConsentTemplates().pipe(G(h=>{let g=!1;return f&&f.length!==0&&(g=this.anonymousConsentService.detectUpdatedTemplates(f,h)),[new Cf(h),new If(g)]}),F(h=>I(new Sf(Y(h,this.logger)))))))),this.transferAnonymousConsentsToUser$=W(()=>this.actions$.pipe(V(mr),x(()=>!!this.anonymousConsentsConfig.anonymousConsents),rt(this.actions$.pipe(V(eD))),x(([,l])=>!!l),N(()=>this.anonymousConsentService.getConsents().pipe(rt(this.userIdService.getUserId(),this.anonymousConsentService.getTemplates(),this.authService.isUserLoggedIn()),x(([,,,l])=>l),Ue(([l,f,h,g])=>{let y=[];for(let b of l)if(this.anonymousConsentService.isConsentGiven(b)&&!this.isRequiredConsent(b.templateCode)){for(let w of h)if(w.id===b.templateCode){y.push(new op({userId:f,consentTemplateId:w.id,consentTemplateVersion:w.version}));break}}return y.length>0?y:he}))))),this.giveRequiredConsentsToUser$=W(()=>this.actions$.pipe(V(mr),x(l=>!!(this.anonymousConsentsConfig.anonymousConsents&&this.anonymousConsentsConfig.anonymousConsents.requiredConsents&&l)),Ue(()=>this.userConsentService.getConsentsResultSuccess().pipe(oe(1),rt(this.userIdService.getUserId(),this.userConsentService.getConsents(),this.authService.isUserLoggedIn()),x(([,,,l])=>l),L(([l,f,h,g])=>{l||this.userConsentService.loadConsents()}),E(([l,f,h,g])=>({userId:f,templates:h})),Ue(({userId:l,templates:f})=>{let h=[];for(let g of f)this.userConsentService.isConsentWithdrawn(g.currentConsent)&&this.isRequiredConsent(g.id)&&h.push(new Dc({userId:l,consentTemplateId:g.id,consentTemplateVersion:g.version}));return h.length>0?h:he})))))}detectUpdatedVersion(n,r){if(n.length!==r.length)return!0;for(let s=0;s<r.length;s++)if(n[s]!==r[s])return!0;return!1}};e.\u0275fac=function(r){return new(r||e)(d(Me),d(w3),d(Bn),d(HN),d(Fc),d(T4),d(jn))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),R4=[A4],M4=(()=>{let e=class e{constructor(){this.logger=C(Q),this.EXTRACT_JAVA_REGEXP_MODIFIERS=/^(\(\?([a-z]+)\))?(.*)/}toJsRegExp(n){let r=n.match(this.EXTRACT_JAVA_REGEXP_MODIFIERS);if(!r)return null;let[,,s,o]=r;try{return new RegExp(o,s)}catch(a){return ge()&&this.logger.warn(`WARNING: Could not convert Java regexp into Javascript. Original regexp: ${n} 
Message: ${a}`),null}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),x4=(()=>{let e=class e{constructor(n,r,s){this.baseSiteService=n,this.javaRegExpConverter=r,this.winRef=s,this.scopes=["context"],this.configFactory=()=>Zn(this.resolveConfig())}get currentUrl(){return this.winRef.location.href}resolveConfig(){return this.baseSiteService.getAll().pipe(E(n=>n?.find(r=>this.isCurrentBaseSite(r))),x(n=>{if(!n)throw new Error(`Error: Cannot get base site config! Current url (${this.currentUrl}) doesn't match any of url patterns of any base sites.`);return!!n}),E(n=>this.getConfig(n)),oe(1))}getConfig(n){return{context:{urlParameters:this.getUrlParams(n.urlEncodingAttributes),[qr]:[n.uid],[ys]:this.getIsoCodes(n.baseStore?.languages,n.defaultLanguage||n.baseStore?.defaultLanguage),[Es]:this.getIsoCodes(n.baseStore?.currencies,n.baseStore?.defaultCurrency),[w8]:[n.theme]}}}isCurrentBaseSite(n){return(n.urlPatterns||[]).findIndex(s=>{let o=this.javaRegExpConverter.toJsRegExp(s);if(o)return o.test(this.currentUrl)})!==-1}getUrlParams(n){let r="storefront";return(n||[]).map(s=>s===r?qr:s)}getIsoCodes(n,r){if(n&&r)return this.moveToFirst(n,o=>o.isocode===r.isocode).map(o=>o.isocode)}moveToFirst(n,r){n=[...n];let s=n.findIndex(r);if(s!==-1){let[o]=n.splice(s,1);n.unshift(o)}return n}};e.\u0275fac=function(r){return new(r||e)(d(Cs),d(M4),d(bi))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),zo=(()=>{let e=class e{constructor(n){this.adapter=n}getLanguages(){return this.adapter.loadLanguages()}getCurrencies(){return this.adapter.loadCurrencies()}getCountries(n){return this.adapter.loadCountries(n)}getRegions(n){return this.adapter.loadRegions(n)}getBaseSite(n){return this.adapter.loadBaseSite(n)}getBaseSites(){return this.adapter.loadBaseSites()}};e.\u0275fac=function(r){return new(r||e)(d(Ip))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),wx=(()=>{let e=class e extends Yr{};e.type="LanguageSetEvent";let t=e;return t})(),Tx=(()=>{let e=class e extends Yr{};e.type="CurrencySetEvent";let t=e;return t})(),N4=(()=>{let e=class e{constructor(n,r){this.actionsSubject=n,this.eventService=r,this.register()}register(){this.registerSetLanguage(),this.registerSetCurrency()}registerSetLanguage(){let n=this.actionsSubject.pipe(V(Wp),E(r=>Ii(wx,{activeLanguage:r.payload})));this.eventService.register(wx,n)}registerSetCurrency(){let n=this.actionsSubject.pipe(V(Gp),E(r=>Ii(Tx,{activeCurrency:r.payload})));this.eventService.register(Tx,n)}};e.\u0275fac=function(r){return new(r||e)(d(jr),d(Ss))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),O4=(()=>{let e=class e{constructor(n){}};e.\u0275fac=function(r){return new(r||e)(d(N4))},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})(),xp=class{};function P4(){return{[ys]:Ai,[Es]:Hc,[qr]:Cs}}var F4={provide:xp,useFactory:P4},_4=(()=>{let e=class e{constructor(n,r){this.baseSiteService=n,this.configInit=r}initialize(){this.subscription=this.configInit.getStable("context").pipe(N(()=>this.setFallbackValue())).subscribe()}setFallbackValue(){return this.configInit.getStable("context").pipe(L(n=>this.setDefaultFromConfig(n)))}setDefaultFromConfig(n){let r=Si(n,qr);!this.baseSiteService.isInitialized()&&r&&this.baseSiteService.setActive(r)}ngOnDestroy(){this.subscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)(d(Cs),d(Ln))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),L4=(()=>{let e=class e{constructor(n,r,s){this.statePersistenceService=n,this.currencyService=r,this.config=s,this.initialized$=new rn(1)}initSync(){return this.statePersistenceService.syncWithStorage({key:Es,state$:this.currencyService.getActive(),onRead:n=>this.onRead(n)}),this.initialized$}onRead(n){!this.currencyService.isInitialized()&&n&&this.currencyService.setActive(n),this.initialized$.closed||(this.initialized$.next(void 0),this.initialized$.complete())}};e.\u0275fac=function(r){return new(r||e)(d(Yp),d(Hc),d(Zr))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),k4=(()=>{let e=class e{constructor(n,r,s){this.currencyService=n,this.currencyStatePersistenceService=r,this.configInit=s}initialize(){this.subscription=this.configInit.getStable("context").pipe(N(()=>this.currencyStatePersistenceService.initSync()),N(()=>this.setFallbackValue())).subscribe()}setFallbackValue(){return this.configInit.getStable("context").pipe(L(n=>this.setDefaultFromConfig(n)))}setDefaultFromConfig(n){let r=Si(n,Es);!this.currencyService.isInitialized()&&r&&this.currencyService.setActive(r)}ngOnDestroy(){this.subscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)(d(Hc),d(L4),d(Ln))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),U4=(()=>{let e=class e{constructor(n,r,s){this.statePersistenceService=n,this.languageService=r,this.config=s,this.initialized$=new rn(1)}initSync(){return this.statePersistenceService.syncWithStorage({key:ys,state$:this.languageService.getActive(),onRead:n=>this.onRead(n)}),this.initialized$}onRead(n){!this.languageService.isInitialized()&&n&&this.languageService.setActive(n),this.initialized$.closed||(this.initialized$.next(void 0),this.initialized$.complete())}};e.\u0275fac=function(r){return new(r||e)(d(Yp),d(Ai),d(Zr))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),j4=(()=>{let e=class e{constructor(n,r,s){this.languageService=n,this.languageStatePersistenceService=r,this.configInit=s}initialize(){this.subscription=this.configInit.getStable("context").pipe(N(()=>this.languageStatePersistenceService.initSync()),N(()=>this.setFallbackValue())).subscribe()}setFallbackValue(){return this.configInit.getStable("context").pipe(L(n=>this.setDefaultFromConfig(n)))}setDefaultFromConfig(n){let r=Si(n,ys);!this.languageService.isInitialized()&&r&&this.languageService.setActive(r)}ngOnDestroy(){this.subscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)(d(Ai),d(U4),d(Ln))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),aD=(()=>{let e=class e{constructor(n,r,s){this.config=n,this.injector=r,this.serviceMap=s,this.logger=C(Q)}getContextParameters(){return this.config.context?Object.keys(this.config.context).filter(n=>n!=="urlParameters"):[]}getUrlEncodingParameters(){return this.config.context&&this.config.context.urlParameters||[]}getParamValues(n){return Nc(this.config,n)}getParamDefaultValue(n){return Si(this.config,n)}getSiteContextService(n){if(this.serviceMap[n])try{return this.injector.get(this.serviceMap[n])}catch{ge()&&this.logger.warn(`Couldn't find site context service for '${n}'.`);return}}getValue(n){let r,s=this.getSiteContextService(n);return s&&s.getActive().subscribe(o=>r=o).unsubscribe(),r!==void 0?r:this.getParamDefaultValue(n)}setValue(n,r){let s=this.getSiteContextService(n);s&&s.setActive(r)}getValues(n){return n.length===0?I([]):Pe(n.map(r=>{let s=this.getSiteContextService(r);return s?s.getActive().pipe(an()):I("")})).pipe(x(r=>r.every(s=>!!s)))}};e.\u0275fac=function(r){return new(r||e)(d(Zr),d(Ye),d(xp))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),nS=(()=>{let e=class e extends ss{get urlEncodingParameters(){return this.siteContextParams.getUrlEncodingParameters()}get hasContextInRoutes(){return this.urlEncodingParameters.length>0}constructor(n){super(),this.siteContextParams=n,this.URL_SPLIT=/(^[^#?]*)(.*)/}parse(n){if(this.hasContextInRoutes){let r=this.urlExtractContextParameters(n),s=super.parse(r.url);return this.urlTreeIncludeContextParameters(s,r.params),s}else return super.parse(n)}urlExtractContextParameters(n){let[,r,s]=n.match(this.URL_SPLIT)??[,"",""],o=r?.split("/")??[];o[0]===""&&o.shift();let a={},c=0,u=0;for(;c<this.urlEncodingParameters.length&&u<o.length;){let l=this.urlEncodingParameters[c];this.siteContextParams.getParamValues(l).includes(o[u])&&(a[l]=o[u],u++),c++}return n=o.slice(u).join("/")+s,{url:n,params:a}}urlTreeIncludeContextParameters(n,r){n.siteContext=r}serialize(n){let r=this.urlTreeExtractContextParameters(n),s=super.serialize(n);return this.urlIncludeContextParameters(s,r)}urlTreeExtractContextParameters(n){return n.siteContext?n.siteContext:{}}urlIncludeContextParameters(n,r){return this.urlEncodingParameters.map(o=>r[o]?r[o]:this.siteContextParams.getValue(o)).join("/")+n}};e.\u0275fac=function(r){return new(r||e)(d(aD))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})();function $4(t){if(Si(t,qr)===void 0)return"Please configure context.parameters.baseSite before using storefront library!"}function B4(){return{context:{[ys]:["en","de","ja","zh","ru","fr","tr","it","es","uk","pl","nl","hi","ar","pt","bn","pa"],[Es]:["USD","EUR","JPY","GBP","AUD","CAD","CHF","CNY","SEK","NZD","MXN","SGD","HKD","NOK","KRW","TRY","RUB","INR","BRL","ZAR"]}}}function V4(t){return()=>{t.initialize()}}function H4(t){return()=>{t.initialize()}}function z4(t){return()=>{t.initialize()}}var G4=[{provide:bt,useFactory:H4,deps:[j4],multi:!0},{provide:bt,useFactory:V4,deps:[k4],multi:!0},{provide:bt,useFactory:z4,deps:[_4],multi:!0}],W4=(()=>{let e=class e{constructor(n,r,s){this.siteContextParams=n,this.serializer=r,this.injector=s,this.subscription=new Ee,this.contextValues={},this.isNavigating=!1}init(){this.router=this.injector.get(Ne),this.location=this.injector.get(ar);let n=this.siteContextParams.getUrlEncodingParameters();n.length&&(this.setContextParamsFromRoute(this.location.path(!0)),this.subscribeChanges(n),this.subscribeRouting())}subscribeChanges(n){n.forEach(r=>{let s=this.siteContextParams.getSiteContextService(r);s&&this.subscription.add(s.getActive().subscribe(o=>{if(!this.isNavigating&&this.contextValues[r]&&this.contextValues[r]!==o){let a=this.router.parseUrl(this.router.url),c=this.router.serializeUrl(a);this.location.replaceState(c)}this.contextValues[r]=o}))})}subscribeRouting(){this.subscription.add(this.router.events.pipe(x(n=>n instanceof mn||n instanceof st||n instanceof dr||n instanceof vn)).subscribe(n=>{this.isNavigating=n instanceof mn,this.isNavigating&&this.setContextParamsFromRoute(n.url)}))}setContextParamsFromRoute(n){let{params:r}=this.serializer.urlExtractContextParameters(n);Object.keys(r).forEach(s=>this.siteContextParams.setValue(s,r[s]))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)(d(aD),d(nS),d(Ye))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function q4(t,e){return()=>Zn(t.getStable("context").pipe(L(()=>{e.init()})))}var Y4=[Cs,Ai,Hc,{provide:bt,useFactory:q4,deps:[Ln,W4],multi:!0}],K4=[aD,nS,{provide:as,useExisting:nS}],Z4=(()=>{let e=class e{constructor(n,r){this.actions$=n,this.siteConnector=r,this.logger=C(Q),this.loadBaseSite$=W(()=>this.actions$.pipe(V(JS),Qn(()=>this.siteConnector.getBaseSite().pipe(E(s=>{if(s)return new wf(s);throw new Error("BaseSite is not found")}),F(s=>I(new bf(Y(s,this.logger)))))))),this.loadBaseSites$=W(()=>this.actions$.pipe(V(eI),Qn(()=>this.siteConnector.getBaseSites().pipe(E(s=>new Rf(s)),F(s=>I(new Af(Y(s,this.logger))))))))}};e.\u0275fac=function(r){return new(r||e)(d(Me),d(zo))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),Q4=(()=>{let e=class e{constructor(n,r,s){this.actions$=n,this.siteConnector=r,this.state=s,this.logger=C(Q),this.loadCurrencies$=W(()=>this.actions$.pipe(V(rI),Qn(()=>this.siteConnector.getCurrencies().pipe(E(o=>new Of(o)),F(o=>I(new Nf(Y(o,this.logger)))))))),this.activateCurrency$=W(()=>this.state.select(kC).pipe(Mu(2,1),x(([o])=>!!o),E(([o,a])=>new Ff({previous:o,current:a}))))}};e.\u0275fac=function(r){return new(r||e)(d(Me),d(zo),d(me))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),J4=(()=>{let e=class e{constructor(n,r,s){this.actions$=n,this.siteConnector=r,this.state=s,this.logger=C(Q),this.loadLanguages$=W(()=>this.actions$.pipe(V(sI),Qn(()=>this.siteConnector.getLanguages().pipe(E(o=>new kf(o)),F(o=>I(new Lf(Y(o,this.logger)))))))),this.activateLanguage$=W(()=>this.state.select(UC).pipe(Mu(2,1),x(([o])=>!!o),E(([o,a])=>new jf({previous:o,current:a}))))}};e.\u0275fac=function(r){return new(r||e)(d(Me),d(zo),d(me))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),X4=[J4,Q4,Z4],eq={entities:null,details:{},activeSite:""};function tq(t=eq,e){switch(e.type){case XS:return T(v({},t),{details:e.payload});case nI:{let i={};return t.entities&&(i=t.entities[e.payload]),T(v({},t),{details:i,activeSite:e.payload})}case tI:{let n=e.payload.reduce((s,o)=>T(v({},s),{[o.uid??""]:o}),v({},t.entities)),r=n[t.activeSite];return T(v({},t),{details:r,entities:n})}}return t}var nq={entities:null,activeCurrency:null};function rq(t=nq,e){switch(e.type){case iI:{let n=e.payload.reduce((r,s)=>T(v({},r),{[s.isocode??""]:s}),v({},t.entities));return T(v({},t),{entities:n})}case Gp:{let i=e.payload;return T(v({},t),{activeCurrency:i})}}return t}var iq={entities:null,activeLanguage:null};function sq(t=iq,e){switch(e.type){case oI:{let n=e.payload.reduce((r,s)=>T(v({},r),{[s.isocode??""]:s}),v({},t.entities));return T(v({},t),{entities:n})}case Wp:{let i=e.payload;return T(v({},t),{activeLanguage:i})}}return t}function oq(){return{languages:sq,currencies:rq,baseSite:tq}}var tP=new S("SiteContextReducers"),aq={provide:tP,useFactory:oq};function cq(){return{state:{ssrTransfer:{keys:{[aI]:Vo.TRANSFER_STATE}}}}}var uq=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({providers:[$o(cq),aq],imports:[Ze,ur.forFeature(aI,tP),$r.forFeature(X4)]});let t=e;return t})();function lq(t,e){return e.context?.[qr]?null:t}var dq=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[$o(B4),F4,...Y4,...K4,cI($4),{provide:Kp,useFactory:lq,deps:[x4,Zr],multi:!0},...G4]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({imports:[Ti,uq,O4]});let t=e;return t})(),fq=!1;function hq(t=fq,e){switch(e.type){case hN:return e.dismissed}return t}var pq=!1;function gq(t=pq,e){switch(e.type){case pN:return e.updated}return t}var mq=[];function Ax(t,e,i){return t?t.map(n=>(n.templateCode===e&&(n=T(v({},n),{consentState:i})),n)):[]}function vq(t=mq,e){switch(e.type){case dN:return Ax(t,e.templateCode,Oo.GIVEN);case fN:return Ax(t,e.templateCode,Oo.WITHDRAWN);case lN:return e.payload}return t}function yq(){return{templates:at(Ac),consents:vq,ui:ns({bannerDismissed:hq,updated:gq})}}var nP=new S("AnonymousConsentsReducers"),Eq={provide:nP,useFactory:yq};function Cq(t){return function(e,i){return e!==void 0&&(i.type===Kr||i.type===$n)&&(e=T(v({},e),{templates:{}})),t(e,i)}}var Sq=[Cq],Iq=(()=>{let e=class e{constructor(n,r,s){this.statePersistenceService=n,this.store=r,this.anonymousConsentsService=s,this.subscription=new Ee,this.key="anonymous-consents"}initSync(){this.subscription.add(this.statePersistenceService.syncWithStorage({key:this.key,state$:this.getAuthState(),onRead:n=>this.onRead(n)}))}getAuthState(){return this.store.select(Rc)}onRead(n){let r=n?.templates,s=n?.consents,o=n?.ui;r?.success&&this.store.dispatch(new Cf(r.value??[])),s&&this.anonymousConsentsService.setConsents(s),o&&(this.anonymousConsentsService.toggleBannerDismissed(o?.bannerDismissed),this.anonymousConsentsService.toggleTemplatesUpdated(o?.updated))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)(d(Yp),d(me),d(Fc))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Dq(t){return()=>t.initSync()}var bq=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({providers:[Eq,{provide:bt,useFactory:Dq,deps:[Iq],multi:!0}],imports:[Ze,Ti,ur.forFeature(cN,nP,{metaReducers:Sq}),$r.forFeature(R4)]});let t=e;return t})(),nue=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[...I3,Fc,kn(_G)]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({imports:[bq]});let t=e;return t})(),rP={backend:{occ:{endpoints:{component:"cms/components/${id}",components:"cms/components",pages:"cms/pages",page:"cms/pages/${id}"}}},cmsComponents:{},componentsLoading:{pageSize:50}},wq=T(v({},rP),{backend:{occ:{endpoints:{component:"users/${userId}/cms/components/${id}",components:"users/${userId}/cms/components",pages:"users/${userId}/cms/pages",page:"users/${userId}/cms/pages/${id}"}}}}),cD="cms",sg="[Cms] Navigation Entity",Gc="[Cms] Component Entity",uD="[Cms] Load Component",lD="[Cms] Load Component Fail",dD="[Cms] Load Component Success",fD="[Cms] Get Component from Page",Np=class extends Lt{constructor(e){super(Gc,e.uid),this.payload=e,this.type=uD}},Op=class extends Tt{constructor(e){super(Gc,e.uid,e.error),this.payload=e,this.type=lD}},rS=class extends dt{constructor(e){super(Gc,e.uid||e.component.uid||""),this.payload=e,this.type=dD}},iS=class extends dt{constructor(e){super(Gc,[].concat(e).map(i=>i.component.uid)),this.payload=e,this.type=fD}},iP="[Cms] Load NavigationEntry items",Tq="[Cms] Load NavigationEntry items Fail",sP="[Cms] Load NavigationEntry items Success",sS=class extends Lt{constructor(e){super(sg,e.nodeId),this.payload=e,this.type=iP}},Pp=class extends Tt{constructor(e,i){super(sg,e,i),this.payload=i,this.type=Tq}},oS=class extends dt{constructor(e){super(sg,e.nodeId),this.payload=e,this.type=sP}},oP="[Cms] Load Page Data",aP="[Cms] Load Page Data Fail",hD="[Cms] Load Page Data Success",cP="[Cms] Set Page Success Index",uP="[Cms] Set Page Fail Index",No=class extends Lt{constructor(e){super(e.type??"",e.id),this.payload=e,this.type=oP}},aS=class extends Tt{constructor(e,i){super(e.type??"",e.id,i),this.type=aP}},cS=class extends dt{constructor(e,i){super(e.type??"",e.id,i),this.type=hD}},uS=class extends dt{constructor(e,i){super(e.type??"",e.id,i),this.type=cP}},lS=class extends Tt{constructor(e,i){super(e.type??"",e.id),this.payload=i,this.type=uP}};var pD=Pn(cD),Aq=A(pD,t=>t.components),lP=t=>A(Aq,e=>sN(e,t)),dP=(t,e)=>A(lP(t),i=>i&&i.pageContext&&i.pageContext[e]||gr),Rq=(t,e)=>A(dP(t,e),i=>tt(i)),Mq=t=>A(lP(t),e=>e?e.component:void 0),xq=(t,e)=>A(Mq(t),Rq(t,e),(i,n)=>{switch(n){case!0:return i;case!1:return null;case void 0:return}}),Nq=A(pD,t=>t.navigation),Oq=t=>A(Nq,e=>en(e,t)),Pq=t=>A(Oq(t),e=>tt(e)),Fq=t=>t.pageData.entities,_q=(t,e)=>{switch(e){case be.CONTENT_PAGE:return t.content;case be.PRODUCT_PAGE:return t.product;case be.CATEGORY_PAGE:return t.category;case be.CATALOG_PAGE:return t.catalog;default:return{entities:{}}}},Lq=t=>{let e=new Set;if(t&&t.slots)for(let i of Object.keys(t.slots))for(let n of t.slots[i].components||[])e.add(n.flexType??"");return Array.from(e)},fP=A(pD,t=>t.page),kq=A(fP,t=>t.index),Uq=t=>A(kq,e=>_q(e,t.type)),hP=t=>A(Uq(t),e=>en(e,t.id)),pP=t=>A(hP(t),e=>tt(e)),jq=A(fP,Fq),Fp=t=>A(jq,pP(t),(e,i)=>e[i]),$q=t=>A(Fp(t),e=>Lq(e)),Bq=(t,e)=>A(Fp(t),i=>{if(i)return i.slots?.[e]||{components:[]}});var Vq="current";function Gr(t,e){return t?e&&t.type===be.CONTENT_PAGE?`${t.type}`:`${t.type}-${t.id}`:Vq}var og=(()=>{let e=class e{constructor(n,r){this.store=n,this.routingService=r,this.components={}}getCurrentPage(){return this.routingService.getPageContext().pipe(N(n=>this.store.select(Fp(n))))}getComponentData(n,r){let s=Gr(r,!0);this.components[n]||(this.components[n]={});let o=this.components[n];return o[s]||(o[s]=this.createComponentData(n,r)),o[s]}createComponentData(n,r){if(!r)return this.routingService.getPageContext().pipe(x(c=>!!c),N(c=>this.getComponentData(n,c)));let s=Gr(r,!0),o=Pe([this.routingService.getNextPageContext(),this.store.pipe(M(dP(n,s)))]).pipe(sn(ni),L(([c,u])=>{let l=u.loading||u.success||u.error,f=c?Gr(c,!0)===s:!1;!l&&!f&&this.store.dispatch(new Np({uid:n,pageContext:r}))})),a=this.store.pipe(M(xq(n,s)),x(yn));return xs(()=>o.subscribe(),()=>a).pipe(ht({bufferSize:1,refCount:!0}))}getContentSlot(n){return this.routingService.getPageContext().pipe(N(r=>this.store.pipe(M(Bq(r,n)),x(yn))))}getNavigationEntryItems(n){return this.store.pipe(M(Pq(n)))}loadNavigationItems(n,r){this.store.dispatch(new sS({nodeId:n,items:r}))}refreshLatestPage(){this.routingService.getPageContext().pipe(oe(1)).subscribe(n=>this.store.dispatch(new No(n)))}refreshPageById(n){let r={id:n};this.store.dispatch(new No(r))}refreshComponent(n,r){this.store.dispatch(new Np({uid:n,pageContext:r}))}getPageState(n){return this.store.pipe(M(Fp(n)))}getPageComponentTypes(n){return this.store.pipe(M($q(n)))}hasPage(n,r=!1){return this.store.pipe(M(hP(n)),L(s=>{let o=s.loading||s.success||s.error,a=r&&!s.loading;(!o||a)&&(this.store.dispatch(new No(n)),r=!1)}),x(s=>s.hasOwnProperty("value")?!!(s.success||s.error&&!s.loading):!1),E(s=>!!s.success),F(()=>I(!1)))}getPage(n,r=!1){return this.hasPage(n,r).pipe(N(s=>s?this.getPageState(n):I(null)))}getPageIndex(n){return this.store.pipe(M(pP(n)))}setPageFailIndex(n,r){this.store.dispatch(new lS(n,r))}};e.\u0275fac=function(r){return new(r||e)(d(me),d(wi))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Hq={pageMeta:{resolvers:[{property:"title",method:"resolveTitle"},{property:"heading",method:"resolveHeading"},{property:"breadcrumbs",method:"resolveBreadcrumbs"},{property:"description",method:"resolveDescription",disabledInCsr:!0},{property:"image",method:"resolveImage",disabledInCsr:!0},{property:"robots",method:"resolveRobots",disabledInCsr:!0},{property:"canonicalUrl",method:"resolveCanonicalUrl",disabledInCsr:!0}],canonicalUrl:{forceHttps:!0,forceWww:!1,removeQueryParams:!0,forceTrailingSlash:!0}}},Xt=class{getScore(e){let i=0;return this.pageType&&(i+=e.type===this.pageType?1:-1),this.pageTemplate&&(i+=e.template===this.pageTemplate?1:-1),this.pageUid&&(i+=e.pageId===this.pageUid?10:-10),i}hasMatch(e){return this.getScore(e)>0}getPriority(e){return this.getScore(e)}},vr=class{},zq=(()=>{let e=class e{constructor(n){this.translation=n}resolveBreadcrumbs({url:n,pageMetaConfig:r}){let s=r?.breadcrumb;return s?typeof s!="string"&&s.raw?I([{link:n,label:s.raw}]):this.translateBreadcrumbLabel(s).pipe(E(o=>[{label:o,link:n}])):I([])}translateBreadcrumbLabel(n){let r=typeof n=="string"?n:n.i18n;return this.getParams().pipe(N(s=>this.translation.translate(r??"",s??{})))}getParams(){return I({})}};e.\u0275fac=function(r){return new(r||e)(d(vr))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Gq=(()=>{let e=class e{constructor(n,r){this.activatedRoutesService=n,this.injector=r,this.routes$=this.activatedRoutesService.routes$.pipe(E(s=>s=s.slice(1,s.length))),this.routesWithExtras$=this.routes$.pipe(E(s=>s.reduce((o,a)=>{let c=o.length?o[o.length-1]:{route:null,resolver:this.injector.get(zq),url:""},u=this.getResolver(a)??c.resolver,l=this.getUrlPart(a),f=c.url+(l?`/${l}`:"");return o.concat({route:a,resolver:u,url:f})},[])),ht({bufferSize:1,refCount:!0}))}resolveBreadcrumbs(n){return this.routesWithExtras$.pipe(E(r=>n?.includeCurrentRoute?r:this.trimCurrentRoute(r)),N(r=>r.length?Pe(r.map(s=>this.resolveRouteBreadcrumb(s))):I([])),E(r=>r.flat()))}getResolver(n){let r=this.getPageMetaConfig(n);return typeof r!="string"&&r?.resolver?this.injector.get(r.resolver,null):null}resolveRouteBreadcrumb({route:n,resolver:r,url:s}){let o=r;return typeof o.resolveBreadcrumbs=="function"?o.resolveBreadcrumbs({route:n,url:s,pageMetaConfig:this.getPageMetaConfig(n)}):I([])}trimCurrentRoute(n){let r=n.length-1;for(;n[r]?.route?.url.length===0&&r>=0;)r--;return n.slice(0,r)}getUrlPart(n){return n.url.map(r=>r.path).join("/")}getPageMetaConfig(n){return n?.routeConfig?.data?.cxPageMeta}};e.\u0275fac=function(r){return new(r||e)(d(CN),d(Ye))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),gP=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:function(r){let s=null;return r?s=new(r||e):s=d(kt),s},providedIn:"root"});let t=e;return t})(),mP=(()=>{let e=class e{constructor(n,r){this.pageMetaConfig=n,this.winRef=r}getCanonicalUrl(n,r){let s=v(v({},this.pageMetaConfig?.pageMeta?.canonicalUrl),n);return this.buildCanonicalUrl(r??this.winRef.location.href??"",s)}buildCanonicalUrl(n,r){return r.forceHttps&&(n=n.replace(/^http(?!s):/i,"https:")),r.forceWww&&(n=n.replace(/^(https?:\/\/)(?!www\.)(.*)/i,"$1www.$2")),r.removeQueryParams&&(n=this.removeQueryParams(n,r)),r.forceTrailingSlash&&(n=n.replace(/^([^\?]+[^\/\?]$)$/i,"$1/")),n}removeQueryParams(n,r){let s=n.indexOf("?");if(s>-1){let o=n.substring(0,s),a=new URLSearchParams(n.substring(s));n=o,Array.isArray(r.removeQueryParams)&&(r.removeQueryParams.forEach(c=>{a.delete(c)}),a.toString().length>0&&(n=`${o}?${a.toString()}`))}return n}};e.\u0275fac=function(r){return new(r||e)(d(gP),d(bi))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ag=(()=>{let e=class e{constructor(n,r,s,o,a){this.cmsService=n,this.translation=r,this.routingPageMetaResolver=s,this.router=o,this.pageLinkService=a,this.page$=qe(()=>this.cmsService.getCurrentPage()).pipe(x(c=>!!c)),this.title$=this.page$.pipe(E(c=>c.title)),this.description$=this.page$.pipe(E(c=>c.description)),this.robots$=this.page$.pipe(E(c=>c.robots||[])),this.homeBreadcrumb$=this.translation.translate("common.home").pipe(E(c=>[{label:c,link:"/"}])),this.breadcrumb$=Pe([this.homeBreadcrumb$,qe(()=>this.routingPageMetaResolver?.resolveBreadcrumbs())]).pipe(E(c=>c.flat()),ht({bufferSize:1,refCount:!0}))}resolveTitle(){return this.title$}resolveDescription(){return this.description$}resolveBreadcrumbs(){return this.breadcrumb$}resolveRobots(){return this.robots$}resolveCanonicalUrl(n){return this.router.events.pipe(x(r=>r instanceof st),Kn(null),E(()=>this.pageLinkService.getCanonicalUrl(n)))}};e.\u0275fac=function(r){return new(r||e)(d(og),d(vr),d(Gq),d(Ne),d(mP))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Wq=(()=>{let e=class e extends Xt{constructor(n){super(),this.basePageMetaResolver=n,this.pageType=be.CONTENT_PAGE}resolveTitle(){return this.basePageMetaResolver.resolveTitle()}resolveDescription(){return this.basePageMetaResolver.resolveDescription()}resolveBreadcrumbs(){return this.basePageMetaResolver.resolveBreadcrumbs()}resolveRobots(){return this.basePageMetaResolver.resolveRobots()}resolveCanonicalUrl(){return this.basePageMetaResolver.resolveCanonicalUrl()}};e.\u0275fac=function(r){return new(r||e)(d(ag))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),qq=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[kn(Hq)]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({providers:[{provide:Xt,useExisting:Wq,multi:!0}]});let t=e;return t})();function vP(t=0,e){return i=>{let n=[];return i.pipe(L(r=>n.push(r)),Fi(t,e),E(()=>n),L(()=>n=[]))}}function gD(t){return e=>t.pipe(Kn(void 0),N(()=>e))}var Yq=(()=>{let e=class e extends tD{};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=m({token:e,factory:function(r){let s=null;return r?s=new(r||e):s=d(kt),s},providedIn:"root"});let t=e;return t})(),yP=(()=>{let e=class e{constructor(n){this.cmsDataConfig=n}mergePageStructure(n,r){return this.mergePage(n,r).pipe(N(s=>this.mergeSlots(s)))}shouldIgnoreBackend(n){return this.getPageFromConfig(n).pipe(E(r=>!!r&&!!r.ignoreBackend))}getComponentFromConfig(n){return I(this.getComponentById(n))}getComponentsFromConfig(n){return I(n.map(r=>this.getComponentById(r)))}getPageFromConfig(n){return I(this.cmsDataConfig.cmsStructure&&this.cmsDataConfig.cmsStructure.pages?this.cmsDataConfig.cmsStructure.pages.find(r=>r.pageId===n):void 0)}mergePage(n,r){return this.getPageFromConfig(n).pipe(N(s=>s?(r.page||(r.page=v({},s),r.page.slots={}),r.page.slots||(r.page.slots={}),this.mergeSlots(r,s.slots)):I(r)))}mergeSlots(n,r){if(!r&&this.cmsDataConfig.cmsStructure?.slots&&(r=this.cmsDataConfig.cmsStructure.slots),!r)return I(n);for(let s of Object.keys(r))if(n.page?.slots&&!Object.keys(n.page.slots).includes(s)){n.page.slots[s]={};for(let o of this.getComponentsByPosition(r,s))n.page.slots[s].components=n.page.slots[s].components??[],n.page.slots[s].components?.push({uid:o.uid,flexType:o.flexType,typeCode:o.typeCode}),n.components=n.components??[],n.components.push(o)}return I(n)}getComponentsByPosition(n,r){let s=[];if(n[r]&&n[r].componentIds){for(let o of n[r].componentIds??[])if(this.cmsDataConfig.cmsStructure&&this.cmsDataConfig.cmsStructure.components){let a=this.cmsDataConfig.cmsStructure.components[o];a&&s.push(v({uid:o},a))}}return s}getComponentById(n){return this.cmsDataConfig.cmsStructure&&this.cmsDataConfig.cmsStructure.components?this.cmsDataConfig.cmsStructure.components[n]:void 0}};e.\u0275fac=function(r){return new(r||e)(d(Yq))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),EP=(()=>{let e=class e{constructor(n,r,s){this.cmsStructureConfigService=n,this.cmsComponentAdapter=r,this.config=s}get(n,r){return this.cmsStructureConfigService.getComponentFromConfig(n).pipe(N(s=>s?I(s):this.cmsComponentAdapter.load(n,r)))}getList(n,r){return this.cmsStructureConfigService.getComponentsFromConfig(n).pipe(N(s=>{let o=s.reduce((a,c,u)=>(c===void 0&&a.push(n[u]),a),[]);if(o.length>0){let a=this.config.componentsLoading?.pageSize||o.length,c=Math.ceil(o.length/a),u=[],l=0;for(;l<c;)u.push(this.cmsComponentAdapter.findComponentsByIds(o.slice(l*a,(l+1)*a),r)),l++;return Pi(...u).pipe(E(f=>[...s.filter(Boolean)].concat(...f)))}else return I(s)}))}};e.\u0275fac=function(r){return new(r||e)(d(yP),d(gp),d(tD))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Kq=(()=>{let e=class e{constructor(n,r){this.actions$=n,this.cmsComponentConnector=r,this.logger=C(Q),this.contextChange$=this.actions$.pipe(V($n,Kr,mr)),this.loadComponent$=W(()=>({scheduler:s,debounce:o=0}={})=>this.actions$.pipe(V(uD),ii(a=>Gr(a.payload.pageContext)),G(a=>a.pipe(vP(o,s),G(c=>this.loadComponentsEffect(c.map(u=>u.payload.uid),c[0].payload.pageContext??{id:""})))),gD(this.contextChange$)))}loadComponentsEffect(n,r){return this.cmsComponentConnector.getList(n,r).pipe(N(s=>{let o=[],a=new Set(n);for(let c of s)o.push(new rS({component:c,uid:c.uid,pageContext:r})),a.delete(c.uid??"");return a.forEach(c=>{o.push(new Op({uid:c,pageContext:r}))}),pe(o)}),F(s=>pe(n.map(o=>new Op({uid:o,error:Y(s,this.logger),pageContext:r})))))}};e.\u0275fac=function(r){return new(r||e)(d(Me),d(EP))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),Zq="[^/]",Qq="[^/]*",Jq="(?:.+\\/)?",CP=[{replace:/\./g,with:"\\."},{replace:/\+/g,with:"\\+"},{replace:/\*/g,with:Qq}],Xq=[...CP,{replace:/\?/g,with:Zq}],e6=[...CP,{replace:/\?/g,with:"\\?"}];function t6(t,e=!1){let i=e?e6:Xq,n=t.split("/").reverse(),r="";for(;n.length>0;){let s=n.pop();if(s==="**")n.length>0?r+=Jq:r+=".*";else{let o=i.reduce((a,c)=>a?.replace(c.replace,c.with),s);r+=o,n.length>0&&(r+="\\/")}}return r}function n6(t){return t.map(e=>{let i=!e.startsWith("!");return e=i?e:e.substring(1),{positive:i,regex:`^${t6(e)}$`}})}var r6=(()=>{let e=class e{getValidator(n){let r=n6(n).map(({positive:a,regex:c})=>({positive:a,regex:new RegExp(c)})),s=r.filter(a=>a.positive),o=r.filter(a=>!a.positive);return a=>s.some(c=>c.regex.test(a))&&!o.some(c=>c.regex.test(a))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),mD=(()=>{let e=class e{constructor(n){this.globService=n}getFalsy(){return function(){return null}}getFromPaths(n){let r=n.map(o=>this.getFromPath(o)),s=this.getCombined(r);return ge()&&(s._paths=n),s}getCombined(n){let r=function(o,a,c){for(let u=0;u<n.length;u++){let l=n[u](o,a,c);if(l)return l}return null};return ge()&&(r._matchers=n),r}getFromPath(n=""){let r=function(u,l,f){if(n==="")return s(u,l,f);let h=n.split("/");if(o(h.length>u.length,a(f.pathMatch==="full",o(l.hasChildren(),h.length<u.length))))return null;let g={};for(let y=0;y<h.length;y++){let b=h[y],w=u[y];if(b.startsWith(":"))g[b.substring(1)]=w;else if(b!==w.path)return null}return{consumed:u.slice(0,h.length),posParams:g}};return ge()&&(r._path=n),r;function s(c,u,l){return a(l.pathMatch==="full",o(u.hasChildren(),c.length>0))?null:{consumed:[],posParams:{}}}function o(c,u){return c||u}function a(c,u){return c&&u}}getOpposite(n){let r=function(o,a,c){return n(o,a,c)?null:{consumed:o,posParams:{}}};return ge()&&(r._originalMatcher=n),r}getFromGlob(n){let r=this.globService.getValidator(n),s=function(a){let c=`/${a.map(u=>u.path).join("/")}`;return r(c)?{consumed:a,posParams:{}}:null};return ge()&&(s._globPatterns=n),s}};e.\u0275fac=function(r){return new(r||e)(d(r6))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),i6=(()=>{let e=class e{constructor(n,r,s){this.injector=n,this.routingConfigService=r,this.urlMatcherService=s,this.logger=C(Q),this.initCalled=!1}init(){this.initCalled||(this.initCalled=!0,this.configure())}configure(){let n=this.injector.get(Ne);n.resetConfig(this.configureRoutes(n.config))}configureRoutes(n){return n.map(r=>{let s=this.configureRoute(r);return r.children&&r.children.length&&(s.children=this.configureRoutes(r.children)),s})}configureRoute(n){let r=this.getRouteName(n);if(r){let s=this.routingConfigService.getRouteConfig(r);return this.validateRouteConfig(s,r,n),s?.disabled?(delete n.path,T(v({},n),{matcher:this.urlMatcherService.getFalsy()})):s?.matchers?(delete n.path,T(v({},n),{matcher:this.resolveUrlMatchers(n,s?.matchers)})):s?.paths?.length===1?(delete n.matcher,T(v({},n),{path:s?.paths[0]})):(delete n.path,T(v({},n),{matcher:this.urlMatcherService.getFromPaths(s?.paths||[])}))}return n}resolveUrlMatchers(n,r){let s=r?.map(o=>typeof o=="function"?o:this.resolveUrlMatcherFactory(n,o))??[];return this.urlMatcherService.getCombined(s)}resolveUrlMatcherFactory(n,r){return this.injector.get(r)(n)}getRouteName(n){return n.data&&n.data.cxRoute}validateRouteConfig(n,r,s){if(ge()){if(n===null||n?.paths===null||n?.matchers)return;if(!n?.paths){this.warn(`Could not configure the named route '${r}'`,s,"due to undefined config or undefined 'paths' property for this route");return}}}warn(...n){ge()&&this.logger.warn(...n)}};e.\u0275fac=function(r){return new(r||e)(d(Ye),d(zp),d(mD))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var rue=(()=>{let e=class e{constructor(n){this.urlService=n}transform(n){return this.urlService.transform(n)}};e.\u0275fac=function(r){return new(r||e)(X(xc,16))},e.\u0275pipe=Yt({name:"cxUrl",type:e,pure:!0});let t=e;return t})(),iue=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({imports:[Ze]});let t=e;return t})(),s6=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:function(r){let s=null;return r?s=new(r||e):s=d(kt),s},providedIn:"root"});let t=e;return t})(),o6=(()=>{let e=class e{constructor(n,r){this.winRef=n,this.platformId=r}canActivate(n,r){return On(this.platformId)&&this.redirect(n,r),!1}redirect(n,r){let s=this.winRef.nativeWindow;s&&s.location&&(s.location.href=r.url)}};e.\u0275fac=function(r){return new(r||e)(d(bi),d($e))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function a6(t){return()=>{t.addRoutes()}}var c6=(()=>{let e=class e{constructor(n,r,s){this.config=n,this.urlMatcherService=r,this.injector=s}get internalUrlPatterns(){return this.config&&this.config.routing&&this.config.routing.internal||[]}addRoutes(){let n=this.injector.get(Ne),r=this.getRoutes();r.length&&n.resetConfig([...r,...n.config])}getRoutes(){if(!this.internalUrlPatterns.length)return[];let n=[];return n.push({pathMatch:"full",matcher:this.getUrlMatcher(),canActivate:[o6],component:{}}),n}getUrlMatcher(){let n=this.urlMatcherService.getFromGlob(this.internalUrlPatterns);return this.urlMatcherService.getOpposite(n)}};e.\u0275fac=function(r){return new(r||e)(d(s6),d(mD),d(Ye))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),sue=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[{provide:bt,multi:!0,useFactory:a6,deps:[c6]}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})(),u6=(()=>{let e=class e{get routingConfig(){return this.config&&this.config.routing}get shouldProtect(){return!!this.routingConfig?.protected}constructor(n,r){this.config=n,this.urlParsingService=r,this.nonProtectedPaths=[],this.shouldProtect&&(this.nonProtectedPaths=this.getNonProtectedPaths().map(s=>this.getSegments(s)))}isUrlProtected(n){return this.shouldProtect&&!this.matchAnyPath(n,this.nonProtectedPaths)}matchAnyPath(n,r){return r.some(s=>this.matchPath(n,s))}matchPath(n,r){return this.urlParsingService.matchPath(n,r)}getNonProtectedPaths(){return Object.values(this.routingConfig?.routes??{}).reduce((n,r)=>r.protected===!1&&r.paths&&r.paths.length?n.concat(r?.paths??[]):n,[])}getSegments(n){return(n||"").split("/")}};e.\u0275fac=function(r){return new(r||e)(d(Hp),d(ZS))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),oue=(()=>{let e=class e{constructor(n,r){this.service=n,this.authGuard=r}canActivate(n){let r=n.url.map(s=>s.path);return r=r.length?r:[""],this.service.isUrlProtected(r)?this.authGuard.canActivate():I(!0)}};e.\u0275fac=function(r){return new(r||e)(d(u6),d(C3))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),l6=(()=>{let e=class e{constructor(n,r){this.baseSiteService=n,this.configInit=r,this.scopes=["routing"],this.configFactory=()=>Zn(this.resolveConfig())}resolveConfig(){return this.configInit.getStable("context").pipe(N(n=>{let r=n?.context?.[qr]?.[0];return this.baseSiteService.get(r).pipe(L(s=>{if(!s)throw new Error(`Error: Cannot get base site config for ${r}.`)}),E(s=>this.getRoutingConfig(s)),oe(1))}))}getRoutingConfig(n){return{routing:{protected:n?.requiresAuthentication}}}};e.\u0275fac=function(r){return new(r||e)(d(Cs),d(Ln))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),d6=(()=>{let e=class e{constructor(n,r){this.actions$=n,this.router=r,this.clearCmsRoutes$=W(()=>this.actions$.pipe(V($n,Kr,mr),L(()=>{let s=this.router.config.filter(o=>!(o.data&&o.data.cxCmsRouteContext));s.length!==this.router.config.length&&this.router.resetConfig(s)})),{dispatch:!1})}};e.\u0275fac=function(r){return new(r||e)(d(Me),d(Ne))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),f6=[d6],h6={navigationId:0,state:{url:"",queryParams:{},params:{},context:{id:""},cmsRequired:!1,semanticRoute:void 0},nextState:void 0};function p6(){return{router:g6}}function g6(t=h6,e){switch(e.type){case Yd:return T(v({},t),{nextState:e.payload.routerState,navigationId:e.payload.event.id});case Zd:case Kd:return T(v({},t),{nextState:void 0});case yN:return t.nextState?T(v({},t),{nextState:T(v({},t.nextState),{context:e.payload})}):t;case Qd:return{state:T(v({},e.payload.routerState),{context:t.nextState?.context??e.payload.routerState.context}),navigationId:e.payload.event.id,nextState:void 0};default:return t}}var SP=new S("RouterReducers"),m6={provide:SP,useFactory:p6},v6=(()=>{let e=class e{serialize(n){let r=n.root,s=!1,o,a,c="";for(;r.firstChild;)r=r.firstChild,c+="/"+r.url.map(l=>l.path).join("/"),r.data?.cxRoute&&(a=r.data?.cxRoute),r.data?.cxCmsRouteContext&&(o=r.data?.cxCmsRouteContext),!s&&(o||r.routeConfig?.canActivate?.find(l=>l&&l.guardName==="CmsPageGuard"))&&(s=!0);a=a||this.lookupSemanticRoute(c);let{params:u}=r;return o=this.getPageContext(o,r),{url:n.url,queryParams:n.root.queryParams,params:u,context:o,cmsRequired:s,semanticRoute:a}}getPageContext(n,r){let s=n;if(r.url.length>0&&r.url[0].path==="cx-preview"&&r.queryParams.cmsTicketId!==void 0)s={id:$O,type:be.CONTENT_PAGE};else{let{params:o}=r;o.productCode?s={id:o.productCode,type:be.PRODUCT_PAGE}:o.categoryCode?s={id:o.categoryCode,type:be.CATEGORY_PAGE}:o.brandCode?s={id:o.brandCode,type:be.CATEGORY_PAGE}:r.data.pageLabel!==void 0&&(s={id:r.data.pageLabel,type:be.CONTENT_PAGE})}return s||(r.url.length>0?s={id:"/"+r.url.map(a=>a.path).join("/"),type:be.CONTENT_PAGE}:s={id:jO,type:be.CONTENT_PAGE}),s}lookupSemanticRoute(n){return this.routingConfig.getRouteName(n.substr(1))}constructor(n){this.routingConfig=n}};e.\u0275fac=function(r){return new(r||e)(d(zp))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})();function y6(t){return()=>t.init()}function E6(t,e){return e.routing?.protected===void 0?t:null}function C6(){let e=(C(uI,{optional:!0})??[]).map(i=>i());return Promise.all(e)}var aue=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[m6,{provide:vo,useClass:v6},{provide:bt,useFactory:y6,deps:[i6],multi:!0},{provide:Kp,useFactory:E6,deps:[l6,Hp],multi:!0},{provide:od,useFactory:C6}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({imports:[ur.forFeature(PC,SP),$r.forFeature(f6),UM.forRoot({routerState:1,stateKey:PC})]});let t=e;return t})();function S6(t,e){return n=>{let r=n.data&&n.data.cxRoute,s=t.getRouteConfig(r),o=s&&s.paths||[];return e.getFromPaths(o)}}var cue=new S("DEFAULT_URL_MATCHER",{providedIn:"root",factory:()=>S6(C(zp),C(mD))}),I6=(()=>{let e=class e{getIdListByItemType(n){let r=[],s=[],o=[];return n.forEach(a=>{a.superType==="AbstractCMSComponent"?s.push(a.id):a.superType==="AbstractPage"?r.push(a.id):a.superType==="AbstractMedia"&&o.push(a.id)}),{pageIds:r,componentIds:s,mediaIds:o}}constructor(n,r,s){this.actions$=n,this.cmsComponentConnector=r,this.routingService=s,this.logger=C(Q),this.loadNavigationItems$=W(()=>this.actions$.pipe(V(iP),E(o=>o.payload),E(o=>({ids:this.getIdListByItemType(o.items),nodeId:o.nodeId})),G(o=>o.ids.componentIds.length>0?this.routingService.getRouterState().pipe(x(yn),E(a=>a.state.context),oe(1),G(a=>this.cmsComponentConnector.getList(o.ids.componentIds,a).pipe(E(c=>new oS({nodeId:o.nodeId,components:c})),F(c=>I(new Pp(o.nodeId,Y(c,this.logger))))))):I(new Pp(o.nodeId,"navigation nodes are empty")))))}};e.\u0275fac=function(r){return new(r||e)(d(Me),d(EP),d(wi))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),D6=(()=>{let e=class e{constructor(n,r){this.cmsPageAdapter=n,this.cmsStructureConfigService=r}get(n){return this.cmsStructureConfigService.shouldIgnoreBackend(n.id).pipe(N(r=>r?I({}):this.cmsPageAdapter.load(n).pipe(F(s=>{if(s instanceof zt&&s.status===400)return I({});throw s}))),N(r=>this.mergeDefaultPageStructure(n,r)))}mergeDefaultPageStructure(n,r){return this.cmsStructureConfigService.mergePageStructure(n.id,r)}};e.\u0275fac=function(r){return new(r||e)(d(mp),d(yP))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),b6=(()=>{let e=class e{constructor(n,r,s){this.actions$=n,this.cmsPageConnector=r,this.routingService=s,this.logger=C(Q),this.refreshPage$=W(()=>this.actions$.pipe(V($n,Kr,mr),N(()=>this.routingService.getRouterState().pipe(x(o=>o&&o.state&&o.state.cmsRequired&&!o.nextState),oe(1),E(o=>o.state.context),G(o=>I(new No(o))))))),this.loadPageData$=W(()=>this.actions$.pipe(V(oP),E(o=>o.payload),ii(o=>Gr(o)),G(o=>o.pipe(N(a=>this.cmsPageConnector.get(a).pipe(G(c=>{let u=[new iS((c.components??[]).map(f=>({component:f,pageContext:a}))),new cS(a,c.page??{})],l=c.page?.label;return l&&l!==a.id&&u.unshift(new uS({id:l,type:a.type},c.page??{})),u}),F(c=>I(new aS(a,Y(c,this.logger))))))))))}};e.\u0275fac=function(r){return new(r||e)(d(Me),d(D6),d(wi))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),w6=[b6,Kq,I6],T6={component:void 0,pageContext:{}};function hf(t,e){switch(e.type){case lD:return!1;case fD:case dD:return!0}return t}function A6(t=T6,e){switch(e.type){case uD:{let i=at(e.meta.entityType,hf),n=Gr(e.payload.pageContext,!0);return T(v({},t),{pageContext:T(v({},t.pageContext),{[n]:i(t.pageContext[n],e)})})}case lD:{let i=at(e.meta.entityType,hf),n=Gr(e.payload.pageContext,!0);return T(v({},t),{pageContext:T(v({},t.pageContext),{[n]:i(t.pageContext[n],e)})})}case dD:{let i=at(e.meta.entityType,hf),n=Gr(e.payload.pageContext,!0);return T(v({},t),{component:e.payload.component,pageContext:T(v({},t.pageContext),{[n]:i(t.pageContext[n],e)})})}case fD:{let i=at(e.meta.entityType,hf);if(!Array.isArray(e.payload)){let n=Gr(e.payload.pageContext,!0);return T(v({},t),{component:e.payload.component,pageContext:T(v({},t.pageContext),{[n]:i(t.pageContext[n],e)})})}}}return t}var R6=void 0;function M6(t=R6,e){switch(e.type){case sP:if(e.payload.components.length){let n=e.payload.components.reduce((r,s)=>T(v({},r),{[`${s.uid}_AbstractCMSComponent`]:s}),{});return v(v({},t),n)}}return t}var x6={entities:{}};function N6(t=x6,e){switch(e.type){case hD:{let i=e.payload;return T(v({},t),{entities:T(v({},t.entities),{[i.pageId??""]:i})})}}return t}var Rx=void 0;function pf(t){return(e=Rx,i)=>{if(i.meta&&i.meta.entityType===t)switch(i.type){case hD:return i.payload.pageId;case aP:return Rx;case uP:return i.payload;case cP:return i.payload.pageId}return e}}function O6(){return{page:ns({pageData:N6,index:ns({content:ds(be.CONTENT_PAGE,pf(be.CONTENT_PAGE)),product:ds(be.PRODUCT_PAGE,pf(be.PRODUCT_PAGE)),category:ds(be.CATEGORY_PAGE,pf(be.CATEGORY_PAGE)),catalog:ds(be.CATALOG_PAGE,pf(be.CATALOG_PAGE))})}),components:Tc(Gc,A6),navigation:ds(sg,M6)}}var IP=new S("CmsReducers"),P6={provide:IP,useFactory:O6};function F6(t){return function(e,i){return(i.type===$n||i.type===Kr||i.type===mr)&&(e=void 0),t(e,i)}}var _6=[F6];function L6(){return{state:{ssrTransfer:{keys:{[cD]:Vo.TRANSFER_STATE}}}}}var k6=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({providers:[$o(L6),P6],imports:[Ze,Ti,ur.forFeature(cD,IP,{metaReducers:_6}),$r.forFeature(w6)]});let t=e;return t})();function U6(t){let e=!1;return t.find(i=>{let n=i.features?.[bo];n&&(e=n)}),e?wq:rP}var j6=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[og,$o(U6,[wc])]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({imports:[k6,qq.forRoot()]});let t=e;return t})(),$6=(()=>{let e=class e{constructor(){this.logger=C(Q)}handleError(n){this.logger.error(n)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),B6=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[{provide:It,useClass:$6}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})(),Qr=function(t){return t[t.UNKNOWN=-1]="UNKNOWN",t[t.BAD_REQUEST=400]="BAD_REQUEST",t[t.UNAUTHORIZED=401]="UNAUTHORIZED",t[t.FORBIDDEN=403]="FORBIDDEN",t[t.NOT_FOUND=404]="NOT_FOUND",t[t.CONFLICT=409]="CONFLICT",t[t.BAD_GATEWAY=502]="BAD_GATEWAY",t[t.GATEWAY_TIMEOUT=504]="GATEWAY_TIMEOUT",t[t.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR",t}(Qr||{}),vt=(()=>{let e=class e{constructor(n,r){this.globalMessageService=n,this.platformId=r}hasMatch(n){return n.status===this.responseStatus}getErrorTranslationKey(n){let r="httpHandlers.badRequest";return n?`${r}.${n.toLowerCase().replace(/ /g,"_")}`:`${r}PleaseLoginAgain`}isSsr(){return this.platformId?!On(this.platformId):!1}};e.\u0275fac=function(r){return new(r||e)(d(Ho),d($e))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),V6=(()=>{let e=class e extends vt{constructor(){super(...arguments),this.responseStatus=Qr.BAD_GATEWAY}handleError(){this.globalMessageService.add({key:"httpHandlers.badGateway"},ke.MSG_TYPE_ERROR)}getPriority(){return-10}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),H6="/authorizationserver/oauth/token",z6=(()=>{let e=class e extends vt{constructor(){super(...arguments),this.responseStatus=Qr.BAD_REQUEST}handleError(n,r){this.handleBadPassword(n,r),this.handleBadLoginResponse(n,r),this.handleValidationError(n,r),this.handleGuestDuplicateEmail(n,r),this.handleUnknownIdentifierError(n,r)}handleBadPassword(n,r){r.url?.includes(H6)&&r.error?.error==="invalid_grant"&&n.body?.get("grant_type")==="password"&&(this.globalMessageService.add({key:this.getErrorTranslationKey(r.error?.error_description),params:{errorMessage:r.error.error_description||r.message||""}},ke.MSG_TYPE_ERROR),this.globalMessageService.remove(ke.MSG_TYPE_CONFIRMATION))}handleBadLoginResponse(n,r){this.getErrors(r).filter(s=>s.type==="PasswordMismatchError").forEach(()=>{let o=new URL(n.url).pathname.endsWith("/password")?"httpHandlers.badRequestOldPasswordIncorrect":"httpHandlers.validationErrors.invalid.password";this.globalMessageService.add({key:o},ke.MSG_TYPE_ERROR)})}handleValidationError(n,r){this.getErrors(r).filter(s=>s.type==="ValidationError").forEach(s=>{this.globalMessageService.add({key:`httpHandlers.validationErrors.${s.reason}.${s.subject}`},ke.MSG_TYPE_ERROR)})}handleGuestDuplicateEmail(n,r){this.getErrors(r).filter(s=>s.type==="DuplicateUidError").forEach(s=>{this.globalMessageService.add({key:"httpHandlers.badRequestGuestDuplicateEmail",params:{errorMessage:s.message||""}},ke.MSG_TYPE_ERROR)})}handleUnknownIdentifierError(n,r){this.getErrors(r).filter(s=>s.type==="UnknownIdentifierError").forEach(s=>{this.globalMessageService.add(s.message?s.message:{key:"httpHandlers.unknownIdentifier"},ke.MSG_TYPE_ERROR)})}getErrors(n){return(n.error?.errors||[]).filter(r=>r.type!=="JaloObjectNoLongerValidError")}getPriority(){return-10}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),G6=(()=>{let e=class e extends vt{constructor(){super(...arguments),this.responseStatus=Qr.CONFLICT}handleError(){this.globalMessageService.add({key:"httpHandlers.conflict"},ke.MSG_TYPE_ERROR)}getPriority(){return-10}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),W6=(()=>{let e=class e extends vt{handleError(n){n.url.endsWith(this.occEndpoints.buildUrl("user",{urlParams:{userId:"current"}}))&&this.authService.logout(),this.globalMessageService.add({key:"httpHandlers.forbidden"},ke.MSG_TYPE_ERROR)}getPriority(){return-10}constructor(n,r,s){super(n),this.globalMessageService=n,this.authService=r,this.occEndpoints=s,this.responseStatus=Qr.FORBIDDEN}};e.\u0275fac=function(r){return new(r||e)(d(Ho),d(Bn),d(Qe))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),q6=(()=>{let e=class e extends vt{constructor(){super(...arguments),this.responseStatus=Qr.GATEWAY_TIMEOUT}handleError(){this.globalMessageService.add({key:"httpHandlers.gatewayTimeout"},ke.MSG_TYPE_ERROR)}getPriority(){return-10}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Y6=(()=>{let e=class e extends vt{constructor(){super(...arguments),this.responseStatus=Qr.INTERNAL_SERVER_ERROR}handleError(){this.globalMessageService.add({key:"httpHandlers.internalServerError"},ke.MSG_TYPE_ERROR)}getPriority(){return-10}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),K6=(()=>{let e=class e extends vt{constructor(){super(...arguments),this.responseStatus=Qr.NOT_FOUND}handleError(){}getPriority(){return-10}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Z6=(()=>{let e=class e extends vt{constructor(){super(...arguments),this.responseStatus=Qr.UNKNOWN,this.logger=C(Q)}hasMatch(n){return!0}handleError(n,r){(ge()||this.isSsr())&&this.logger.warn(`An unknown http error occurred
`,r.message)}getPriority(){return-50}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function vD(t,e=[],i=[]){let n=(t??[]).filter(s=>!s.hasMatch||s.hasMatch(...e));if(n.length<2)return n[0];let r=-1/0;return n.reduce((s,o)=>{let a=o.getPriority?o.getPriority(...i):0;return r>a?s:(r=a,o)},void 0)}var Q6=(()=>{let e=class e{constructor(n){this.unifiedInjector=n,this.handlers$=this.unifiedInjector.getMulti(vt).pipe(ht(1))}intercept(n,r){return r.handle(n).pipe(L({error:s=>{s instanceof zt&&this.handleErrorResponse(n,s)}}))}handleErrorResponse(n,r){let s=this.getResponseHandler(r);s&&s.handleError(n,r)}getResponseHandler(n){return vD(vp(this.handlers$)??[],[n])}};e.\u0275fac=function(r){return new(r||e)(d(Vc))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),J6=[{provide:vt,useExisting:Z6,multi:!0},{provide:vt,useExisting:V6,multi:!0},{provide:vt,useExisting:z6,multi:!0},{provide:vt,useExisting:G6,multi:!0},{provide:vt,useExisting:W6,multi:!0},{provide:vt,useExisting:q6,multi:!0},{provide:vt,useExisting:Y6,multi:!0},{provide:vt,useExisting:K6,multi:!0}],X6=[{provide:pn,useExisting:Q6,multi:!0}],e5={entities:{}};function t5(t=e5,e){switch(e.type){case Bf:{let i=e.payload;if(t.entities[i.type]===void 0)return T(v({},t),{entities:T(v({},t.entities),{[i.type]:[i.text]})});{let n=t.entities[i.type];return T(v({},t),{entities:T(v({},t.entities),{[i.type]:[...n,i.text]})})}}case UN:{let i=e.payload.type,n=e.payload.index;if(Object.keys(t.entities).length===0||!t.entities[i])return t;let r=[...t.entities[i]];return r.splice(n,1),T(v({},t),{entities:T(v({},t.entities),{[i]:r})})}case jN:{let i=T(v({},t.entities),{[e.payload]:[]});return T(v({},t),{entities:i})}}return t}function n5(){return t5}var DP=new S("GlobalMessageReducers"),r5={provide:DP,useFactory:n5},i5=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({providers:[r5],imports:[Ti,ur.forFeature($N,DP)]});let t=e;return t})(),bc=class{static shallowEqualObjects(e,i){if(e===i)return!0;if(!e||!i)return!1;let n=Object.keys(e),r=Object.keys(i),s=n.length,o=r.length;if(s!==o)return!1;for(let a=0;a<s;a++){let c=n[a];if(e[c]!==i[c])return!1}return!0}static deepEqualObjects(e,i){return e===i?!0:!(e instanceof Object)||!(i instanceof Object)||e.constructor!==i.constructor?!1:this.compareObjectProperties(e,i)}static compareObjectProperties(e,i){for(let n in e)if(e.hasOwnProperty(n)){if(!i.hasOwnProperty(n))return!1;if(e[n]!==i[n]&&(typeof e[n]!="object"||!this.deepEqualObjects(e[n],i[n])))return!1}for(let n in i)if(i.hasOwnProperty(n)&&!e.hasOwnProperty(n))return!1;return!0}static countOfDeepEqualObjects(e,i){return i.reduce((n,r)=>(this.deepEqualObjects(e,r)&&n++,n),0)}static indexOfFirstOccurrence(e,i){for(let n=0;n<i.length;n++)if(this.deepEqualObjects(i[n],e))return n}},s5=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:function(r){let s=null;return r?s=new(r||e):s=d(kt),s},providedIn:"root"});let t=e;return t})(),o5=(()=>{let e=class e{constructor(n,r,s,o){this.actions$=n,this.store=r,this.config=s,this.platformId=o,this.removeDuplicated$=W(()=>this.actions$.pipe(V(Bf),E(a=>a.payload),N(a=>I(a.text).pipe(rt(this.store.pipe(M(VN(a.type)))),x(([c,u])=>bc.countOfDeepEqualObjects(c,u)>1),E(([c,u])=>{let l=bc.indexOfFirstOccurrence(c,u);if(l!==void 0)return new Cc({type:a.type,index:l})}),x(yn))))),this.hideAfterDelay$=W(()=>On(this.platformId)?this.actions$.pipe(V(Bf),E(a=>a.payload),Ue(a=>{let c=this.config.globalMessages?.[a.type];return this.store.pipe(M(d3(a.type)),oe(1),x(u=>(c&&c.timeout!==void 0||a.timeout!==void 0)&&u>0),Yn(a.timeout||c?.timeout),N(()=>I(new Cc({type:a.type,index:0}))))})):()=>he)}};e.\u0275fac=function(r){return new(r||e)(d(Me),d(me),d(s5),d($e))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),a5={globalMessages:{[ke.MSG_TYPE_CONFIRMATION]:{timeout:3e3},[ke.MSG_TYPE_INFO]:{timeout:3e3},[ke.MSG_TYPE_ERROR]:{timeout:7e3},[ke.MSG_TYPE_WARNING]:{timeout:7e3},[ke.MSG_TYPE_ASSISTIVE]:{timeout:7e3}}},c5=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[...J6,...X6]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({providers:[kn(a5)],imports:[i5,$r.forFeature([o5])]});let t=e;return t})(),u5={backend:{timeout:{server:2e4}}},l5=new La(()=>{});var d5=(()=>{let e=class e{constructor(n,r){this.windowRef=n,this.config=r,this.logger=C(Q)}intercept(n,r){let s=this.getTimeoutValue(n);return typeof s>"u"?r.handle(n):r.handle(n).pipe(N(o=>o.type===cr.Sent?Ag.pipe(Kn(o),Jo(s)):I(o)),F(o=>{throw this.convertTimeoutToHttpErrorResponse({error:o,request:n,timeoutValue:s})}))}getTimeoutValue(n){let r=n.context.get(l5),s=this.config?.backend?.timeout,o=r??s??{};return this.windowRef.isBrowser()?o?.browser:o?.server}convertTimeoutToHttpErrorResponse({error:n,request:r,timeoutValue:s}){if(n instanceof wu){let o=this.buildError(r,s);return new zt({url:r.url,error:o})}return n}buildError(n,r){let s=`Request to URL '${n.url}' exceeded expected time of ${r}ms and was aborted.`;return this.logger.warn(s),new Error(s)}};e.\u0275fac=function(r){return new(r||e)(d(bi),d(yr))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),f5=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({providers:[{provide:pn,useExisting:d5,multi:!0},kn(u5)]});let t=e;return t})(),h5=(()=>{let e=class e{static forRoot(){return{ngModule:e}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({imports:[f5]});let t=e;return t})(),p5={i18n:{fallbackLang:void 0,debug:!1}},Go=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:function(r){let s=null;return r?s=new(r||e):s=d(kt),s},providedIn:"root"});let t=e;return t})(),g5=(()=>{let e=class e{constructor(n){this.configInit=n,this.scopes=["i18n.fallbackLang"],this.configFactory=()=>Zn(this.resolveConfig())}resolveConfig(){return this.configInit.getStable("context.language").pipe(E(n=>({i18n:{fallbackLang:n?.context?.language?.[0]}})))}};e.\u0275fac=function(r){return new(r||e)(d(Ln))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),uue=(()=>{let e=class e extends TA{constructor(n){super(""),this.language=n,this.logger=C(Q)}transform(n,r,s){return super.transform(n,r,s,this.getLang())}getLang(){let n=this.getActiveLang();try{return ad(n),n}catch{return this.reportMissingLocaleData(n),"en"}}getActiveLang(){let n="";return this.language.getActive().subscribe(r=>n=r).unsubscribe(),n}reportMissingLocaleData(n){ge()&&this.logger.warn(`cxDate pipe: No locale data registered for '${n}' (see https://angular.io/api/common/registerLocaleData).`)}};e.\u0275fac=function(r){return new(r||e)(X(Ai,16))},e.\u0275pipe=Yt({name:"cxDate",type:e,pure:!0});let t=e;return t})(),dS=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),cg=new S("I18NEXT_INSTANCE",{providedIn:"root",factory:()=>mt.createInstance()}),m5=new S("I18NEXT_HTTP_BACKEND_CLIENT",{providedIn:"root",factory:()=>{let t=C(Le);return(e,i,n,r)=>{t.get(i,{responseType:"text"}).subscribe({next:s=>r(null,{status:200,data:s}),error:s=>r(s,{data:null,status:s.status})})}}}),v5=(()=>{let e=class e{constructor(n,r,s,o){this.i18next=n,this.i18nextHttpClient=r,this.config=s,this.windowRef=o}hasMatch(){return!!this.config.i18n?.backend?.loadPath}initialize(){return this.i18next.use(tx),{backend:this.getBackendConfig()}}getBackendConfig(){if(!this.config.i18n?.backend?.loadPath)throw new Error("Missing config `i18n.backend.loadPath`.");return{loadPath:this.getLoadPath(this.config.i18n.backend.loadPath),request:this.i18nextHttpClient,reloadInterval:!1}}getLoadPath(n){return!this.windowRef.isBrowser()&&!n.match(/^http(s)?:\/\//)?(n.startsWith("/")&&(n=n.slice(1)),n.startsWith("./")&&(n=n.slice(2)),`${this.windowRef.location.origin}/${n}`):n}};e.\u0275fac=function(r){return new(r||e)(d(cg),d(m5),d(Go),d(bi))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),y5=(()=>{let e=class e{constructor(n,r){this.config=n,this.i18next=r}hasMatch(){return!!this.config.i18n?.backend?.loader}initialize(){let n=this.config.i18n?.backend?.loader;if(!n)throw new Error("Missing config `i18n.backend.loader`.");return this.i18next.use(dx(n)),{backend:{}}}};e.\u0275fac=function(r){return new(r||e)(d(Go),d(cg))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),E5=[{provide:dS,useExisting:v5,multi:!0},{provide:dS,useExisting:y5,multi:!0}],C5=new S("I18NEXT_LOGGER_PLUGIN",{providedIn:"root",factory:()=>{let t=C(Q);return{type:"logger",log:e=>t.log(...e),warn:e=>t.warn(...e),error:e=>t.error(...e)}}}),fS=class{},Do=function(t){return t[t.Parallel=0]="Parallel",t[t.Queue=1]="Queue",t[t.CancelPrevious=2]="CancelPrevious",t[t.ErrorPrevious=3]="ErrorPrevious",t}(Do||{}),S5=(()=>{let e=class e{constructor(){this.subscriptions=new Ee}create(n,r){let s=new re,o=new re,a=l=>({next:f=>l.next(f),error:f=>l.error(f),complete:()=>l.complete()}),c;switch(r?.strategy){case Do.CancelPrevious:case Do.ErrorPrevious:c=Pi(s,o).pipe(N(([l,f])=>qe(()=>n(l)).pipe(L(a(f)),F(()=>he),Sn(()=>{!f.closed&&!f.hasError&&(r.strategy===Do.ErrorPrevious?f.error(new Error("Canceled by next command")):f.complete())}))));break;case Do.Parallel:c=Pi(s,o).pipe(G(([l,f])=>qe(()=>n(l)).pipe(L(a(f)),F(()=>he))));break;case Do.Queue:default:c=Pi(s,o).pipe(Ue(([l,f])=>qe(()=>n(l)).pipe(L(a(f)),F(()=>he))));break}return this.subscriptions.add(c.subscribe()),new class extends fS{constructor(){super(...arguments),this.execute=l=>{let f=new rn;return o.next(f),s.next(l),f}}}}ngOnDestroy(){this.subscriptions.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),lue=(()=>{let e=class e{constructor(n){this.eventService=n,this.subscriptions=new Ee}create(n,r){let s={data:void 0,error:!1,loading:!0},o=new Te(s),a=ea(()=>o.value.loading,I(void 0),he),c=this.getTriggersStream([a,...r?.reloadOn??[],...r?.resetOn??[]]),u=this.getTriggersStream(r?.resetOn??[]),l=this.getTriggersStream(r?.reloadOn??[]),f=n().pipe(ra(u)),h=c.pipe(L(()=>{o.value.loading||o.next(T(v({},o.value),{loading:!0}))}),N(()=>f),L(b=>{o.next({loading:!1,error:!1,data:b})}),F((b,w)=>(o.next({loading:!1,error:b,data:void 0}),w)),Os());r?.reloadOn?.length&&this.subscriptions.add(l.subscribe(()=>{o.value.loading||o.next(T(v({},o.value),{loading:!0}))})),r?.resetOn?.length&&this.subscriptions.add(u.subscribe(()=>{(o.value.data!==void 0||o.value.error!==!1||o.value.loading!==!1)&&o.next(s)}));let g=xs(()=>h.subscribe(),()=>o),y=g.pipe(E(b=>b.data),an());return{get:()=>y,getState:()=>g}}getTriggersStream(n){if(!n.length)return he;let r=n.map(s=>Oi(s)?s:this.eventService.get(s));return on(...r)}ngOnDestroy(){this.subscriptions.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)(d(Ss))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function due(t){return t.details?.[0]?.type==="JaloObjectNoLongerValidError"}var fue=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,hue=/^(?=.*?[A-Z])(?=.*?\d)(?=.*?[!@#$%^*()_\-+{};:.,]).{6,}$/,pue=/^(?=.*?[A-Z]).*$/,gue=/^(?=.*?\d).*$/,mue=/^(?=.*?[!@#$%^*()_\-+{};:.,]).*$/,vue=/^.{6,}$/;function yue(t){let e=t?.shouldRetry??(()=>!0),i=t?.maxTries??3,n=t?.delay??300;return r=>r.pipe(Pg({delay:(s,o)=>{if(o>i||!e(s))throw s;let a=o*o;return Wt(a*n)}}))}function bP(t){return qe(()=>{let e=0,i=new z(n=>{let r=()=>{n.next(),n.complete()};e?wg.schedule(r):r(),e++});return Pe(t).pipe(ta(()=>i))})}function Eue(t){return Oi(t)?t:I5(t)?pe(Promise.resolve(t)):I(t)}function I5(t){return!!t&&typeof t.then=="function"}var hS=function(t){return t.HEAD="head",t.BODY="body",t}(hS||{}),Cue=(()=>{let e=class e{constructor(n,r){this.document=n,this.platformId=r}embedScript(n){let{src:r,params:s,attributes:o,callback:a,errorCallback:c,placement:u=hS.HEAD}=n,l=Xi(this.platformId);if((a||c)&&l)return;let f=s?r+this.parseParams(s):r;if(!l&&this.hasScript(f))return;let h=this.document.createElement("script");h.src=f,h.async=!0,h.defer=!0,o&&Object.keys(o).forEach(g=>{g.startsWith("data-")?h.setAttribute(g,o[g]):h[g]=o[g]}),a&&h.addEventListener("load",a),c&&h.addEventListener("error",c),u===hS.HEAD?this.document.head.appendChild(h):this.document.body.appendChild(h)}hasScript(n){return!!this.document.querySelector(`script[src="${n}"]`)}parseParams(n){let r="",s=Object.keys(n);return s.length>0&&(r="?"+s.map(o=>encodeURI(o)+"="+encodeURI(n[o])).join("&")),r}};e.\u0275fac=function(r){return new(r||e)(d(_e),d($e))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Mx=class t{static getLocalTimezoneOffset(e){let i=new Date().getTimezoneOffset()*-1,n=Math.abs(Math.floor(i/60)).toString().padStart(2,"0"),r=(i%60).toString().padStart(2,"0");return`${i>=0?e?"-":"+":e?"+":"-"}${n}:${r}`}static convertDateToDatetime(e,i){return`${e}T${i?"23:59:59":"00:00:00"}${t.getLocalTimezoneOffset()}`}static convertDatetimeToDate(e){return new Date(`${e.substring(0,19)}${t.getLocalTimezoneOffset(!0)}`).toISOString().substring(0,10)}},D5=(()=>{let e=class e{constructor(n){this.backendInitializers=n}initialize(){return vD(this.backendInitializers??[])?.initialize()??{}}};e.\u0275fac=function(r){return new(r||e)(d(dS,8))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),b5=(()=>{let e=class e{constructor(n,r,s,o){this.i18next=n,this.config=r,this.languageService=s,this.i18nextBackendService=o,this.loggerPlugin=C(C5)}initialize(){let n=this.getI18nextConfig();return this.i18next.use(this.loggerPlugin).init(n,()=>{this.addTranslationResources(),this.synchronizeLanguage()})}getI18nextConfig(){let n={ns:[],fallbackLng:this.config.i18n?.fallbackLang,debug:this.config.i18n?.debug,interpolation:{escapeValue:!1,skipOnVariables:!1}};return this.config.i18n?.backend&&(n=v(v({},n),this.i18nextBackendService.initialize())),n}addTranslationResources(){let n=this.config.i18n?.resources??{};Object.keys(n).forEach(r=>{Object.keys(n[r]).forEach(s=>{this.i18next.addResourceBundle(r,s,n[r][s],!0,!0)})})}synchronizeLanguage(){this.subscription=this.subscription??this.languageService.getActive().subscribe(n=>this.i18next.changeLanguage(n))}ngOnDestroy(){this.subscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)(d(cg),d(Go),d(Ai),d(D5))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),w5=[{provide:bt,useFactory:()=>{let t=C(Ln),e=C(b5);return()=>Zn(t.getStable("i18n")).then(()=>e.initialize())},multi:!0},...E5],T5=(()=>{let e=class e{constructor(n){this.config=n,this.duplicates={},this.chunks={},this.logger=C(Q),this.KEY_SEPARATOR=".";let r=n.i18n&&n.i18n.chunks||{};Object.keys(r).forEach(s=>{r[s].forEach(o=>{this.chunks.hasOwnProperty(o)?(this.duplicates[o]||(this.duplicates[o]=[this.chunks[o]]),this.duplicates[o].push(s)):this.chunks[o]=s})}),Object.keys(this.duplicates).length>0&&ge()&&this.warnDuplicates(this.duplicates)}getChunkNameForKey(n){let r=(n||"").split(this.KEY_SEPARATOR)[0],s=this.chunks&&this.chunks[r];return s||r}warnDuplicates(n){let r=[];Object.keys(n).forEach(s=>{r.push(`* '${s}' found in chunks: ${n[s].join(", ")}. Used '${this.chunks[s]}.${s}'.`)}),this.logger.warn(`Duplicated keys has been found in the config of i18n chunks:
${r.join(`
`)}`)}};e.\u0275fac=function(r){return new(r||e)(d(Go))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),A5=(()=>{let e=class e{constructor(n,r,s){this.config=n,this.translationChunk=r,this.i18next=s,this.NON_BREAKING_SPACE="\xA0",this.NAMESPACE_SEPARATOR=":",this.logger=C(Q)}translate(n,r={},s=!1){let o=Array.isArray(n)?n:[n],a=new Map,c=[];return o.forEach(u=>{let l=this.translationChunk.getChunkNameForKey(u),f=this.getNamespacedKey(u,l);c.push(f),a.set(u,l)}),new z(u=>{let l=()=>{if(!this.i18next.isInitialized)return;let f=!1;this.i18next.loadNamespaces(Array.from(a.values()),()=>{f=!0,this.i18next.exists(c,r)?u.next(this.i18next.t(c,r)):(this.reportMissingKey(a),u.next(this.getFallbackValue(c)))}),!f&&s&&u.next(this.NON_BREAKING_SPACE)};return l(),this.i18next.on("languageChanged",l),()=>this.i18next.off("languageChanged",l)})}loadChunks(n){return this.i18next.loadNamespaces(n)}getFallbackValue(n){let r=Array.isArray(n)?n.join(", "):n;return ge()?`[${r}]`:this.NON_BREAKING_SPACE}reportMissingKey(n){let r=[...n.keys()];ge()&&this.logger.warn(`Translation keys missing [${r.join(", ")}]. Attempted to load ${[...n].map(([s,o])=>`'${s}' from chunk '${o}'`).join(", ")}.`)}getNamespacedKey(n,r){return r+this.NAMESPACE_SEPARATOR+n}};e.\u0275fac=function(r){return new(r||e)(d(Go),d(T5),d(cg))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Sue=(()=>{let e=class e extends AA{constructor(n){super(""),this.language=n,this.logger=C(Q)}transform(n,r){return super.transform(n,r,this.getLang())}getLang(){let n=this.getActiveLang();try{return ad(n),n}catch{return this.reportMissingLocaleData(n),"en"}}getActiveLang(){let n="";return this.language.getActive().subscribe(r=>n=r).unsubscribe(),n}reportMissingLocaleData(n){ge()&&this.logger.warn(`cxNumeric pipe: No locale data registered for '${n}' (see https://angular.io/api/common/registerLocaleData).`)}};e.\u0275fac=function(r){return new(r||e)(X(Ai,16))},e.\u0275pipe=Yt({name:"cxNumeric",type:e,pure:!0});let t=e;return t})();function uC(t){return t!==null&&typeof t=="object"&&("key"in t||"raw"in t)}var Iue=(()=>{let e=class e{constructor(n,r){this.service=n,this.cd=r,this.logger=C(Q)}transform(n,r={}){if(!n)return ge()&&this.logger.error(`The given input for the cxTranslate pipe (${n}) is invalid and cannot be translated`),"";if(uC(n)&&n.raw)return n.raw;uC(n)&&n.params&&(r=v(v({},r),n.params));let s=uC(n)?n.key:n;return this.translate(s,r),this.translatedValue}translate(n,r){(n!==this.lastKey||!bc.shallowEqualObjects(r,this.lastOptions))&&(this.lastKey=n,this.lastOptions=r,this.sub&&this.sub.unsubscribe(),this.sub=this.service.translate(n,r,!0).subscribe(s=>this.markForCheck(s)))}markForCheck(n){this.translatedValue=n,this.cd.markForCheck()}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)(X(vr,16),X(Pr,16))},e.\u0275pipe=Yt({name:"cxTranslate",type:e,pure:!1});let t=e;return t})();function R5(t,e){return e?.i18n?.fallbackLang!==void 0?null:t}var M5=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[kn(p5),{provide:vr,useExisting:A5},...w5,{provide:Kp,useFactory:R5,deps:[g5,Go],multi:!0}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})();function x5(t,e){let i=C(Q);return()=>Promise.all(t.runModuleInitializerFunctions(e)).catch(n=>{throw i.error("MODULE_INITIALIZER promise was rejected during app initialization.",n),n})}var N5=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[{provide:bt,useFactory:x5,deps:[nD,[new ln,LO]],multi:!0}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})();function O5(){return ds(ae)}var wP=new S("ProcessReducers"),P5={provide:wP,useFactory:O5},F5=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({providers:[P5],imports:[Ti,ur.forFeature(ae,wP)]});let t=e;return t})(),_5=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({imports:[F5]});let t=e;return t})(),Due=(()=>{let e=class e{static forRoot(){return{ngModule:e}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({imports:[Ti.forRoot(),kO.forRoot(),F3.forRoot(),L3.forRoot(),M5.forRoot(),j6.forRoot(),c5.forRoot(),_5.forRoot(),V3.forRoot(),dq.forRoot(),XW.forRoot(),GW.forRoot(),N5.forRoot(),h5.forRoot(),B6.forRoot()]});let t=e;return t})(),bue=new S("PointOfServiceNormalizer"),L5=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),k5=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),wue=(()=>{let e=class e{constructor(n,r,s,o){this.cms=n,this.unifiedInjector=r,this.pageMetaConfig=s,this.platformId=o,this.resolvers$=this.unifiedInjector.getMulti(Xt).pipe(ht({bufferSize:1,refCount:!0})),this.meta$=qe(()=>this.cms.getCurrentPage()).pipe(x(a=>!!a),N(a=>this.getMetaResolver(a)),N(a=>a?this.resolve(a):I(null)),ht({bufferSize:1,refCount:!0}))}getMeta(){return this.meta$}resolve(n){let r=this.getResolverMethods(),s=Object.keys(r).filter(o=>n[r[o]]).map(o=>n[r[o]]().pipe(E(a=>({[o]:a}))));return s.length===0?I({}):bP(s).pipe(E(o=>Object.assign({},...o)))}getResolverMethods(){let n={};return this.pageMetaConfig?.pageMeta?.resolvers?.filter(r=>!On(this.platformId??"")||!r.disabledInCsr||ge()&&this.pageMetaConfig?.pageMeta?.enableInDevMode).forEach(r=>n[r.property]=r.method),n}getMetaResolver(n){return this.resolvers$.pipe(E(r=>vD(r,[n],[n])))}};e.\u0275fac=function(r){return new(r||e)(d(og),d(Vc),d(gP),d($e))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Tue=(()=>{let e=class e{constructor(n){this.unifiedInjector=n,this.componentDecorators$=this.unifiedInjector.getMulti(L5).pipe(ht(1)),this.slotDecorators$=this.unifiedInjector.getMulti(k5).pipe(ht(1))}addAttributesToComponent(n,r,s){(vp(this.componentDecorators$)||[]).forEach(o=>o.decorate(n,r,s))}addAttributesToSlot(n,r,s){(vp(this.slotDecorators$)||[]).forEach(o=>o.decorate(n,r,s))}};e.\u0275fac=function(r){return new(r||e)(d(Vc))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var U5=(()=>{let e=class e{constructor(n,r){this.cmsConfig=n,this.lazyModules=r,this.features=new Map}isConfigured(n){return!!this.getFeatureConfig(n)?.module}resolveFeature(n){return n=this.resolveFeatureAlias(n),qe(()=>{if(!this.features.has(n)){if(!this.isConfigured(n))return Mt(()=>new Error("No module defined for Feature Module "+n));let r=this.getFeatureConfig(n);this.features.set(n,this.resolveDependencies(r?.dependencies).pipe(N(s=>this.lazyModules.resolveModuleInstance(r?.module,n,s)),ht()))}return this.features.get(n)??he})}getFeatureConfig(n){return this.cmsConfig.featureModules?.[this.resolveFeatureAlias(n)]}resolveFeatureAlias(n){for(;typeof this.cmsConfig.featureModules?.[n]=="string";)n=this.cmsConfig.featureModules?.[n];return n}resolveDependencies(n=[]){return n?.length?Au(n.map(r=>typeof r=="string"?this.resolveFeature(r):this.lazyModules.resolveDependencyModuleInstance(r))):I(void 0)}};e.\u0275fac=function(r){return new(r||e)(d(tD),d(nD))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),xx="proxyFacadeInstance",j5=(()=>{let e=class e{constructor(n,r){this.featureModules=n,this.injector=r}getResolver(n,r,s=!1){if(!this.featureModules.isConfigured(n))return Mt(()=>new Error(`Feature ${n} is not configured properly`));let o=this.featureModules.resolveFeature(n).pipe(E(a=>a.injector),E(a=>a.get(r)));return s&&(o=o.pipe(Yn(0))),o.pipe(ht())}call(n,r,s){let o=Tu(n.pipe(E(a=>a[r](...s))),{connector:()=>new rn,resetOnDisconnect:!1});return o.connect(),o.pipe(N(a=>Oi(a)?a:he))}get(n,r){return n.pipe(N(s=>s[r]))}create({facade:n,feature:r,methods:s,properties:o,async:a}){let c=this.getResolver(r,n,a),u=new class extends n{};return(s??[]).forEach(l=>{u[l]=(...f)=>this.call(c,l,f)}),(o??[]).forEach(l=>{u[l]=this.get(c,l)}),u[xx]=!0,u}isProxyFacadeInstance(n){return!!n?.[xx]}};e.\u0275fac=function(r){return new(r||e)(d(U5),d(Ye))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Aue(t){return C(j5).create(t)}var $5=(()=>{let e=class e{constructor(n){this.adapter=n}get(n,r=""){return this.adapter.load(n,r)}getMany(n){return this.adapter.loadMany?this.adapter.loadMany(n):n.map(r=>T(v({},r),{data$:this.adapter.load(r.code,r.scope)}))}};e.\u0275fac=function(r){return new(r||e)(d(yp))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),B5=(()=>{let e=class e{constructor(n){this.adapter=n}get(n,r,s){return this.adapter.load(n,r,s)}};e.\u0275fac=function(r){return new(r||e)(d(Ep))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),V5=(()=>{let e=class e{constructor(n){this.adapter=n}get(n,r){return this.adapter.load(n,r)}add(n,r){return this.adapter.post(n,r)}};e.\u0275fac=function(r){return new(r||e)(d(Cp))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),H5=(()=>{let e=class e{constructor(n){this.adapter=n}search(n,r){return this.adapter.search(n,r)}getSuggestions(n,r){return this.adapter.loadSuggestions(n,r)}};e.\u0275fac=function(r){return new(r||e)(d(Sp))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Nx=(()=>{let e=class e extends Yr{};e.type="FacetChangedEvent";let t=e;return t})(),TP="[Product] Load Product References Data",z5="[Product] Load Product References Data Fail",AP="[Product] Load Product References Data Success",RP="[Product] Clean Product References",pS=class{constructor(e){this.payload=e,this.type=TP}},gS=class{constructor(e){this.payload=e,this.type=z5}},mS=class{constructor(e){this.payload=e,this.type=AP}},vS=class{constructor(){this.type=RP}},MP="[Product] Load Product Reviews Data",G5="[Product] Load Product Reviews Data Fail",xP="[Product] Load Product Reviews Data Success",NP="[Product] Post Product Review",OP="[Product] Post Product Review Fail",PP="[Product] Post Product Review Success",yS=class{constructor(e){this.payload=e,this.type=MP}},ES=class{constructor(e){this.payload=e,this.type=G5}},CS=class{constructor(e){this.payload=e,this.type=xP}},SS=class{constructor(e){this.payload=e,this.type=NP}},IS=class{constructor(e){this.payload=e,this.type=OP}},DS=class{constructor(e){this.payload=e,this.type=PP}},FP="[Product] Search Products",W5="[Product] Search Products Fail",_P="[Product] Search Products Success",LP="[Product] Get Product Suggestions",kP="[Product] Get Product Suggestions Success",q5="[Product] Get Product Suggestions Fail",UP="[Product] Clear Product Search Result",_p=class{constructor(e,i){this.payload=e,this.auxiliary=i,this.type=FP}},bS=class{constructor(e,i){this.payload=e,this.auxiliary=i,this.type=W5}},wS=class{constructor(e,i){this.payload=e,this.auxiliary=i,this.type=_P}},TS=class{constructor(e){this.payload=e,this.type=LP}},Lp=class{constructor(e){this.payload=e,this.type=kP}},AS=class{constructor(e){this.payload=e,this.type=q5}},kp=class{constructor(e={clearPageResults:!1,clearSearchboxResults:!1}){this.payload=e,this.type=UP}},Uo;(function(t){function e(u,l,f){return T(v({},$S(u,l)),{scope:f})}t.entityScopedLoadMeta=e;function i(u,l,f,h){return T(v({},BS(u,l,h)),{scope:f})}t.entityScopedFailMeta=i;function n(u,l,f){return T(v({},VS(u,l)),{scope:f})}t.entityScopedSuccessMeta=n;function r(u,l,f){return T(v({},HS(u,l)),{scope:f})}t.entityScopedResetMeta=r;class s{constructor(l,f,h){this.type=LS,this.meta=e(l,f,h)}}t.EntityScopedLoadAction=s;class o{constructor(l,f,h,g){this.type=kS,this.meta=i(l,f,h,g)}}t.EntityScopedFailAction=o;class a{constructor(l,f,h,g){this.payload=g,this.type=US,this.meta=n(l,f,h)}}t.EntityScopedSuccessAction=a;class c{constructor(l,f,h){this.type=jS,this.meta=r(l,f,h)}}t.EntityScopedResetAction=c})(Uo||(Uo={}));var yD="product",Wc="[Product] Detail Entity",ED="[Product] Load Product Data",jP="[Product] Load Product Data Fail",$P="[Product] Load Product Data Success",Y5="[Product] Clear Product PRICE",RS=class extends Uo.EntityScopedLoadAction{constructor(e,i=""){super(Wc,e,i),this.payload=e,this.type=ED}},Up=class extends Uo.EntityScopedFailAction{constructor(e,i,n=""){super(Wc,e,n,i),this.payload=i,this.type=jP}},MS=class extends Uo.EntityScopedSuccessAction{constructor(e,i=""){super(Wc,e.code??"",i),this.payload=e,this.type=$P}},xS=class extends Uo.EntityScopedResetAction{constructor(){super(Wc,void 0,"price"),this.type=Y5}};var ug=Pn(yD),K5=A(ug,t=>t.references),Z5=(t,e)=>A(K5,i=>i.productCode===t&&i.list?e?i.list.filter(n=>n.referenceType===e):i.list:[]),Q5=A(ug,t=>t.reviews),J5=t=>A(Q5,e=>{if(e.productCode===t)return e.list}),X5={results:{},suggestions:[],auxResults:{}};function eY(t=X5,e){switch(e.type){case _P:{let i=e.payload,n=e.auxiliary?{auxResults:i}:{results:i};return v(v({},t),n)}case kP:{let i=e.payload;return T(v({},t),{suggestions:i})}case UP:return T(v({},t),{results:e.payload.clearPageResults?{}:t.results,suggestions:e.payload.clearSearchboxResults?[]:t.suggestions,auxResults:e.payload.clearSearchboxResults?{}:t.auxResults})}return t}var tY=t=>t.results,nY=t=>t.auxResults,rY=t=>t.suggestions,CD=A(ug,t=>t.search),iY=A(CD,tY),sY=A(CD,nY),oY=A(CD,rY),BP=A(ug,t=>t.details),qc=(t,e="")=>A(BP,i=>en(i,t)[e]||gr),aY=(t,e="")=>A(qc(t,e),i=>tt(i)),VP=(t,e="")=>A(qc(t,e),i=>Ut(i)),cY=(t,e="")=>A(qc(t,e),i=>Un(i)),uY=(t,e="")=>A(qc(t,e),i=>Bo(i)),Rue=A(BP,t=>Object.keys(t.entities));var Yc=(()=>{let e=class e{constructor(n){this.store=n}search(n,r){n&&this.store.dispatch(new _p({queryText:n,searchConfig:r}))}getResults(){return this.store.pipe(M(iY))}clearResults(){this.store.dispatch(new kp({clearPageResults:!0}))}};e.\u0275fac=function(r){return new(r||e)(d(me))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),lY=(()=>{let e=class e{constructor(n,r){this.eventService=n,this.productSearchService=r,this.register()}register(){this.eventService.register(Nx,this.buildFacetChangedEvent())}buildFacetChangedEvent(){return this.productSearchService.getResults().pipe(na(),x(([n,r])=>this.compareSearchResults(n,r)),E(([n,r])=>{let s=this.getToggledBreadcrumb(r.breadcrumbs,n.breadcrumbs)||this.getToggledBreadcrumb(n.breadcrumbs,r.breadcrumbs);if(s)return Ii(Nx,{code:s.facetCode,name:s.facetName,valueCode:s.facetValueCode,valueName:s.facetValueName,selected:r.breadcrumbs&&n.breadcrumbs&&r.breadcrumbs.length>n.breadcrumbs.length})}))}compareSearchResults(n,r){if(n&&Object.keys(n).length!==0){let s=n.freeTextSearch!==""&&n.freeTextSearch===r.freeTextSearch,o=r.breadcrumbs?.[0]?.facetCode==="allCategories"&&n.breadcrumbs?.[0]?.facetCode===r.breadcrumbs[0]?.facetCode&&n.breadcrumbs[0].facetValueCode===r.breadcrumbs[0].facetValueCode;return s||o}return!1}getToggledBreadcrumb(n,r){if(n&&r&&n.length-r.length===1)return n.find(s=>!r.find(o=>o.facetCode===s.facetCode&&o.facetValueCode===s.facetValueCode))}};e.\u0275fac=function(r){return new(r||e)(d(Ss),d(Yc))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),dY=(()=>{let e=class e{constructor(n){}};e.\u0275fac=function(r){return new(r||e)(d(lY))},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})(),fY=(()=>{let e=class e{constructor(n,r){this.actions$=n,this.productReferencesConnector=r,this.logger=C(Q),this.loadProductReferences$=W(()=>this.actions$.pipe(V(TP),E(s=>s.payload),G(s=>this.productReferencesConnector.get(s.productCode,s.referenceType,s.pageSize).pipe(E(o=>new mS({productCode:s.productCode,list:o})),F(o=>I(new gS(Y(o,this.logger))))))))}};e.\u0275fac=function(r){return new(r||e)(d(Me),d(B5))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),hY=(()=>{let e=class e{constructor(n,r,s){this.actions$=n,this.productReviewsConnector=r,this.globalMessageService=s,this.logger=C(Q),this.loadProductReviews$=W(()=>this.actions$.pipe(V(MP),E(o=>o.payload),G(o=>this.productReviewsConnector.get(o).pipe(E(a=>new CS({productCode:o,list:a})),F(a=>I(new ES(Y(a,this.logger)))))))),this.postProductReview=W(()=>this.actions$.pipe(V(NP),E(o=>o.payload),G(o=>this.productReviewsConnector.add(o.productCode,o.review).pipe(E(a=>new DS(a)),F(a=>I(new IS(Y(a,this.logger)))))))),this.showGlobalMessageOnPostProductReviewSuccess$=W(()=>this.actions$.pipe(V(PP),L(()=>{this.globalMessageService.add({key:"productReview.thankYouForReview"},ke.MSG_TYPE_CONFIRMATION)})),{dispatch:!1}),this.showGlobalMessageOnPostProductReviewFail$=W(()=>this.actions$.pipe(V(OP),L(()=>{this.globalMessageService.add({key:"productReview.postReviewFail"},ke.MSG_TYPE_ERROR)})),{dispatch:!1})}};e.\u0275fac=function(r){return new(r||e)(d(Me),d(V5),d(Ho))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),pY=(()=>{let e=class e{constructor(n,r){this.actions$=n,this.productSearchConnector=r,this.logger=C(Q),this.searchProducts$=W(()=>this.actions$.pipe(V(FP),ii(s=>s.auxiliary),G(s=>s.pipe(N(o=>this.productSearchConnector.search(o.payload.queryText,o.payload.searchConfig).pipe(E(a=>new wS(a,o.auxiliary)),F(a=>I(new bS(Y(a,this.logger),o.auxiliary))))))))),this.getProductSuggestions$=W(()=>this.actions$.pipe(V(LP),E(s=>s.payload),N(s=>this.productSearchConnector.getSuggestions(s.term,s.searchConfig?.pageSize).pipe(E(o=>o===void 0?new Lp([]):new Lp(o)),F(o=>I(new AS(Y(o,this.logger))))))))}};e.\u0275fac=function(r){return new(r||e)(d(Me),d(H5))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),gY=(()=>{let e=class e{productLoadEffect(n){return n.data$?.pipe(E(r=>new MS(v({code:n.code},r),n.scope)),F(r=>I(new Up(n.code,Y(r,this.logger),n.scope))))??I(new Up(n.code,"Scoped product data does not exist",n.scope))}constructor(n,r){this.actions$=n,this.productConnector=r,this.logger=C(Q),this.contextChange$=this.actions$.pipe(V(Oc,$n)),this.loadProduct$=W(()=>({scheduler:s,debounce:o=0}={})=>this.actions$.pipe(V(ED),E(a=>({code:a.payload,scope:a.meta.scope})),vP(o,s),G(a=>on(...this.productConnector.getMany(a).map(c=>this.productLoadEffect(c)))),gD(this.contextChange$))),this.clearProductPrice$=W(()=>this.actions$.pipe(V(Kr,mr),E(()=>new xS)))}};e.\u0275fac=function(r){return new(r||e)(d(Me),d($5))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),mY=[pY,gY,hY,fY],vY={};function yY(t,e){let i=at(t,e);return(n=vY,r)=>r&&r.meta&&r.meta.entityType===t?T(v({},n),{[r.meta.scope??""]:i(n[r.meta.scope??""],r)}):n}function EY(t,e){return Tc(t,yY(t,e))}var Ox={productCode:"",list:[]};function CY(t=Ox,e){switch(e.type){case AP:{let i=e.payload.productCode,n=e.payload.list;return T(v({},t),{list:[...t.list,...n||[]].reduce((r,s)=>(r.some(o=>o.referenceType===s.referenceType&&o.target?.code===s.target?.code)||r.push(s),r),[]),productCode:i})}case RP:return Ox}return t}var SY={productCode:"",list:[]};function IY(t=SY,e){switch(e.type){case xP:{let i=e.payload.productCode,n=e.payload.list;return T(v({},t),{productCode:i,list:n})}}return t}function DY(){return{search:eY,details:EY(Wc),reviews:IY,references:CY}}var HP=new S("ProductReducers"),bY={provide:HP,useFactory:DY};function wY(t){return function(e,i){return(i.type===Oc||i.type===$n)&&(e=void 0),t(e,i)}}var TY=[wY],Mue=(()=>{let e=class e{constructor(n){this.store=n}loadProductReferences(n,r,s){this.store.dispatch(new pS({productCode:n,referenceType:r,pageSize:s}))}getProductReferences(n,r){return this.store.pipe(M(Z5(n,r)))}cleanReferences(){this.store.dispatch(new vS)}};e.\u0275fac=function(r){return new(r||e)(d(me))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),xue=(()=>{let e=class e{constructor(n){this.store=n}getByProductCode(n){return this.store.pipe(M(J5(n)),L(r=>{r===void 0&&n!==void 0&&this.store.dispatch(new yS(n))}),E(r=>r??[]))}add(n,r){this.store.dispatch(new SS({productCode:n,review:r}))}};e.\u0275fac=function(r){return new(r||e)(d(me))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),AY=(()=>{let e=class e{constructor(n,r,s,o,a){this.store=n,this.loadingScopes=r,this.actions$=s,this.platformId=o,this.eventService=a,this.products={}}get(n,r){return r=this.loadingScopes.expand("product",r),this.initProductScopes(n,r),this.products[n][this.getScopesIndex(r)]}initProductScopes(n,r){this.products[n]||(this.products[n]={});for(let s of r)this.products[n][s]||(this.products[n][s]=this.getProductForScope(n,s));r.length>1&&(this.products[n][this.getScopesIndex(r)]=bP(r.map(s=>this.products[n][s])).pipe(E(s=>s.every(Boolean)?yt({},...s):void 0),an()))}getScopesIndex(n){return n.join("\u0275")}getProductForScope(n,r){let s=this.store.pipe(M(qc(n,r)),E(u=>!u.loading&&!u.success&&!u.error),an(),x(u=>u)),o=this.store.pipe(M(VP(n,r))),a=on(s,...this.getProductReloadTriggers(n,r)).pipe(Fi(0),rt(o),L(([,u])=>{u||this.store.dispatch(new RS(n,r))})),c=this.store.pipe(M(aY(n,r)));return xs(()=>a.subscribe(),()=>c).pipe(ht({bufferSize:1,refCount:!0}))}getProductReloadTriggers(n,r){let s=[],o=this.loadingScopes.getMaxAge("product",r);if(o&&On(this.platformId)){let c=this.actions$.pipe(V($P,jP),x(l=>l.meta.entityId===n&&l.meta.scope===r)),u=this.actions$.pipe(V(ED),x(l=>l.payload===n&&l.meta.scope===r));s.push(this.getMaxAgeTrigger(u,c,o))}let a=this.loadingScopes.getReloadTriggers("product",r).map(c=>this.eventService.get(c));return s.concat(a)}getMaxAgeTrigger(n,r,s,o){let a=0,c=()=>o?o.now():Date.now(),u=r.pipe(L(()=>a=c()));return qe(()=>{let f=c()-a,h=u.pipe(Yn(s,o),E(()=>!0),gD(n));return f>s?on(I(!0),h):f===0?h:on(I(!0).pipe(Yn(s-f,o)),h)})}};e.\u0275fac=function(r){return new(r||e)(d(me),d(e4),d(Me),d($e),d(Ss))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),RY=(()=>{let e=class e{constructor(n,r){this.store=n,this.productLoading=r}get(n,r=vc){return n?this.productLoading.get(n,[].concat(r)):I(void 0)}isLoading(n,r=""){return this.store.pipe(M(VP(n,r)))}isSuccess(n,r=""){return this.store.pipe(M(cY(n,r)))}hasError(n,r=""){return this.store.pipe(M(uY(n,r)))}};e.\u0275fac=function(r){return new(r||e)(d(me),d(AY))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Nue=(()=>{let e=class e extends Yc{search(n,r){this.store.dispatch(new _p({queryText:n,searchConfig:r},!0))}getResults(){return this.store.pipe(M(sY))}clearResults(){this.store.dispatch(new kp({clearSearchboxResults:!0}))}getSuggestionResults(){return this.store.pipe(M(oY))}searchSuggestions(n,r){this.store.dispatch(new TS({term:n,searchConfig:r}))}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),MY=(()=>{let e=class e extends Xt{constructor(n,r,s,o){super(),this.productSearchService=n,this.cms=r,this.translation=s,this.basePageMetaResolver=o,this.searchPage$=this.cms.getCurrentPage().pipe(x(a=>!!a),N(a=>this.hasProductListComponent(a)?this.productSearchService.getResults().pipe(x(c=>!!c)):I(a))),this.pageType=be.CATEGORY_PAGE}resolveTitle(){return this.searchPage$.pipe(x(n=>!!n.pagination),N(n=>this.translation.translate("pageMetaResolver.category.title",{count:n.pagination?.totalResults,query:n.breadcrumbs?.length?n.breadcrumbs[0].facetValueName:void 0})))}resolveBreadcrumbs(){return Pe([this.searchPage$.pipe(),this.translation.translate("common.home")]).pipe(E(([n,r])=>n.breadcrumbs?this.resolveBreadcrumbData(n,r):[]))}resolveBreadcrumbData(n,r){let s=[];s.push({label:r,link:"/"});for(let o of n.breadcrumbs??[])o.facetValueName&&((o.facetCode==="category"||o.facetCode==="allCategories")&&s.push({label:o.facetValueName,link:`/c/${o.facetValueCode}`}),o.facetCode==="brand"&&s.push({label:o.facetValueName,link:`/Brands/${o.facetValueName}/c/${o.facetValueCode}`}));return s}hasProductListComponent(n){return!!Object.keys(n.slots||{}).find(r=>!!n.slots?.[r].components?.find(s=>s.typeCode==="CMSProductListComponent"||s.typeCode==="ProductGridComponent"))}resolveRobots(){return this.basePageMetaResolver.resolveRobots()}resolveCanonicalUrl(){return this.basePageMetaResolver.resolveCanonicalUrl()}};e.\u0275fac=function(r){return new(r||e)(d(Yc),d(og),d(vr),d(ag))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),xY=(()=>{let e=class e extends Xt{constructor(n,r,s,o,a){super(),this.productSearchService=n,this.translation=r,this.authService=s,this.route=o,this.semanticPathService=a,this.total$=this.productSearchService.getResults().pipe(x(c=>!!c?.pagination),E(c=>c.pagination?.totalResults??0)),this.pageType=be.CONTENT_PAGE,this.pageTemplate="SearchResultsListPageTemplate"}resolveBreadcrumbs(){return Pe([this.translation.translate("common.home"),this.translation.translate("myCoupons.myCoupons"),this.authService.isUserLoggedIn()]).pipe(E(([n,r,s])=>{let o=[];return o.push({label:n,link:"/"}),s&&o.push({label:r,link:this.semanticPathService.transform({cxRoute:"coupons"})}),o}))}resolveTitle(){return this.total$.pipe(N(n=>this.translation.translate("pageMetaResolver.search.findProductTitle",{count:n,coupon:this.couponCode})))}getScore(n){return super.getScore(n)+(this.couponCode?1:-1)}get couponCode(){return this.route.snapshot?.queryParams?.couponcode}};e.\u0275fac=function(r){return new(r||e)(d(Yc),d(vr),d(Bn),d(Br),d(xc))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),NY=(()=>{let e=class e extends Xt{constructor(n,r,s,o,a){super(),this.routingService=n,this.productService=r,this.translation=s,this.basePageMetaResolver=o,this.pageLinkService=a,this.product$=this.routingService.getRouterState().pipe(E(c=>c.state.params.productCode),x(c=>!!c),N(c=>this.productService.get(c,"details")),x(yn)),this.pageType=be.PRODUCT_PAGE}resolveHeading(){return this.product$.pipe(N(n=>this.translation.translate("pageMetaResolver.product.heading",{heading:n.name})))}resolveTitle(){return this.product$.pipe(N(n=>{let r=n.name;return r+=this.resolveFirstCategory(n),r+=this.resolveManufacturer(n),this.translation.translate("pageMetaResolver.product.title",{title:r})}))}resolveDescription(){return this.product$.pipe(N(n=>this.translation.translate("pageMetaResolver.product.description",{description:n.summary})))}resolveBreadcrumbs(){return Pe([this.product$.pipe(),this.translation.translate("common.home")]).pipe(E(([n,r])=>{let s=[];s.push({label:r,link:"/"});for(let{name:o,code:a,url:c}of n.categories||[])s.push({label:o||a,link:c});return s}))}resolveImage(){return this.product$.pipe(E(n=>n.images?.PRIMARY?.zoom?.url??null))}resolveFirstCategory(n){let r=n?.categories?.[0];return r?` | ${r.name||r.code}`:""}resolveManufacturer(n){return n.manufacturer?` | ${n.manufacturer}`:""}resolveRobots(){return this.basePageMetaResolver.resolveRobots()}resolveCanonicalUrl(){return this.product$.pipe(N(n=>this.findBaseProduct(n)),E(n=>{let r=this.routingService.getFullUrl({cxRoute:"product",params:n});return this.pageLinkService.getCanonicalUrl({},r)}))}findBaseProduct(n){return n?.baseProduct?this.productService.get(n.baseProduct,"list").pipe(x(yn),N(r=>this.findBaseProduct(r))):I(n)}};e.\u0275fac=function(r){return new(r||e)(d(wi),d(RY),d(vr),d(ag),d(mP))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),OY=(()=>{let e=class e extends Xt{constructor(n,r,s,o){super(),this.routingService=n,this.productSearchService=r,this.translation=s,this.basePageMetaResolver=o,this.total$=this.productSearchService.getResults().pipe(x(a=>!!a?.pagination),E(a=>a.pagination?.totalResults)),this.query$=this.routingService.getRouterState().pipe(E(a=>a.state.params.query)),this.pageType=be.CONTENT_PAGE,this.pageTemplate="SearchResultsListPageTemplate"}resolveTitle(){let n=[this.total$,this.query$];return Pe(n).pipe(N(([r,s])=>this.translation.translate("pageMetaResolver.search.default_title").pipe(G(o=>this.translation.translate("pageMetaResolver.search.title",{count:r,query:s||o})))))}resolveRobots(){return this.basePageMetaResolver.resolveRobots()}resolveCanonicalUrl(){return this.basePageMetaResolver.resolveCanonicalUrl()}};e.\u0275fac=function(r){return new(r||e)(d(wi),d(Yc),d(vr),d(ag))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function PY(){return{state:{ssrTransfer:{keys:{[yD]:Vo.TRANSFER_STATE}}}}}var FY=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({providers:[$o(PY),bY],imports:[Ze,ur.forFeature(yD,HP,{metaReducers:TY}),$r.forFeature(mY)]});let t=e;return t})(),_Y=[{provide:Xt,useExisting:NY,multi:!0},{provide:Xt,useExisting:MY,multi:!0},{provide:Xt,useExisting:OY,multi:!0},{provide:Xt,useExisting:xY,multi:!0}],Oue=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[..._Y]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({imports:[FY,dY]});let t=e;return t})(),zP=(()=>{let e=class e{constructor(n){this.adapter=n}getAll(n){return this.adapter.loadAll(n)}add(n,r){return this.adapter.add(n,r)}update(n,r,s){return this.adapter.update(n,r,s)}verify(n,r){return this.adapter.verify(n,r)}delete(n,r){return this.adapter.delete(n,r)}};e.\u0275fac=function(r){return new(r||e)(d(bp))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),LY=(()=>{let e=class e{constructor(n){this.adapter=n}loadConsents(n){return this.adapter.loadConsents(n)}giveConsent(n,r,s){return this.adapter.giveConsent(n,r,s)}withdrawConsent(n,r,s){return this.adapter.withdrawConsent(n,r,s)}};e.\u0275fac=function(r){return new(r||e)(d(wp))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),kY=(()=>{let e=class e{constructor(n){this.adapter=n}getActiveList(n){return this.adapter.loadActiveList(n)}};e.\u0275fac=function(r){return new(r||e)(d(Tp))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),UY=(()=>{let e=class e{constructor(n){this.adapter=n}getCustomerCoupons(n,r,s,o){return this.adapter.getCustomerCoupons(n,r,s,o)}turnOnNotification(n,r){return this.adapter.turnOnNotification(n,r)}turnOffNotification(n,r){return this.adapter.turnOffNotification(n,r)}claimCustomerCoupon(n,r){return this.adapter.claimCustomerCoupon(n,r)}disclaimCustomerCoupon(n,r){return this.adapter.disclaimCustomerCoupon(n,r)}};e.\u0275fac=function(r){return new(r||e)(d(Ap))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),jY=(()=>{let e=class e{constructor(n){this.adapter=n}getInterests(n,r,s,o,a,c){return this.adapter.getInterests(n,r,s,o,a,c)}removeInterest(n,r){return this.adapter.removeInterest(n,r)}addInterest(n,r,s){return this.adapter.addInterest(n,r,s)}};e.\u0275fac=function(r){return new(r||e)(d(Rp))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),$Y=(()=>{let e=class e{constructor(n){this.adapter=n}getAll(n){return this.adapter.loadAll(n)}delete(n,r){return this.adapter.delete(n,r)}setDefault(n,r){return this.adapter.setDefault(n,r)}};e.\u0275fac=function(r){return new(r||e)(d(Mp))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),vs=class extends Yr{},BY=(()=>{let e=class e extends vs{};e.type="UpdateUserAddressEvent";let t=e;return t})(),VY=(()=>{let e=class e extends vs{};e.type="DeleteUserAddressEvent";let t=e;return t})(),HY=(()=>{let e=class e extends vs{};e.type="AddUserAddressEvent";let t=e;return t})(),Pue=(()=>{let e=class e extends vs{};e.type="LoadUserAddressesEvent";let t=e;return t})(),Fue=(()=>{let e=class e extends vs{};e.type="LoadUserPaymentMethodsEvent";let t=e;return t})(),GP=(()=>{let e=class e{constructor(n){this.stateEventService=n,this.register()}register(){this.updateUserAddressEvent(),this.deleteUserAddressEvent(),this.addUserAddressEvent()}updateUserAddressEvent(){this.stateEventService.register({action:Xp,event:BY})}addUserAddressEvent(){this.stateEventService.register({action:Jp,event:HY})}deleteUserAddressEvent(){this.stateEventService.register({action:eg,event:VY})}};e.\u0275fac=function(r){return new(r||e)(d(kN))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),zY=(()=>{let e=class e{constructor(n){}};e.\u0275fac=function(r){return new(r||e)(d(GP))},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})();var _ue=(()=>{let e=class e{constructor(n,r){this.store=n,this.userIdService=r}loadCustomerCoupons(n,r,s){this.userIdService.takeUserId().subscribe(o=>{this.store.dispatch(new Wf({userId:o,pageSize:n,currentPage:r,sort:s}))})}getCustomerCoupons(n){return Pe([this.store.pipe(M(rg)),this.getClaimCustomerCouponResultLoading()]).pipe(x(([,r])=>!r),L(([r])=>{r.loading||r.success||r.error||this.loadCustomerCoupons(n)}),E(([r])=>r.value),x(yn))}getCustomerCouponsLoaded(){return this.store.pipe(M(i4))}getCustomerCouponsLoading(){return this.store.pipe(M(s4))}subscribeCustomerCoupon(n){this.userIdService.takeUserId().subscribe(r=>{this.store.dispatch(new Kf({userId:r,couponCode:n}))})}getSubscribeCustomerCouponResultLoading(){return this.store.pipe(M(Ci(ps)))}getSubscribeCustomerCouponResultSuccess(){return this.store.pipe(M(zr(ps)))}getSubscribeCustomerCouponResultError(){return this.store.pipe(M(Ei(ps)))}unsubscribeCustomerCoupon(n){this.userIdService.takeUserId().subscribe(r=>{this.store.dispatch(new Jf({userId:r,couponCode:n}))})}getUnsubscribeCustomerCouponResultLoading(){return this.store.pipe(M(Ci(gs)))}getUnsubscribeCustomerCouponResultSuccess(){return this.store.pipe(M(zr(gs)))}getUnsubscribeCustomerCouponResultError(){return this.store.pipe(M(Ei(gs)))}claimCustomerCoupon(n){this.userIdService.takeUserId().subscribe(r=>{this.store.dispatch(new th({userId:r,couponCode:n}))})}disclaimCustomerCoupon(n){this.userIdService.takeUserId().subscribe(r=>{this.store.dispatch(new nh({userId:r,couponCode:n}))})}resetDisclaimCustomerCoupon(){this.store.dispatch(new rh)}getClaimCustomerCouponResultSuccess(){return this.store.pipe(M(zr(xo)))}getClaimCustomerCouponResultLoading(){return this.store.pipe(M(Ci(xo)))}getDisclaimCustomerCouponResultSuccess(){return this.store.pipe(M(zr(_o)))}getClaimCustomerCouponResultError(){return this.store.pipe(M(Ei(xo)))}getDisclaimCustomerCouponResultError(){return this.store.pipe(M(Ei(_o)))}};e.\u0275fac=function(r){return new(r||e)(d(me),d(jn))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),GY=(()=>{let e=class e{constructor(n,r,s,o){this.store=n,this.userIdService=r,this.userAddressConnector=s,this.command=o,this.userAddressVerificationCommand=this.command.create(a=>this.userIdService.takeUserId(!1).pipe(N(c=>this.userAddressConnector.verify(c,a.address))))}loadAddresses(){this.userIdService.takeUserId().subscribe(n=>{this.store.dispatch(new Vh(n))})}addUserAddress(n){this.userIdService.takeUserId().subscribe(r=>{this.store.dispatch(new Gh({userId:r,address:n}))})}setAddressAsDefault(n){this.userIdService.takeUserId().subscribe(r=>{this.store.dispatch(new Sc({userId:r,addressId:n,address:{defaultAddress:!0}}))})}updateUserAddress(n,r){this.userIdService.takeUserId().subscribe(s=>{this.store.dispatch(new Sc({userId:s,addressId:n,address:r}))})}deleteUserAddress(n){this.userIdService.takeUserId().subscribe(r=>{this.store.dispatch(new Zh({userId:r,addressId:n}))})}getAddresses(){return this.store.pipe(M(y4))}getAddressesLoading(){return this.store.pipe(M(E4))}getAddressesLoadedSuccess(){return this.store.pipe(M(C4))}loadDeliveryCountries(){this.store.dispatch(new ch)}getDeliveryCountries(){return this.store.pipe(M(a4))}getCountry(n){return this.store.pipe(M(c4(n)))}loadRegions(n){this.store.dispatch(new Uh(n))}clearRegions(){this.store.dispatch(new Bh)}getRegions(n){return this.store.pipe(M(v4),E(({regions:r,country:s,loading:o,loaded:a})=>!n&&(o||a)?(this.clearRegions(),[]):o&&!a?[]:!o&&n!==s&&n?(s&&this.clearRegions(),this.loadRegions(n),[]):r))}verifyAddress(n){return this.userAddressVerificationCommand.execute({address:n})}};e.\u0275fac=function(r){return new(r||e)(d(me),d(jn),d(zP),d(S5))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Lue=(()=>{let e=class e{constructor(n,r){this.store=n,this.userIdService=r}loadProductInterests(n,r,s,o,a){this.userIdService.takeUserId().subscribe(c=>{this.store.dispatch(new ko({userId:c,pageSize:n,currentPage:r,sort:s,productCode:o,notificationType:a}))})}getProductInterests(){return this.store.pipe(M(g4))}getAndLoadProductInterests(n){return this.store.pipe(M(sD),L(r=>{r.loading||r.success||r.error||this.loadProductInterests(n)}),E(r=>r.value),x(yn))}getProdutInterestsLoading(){return this.store.pipe(M(m4))}removeProdutInterest(n,r){this.userIdService.takeUserId().subscribe(s=>{this.store.dispatch(new Mh({userId:s,item:n,singleDelete:r}))})}getRemoveProdutInterestLoading(){return this.store.pipe(M(Ci(Fo)))}getRemoveProdutInterestSuccess(){return this.store.pipe(M(zr(Fo)))}addProductInterest(n,r){this.userIdService.takeUserId().subscribe(s=>{this.store.dispatch(new Oh({userId:s,productCode:n,notificationType:r}))})}getAddProductInterestSuccess(){return this.store.pipe(M(zr(Po)))}getAddProductInterestError(){return this.store.pipe(M(Ei(Po)))}resetAddInterestState(){this.store.dispatch(new _h)}resetRemoveInterestState(){this.store.dispatch(new Lh)}clearProductInterests(){this.store.dispatch(new kh)}};e.\u0275fac=function(r){return new(r||e)(d(me),d(jn))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),kue=(()=>{let e=class e{constructor(n,r){this.store=n,this.userIdService=r}getPreferences(){return this.store.pipe(M(u4))}getEnabledPreferences(){return this.store.pipe(M(l4))}loadPreferences(){this.userIdService.takeUserId().subscribe(n=>{this.store.dispatch(new dh(n))})}clearPreferences(){this.store.dispatch(new yh)}getPreferencesLoading(){return this.store.pipe(M(d4))}updatePreferences(n){this.userIdService.takeUserId().subscribe(r=>{this.store.dispatch(new ph({userId:r,preferences:n}))})}getUpdatePreferencesResultLoading(){return this.store.select(Ci(_c))}resetNotificationPreferences(){this.store.dispatch(new vh)}};e.\u0275fac=function(r){return new(r||e)(d(me),d(jn))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Uue=(()=>{let e=class e{constructor(n,r){this.store=n,this.userIdService=r}loadPaymentMethods(){this.userIdService.takeUserId().subscribe(n=>{this.store.dispatch(new Lo(n))})}getPaymentMethods(){return this.store.pipe(M(f4))}getPaymentMethodsLoading(){return this.store.pipe(M(h4))}getPaymentMethodsLoadedSuccess(){return this.store.pipe(M(p4))}setPaymentMethodAsDefault(n){this.userIdService.takeUserId().subscribe(r=>{this.store.dispatch(new Sh({userId:r,paymentMethodId:n}))})}deletePaymentMethod(n){this.userIdService.takeUserId().subscribe(r=>{this.store.dispatch(new bh({userId:r,paymentMethodId:n}))})}getAllBillingCountries(){return this.store.pipe(M(r4))}loadBillingCountries(){this.store.dispatch(new Hf)}};e.\u0275fac=function(r){return new(r||e)(d(me),d(jn))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Px=class{},WY=(()=>{let e=class e{constructor(n,r){this.actions$=n,this.siteConnector=r,this.logger=C(Q),this.loadBillingCountries$=W(()=>this.actions$.pipe(V(lI),N(()=>this.siteConnector.getCountries(OS.BILLING).pipe(E(s=>new Gf(s)),F(s=>I(new zf(Y(s,this.logger))))))))}};e.\u0275fac=function(r){return new(r||e)(d(Me),d(zo))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),qY=(()=>{let e=class e{constructor(n){this.actions$=n,this.clearMiscsData$=W(()=>this.actions$.pipe(V($n,Oc),E(()=>new hp)))}};e.\u0275fac=function(r){return new(r||e)(d(Me))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),YY=(()=>{let e=class e{constructor(n,r){this.actions$=n,this.customerCouponConnector=r,this.logger=C(Q),this.loadCustomerCoupons$=W(()=>this.actions$.pipe(V(fI),E(s=>s.payload),G(s=>this.customerCouponConnector.getCustomerCoupons(s.userId,s.pageSize,s.currentPage,s.sort).pipe(E(o=>new Yf(o)),F(o=>I(new qf(Y(o,this.logger)))))))),this.subscribeCustomerCoupon$=W(()=>this.actions$.pipe(V(pI),E(s=>s.payload),G(s=>this.customerCouponConnector.turnOnNotification(s.userId,s.couponCode).pipe(E(o=>new Qf(o)),F(o=>I(new Zf(Y(o,this.logger)))))))),this.unsubscribeCustomerCoupon$=W(()=>this.actions$.pipe(V(mI),E(s=>s.payload),G(s=>this.customerCouponConnector.turnOffNotification(s.userId,s.couponCode).pipe(E(()=>new eh(s.couponCode)),F(o=>I(new Xf(Y(o,this.logger)))))))),this.claimCustomerCoupon$=W(()=>this.actions$.pipe(V(yI),E(s=>s.payload),G(s=>this.customerCouponConnector.claimCustomerCoupon(s.userId,s.couponCode).pipe(E(o=>new ah(o)),F(o=>I(new oh(Y(o,this.logger)))))))),this.disclaimCustomerCoupon$=W(()=>this.actions$.pipe(V(EI),E(s=>s.payload),G(s=>this.customerCouponConnector.disclaimCustomerCoupon(s.userId,s.couponCode).pipe(E(o=>new sh(o)),F(o=>I(new ih(Y(o,this.logger))))))))}};e.\u0275fac=function(r){return new(r||e)(d(Me),d(UY))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),KY=(()=>{let e=class e{constructor(n,r){this.actions$=n,this.siteConnector=r,this.logger=C(Q),this.loadDeliveryCountries$=W(()=>this.actions$.pipe(V(CI),N(()=>this.siteConnector.getCountries(OS.SHIPPING).pipe(E(s=>new lh(s)),F(s=>I(new uh(Y(s,this.logger))))))))}};e.\u0275fac=function(r){return new(r||e)(d(Me),d(zo))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),ZY=(()=>{let e=class e{constructor(n,r){this.actions$=n,this.connector=r,this.logger=C(Q),this.loadPreferences$=W(()=>this.actions$.pipe(V(II),E(s=>s.payload),N(s=>this.connector.loadAll(s).pipe(E(o=>new hh(o)),F(o=>I(new fh(Y(o,this.logger)))))))),this.updatePreferences$=W(()=>this.actions$.pipe(V(wI),E(s=>s.payload),G(s=>this.connector.update(s.userId,s.preferences).pipe(E(()=>new mh(s.preferences)),F(o=>I(new gh(Y(o,this.logger))))))))}};e.\u0275fac=function(r){return new(r||e)(d(Me),d(_W))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),QY=(()=>{let e=class e{constructor(n,r,s){this.actions$=n,this.userPaymentMethodConnector=r,this.globalMessageService=s,this.logger=C(Q),this.loadUserPaymentMethods$=W(()=>this.actions$.pipe(V(AI),E(o=>o.payload),G(o=>this.userPaymentMethodConnector.getAll(o).pipe(E(a=>new Ch(a)),F(a=>I(new Eh(Y(a,this.logger)))))))),this.setDefaultUserPaymentMethod$=W(()=>this.actions$.pipe(V(xI),E(o=>o.payload),G(o=>this.userPaymentMethodConnector.setDefault(o.userId,o.paymentMethodId).pipe(N(a=>[new Dh(a),new Lo(o.userId)]),F(a=>I(new Ih(Y(a,this.logger)))))))),this.deleteUserPaymentMethod$=W(()=>this.actions$.pipe(V(NI),E(o=>o.payload),G(o=>this.userPaymentMethodConnector.delete(o.userId,o.paymentMethodId).pipe(N(a=>(this.globalMessageService.add({key:"paymentCard.deletePaymentSuccess"},ke.MSG_TYPE_CONFIRMATION),[new Th(a),new Lo(o.userId)])),F(a=>I(new wh(Y(a,this.logger))))))))}};e.\u0275fac=function(r){return new(r||e)(d(Me),d($Y),d(Ho))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),JY=(()=>{let e=class e{constructor(n,r){this.actions$=n,this.userInterestsConnector=r,this.logger=C(Q),this.loadProductInteres$=W(()=>this.actions$.pipe(V(OI),E(s=>s.payload),N(s=>this.userInterestsConnector.getInterests(s.userId,s.pageSize,s.currentPage,s.sort,s.productCode,s.notificationType).pipe(E(o=>new Rh(o)),F(o=>I(new Ah(Y(o,this.logger)))))))),this.removeProductInterest$=W(()=>this.actions$.pipe(V(_I),E(s=>s.payload),N(s=>this.userInterestsConnector.removeInterest(s.userId,s.item).pipe(N(o=>[new ko(s.singleDelete?{userId:s.userId,productCode:s.item.product?.code,notificationType:s.item.productInterestEntry?.[0].interestType}:{userId:s.userId}),new xh(o)]),F(o=>I(new Nh(Y(o,this.logger)))))))),this.addProductInterest$=W(()=>this.actions$.pipe(V(LI),E(s=>s.payload),N(s=>this.userInterestsConnector.addInterest(s.userId,s.productCode,s.notificationType).pipe(N(o=>[new ko({userId:s.userId,productCode:s.productCode,notificationType:s.notificationType}),new Ph(o)]),F(o=>I(new Fh(Y(o,this.logger))))))))}};e.\u0275fac=function(r){return new(r||e)(d(Me),d(jY))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),XY=(()=>{let e=class e{constructor(n,r){this.actions$=n,this.siteConnector=r,this.logger=C(Q),this.loadRegions$=W(()=>this.actions$.pipe(V(kI),E(s=>s.payload),N(s=>this.siteConnector.getRegions(s).pipe(E(o=>new $h({entities:o,country:s})),F(o=>I(new jh(Y(o,this.logger)))))))),this.resetRegions$=W(()=>this.actions$.pipe(V(Bc,jI),E(()=>new Wr(kc))))}};e.\u0275fac=function(r){return new(r||e)(d(Me),d(zo))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),e9=(()=>{let e=class e{constructor(n,r,s,o){this.actions$=n,this.userAddressConnector=r,this.userAddressService=s,this.messageService=o,this.logger=C(Q),this.loadUserAddresses$=W(()=>this.actions$.pipe(V($I),E(a=>a.payload),N(a=>this.userAddressConnector.getAll(a).pipe(E(c=>new zh(c)),F(c=>I(new Hh(Y(c,this.logger)))))))),this.addUserAddress$=W(()=>this.actions$.pipe(V(Jp),E(a=>a.payload),G(a=>this.userAddressConnector.add(a.userId,a.address).pipe(E(c=>new qh(c)),F(c=>I(new Wh(Y(c,this.logger)))))))),this.updateUserAddress$=W(()=>this.actions$.pipe(V(Xp),E(a=>a.payload),G(a=>this.userAddressConnector.update(a.userId,a.addressId,a.address).pipe(E(()=>new Kh(a)),F(c=>(this.showGlobalMessage("addressForm.invalidAddress",ke.MSG_TYPE_ERROR),I(new Yh(Y(c,this.logger))))))))),this.deleteUserAddress$=W(()=>this.actions$.pipe(V(eg),E(a=>a.payload),G(a=>this.userAddressConnector.delete(a.userId,a.addressId).pipe(E(c=>new Jh(c)),F(c=>I(new Qh(Y(c,this.logger)))))))),this.showGlobalMessageOnAddSuccess$=W(()=>this.actions$.pipe(V(HI),L(()=>{this.loadAddresses(),this.showGlobalMessage("addressForm.userAddressAddSuccess")})),{dispatch:!1}),this.showGlobalMessageOnUpdateSuccess$=W(()=>this.actions$.pipe(V(zI),E(a=>a.payload),L(a=>{this.loadAddresses(),(Object.keys(a?.address).length!==1||!a?.address?.defaultAddress)&&this.showGlobalMessage("addressForm.userAddressUpdateSuccess")})),{dispatch:!1}),this.showGlobalMessageOnDeleteSuccess$=W(()=>this.actions$.pipe(V(GI),L(()=>{this.loadAddresses(),this.showGlobalMessage("addressForm.userAddressDeleteSuccess")})),{dispatch:!1})}showGlobalMessage(n,r){this.messageService.add({key:n},r??ke.MSG_TYPE_CONFIRMATION)}loadAddresses(){this.userAddressService.loadAddresses()}};e.\u0275fac=function(r){return new(r||e)(d(Me),d(zP),d(GY),d(Ho))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),t9=(()=>{let e=class e{constructor(n,r){this.actions$=n,this.userConsentConnector=r,this.logger=C(Q),this.resetConsents$=W(()=>this.actions$.pipe(V($n),E(()=>new Ic))),this.getConsents$=W(()=>this.actions$.pipe(V(WI),E(s=>s.payload),Ue(s=>this.userConsentConnector.loadConsents(s).pipe(E(o=>new np(o)),F(o=>I(new tp(Y(o,this.logger)))))))),this.giveConsent$=W(()=>this.actions$.pipe(V(YI,Xh),Ue(s=>this.userConsentConnector.giveConsent(s.payload.userId,s.payload.consentTemplateId??"",s.payload.consentTemplateVersion??0).pipe(E(o=>new ip(o)),F(o=>{let a=[new rp(Y(o,this.logger))];return s.type===Xh&&o.status===409&&a.push(new Vf(ke.MSG_TYPE_ERROR)),I(...a)}))))),this.withdrawConsent$=W(()=>this.actions$.pipe(V(ZI),E(s=>s.payload),Ue(({userId:s,consentCode:o,consentId:a})=>this.userConsentConnector.withdrawConsent(s,o,a).pipe(E(()=>new up),F(c=>I(new cp(Y(c,this.logger))))))))}};e.\u0275fac=function(r){return new(r||e)(d(Me),d(LY))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),n9=(()=>{let e=class e{constructor(n,r){this.actions$=n,this.userCostCenterConnector=r,this.logger=C(Q),this.loadActiveCostCenters$=W(()=>this.actions$.pipe(V(QI),E(s=>s.payload),N(s=>this.userCostCenterConnector.getActiveList(s).pipe(E(o=>new fp(o.values)),F(o=>I(new dp(Y(o,this.logger))))))))}};e.\u0275fac=function(r){return new(r||e)(d(Me),d(kY))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),r9=[qY,KY,XY,e9,QY,WY,t9,YY,ZY,JY,n9],Fx={entities:{}};function i9(t=Fx,e){switch(e.type){case dI:{let n=e.payload.reduce((r,s)=>T(v({},r),{[s.isocode]:s}),v({},t.entities));return T(v({},t),{entities:n})}case Bc:return Fx}return t}var s9={coupons:[],sorts:[],pagination:{}};function o9(t=s9,e){switch(e.type){case hI:return e.payload;case gI:{let i=e.payload.coupon,n=new Array(t.coupons?.length??0);return t.coupons?.forEach((r,s)=>i&&r.couponId===i.couponId?n[s]=i:n[s]=r),T(v({},t),{coupons:n})}case vI:{let i=e.payload,n=new Array(t.coupons?.length??0);return t.coupons?.forEach((r,s)=>r.couponId===i?n[s]=T(v({},r),{notificationOn:!1}):n[s]=r),T(v({},t),{coupons:n})}}return t}var _x={entities:{}};function a9(t=_x,e){switch(e.type){case SI:{let n=e.payload.reduce((r,s)=>T(v({},r),{[s.isocode??""]:s}),v({},t.entities));return T(v({},t),{entities:n})}case Bc:return _x}return t}var lC=[];function c9(t=lC,e){switch(e.type){case DI:return lC;case bI:case TI:return e.payload?e.payload:lC}return t}var dC=[];function u9(t=dC,e){switch(e.type){case MI:return e.payload?e.payload:dC;case RI:return dC}return t}var fC={results:[],pagination:{},sorts:[]};function l9(t=fC,e){switch(e.type){case FI:return e.payload?e.payload:fC;case PI:return fC}return t}var Lx={entities:[],country:null};function d9(t=Lx,e){switch(e.type){case UI:{let i=e.payload.entities,n=e.payload.country;return i||n?T(v({},t),{entities:i,country:n}):Lx}}return t}var hC=[];function f9(t=hC,e){switch(e.type){case BI:return hC;case VI:return e.payload?e.payload:hC}return t}var kx=[];function h9(t=kx,e){switch(e.type){case qI:{let i=e.payload;return i||kx}case KI:{let i=e.consentTemplate;return t.map(n=>n.id===i.id?i:n)}}return t}var pC=[];function p9(t=pC,e){switch(e.type){case JI:return pC;case XI:return e.payload?e.payload:pC}return t}function g9(){return{addresses:at(tn,f9),billingCountries:i9,consents:at(Lc,h9),payments:at(Er,u9),countries:a9,regions:at(kc,d9),customerCoupons:at(Uc,o9),notificationPreferences:at(jc,c9),productInterests:at($c,l9),costCenters:at(Qp,p9)}}var WP=new S("UserReducers"),m9={provide:WP,useFactory:g9};function v9(t){return function(e,i){return i.type===Kr&&(e=void 0),t(e,i)}}var y9=[v9],E9=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({providers:[m9],imports:[Ze,Ti,ur.forFeature(GN,WP,{metaReducers:y9}),$r.forFeature(r9),TM]});let t=e;return t})(),jue=(()=>{let e=class e{static forRoot(){return{ngModule:e}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({providers:[GP],imports:[E9,zY]});let t=e;return t})();export{v as a,T as b,fg as c,C9 as d,nt as e,Ee as f,z as g,re as h,Te as i,rn as j,wg as k,ni as l,h_ as m,he as n,R7 as o,M7 as p,sn as q,pe as r,I as s,Mt as t,Zn as u,E as v,Pe as w,G as x,Wn as y,qn as z,qe as A,Au as B,Xo as C,ea as D,Wt as E,I_ as F,on as G,Ag as H,x as I,Rg as J,xs as K,w_ as L,F as M,Ue as N,i_ as O,Fi as P,oe as Q,vu as R,Yn as S,s_ as T,an as U,a_ as V,eb as W,A_ as X,Sn as Y,Rt as Z,ii as _,na as $,R_ as aa,_i as ba,Os as ca,ht as da,Ig as ea,Nu as fa,Kn as ga,N as ha,ra as ia,u_ as ja,L as ka,M_ as la,rt as ma,j as na,uw as oa,m as pa,$ as qa,S as ra,d as sa,C as ta,dv as ua,ln as va,cn as wa,bw as xa,B as ya,Ot as za,Yt as Aa,rr as Ba,li as Ca,Uie as Da,jie as Ea,We as Fa,Tv as Ga,Ye as Ha,ir as Ia,pt as Ja,$e as Ka,fn as La,$ie as Ma,Bie as Na,iU as Oa,Vie as Pa,Hie as Qa,zie as Ra,X as Sa,Rn as Ta,Fm as Ua,cl as Va,Ul as Wa,Wi as Xa,Js as Ya,Ce as Za,Vt as _a,p1 as $a,b1 as ab,Jv as bb,B1 as cb,b0 as db,V1 as eb,Yie as fb,Kie as gb,Zie as hb,O0 as ib,P0 as jb,ty as kb,F0 as lb,_0 as mb,t$ as nb,Qie as ob,r$ as pb,ny as qb,Jie as rb,Xie as sb,ese as tb,d$ as ub,k0 as vb,U0 as wb,tse as xb,j0 as yb,$0 as zb,nse as Ab,rse as Bb,p$ as Cb,B0 as Db,g$ as Eb,m$ as Fb,v$ as Gb,ise as Hb,y$ as Ib,sse as Jb,ose as Kb,ase as Lb,cse as Mb,use as Nb,lse as Ob,dse as Pb,fse as Qb,hse as Rb,pse as Sb,gse as Tb,mse as Ub,vse as Vb,yse as Wb,eo as Xb,bt as Yb,to as Zb,Ji as _b,ge as $b,Pr as ac,cy as bc,xa as cc,hi as dc,_e as ec,ar as fc,wt as gc,ad as hc,or as ic,kse as jc,Use as kc,IB as lc,jse as mc,$se as nc,Bse as oc,Vse as pc,wA as qc,Hse as rc,zse as sc,Gse as tc,Wse as uc,qse as vc,Yse as wc,Kse as xc,AA as yc,Zse as zc,Ze as Ac,On as Bc,Xi as Cc,RA as Dc,le as Ec,My as Fc,ze as Gc,io as Hc,es as Ic,zt as Jc,Le as Kc,pn as Lc,coe as Mc,uoe as Nc,loe as Oc,Ioe as Pc,Doe as Qc,Vy as Rc,ZA as Sc,bV as Tc,pi as Uc,oo as Vc,jr as Wc,so as Xc,me as Yc,M as Zc,A as _c,Pn as $c,ur as ad,koe as bd,Uoe as cd,W as dd,Me as ed,V as fd,$r as gd,mn as hd,st as id,vn as jd,Md as kd,Br as ld,lH as md,ac as nd,Ne as od,HR as pd,fae as qd,TM as rd,Qd as sd,gf as td,yt as ud,kt as vd,wc as wd,jo as xd,fx as yd,kn as zd,$o as Ad,be as Bd,LG as Cd,kG as Dd,Oo as Ed,vf as Fd,UG as Gd,jG as Hd,$G as Id,Nce as Jd,To as Kd,Ao as Ld,p8 as Md,Oce as Nd,Pce as Od,jn as Pd,m8 as Qd,mc as Rd,Zr as Sd,yr as Td,Bp as Ud,bi as Vd,vN as Wd,Mc as Xd,Q as Yd,zp as Zd,xc as _d,CN as $d,wi as ae,QS as be,yn as ce,yc as de,Si as ee,ys as fe,Es as ge,qr as he,w8 as ie,_ce as je,Cs as ke,U8 as le,Bn as me,Fc as ne,jC as oe,kce as pe,Ec as qe,HC as re,Qe as se,Mo as te,Yp as ue,Ti as ve,Y as we,Ln as xe,Ii as ye,Yr as ze,Cx as Ae,a3 as Be,Ss as Ce,kN as De,ke as Ee,Ho as Fe,f3 as Ge,Uce as He,C3 as Ie,jce as Je,HN as Ke,ae as Le,$ce as Me,Bce as Ne,R3 as Oe,tD as Pe,tg as Qe,Vce as Re,Hce as Se,zce as Te,LO as Ue,Vc as Ve,kO as We,V3 as Xe,H3 as Ye,vp as Ze,Je as _e,Wce as $e,ms as af,GO as bf,qce as cf,Yce as df,Ai as ef,Hc as ff,QO as gf,aC as hf,kW as if,Kce as jf,T4 as kf,wx as lf,Tx as mf,xp as nf,aD as of,dq as pf,nue as qf,og as rf,Xt as sf,vr as tf,ag as uf,qq as vf,gD as wf,mD as xf,rue as yf,iue as zf,sue as Af,u6 as Bf,oue as Cf,aue as Df,cue as Ef,Qr as Ff,vt as Gf,vD as Hf,uue as If,Do as Jf,S5 as Kf,lue as Lf,due as Mf,fue as Nf,hue as Of,pue as Pf,gue as Qf,mue as Rf,vue as Sf,yue as Tf,Eue as Uf,Cue as Vf,Mx as Wf,T5 as Xf,Sue as Yf,Iue as Zf,M5 as _f,Due as $f,bue as ag,L5 as bg,k5 as cg,wue as dg,Tue as eg,U5 as fg,Aue as gg,$5 as hg,H5 as ig,Yc as jg,Mue as kg,xue as lg,RY as mg,Nue as ng,Oue as og,vs as pg,BY as qg,VY as rg,Pue as sg,Fue as tg,_ue as ug,GY as vg,Lue as wg,kue as xg,Uue as yg,Px as zg,jue as Ag};
