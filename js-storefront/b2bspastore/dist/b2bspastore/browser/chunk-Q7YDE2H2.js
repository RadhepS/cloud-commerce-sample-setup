var PF=Object.create;var hg=Object.defineProperty,FF=Object.defineProperties,_F=Object.getOwnPropertyDescriptor,LF=Object.getOwnPropertyDescriptors,kF=Object.getOwnPropertyNames,Jc=Object.getOwnPropertySymbols,DD=Object.getPrototypeOf,pg=Object.prototype.hasOwnProperty,bD=Object.prototype.propertyIsEnumerable,UF=Reflect.get;var ID=(t,e,i)=>e in t?hg(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,v=(t,e)=>{for(var i in e||={})pg.call(e,i)&&ID(t,i,e[i]);if(Jc)for(var i of Jc(e))bD.call(e,i)&&ID(t,i,e[i]);return t},T=(t,e)=>FF(t,LF(e));var wD=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,i)=>(typeof require<"u"?require:e)[i]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var gg=(t,e)=>{var i={};for(var n in t)pg.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(t!=null&&Jc)for(var n of Jc(t))e.indexOf(n)<0&&bD.call(t,n)&&(i[n]=t[n]);return i};var TD=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var jF=(t,e,i,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of kF(e))!pg.call(t,r)&&r!==i&&hg(t,r,{get:()=>e[r],enumerable:!(n=_F(e,r))||n.enumerable});return t};var $F=(t,e,i)=>(i=t!=null?PF(DD(t)):{},jF(e||!t||!t.__esModule?hg(i,"default",{value:t,enumerable:!0}):i,t));var A9=(t,e,i)=>UF(DD(t),i,e);var rt=(t,e,i)=>new Promise((n,r)=>{var s=c=>{try{a(i.next(c))}catch(u){r(u)}},o=c=>{try{a(i.throw(c))}catch(u){r(u)}},a=c=>c.done?n(c.value):Promise.resolve(c.value).then(s,o);a((i=i.apply(t,e)).next())});var zM=TD((yi,HM)=>{"use strict";var ef=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof global<"u"&&global,tf=function(){function t(){this.fetch=!1,this.DOMException=ef.DOMException}return t.prototype=ef,new t}();(function(t){var e=function(i){var n=typeof t<"u"&&t||typeof self<"u"&&self||typeof n<"u"&&n,r={searchParams:"URLSearchParams"in n,iterable:"Symbol"in n&&"iterator"in Symbol,blob:"FileReader"in n&&"Blob"in n&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in n,arrayBuffer:"ArrayBuffer"in n};function s(D){return D&&DataView.prototype.isPrototypeOf(D)}if(r.arrayBuffer)var o=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],a=ArrayBuffer.isView||function(D){return D&&o.indexOf(Object.prototype.toString.call(D))>-1};function c(D){if(typeof D!="string"&&(D=String(D)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(D)||D==="")throw new TypeError('Invalid character in header field name: "'+D+'"');return D.toLowerCase()}function u(D){return typeof D!="string"&&(D=String(D)),D}function l(D){var O={next:function(){var ne=D.shift();return{done:ne===void 0,value:ne}}};return r.iterable&&(O[Symbol.iterator]=function(){return O}),O}function f(D){this.map={},D instanceof f?D.forEach(function(O,ne){this.append(ne,O)},this):Array.isArray(D)?D.forEach(function(O){this.append(O[0],O[1])},this):D&&Object.getOwnPropertyNames(D).forEach(function(O){this.append(O,D[O])},this)}f.prototype.append=function(D,O){D=c(D),O=u(O);var ne=this.map[D];this.map[D]=ne?ne+", "+O:O},f.prototype.delete=function(D){delete this.map[c(D)]},f.prototype.get=function(D){return D=c(D),this.has(D)?this.map[D]:null},f.prototype.has=function(D){return this.map.hasOwnProperty(c(D))},f.prototype.set=function(D,O){this.map[c(D)]=u(O)},f.prototype.forEach=function(D,O){for(var ne in this.map)this.map.hasOwnProperty(ne)&&D.call(O,this.map[ne],ne,this)},f.prototype.keys=function(){var D=[];return this.forEach(function(O,ne){D.push(ne)}),l(D)},f.prototype.values=function(){var D=[];return this.forEach(function(O){D.push(O)}),l(D)},f.prototype.entries=function(){var D=[];return this.forEach(function(O,ne){D.push([ne,O])}),l(D)},r.iterable&&(f.prototype[Symbol.iterator]=f.prototype.entries);function h(D){if(D.bodyUsed)return Promise.reject(new TypeError("Already read"));D.bodyUsed=!0}function m(D){return new Promise(function(O,ne){D.onload=function(){O(D.result)},D.onerror=function(){ne(D.error)}})}function y(D){var O=new FileReader,ne=m(O);return O.readAsArrayBuffer(D),ne}function b(D){var O=new FileReader,ne=m(O);return O.readAsText(D),ne}function w(D){for(var O=new Uint8Array(D),ne=new Array(O.length),ye=0;ye<O.length;ye++)ne[ye]=String.fromCharCode(O[ye]);return ne.join("")}function R(D){if(D.slice)return D.slice(0);var O=new Uint8Array(D.byteLength);return O.set(new Uint8Array(D)),O.buffer}function k(){return this.bodyUsed=!1,this._initBody=function(D){this.bodyUsed=this.bodyUsed,this._bodyInit=D,D?typeof D=="string"?this._bodyText=D:r.blob&&Blob.prototype.isPrototypeOf(D)?this._bodyBlob=D:r.formData&&FormData.prototype.isPrototypeOf(D)?this._bodyFormData=D:r.searchParams&&URLSearchParams.prototype.isPrototypeOf(D)?this._bodyText=D.toString():r.arrayBuffer&&r.blob&&s(D)?(this._bodyArrayBuffer=R(D.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):r.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(D)||a(D))?this._bodyArrayBuffer=R(D):this._bodyText=D=Object.prototype.toString.call(D):this._bodyText="",this.headers.get("content-type")||(typeof D=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r.searchParams&&URLSearchParams.prototype.isPrototypeOf(D)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r.blob&&(this.blob=function(){var D=h(this);if(D)return D;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var D=h(this);return D||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(y)}),this.text=function(){var D=h(this);if(D)return D;if(this._bodyBlob)return b(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(w(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r.formData&&(this.formData=function(){return this.text().then(ue)}),this.json=function(){return this.text().then(JSON.parse)},this}var U=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function H(D){var O=D.toUpperCase();return U.indexOf(O)>-1?O:D}function te(D,O){if(!(this instanceof te))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');O=O||{};var ne=O.body;if(D instanceof te){if(D.bodyUsed)throw new TypeError("Already read");this.url=D.url,this.credentials=D.credentials,O.headers||(this.headers=new f(D.headers)),this.method=D.method,this.mode=D.mode,this.signal=D.signal,!ne&&D._bodyInit!=null&&(ne=D._bodyInit,D.bodyUsed=!0)}else this.url=String(D);if(this.credentials=O.credentials||this.credentials||"same-origin",(O.headers||!this.headers)&&(this.headers=new f(O.headers)),this.method=H(O.method||this.method||"GET"),this.mode=O.mode||this.mode||null,this.signal=O.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&ne)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(ne),(this.method==="GET"||this.method==="HEAD")&&(O.cache==="no-store"||O.cache==="no-cache")){var ye=/([?&])_=[^&]*/;if(ye.test(this.url))this.url=this.url.replace(ye,"$1_="+new Date().getTime());else{var we=/\?/;this.url+=(we.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}te.prototype.clone=function(){return new te(this,{body:this._bodyInit})};function ue(D){var O=new FormData;return D.trim().split("&").forEach(function(ne){if(ne){var ye=ne.split("="),we=ye.shift().replace(/\+/g," "),de=ye.join("=").replace(/\+/g," ");O.append(decodeURIComponent(we),decodeURIComponent(de))}}),O}function fe(D){var O=new f,ne=D.replace(/\r?\n[\t ]+/g," ");return ne.split("\r").map(function(ye){return ye.indexOf(`
`)===0?ye.substr(1,ye.length):ye}).forEach(function(ye){var we=ye.split(":"),de=we.shift().trim();if(de){var Ir=we.join(":").trim();O.append(de,Ir)}}),O}k.call(te.prototype);function Pe(D,O){if(!(this instanceof Pe))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');O||(O={}),this.type="default",this.status=O.status===void 0?200:O.status,this.ok=this.status>=200&&this.status<300,this.statusText=O.statusText===void 0?"":""+O.statusText,this.headers=new f(O.headers),this.url=O.url||"",this._initBody(D)}k.call(Pe.prototype),Pe.prototype.clone=function(){return new Pe(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},Pe.error=function(){var D=new Pe(null,{status:0,statusText:""});return D.type="error",D};var Ri=[301,302,303,307,308];Pe.redirect=function(D,O){if(Ri.indexOf(O)===-1)throw new RangeError("Invalid status code");return new Pe(null,{status:O,headers:{location:D}})},i.DOMException=n.DOMException;try{new i.DOMException}catch{i.DOMException=function(O,ne){this.message=O,this.name=ne;var ye=Error(O);this.stack=ye.stack},i.DOMException.prototype=Object.create(Error.prototype),i.DOMException.prototype.constructor=i.DOMException}function Vn(D,O){return new Promise(function(ne,ye){var we=new te(D,O);if(we.signal&&we.signal.aborted)return ye(new i.DOMException("Aborted","AbortError"));var de=new XMLHttpRequest;function Ir(){de.abort()}de.onload=function(){var He={status:de.status,statusText:de.statusText,headers:fe(de.getAllResponseHeaders()||"")};He.url="responseURL"in de?de.responseURL:He.headers.get("X-Request-URL");var sn="response"in de?de.response:de.responseText;setTimeout(function(){ne(new Pe(sn,He))},0)},de.onerror=function(){setTimeout(function(){ye(new TypeError("Network request failed"))},0)},de.ontimeout=function(){setTimeout(function(){ye(new TypeError("Network request failed"))},0)},de.onabort=function(){setTimeout(function(){ye(new i.DOMException("Aborted","AbortError"))},0)};function ht(He){try{return He===""&&n.location.href?n.location.href:He}catch{return He}}de.open(we.method,ht(we.url),!0),we.credentials==="include"?de.withCredentials=!0:we.credentials==="omit"&&(de.withCredentials=!1),"responseType"in de&&(r.blob?de.responseType="blob":r.arrayBuffer&&we.headers.get("Content-Type")&&we.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(de.responseType="arraybuffer")),O&&typeof O.headers=="object"&&!(O.headers instanceof f)?Object.getOwnPropertyNames(O.headers).forEach(function(He){de.setRequestHeader(He,u(O.headers[He]))}):we.headers.forEach(function(He,sn){de.setRequestHeader(sn,He)}),we.signal&&(we.signal.addEventListener("abort",Ir),de.onreadystatechange=function(){de.readyState===4&&we.signal.removeEventListener("abort",Ir)}),de.send(typeof we._bodyInit>"u"?null:we._bodyInit)})}return Vn.polyfill=!0,n.fetch||(n.fetch=Vn,n.Headers=f,n.Request=te,n.Response=Pe),i.Headers=f,i.Request=te,i.Response=Pe,i.fetch=Vn,i}({})})(tf);tf.fetch.ponyfill=!0;delete tf.fetch.polyfill;var So=ef.fetch?ef:tf;yi=So.fetch;yi.default=So.fetch;yi.fetch=So.fetch;yi.Headers=So.Headers;yi.Request=So.Request;yi.Response=So.Response;HM.exports=yi});var WM=TD((QE,GM)=>{"use strict";var nf;typeof fetch=="function"&&(typeof global<"u"&&global.fetch?nf=global.fetch:typeof window<"u"&&window.fetch?nf=window.fetch:nf=fetch);typeof wD<"u"&&typeof window>"u"&&(hc=nf||zM(),hc.default&&(hc=hc.default),QE.default=hc,GM.exports=QE.default);var hc});function K(t){return typeof t=="function"}function Xr(t){let i=t(n=>{Error.call(n),n.stack=new Error().stack});return i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i}var Xc=Xr(t=>function(i){t(this),this.message=i?`${i.length} errors occurred during unsubscription:
${i.map((n,r)=>`${r+1}) ${n.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=i});function Dr(t,e){if(t){let i=t.indexOf(e);0<=i&&t.splice(i,1)}}var Ee=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:i}=this;if(i)if(this._parentage=null,Array.isArray(i))for(let s of i)s.remove(this);else i.remove(this);let{initialTeardown:n}=this;if(K(n))try{n()}catch(s){e=s instanceof Xc?s.errors:[s]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let s of r)try{AD(s)}catch(o){e=e??[],o instanceof Xc?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Xc(e)}}add(e){var i;if(e&&e!==this)if(this.closed)AD(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(i=this._finalizers)!==null&&i!==void 0?i:[]).push(e)}}_hasParent(e){let{_parentage:i}=this;return i===e||Array.isArray(i)&&i.includes(e)}_addParent(e){let{_parentage:i}=this;this._parentage=Array.isArray(i)?(i.push(e),i):i?[i,e]:e}_removeParent(e){let{_parentage:i}=this;i===e?this._parentage=null:Array.isArray(i)&&Dr(i,e)}remove(e){let{_finalizers:i}=this;i&&Dr(i,e),e instanceof t&&e._removeParent(this)}};Ee.EMPTY=(()=>{let t=new Ee;return t.closed=!0,t})();var mg=Ee.EMPTY;function eu(t){return t instanceof Ee||t&&"closed"in t&&K(t.remove)&&K(t.add)&&K(t.unsubscribe)}function AD(t){K(t)?t():t.unsubscribe()}var Sn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ds={setTimeout(t,e,...i){let{delegate:n}=Ds;return n?.setTimeout?n.setTimeout(t,e,...i):setTimeout(t,e,...i)},clearTimeout(t){let{delegate:e}=Ds;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function tu(t){Ds.setTimeout(()=>{let{onUnhandledError:e}=Sn;if(e)e(t);else throw t})}function Rt(){}var RD=vg("C",void 0,void 0);function MD(t){return vg("E",void 0,t)}function xD(t){return vg("N",t,void 0)}function vg(t,e,i){return{kind:t,value:e,error:i}}var Mi=null;function bs(t){if(Sn.useDeprecatedSynchronousErrorHandling){let e=!Mi;if(e&&(Mi={errorThrown:!1,error:null}),t(),e){let{errorThrown:i,error:n}=Mi;if(Mi=null,i)throw n}}else t()}function ND(t){Sn.useDeprecatedSynchronousErrorHandling&&Mi&&(Mi.errorThrown=!0,Mi.error=t)}var xi=class extends Ee{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,eu(e)&&e.add(this)):this.destination=HF}static create(e,i,n){return new br(e,i,n)}next(e){this.isStopped?Eg(xD(e),this):this._next(e)}error(e){this.isStopped?Eg(MD(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Eg(RD,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},BF=Function.prototype.bind;function yg(t,e){return BF.call(t,e)}var Cg=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:i}=this;if(i.next)try{i.next(e)}catch(n){nu(n)}}error(e){let{partialObserver:i}=this;if(i.error)try{i.error(e)}catch(n){nu(n)}else nu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(i){nu(i)}}},br=class extends xi{constructor(e,i,n){super();let r;if(K(e)||!e)r={next:e??void 0,error:i??void 0,complete:n??void 0};else{let s;this&&Sn.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&yg(e.next,s),error:e.error&&yg(e.error,s),complete:e.complete&&yg(e.complete,s)}):r=e}this.destination=new Cg(r)}};function nu(t){Sn.useDeprecatedSynchronousErrorHandling?ND(t):tu(t)}function VF(t){throw t}function Eg(t,e){let{onStoppedNotification:i}=Sn;i&&Ds.setTimeout(()=>i(t,e))}var HF={closed:!0,next:Rt,error:VF,complete:Rt};var ws=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Xe(t){return t}function Sg(...t){return Ig(t)}function Ig(t){return t.length===0?Xe:t.length===1?t[0]:function(i){return t.reduce((n,r)=>r(n),i)}}var z=(()=>{class t{constructor(i){i&&(this._subscribe=i)}lift(i){let n=new t;return n.source=this,n.operator=i,n}subscribe(i,n,r){let s=GF(i)?i:new br(i,n,r);return bs(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(i){try{return this._subscribe(i)}catch(n){i.error(n)}}forEach(i,n){return n=OD(n),new n((r,s)=>{let o=new br({next:a=>{try{i(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(i){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(i)}[ws](){return this}pipe(...i){return Ig(i)(this)}toPromise(i){return i=OD(i),new i((n,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>n(s))})}}return t.create=e=>new t(e),t})();function OD(t){var e;return(e=t??Sn.Promise)!==null&&e!==void 0?e:Promise}function zF(t){return t&&K(t.next)&&K(t.error)&&K(t.complete)}function GF(t){return t&&t instanceof xi||zF(t)&&eu(t)}var PD=Xr(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var re=(()=>{class t extends z{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(i){let n=new ru(this,this);return n.operator=i,n}_throwIfClosed(){if(this.closed)throw new PD}next(i){bs(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let n of this.currentObservers)n.next(i)}})}error(i){bs(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=i;let{observers:n}=this;for(;n.length;)n.shift().error(i)}})}complete(){bs(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:i}=this;for(;i.length;)i.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var i;return((i=this.observers)===null||i===void 0?void 0:i.length)>0}_trySubscribe(i){return this._throwIfClosed(),super._trySubscribe(i)}_subscribe(i){return this._throwIfClosed(),this._checkFinalizedStatuses(i),this._innerSubscribe(i)}_innerSubscribe(i){let{hasError:n,isStopped:r,observers:s}=this;return n||r?mg:(this.currentObservers=null,s.push(i),new Ee(()=>{this.currentObservers=null,Dr(s,i)}))}_checkFinalizedStatuses(i){let{hasError:n,thrownError:r,isStopped:s}=this;n?i.error(r):s&&i.complete()}asObservable(){let i=new z;return i.source=this,i}}return t.create=(e,i)=>new ru(e,i),t})(),ru=class extends re{constructor(e,i){super(),this.destination=e,this.source=i}next(e){var i,n;(n=(i=this.destination)===null||i===void 0?void 0:i.next)===null||n===void 0||n.call(i,e)}error(e){var i,n;(n=(i=this.destination)===null||i===void 0?void 0:i.error)===null||n===void 0||n.call(i,e)}complete(){var e,i;(i=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||i===void 0||i.call(e)}_subscribe(e){var i,n;return(n=(i=this.source)===null||i===void 0?void 0:i.subscribe(e))!==null&&n!==void 0?n:mg}};var Te=class extends re{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let i=super._subscribe(e);return!i.closed&&e.next(this._value),i}getValue(){let{hasError:e,thrownError:i,_value:n}=this;if(e)throw i;return this._throwIfClosed(),n}next(e){super.next(this._value=e)}};var Ko={now(){return(Ko.delegate||Date).now()},delegate:void 0};var on=class extends re{constructor(e=1/0,i=1/0,n=Ko){super(),this._bufferSize=e,this._windowTime=i,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=i===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,i)}next(e){let{isStopped:i,_buffer:n,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:o}=this;i||(n.push(e),!r&&n.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let i=this._innerSubscribe(e),{_infiniteTimeWindow:n,_buffer:r}=this,s=r.slice();for(let o=0;o<s.length&&!e.closed;o+=n?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),i}_trimBuffer(){let{_bufferSize:e,_timestampProvider:i,_buffer:n,_infiniteTimeWindow:r}=this,s=(r?1:2)*e;if(e<1/0&&s<n.length&&n.splice(0,n.length-s),!r){let o=i.now(),a=0;for(let c=1;c<n.length&&n[c]<=o;c+=2)a=c;a&&n.splice(0,a+1)}}};var iu=class extends Ee{constructor(e,i){super()}schedule(e,i=0){return this}};var Zo={setInterval(t,e,...i){let{delegate:n}=Zo;return n?.setInterval?n.setInterval(t,e,...i):setInterval(t,e,...i)},clearInterval(t){let{delegate:e}=Zo;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Hn=class extends iu{constructor(e,i){super(e,i),this.scheduler=e,this.work=i,this.pending=!1}schedule(e,i=0){var n;if(this.closed)return this;this.state=e;let r=this.id,s=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(s,r,i)),this.pending=!0,this.delay=i,this.id=(n=this.id)!==null&&n!==void 0?n:this.requestAsyncId(s,this.id,i),this}requestAsyncId(e,i,n=0){return Zo.setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,i,n=0){if(n!=null&&this.delay===n&&this.pending===!1)return i;i!=null&&Zo.clearInterval(i)}execute(e,i){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let n=this._execute(e,i);if(n)return n;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,i){let n=!1,r;try{this.work(e)}catch(s){n=!0,r=s||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:i}=this,{actions:n}=i;this.work=this.state=this.scheduler=null,this.pending=!1,Dr(n,this),e!=null&&(this.id=this.recycleAsyncId(i,e,null)),this.delay=null,super.unsubscribe()}}};var su=class extends Hn{constructor(e,i){super(e,i),this.scheduler=e,this.work=i}schedule(e,i=0){return i>0?super.schedule(e,i):(this.delay=i,this.state=e,this.scheduler.flush(this),this)}execute(e,i){return i>0||this.closed?super.execute(e,i):this._execute(e,i)}requestAsyncId(e,i,n=0){return n!=null&&n>0||n==null&&this.delay>0?super.requestAsyncId(e,i,n):(e.flush(this),0)}};var Ts=class t{constructor(e,i=t.now){this.schedulerActionCtor=e,this.now=i}schedule(e,i=0,n){return new this.schedulerActionCtor(this,e).schedule(n,i)}};Ts.now=Ko.now;var zn=class extends Ts{constructor(e,i=Ts.now){super(e,i),this.actions=[],this._active=!1}flush(e){let{actions:i}=this;if(this._active){i.push(e);return}let n;this._active=!0;do if(n=e.execute(e.state,e.delay))break;while(e=i.shift());if(this._active=!1,n){for(;e=i.shift();)e.unsubscribe();throw n}}};var ou=class extends zn{};var wr=new ou(su);var he=new z(t=>t.complete());function Ct(t,e,i,n=0,r=!1){let s=e.schedule(function(){i(),r?t.add(this.schedule(null,n)):this.unsubscribe()},n);if(t.add(s),!r)return s}function Dg(t){return K(t?.lift)}function _(t){return e=>{if(Dg(e))return e.lift(function(i){try{return t(i,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function P(t,e,i,n,r){return new Qo(t,e,i,n,r)}var Qo=class extends xi{constructor(e,i,n,r,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=i?function(a){try{i(a)}catch(c){e.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:i}=this;super.unsubscribe(),!i&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function qt(t,e=0){return _((i,n)=>{i.subscribe(P(n,r=>Ct(n,t,()=>n.next(r),e),()=>Ct(n,t,()=>n.complete(),e),r=>Ct(n,t,()=>n.error(r),e)))})}function au(t){return t&&K(t.schedule)}function bg(t){return t[t.length-1]}function ei(t){return K(bg(t))?t.pop():void 0}function Gn(t){return au(bg(t))?t.pop():void 0}function FD(t,e){return typeof bg(t)=="number"?t.pop():e}function cK(t,e,i,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,i):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s}function uK(t,e){return function(i,n){e(i,n,t)}}function LD(t,e,i,n){function r(s){return s instanceof i?s:new i(function(o){o(s)})}return new(i||(i=Promise))(function(s,o){function a(l){try{u(n.next(l))}catch(f){o(f)}}function c(l){try{u(n.throw(l))}catch(f){o(f)}}function u(l){l.done?s(l.value):r(l.value).then(a,c)}u((n=n.apply(t,e||[])).next())})}function _D(t){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ni(t){return this instanceof Ni?(this.v=t,this):new Ni(t)}function kD(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=i.apply(t,e||[]),r,s=[];return r={},a("next"),a("throw"),a("return",o),r[Symbol.asyncIterator]=function(){return this},r;function o(m){return function(y){return Promise.resolve(y).then(m,f)}}function a(m,y){n[m]&&(r[m]=function(b){return new Promise(function(w,R){s.push([m,b,w,R])>1||c(m,b)})},y&&(r[m]=y(r[m])))}function c(m,y){try{u(n[m](y))}catch(b){h(s[0][3],b)}}function u(m){m.value instanceof Ni?Promise.resolve(m.value.v).then(l,f):h(s[0][2],m)}function l(m){c("next",m)}function f(m){c("throw",m)}function h(m,y){m(y),s.shift(),s.length&&c(s[0][0],s[0][1])}}function UD(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],i;return e?e.call(t):(t=typeof _D=="function"?_D(t):t[Symbol.iterator](),i={},n("next"),n("throw"),n("return"),i[Symbol.asyncIterator]=function(){return this},i);function n(s){i[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),r(a,c,o.done,o.value)})}}function r(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}var As=t=>t&&typeof t.length=="number"&&typeof t!="function";function cu(t){return K(t?.then)}function uu(t){return K(t[ws])}function lu(t){return Symbol.asyncIterator&&K(t?.[Symbol.asyncIterator])}function du(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function WF(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var fu=WF();function hu(t){return K(t?.[fu])}function pu(t){return kD(this,arguments,function*(){let i=t.getReader();try{for(;;){let{value:n,done:r}=yield Ni(i.read());if(r)return yield Ni(void 0);yield yield Ni(n)}}finally{i.releaseLock()}})}function gu(t){return K(t?.getReader)}function q(t){if(t instanceof z)return t;if(t!=null){if(uu(t))return qF(t);if(As(t))return YF(t);if(cu(t))return KF(t);if(lu(t))return jD(t);if(hu(t))return ZF(t);if(gu(t))return QF(t)}throw du(t)}function qF(t){return new z(e=>{let i=t[ws]();if(K(i.subscribe))return i.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function YF(t){return new z(e=>{for(let i=0;i<t.length&&!e.closed;i++)e.next(t[i]);e.complete()})}function KF(t){return new z(e=>{t.then(i=>{e.closed||(e.next(i),e.complete())},i=>e.error(i)).then(null,tu)})}function ZF(t){return new z(e=>{for(let i of t)if(e.next(i),e.closed)return;e.complete()})}function jD(t){return new z(e=>{JF(t,e).catch(i=>e.error(i))})}function QF(t){return jD(pu(t))}function JF(t,e){var i,n,r,s;return LD(this,void 0,void 0,function*(){try{for(i=UD(t);n=yield i.next(),!n.done;){let o=n.value;if(e.next(o),e.closed)return}}catch(o){r={error:o}}finally{try{n&&!n.done&&(s=i.return)&&(yield s.call(i))}finally{if(r)throw r.error}}e.complete()})}function mu(t,e=0){return _((i,n)=>{n.add(t.schedule(()=>i.subscribe(n),e))})}function $D(t,e){return q(t).pipe(mu(e),qt(e))}function BD(t,e){return q(t).pipe(mu(e),qt(e))}function VD(t,e){return new z(i=>{let n=0;return e.schedule(function(){n===t.length?i.complete():(i.next(t[n++]),i.closed||this.schedule())})})}function HD(t,e){return new z(i=>{let n;return Ct(i,e,()=>{n=t[fu](),Ct(i,e,()=>{let r,s;try{({value:r,done:s}=n.next())}catch(o){i.error(o);return}s?i.complete():i.next(r)},0,!0)}),()=>K(n?.return)&&n.return()})}function vu(t,e){if(!t)throw new Error("Iterable cannot be null");return new z(i=>{Ct(i,e,()=>{let n=t[Symbol.asyncIterator]();Ct(i,e,()=>{n.next().then(r=>{r.done?i.complete():i.next(r.value)})},0,!0)})})}function zD(t,e){return vu(pu(t),e)}function GD(t,e){if(t!=null){if(uu(t))return $D(t,e);if(As(t))return VD(t,e);if(cu(t))return BD(t,e);if(lu(t))return vu(t,e);if(hu(t))return HD(t,e);if(gu(t))return zD(t,e)}throw du(t)}function pe(t,e){return e?GD(t,e):q(t)}function I(...t){let e=Gn(t);return pe(t,e)}function E(t,e){return _((i,n)=>{let r=0;i.subscribe(P(n,s=>{n.next(t.call(e,s,r++))}))})}var{isArray:XF}=Array,{getPrototypeOf:e_,prototype:t_,keys:n_}=Object;function yu(t){if(t.length===1){let e=t[0];if(XF(e))return{args:e,keys:null};if(r_(e)){let i=n_(e);return{args:i.map(n=>e[n]),keys:i}}}return{args:t,keys:null}}function r_(t){return t&&typeof t=="object"&&e_(t)===t_}var{isArray:i_}=Array;function s_(t,e){return i_(e)?t(...e):t(e)}function Rs(t){return E(e=>s_(t,e))}function Eu(t,e){return t.reduce((i,n,r)=>(i[n]=e[r],i),{})}function _e(...t){let e=Gn(t),i=ei(t),{args:n,keys:r}=yu(t);if(n.length===0)return pe([],e);let s=new z(o_(n,e,r?o=>Eu(r,o):Xe));return i?s.pipe(Rs(i)):s}function o_(t,e,i=Xe){return n=>{WD(e,()=>{let{length:r}=t,s=new Array(r),o=r,a=r;for(let c=0;c<r;c++)WD(e,()=>{let u=pe(t[c],e),l=!1;u.subscribe(P(n,f=>{s[c]=f,l||(l=!0,a--),a||n.next(i(s.slice()))},()=>{--o||n.complete()}))},n)},n)}}function WD(t,e,i){t?Ct(i,t,e):e()}function qD(t,e,i,n,r,s,o,a){let c=[],u=0,l=0,f=!1,h=()=>{f&&!c.length&&!u&&e.complete()},m=b=>u<n?y(b):c.push(b),y=b=>{s&&e.next(b),u++;let w=!1;q(i(b,l++)).subscribe(P(e,R=>{r?.(R),s?m(R):e.next(R)},()=>{w=!0},void 0,()=>{if(w)try{for(u--;c.length&&u<n;){let R=c.shift();o?Ct(e,o,()=>y(R)):y(R)}h()}catch(R){e.error(R)}}))};return t.subscribe(P(e,m,()=>{f=!0,h()})),()=>{a?.()}}function G(t,e,i=1/0){return K(e)?G((n,r)=>E((s,o)=>e(n,s,r,o))(q(t(n,r))),i):(typeof e=="number"&&(i=e),_((n,r)=>qD(n,r,t,i)))}var Yt=new zn(Hn),YD=Yt;function Cu(t){return t instanceof Date&&!isNaN(t)}function Kt(t=0,e,i=YD){let n=-1;return e!=null&&(au(e)?i=e:n=e),new z(r=>{let s=Cu(t)?+t-i.now():t;s<0&&(s=0);let o=0;return i.schedule(function(){r.closed||(r.next(o++),0<=n?this.schedule(void 0,n):r.complete())},s)})}function Wn(t=1/0){return G(Xe,t)}function an(...t){let e=Gn(t),i=FD(t,1/0),n=t;return n.length?n.length===1?q(n[0]):Wn(i)(pe(n,e)):he}function M(t,e){return _((i,n)=>{let r=0;i.subscribe(P(n,s=>t.call(e,s,r++)&&n.next(s)))})}function F(t){return _((e,i)=>{let n=null,r=!1,s;n=e.subscribe(P(i,void 0,void 0,o=>{s=q(t(o,F(t)(e))),n?(n.unsubscribe(),n=null,s.subscribe(i)):r=!0})),r&&(n.unsubscribe(),n=null,s.subscribe(i))})}function a_(t){return _((e,i)=>{let n=!1,r=null,s=null,o=()=>{if(s?.unsubscribe(),s=null,n){n=!1;let a=r;r=null,i.next(a)}};e.subscribe(P(i,a=>{s?.unsubscribe(),n=!0,r=a,s=P(i,o,Rt),q(t(a)).subscribe(s)},()=>{o(),i.complete()},void 0,()=>{r=s=null}))})}function ie(t){return t<=0?()=>he:_((e,i)=>{let n=0;e.subscribe(P(i,r=>{++n<=t&&(i.next(r),t<=n&&i.complete())}))})}function KD(){return Wn(1)}function qn(...t){return KD()(pe(t,Gn(t)))}function Jo(){return _((t,e)=>{t.subscribe(P(e,Rt))})}function Xo(t){return E(()=>t)}function Su(t,e){return e?i=>qn(e.pipe(ie(1),Jo()),i.pipe(Su(t))):G((i,n)=>q(t(i,n)).pipe(ie(1),Xo(i)))}function Yn(t,e=Yt){let i=Kt(t,e);return Su(()=>i)}function c_(t,e){return _((i,n)=>{let r=new Set;i.subscribe(P(n,s=>{let o=t?t(s):s;r.has(o)||(r.add(o),n.next(s))})),e&&q(e).subscribe(P(n,()=>r.clear(),Rt))})}function cn(t,e=Xe){return t=t??u_,_((i,n)=>{let r,s=!0;i.subscribe(P(n,o=>{let a=e(o);(s||!t(r,a))&&(s=!1,r=a,n.next(o))}))})}function u_(t,e){return t===e}function l_(t,e){return cn((i,n)=>e?e(i[t],n[t]):i[t]===n[t])}var In=Xr(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ti(t){return _((e,i)=>{let n=!1;e.subscribe(P(i,r=>{n=!0,i.next(r)},()=>{n||i.next(t),i.complete()}))})}function Iu(t=d_){return _((e,i)=>{let n=!1;e.subscribe(P(i,r=>{n=!0,i.next(r)},()=>n?i.complete():i.error(t())))})}function d_(){return new In}function Mt(t,e){let i=arguments.length>=2;return n=>n.pipe(t?M((r,s)=>t(r,s,n)):Xe,ie(1),i?ti(e):Iu(()=>new In))}function Ms(t={}){let{connector:e=()=>new re,resetOnError:i=!0,resetOnComplete:n=!0,resetOnRefCountZero:r=!0}=t;return s=>{let o,a,c,u=0,l=!1,f=!1,h=()=>{a?.unsubscribe(),a=void 0},m=()=>{h(),o=c=void 0,l=f=!1},y=()=>{let b=o;m(),b?.unsubscribe()};return _((b,w)=>{u++,!f&&!l&&h();let R=c=c??e();w.add(()=>{u--,u===0&&!f&&!l&&(a=wg(y,r))}),R.subscribe(w),!o&&u>0&&(o=new br({next:k=>R.next(k),error:k=>{f=!0,h(),a=wg(m,i,k),R.error(k)},complete:()=>{l=!0,h(),a=wg(m,n),R.complete()}}),q(b).subscribe(o))})(s)}}function wg(t,e,...i){if(e===!0){t();return}if(e===!1)return;let n=new br({next:()=>{n.unsubscribe(),t()}});return q(e(...i)).subscribe(n)}function pt(t,e,i){let n,r=!1;return t&&typeof t=="object"?{bufferSize:n=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:i}=t:n=t??1/0,Ms({connector:()=>new on(n,e,i),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function Tg(t){return M((e,i)=>t<=i)}function Kn(...t){let e=Gn(t);return _((i,n)=>{(e?qn(t,i,e):qn(t,i)).subscribe(n)})}function N(t,e){return _((i,n)=>{let r=null,s=0,o=!1,a=()=>o&&!r&&n.complete();i.subscribe(P(n,c=>{r?.unsubscribe();let u=0,l=s++;q(t(c,l)).subscribe(r=P(n,f=>n.next(e?e(c,f,l,u++):f),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function f_(t,e=!1){return _((i,n)=>{let r=0;i.subscribe(P(n,s=>{let o=t(s,r++);(o||e)&&n.next(s),!o&&n.complete()}))})}function L(t,e,i){let n=K(t)||e||i?{next:t,error:e,complete:i}:t;return n?_((r,s)=>{var o;(o=n.subscribe)===null||o===void 0||o.call(n);let a=!0;r.subscribe(P(s,c=>{var u;(u=n.next)===null||u===void 0||u.call(n,c),s.next(c)},()=>{var c;a=!1,(c=n.complete)===null||c===void 0||c.call(n),s.complete()},c=>{var u;a=!1,(u=n.error)===null||u===void 0||u.call(n,c),s.error(c)},()=>{var c,u;a&&((c=n.unsubscribe)===null||c===void 0||c.call(n)),(u=n.finalize)===null||u===void 0||u.call(n)}))}):Xe}function xs(){return _((t,e)=>{let i=null;t._refCount++;let n=P(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){i=null;return}let r=t._connection,s=i;i=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});t.subscribe(n),n.closed||(i=t.connect())})}var ni=class extends z{constructor(e,i){super(),this.source=e,this.subjectFactory=i,this._subject=null,this._refCount=0,this._connection=null,Dg(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ee;let i=this.getSubject();e.add(this.source.subscribe(P(i,void 0,()=>{this._teardown(),i.complete()},n=>{this._teardown(),i.error(n)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ee.EMPTY)}return e}refCount(){return xs()(this)}};var Ns={schedule(t){let e=requestAnimationFrame,i=cancelAnimationFrame,{delegate:n}=Ns;n&&(e=n.requestAnimationFrame,i=n.cancelAnimationFrame);let r=e(s=>{i=void 0,t(s)});return new Ee(()=>i?.(r))},requestAnimationFrame(...t){let{delegate:e}=Ns;return(e?.requestAnimationFrame||requestAnimationFrame)(...t)},cancelAnimationFrame(...t){let{delegate:e}=Ns;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...t)},delegate:void 0};var h_=1,Ag,Rg={};function ZD(t){return t in Rg?(delete Rg[t],!0):!1}var QD={setImmediate(t){let e=h_++;return Rg[e]=!0,Ag||(Ag=Promise.resolve()),Ag.then(()=>ZD(e)&&t()),e},clearImmediate(t){ZD(t)}};var{setImmediate:p_,clearImmediate:g_}=QD,ea={setImmediate(...t){let{delegate:e}=ea;return(e?.setImmediate||p_)(...t)},clearImmediate(t){let{delegate:e}=ea;return(e?.clearImmediate||g_)(t)},delegate:void 0};var Du=class extends Hn{constructor(e,i){super(e,i),this.scheduler=e,this.work=i}requestAsyncId(e,i,n=0){return n!==null&&n>0?super.requestAsyncId(e,i,n):(e.actions.push(this),e._scheduled||(e._scheduled=ea.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,i,n=0){var r;if(n!=null?n>0:this.delay>0)return super.recycleAsyncId(e,i,n);let{actions:s}=e;i!=null&&((r=s[s.length-1])===null||r===void 0?void 0:r.id)!==i&&(ea.clearImmediate(i),e._scheduled===i&&(e._scheduled=void 0))}};var bu=class extends zn{flush(e){this._active=!0;let i=this._scheduled;this._scheduled=void 0;let{actions:n}=this,r;e=e||n.shift();do if(r=e.execute(e.state,e.delay))break;while((e=n[0])&&e.id===i&&n.shift());if(this._active=!1,r){for(;(e=n[0])&&e.id===i&&n.shift();)e.unsubscribe();throw r}}};var Mg=new bu(Du);var wu=class extends Hn{constructor(e,i){super(e,i),this.scheduler=e,this.work=i}requestAsyncId(e,i,n=0){return n!==null&&n>0?super.requestAsyncId(e,i,n):(e.actions.push(this),e._scheduled||(e._scheduled=Ns.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,i,n=0){var r;if(n!=null?n>0:this.delay>0)return super.recycleAsyncId(e,i,n);let{actions:s}=e;i!=null&&((r=s[s.length-1])===null||r===void 0?void 0:r.id)!==i&&(Ns.cancelAnimationFrame(i),e._scheduled=void 0)}};var Tu=class extends zn{flush(e){this._active=!0;let i=this._scheduled;this._scheduled=void 0;let{actions:n}=this,r;e=e||n.shift();do if(r=e.execute(e.state,e.delay))break;while((e=n[0])&&e.id===i&&n.shift());if(this._active=!1,r){for(;(e=n[0])&&e.id===i&&n.shift();)e.unsubscribe();throw r}}};var m_=new Tu(wu);function xt(t,e){let i=K(t)?t:()=>t,n=r=>r.error(i());return new z(e?r=>e.schedule(n,0,r):n)}var ri=class t{constructor(e,i,n){this.kind=e,this.value=i,this.error=n,this.hasValue=e==="N"}observe(e){return xg(this,e)}do(e,i,n){let{kind:r,value:s,error:o}=this;return r==="N"?e?.(s):r==="E"?i?.(o):n?.()}accept(e,i,n){var r;return K((r=e)===null||r===void 0?void 0:r.next)?this.observe(e):this.do(e,i,n)}toObservable(){let{kind:e,value:i,error:n}=this,r=e==="N"?I(i):e==="E"?xt(()=>n):e==="C"?he:0;if(!r)throw new TypeError(`Unexpected notification kind ${e}`);return r}static createNext(e){return new t("N",e)}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}};ri.completeNotification=new ri("C");function xg(t,e){var i,n,r;let{kind:s,value:o,error:a}=t;if(typeof s!="string")throw new TypeError('Invalid notification, missing "kind"');s==="N"?(i=e.next)===null||i===void 0||i.call(e,o):s==="E"?(n=e.error)===null||n===void 0||n.call(e,a):(r=e.complete)===null||r===void 0||r.call(e)}function Oi(t){return!!t&&(t instanceof z||K(t.lift)&&K(t.subscribe))}function Zn(t,e){let i=typeof e=="object";return new Promise((n,r)=>{let s=!1,o;t.subscribe({next:a=>{o=a,s=!0},error:r,complete:()=>{s?n(o):i?n(e.defaultValue):r(new In)}})})}var Au=Xr(t=>function(i=null){t(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=i});function ta(t,e){let{first:i,each:n,with:r=v_,scheduler:s=e??Yt,meta:o=null}=Cu(t)?{first:t}:typeof t=="number"?{each:t}:t;if(i==null&&n==null)throw new TypeError("No timeout provided.");return _((a,c)=>{let u,l,f=null,h=0,m=y=>{l=Ct(c,s,()=>{try{u.unsubscribe(),q(r({meta:o,lastValue:f,seen:h})).subscribe(c)}catch(b){c.error(b)}},y)};u=a.subscribe(P(c,y=>{l?.unsubscribe(),h++,c.next(f=y),n>0&&m(n)},void 0,void 0,()=>{l?.closed||l?.unsubscribe(),f=null})),!h&&m(i!=null?typeof i=="number"?i:+i-s.now():n)})}function v_(t){throw new Au(t)}function qe(t){return new z(e=>{q(t()).subscribe(e)})}var y_={connector:()=>new re,resetOnDisconnect:!0};function Ru(t,e=y_){let i=null,{connector:n,resetOnDisconnect:r=!0}=e,s=n(),o=new z(a=>s.subscribe(a));return o.connect=()=>((!i||i.closed)&&(i=qe(()=>t).subscribe(s),r&&i.add(()=>s=n())),i),o}function Mu(...t){let e=ei(t),{args:i,keys:n}=yu(t),r=new z(s=>{let{length:o}=i;if(!o){s.complete();return}let a=new Array(o),c=o,u=o;for(let l=0;l<o;l++){let f=!1;q(i[l]).subscribe(P(s,h=>{f||(f=!0,u--),a[l]=h},()=>c--,void 0,()=>{(!c||!f)&&(u||s.next(n?Eu(n,a):a),s.complete())}))}});return e?r.pipe(Rs(e)):r}var E_=["addListener","removeListener"],C_=["addEventListener","removeEventListener"],S_=["on","off"];function na(t,e,i,n){if(K(i)&&(n=i,i=void 0),n)return na(t,e,i).pipe(Rs(n));let[r,s]=b_(t)?C_.map(o=>a=>t[o](e,a,i)):I_(t)?E_.map(JD(t,e)):D_(t)?S_.map(JD(t,e)):[];if(!r&&As(t))return G(o=>na(o,e,i))(q(t));if(!r)throw new TypeError("Invalid event target");return new z(o=>{let a=(...c)=>o.next(1<c.length?c:c[0]);return r(a),()=>s(a)})}function JD(t,e){return i=>n=>t[i](e,n)}function I_(t){return K(t.addListener)&&K(t.removeListener)}function D_(t){return K(t.on)&&K(t.off)}function b_(t){return K(t.addEventListener)&&K(t.removeEventListener)}function ra(t,e,i){return qe(()=>t()?e:i)}function w_(t=0,e=Yt){return t<0&&(t=0),Kt(t,t,e)}var Ng=new z(Rt);var{isArray:T_}=Array;function xu(t){return t.length===1&&T_(t[0])?t[0]:t}function Og(...t){return t=xu(t),t.length===1?q(t[0]):new z(A_(t))}function A_(t){return e=>{let i=[];for(let n=0;i&&!e.closed&&n<t.length;n++)i.push(q(t[n]).subscribe(P(e,r=>{if(i){for(let s=0;s<i.length;s++)s!==n&&i[s].unsubscribe();i=null}e.next(r)})))}}function Os(t,e){return new z(i=>{let n=t(),r=e(n);return(r?q(r):he).subscribe(i),()=>{n&&n.unsubscribe()}})}function Pi(...t){let e=ei(t),i=xu(t);return i.length?new z(n=>{let r=i.map(()=>[]),s=i.map(()=>!1);n.add(()=>{r=s=null});for(let o=0;!n.closed&&o<i.length;o++)q(i[o]).subscribe(P(n,a=>{if(r[o].push(a),r.every(c=>c.length)){let c=r.map(u=>u.shift());n.next(e?e(...c):c),r.some((u,l)=>!u.length&&s[l])&&n.complete()}},()=>{s[o]=!0,!r[o].length&&n.complete()}));return()=>{r=s=null}}):he}function ia(t){return _((e,i)=>{let n=!1,r=null,s=null,o=!1,a=()=>{if(s?.unsubscribe(),s=null,n){n=!1;let u=r;r=null,i.next(u)}o&&i.complete()},c=()=>{s=null,o&&i.complete()};e.subscribe(P(i,u=>{n=!0,r=u,s||q(t(u)).subscribe(s=P(i,a,c))},()=>{o=!0,(!n||!s||s.closed)&&i.complete()}))})}function R_(t,e=Yt){return ia(()=>Kt(t,e))}function Nu(t,e=null){return e=e??t,_((i,n)=>{let r=[],s=0;i.subscribe(P(n,o=>{let a=null;s++%e===0&&r.push([]);for(let c of r)c.push(o),t<=c.length&&(a=a??[],a.push(c));if(a)for(let c of a)Dr(r,c),n.next(c)},()=>{for(let o of r)n.next(o);n.complete()},void 0,()=>{r=null}))})}function XD(t,e,i,n,r){return(s,o)=>{let a=i,c=e,u=0;s.subscribe(P(o,l=>{let f=u++;c=a?t(c,l,f):(a=!0,l),n&&o.next(c)},r&&(()=>{a&&o.next(c),o.complete()})))}}function je(t,e){return K(e)?G(t,e,1):G(t,1)}function eb(t){return new z(e=>t.subscribe(e))}var M_={connector:()=>new re};function Ou(t,e=M_){let{connector:i}=e;return _((n,r)=>{let s=i();q(t(eb(s))).subscribe(r),r.add(n.subscribe(s))})}function Fi(t,e=Yt){return _((i,n)=>{let r=null,s=null,o=null,a=()=>{if(r){r.unsubscribe(),r=null;let u=s;s=null,n.next(u)}};function c(){let u=o+t,l=e.now();if(l<u){r=this.schedule(void 0,u-l),n.add(r);return}a()}i.subscribe(P(n,u=>{s=u,o=e.now(),r||(r=e.schedule(c,t),n.add(r))},()=>{a(),n.complete()},void 0,()=>{s=r=null}))})}function Pg(){return _((t,e)=>{t.subscribe(P(e,i=>xg(i,e)))})}function tb(...t){return e=>qn(e,I(...t))}function x_(t,e){return _((i,n)=>{let r=0;i.subscribe(P(n,s=>{t.call(e,s,r++,i)||(n.next(!1),n.complete())},()=>{n.next(!0),n.complete()}))})}function Qn(t,e){return e?i=>i.pipe(Qn((n,r)=>q(t(n,r)).pipe(E((s,o)=>e(n,s,r,o))))):_((i,n)=>{let r=0,s=null,o=!1;i.subscribe(P(n,a=>{s||(s=P(n,void 0,()=>{s=null,o&&n.complete()}),q(t(a,r++)).subscribe(s))},()=>{o=!0,!s&&n.complete()}))})}function Dn(t){return _((e,i)=>{try{e.subscribe(i)}finally{i.add(t)}})}function ii(t,e,i,n){return _((r,s)=>{let o;!e||typeof e=="function"?o=e:{duration:i,element:o,connector:n}=e;let a=new Map,c=y=>{a.forEach(y),y(s)},u=y=>c(b=>b.error(y)),l=0,f=!1,h=new Qo(s,y=>{try{let b=t(y),w=a.get(b);if(!w){a.set(b,w=n?n():new re);let R=m(b,w);if(s.next(R),i){let k=P(w,()=>{w.complete(),k?.unsubscribe()},void 0,void 0,()=>a.delete(b));h.add(q(i(R)).subscribe(k))}}w.next(o?o(y):y)}catch(b){u(b)}},()=>c(y=>y.complete()),u,()=>a.clear(),()=>(f=!0,l===0));r.subscribe(h);function m(y,b){let w=new z(R=>{l++;let k=b.subscribe(R);return()=>{k.unsubscribe(),--l===0&&f&&h.unsubscribe()}});return w.key=y,w}})}function Ps(t){return t<=0?()=>he:_((e,i)=>{let n=[];e.subscribe(P(i,r=>{n.push(r),t<n.length&&n.shift()},()=>{for(let r of n)i.next(r);i.complete()},void 0,()=>{n=null}))})}function Fg(t,e){let i=arguments.length>=2;return n=>n.pipe(t?M((r,s)=>t(r,s,n)):Xe,Ps(1),i?ti(e):Iu(()=>new In))}function _g(){return _((t,e)=>{t.subscribe(P(e,i=>{e.next(ri.createNext(i))},()=>{e.next(ri.createComplete()),e.complete()},i=>{e.next(ri.createError(i)),e.complete()}))})}function nb(t,e){let i=K(t)?t:()=>t;return K(e)?Ou(e,{connector:i}):n=>new ni(n,i)}function sa(){return _((t,e)=>{let i,n=!1;t.subscribe(P(e,r=>{let s=i;i=r,n&&e.next([s,r]),n=!0}))})}function Lg(...t){let e=t.length;if(e===0)throw new Error("list of properties cannot be empty.");return E(i=>{let n=i;for(let r=0;r<e;r++){let s=n?.[t[r]];if(typeof s<"u")n=s;else return}return n})}function N_(t){return t?e=>Ou(t)(e):e=>nb(new re)(e)}function kg(t=1/0){let e;t&&typeof t=="object"?e=t:e={count:t};let{count:i=1/0,delay:n,resetOnSuccess:r=!1}=e;return i<=0?Xe:_((s,o)=>{let a=0,c,u=()=>{let l=!1;c=s.subscribe(P(o,f=>{r&&(a=0),o.next(f)},void 0,f=>{if(a++<i){let h=()=>{c?(c.unsubscribe(),c=null,u()):l=!0};if(n!=null){let m=typeof n=="number"?Kt(n):q(n(f,a)),y=P(o,()=>{y.unsubscribe(),h()},()=>{o.complete()});m.subscribe(y)}else h()}else o.error(f)})),l&&(c.unsubscribe(),c=null,u())};u()})}function _i(t,e){return _(XD(t,e,arguments.length>=2,!0))}function Pu(t){return _((e,i)=>{let n=!1,r=0;e.subscribe(P(i,s=>(n||(n=!t(s,r++)))&&i.next(s)))})}function oa(t){return _((e,i)=>{q(t).subscribe(P(i,()=>i.complete(),Rt)),!i.closed&&e.subscribe(i)})}function rb(t,e){return _((i,n)=>{let{leading:r=!0,trailing:s=!1}=e??{},o=!1,a=null,c=null,u=!1,l=()=>{c?.unsubscribe(),c=null,s&&(m(),u&&n.complete())},f=()=>{c=null,u&&n.complete()},h=y=>c=q(t(y)).subscribe(P(n,l,f)),m=()=>{if(o){o=!1;let y=a;a=null,n.next(y),!u&&h(y)}};i.subscribe(P(n,y=>{o=!0,a=y,!(c&&!c.closed)&&(r?m():h(y))},()=>{u=!0,!(s&&o&&c&&!c.closed)&&n.complete()}))})}function O_(t,e=Yt,i){let n=Kt(t,e);return rb(()=>n,i)}function it(...t){let e=ei(t);return _((i,n)=>{let r=t.length,s=new Array(r),o=t.map(()=>!1),a=!1;for(let c=0;c<r;c++)q(t[c]).subscribe(P(n,u=>{s[c]=u,!a&&!o[c]&&(o[c]=!0,(a=o.every(Xe))&&(o=null))},Rt));i.subscribe(P(n,c=>{if(a){let u=[c,...s];n.next(e?e(...u):u)}}))})}function ib(t,e){return Object.is(t,e)}var st=null,Fu=!1,_u=1,Tr=Symbol("SIGNAL");function ve(t){let e=st;return st=t,e}var ku={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function $g(t){if(Fu)throw new Error("");if(st===null)return;st.consumerOnSignalRead(t);let e=st.nextProducerIndex++;if(Fs(st),e<st.producerNode.length&&st.producerNode[e]!==t&&aa(st)){let i=st.producerNode[e];Uu(i,st.producerIndexOfThis[e])}st.producerNode[e]!==t&&(st.producerNode[e]=t,st.producerIndexOfThis[e]=aa(st)?ub(t,st,e):0),st.producerLastReadVersion[e]=t.version}function P_(){_u++}function sb(t){if(!(aa(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===_u)){if(!t.producerMustRecompute(t)&&!Hg(t)){t.dirty=!1,t.lastCleanEpoch=_u;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=_u}}function ob(t){if(t.liveConsumerNode===void 0)return;let e=Fu;Fu=!0;try{for(let i of t.liveConsumerNode)i.dirty||F_(i)}finally{Fu=e}}function ab(){return st?.consumerAllowSignalWrites!==!1}function F_(t){t.dirty=!0,ob(t),t.consumerMarkedDirty?.(t)}function Bg(t){return t&&(t.nextProducerIndex=0),ve(t)}function Vg(t,e){if(ve(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(aa(t))for(let i=t.nextProducerIndex;i<t.producerNode.length;i++)Uu(t.producerNode[i],t.producerIndexOfThis[i]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Hg(t){Fs(t);for(let e=0;e<t.producerNode.length;e++){let i=t.producerNode[e],n=t.producerLastReadVersion[e];if(n!==i.version||(sb(i),n!==i.version))return!0}return!1}function cb(t){if(Fs(t),aa(t))for(let e=0;e<t.producerNode.length;e++)Uu(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function ub(t,e,i){if(lb(t),Fs(t),t.liveConsumerNode.length===0)for(let n=0;n<t.producerNode.length;n++)t.producerIndexOfThis[n]=ub(t.producerNode[n],t,n);return t.liveConsumerIndexOfThis.push(i),t.liveConsumerNode.push(e)-1}function Uu(t,e){if(lb(t),Fs(t),t.liveConsumerNode.length===1)for(let n=0;n<t.producerNode.length;n++)Uu(t.producerNode[n],t.producerIndexOfThis[n]);let i=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[i],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[i],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let n=t.liveConsumerIndexOfThis[e],r=t.liveConsumerNode[e];Fs(r),r.producerIndexOfThis[n]=e}}function aa(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Fs(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function lb(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function db(t){let e=Object.create(__);e.computation=t;let i=()=>{if(sb(e),$g(e),e.value===Lu)throw e.error;return e.value};return i[Tr]=e,i}var Ug=Symbol("UNSET"),jg=Symbol("COMPUTING"),Lu=Symbol("ERRORED"),__=T(v({},ku),{value:Ug,dirty:!0,error:null,equal:ib,producerMustRecompute(t){return t.value===Ug||t.value===jg},producerRecomputeValue(t){if(t.value===jg)throw new Error("Detected cycle in computations.");let e=t.value;t.value=jg;let i=Bg(t),n;try{n=t.computation()}catch(r){n=Lu,t.error=r}finally{Vg(t,i)}if(e!==Ug&&e!==Lu&&n!==Lu&&t.equal(e,n)){t.value=e;return}t.value=n,t.version++}});function L_(){throw new Error}var fb=L_;function hb(){fb()}function pb(t){fb=t}var k_=null;function gb(t){let e=Object.create(vb);e.value=t;let i=()=>($g(e),e.value);return i[Tr]=e,i}function zg(t,e){ab()||hb(),t.equal(t.value,e)||(t.value=e,U_(t))}function mb(t,e){ab()||hb(),zg(t,e(t.value))}var vb=T(v({},ku),{equal:ib,value:void 0});function U_(t){t.version++,P_(),ob(t),k_?.()}var uw="https://g.co/ng/security#xss",j=class extends Error{constructor(e,i){super(El(e,i)),this.code=e}};function El(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Ca(t){return{toString:t}.toString()}var ju="__parameters__";function j_(t){return function(...i){if(t){let n=t(...i);for(let r in n)this[r]=n[r]}}}function dv(t,e,i){return Ca(()=>{let n=j_(e);function r(...s){if(this instanceof r)return n.apply(this,s),this;let o=new r(...s);return a.annotation=o,a;function a(c,u,l){let f=c.hasOwnProperty(ju)?c[ju]:Object.defineProperty(c,ju,{value:[]})[ju];for(;f.length<=l;)f.push(null);return(f[l]=f[l]||[]).push(o),c}}return i&&(r.prototype=Object.create(i.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}var Ge=globalThis;function Ae(t){for(let e in t)if(t[e]===Ae)return e;throw Error("Could not find renamed property on target object.")}function $_(t,e){for(let i in e)e.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=e[i])}function Pt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Pt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let i=e.indexOf(`
`);return i===-1?e:e.substring(0,i)}function om(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var B_=Ae({__forward_ref__:Ae});function lw(t){return t.__forward_ref__=lw,t.toString=function(){return Pt(this())},t}function Nt(t){return dw(t)?t():t}function dw(t){return typeof t=="function"&&t.hasOwnProperty(B_)&&t.__forward_ref__===lw}function g(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function $(t){return{providers:t.providers||[],imports:t.imports||[]}}function Cl(t){return yb(t,hw)||yb(t,pw)}function fw(t){return Cl(t)!==null}function yb(t,e){return t.hasOwnProperty(e)?t[e]:null}function V_(t){let e=t&&(t[hw]||t[pw]);return e||null}function Eb(t){return t&&(t.hasOwnProperty(Cb)||t.hasOwnProperty(H_))?t[Cb]:null}var hw=Ae({\u0275prov:Ae}),Cb=Ae({\u0275inj:Ae}),pw=Ae({ngInjectableDef:Ae}),H_=Ae({ngInjectorDef:Ae}),S=class{constructor(e,i){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof i=="number"?this.__NG_ELEMENT_ID__=i:i!==void 0&&(this.\u0275prov=g({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function gw(t){return t&&!!t.\u0275providers}var z_=Ae({\u0275cmp:Ae}),G_=Ae({\u0275dir:Ae}),W_=Ae({\u0275pipe:Ae}),q_=Ae({\u0275mod:Ae}),Ju=Ae({\u0275fac:Ae}),ca=Ae({__NG_ELEMENT_ID__:Ae}),Sb=Ae({__NG_ENV_ID__:Ae});function Ot(t){return typeof t=="string"?t:t==null?"":String(t)}function Y_(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Ot(t)}function K_(t,e){let i=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new j(-200,t)}function fv(t,e){throw new j(-201,!1)}var ce=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ce||{}),am;function mw(){return am}function $t(t){let e=am;return am=t,e}function vw(t,e,i){let n=Cl(t);if(n&&n.providedIn=="root")return n.value===void 0?n.value=n.factory():n.value;if(i&ce.Optional)return null;if(e!==void 0)return e;fv(t,"Injector")}var Z_={},la=Z_,cm="__NG_DI_FLAG__",Xu="ngTempTokenPath",Q_="ngTokenPath",J_=/\n/gm,X_="\u0275",Ib="__source",js;function eL(){return js}function si(t){let e=js;return js=t,e}function tL(t,e=ce.Default){if(js===void 0)throw new j(-203,!1);return js===null?vw(t,void 0,e):js.get(t,e&ce.Optional?null:void 0,e)}function d(t,e=ce.Default){return(mw()||tL)(Nt(t),e)}function C(t,e=ce.Default){return d(t,Sl(e))}function Sl(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function um(t){let e=[];for(let i=0;i<t.length;i++){let n=Nt(t[i]);if(Array.isArray(n)){if(n.length===0)throw new j(900,!1);let r,s=ce.Default;for(let o=0;o<n.length;o++){let a=n[o],c=nL(a);typeof c=="number"?c===-1?r=a.token:s|=c:r=a}e.push(d(r,s))}else e.push(d(n))}return e}function hv(t,e){return t[cm]=e,t.prototype[cm]=e,t}function nL(t){return t[cm]}function rL(t,e,i,n){let r=t[Xu];throw e[Ib]&&r.unshift(e[Ib]),t.message=iL(`
`+t.message,r,i,n),t[Q_]=r,t[Xu]=null,t}function iL(t,e,i,n=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==X_?t.slice(2):t;let r=Pt(e);if(Array.isArray(e))r=e.map(Pt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):Pt(a)))}r=`{${s.join(", ")}}`}return`${i}${n?"("+n+")":""}[${r}]: ${t.replace(J_,`
  `)}`}var pv=hv(dv("Inject",t=>({token:t})),-1),dn=hv(dv("Optional"),8);var Il=hv(dv("SkipSelf"),4);function ji(t,e){let i=t.hasOwnProperty(Ju);return i?t[Ju]:null}function sL(t,e,i){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],s=e[n];if(i&&(r=i(r),s=i(s)),s!==r)return!1}return!0}function oL(t){return t.flat(Number.POSITIVE_INFINITY)}function gv(t,e){t.forEach(i=>Array.isArray(i)?gv(i,e):e(i))}function yw(t,e,i){e>=t.length?t.push(i):t.splice(e,0,i)}function el(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function aL(t,e){let i=[];for(let n=0;n<t;n++)i.push(e);return i}function cL(t,e,i,n){let r=t.length;if(r==e)t.push(i,n);else if(r===1)t.push(n,t[0]),t[0]=i;else{for(r--,t.push(t[r-1],t[r]);r>e;){let s=r-2;t[r]=t[s],r--}t[e]=i,t[e+1]=n}}function Sa(t,e,i){let n=Ia(t,e);return n>=0?t[n|1]=i:(n=~n,cL(t,n,e,i)),n}function Gg(t,e){let i=Ia(t,e);if(i>=0)return t[i|1]}function Ia(t,e){return uL(t,e,1)}function uL(t,e,i){let n=0,r=t.length>>i;for(;r!==n;){let s=n+(r-n>>1),o=t[s<<i];if(e===o)return s<<i;o>e?r=s:n=s+1}return~(r<<i)}var Bs={},Bt=[],er=new S(""),Ew=new S("",-1),Cw=new S(""),tl=class{get(e,i=la){if(i===la){let n=new Error(`NullInjectorError: No provider for ${Pt(e)}!`);throw n.name="NullInjectorError",n}return i}},Sw=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Sw||{}),tr=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(tr||{}),un=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(un||{});function lL(t,e,i){let n=t.length;for(;;){let r=t.indexOf(e,i);if(r===-1)return r;if(r===0||t.charCodeAt(r-1)<=32){let s=e.length;if(r+s===n||t.charCodeAt(r+s)<=32)return r}i=r+1}}function lm(t,e,i){let n=0;for(;n<i.length;){let r=i[n];if(typeof r=="number"){if(r!==0)break;n++;let s=i[n++],o=i[n++],a=i[n++];t.setAttribute(e,o,a,s)}else{let s=r,o=i[++n];dL(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),n++}}return n}function Iw(t){return t===3||t===4||t===6}function dL(t){return t.charCodeAt(0)===64}function da(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let i=-1;for(let n=0;n<e.length;n++){let r=e[n];typeof r=="number"?i=r:i===0||(i===-1||i===2?Db(t,i,r,null,e[++n]):Db(t,i,r,null,null))}}return t}function Db(t,e,i,n,r){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===i){if(n===null){r!==null&&(t[s+1]=r);return}else if(n===t[s+1]){t[s+2]=r;return}}s++,n!==null&&s++,r!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,i),n!==null&&t.splice(s++,0,n),r!==null&&t.splice(s++,0,r)}var Dw="ng-template";function fL(t,e,i,n){let r=0;if(n){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&lL(e[r+1].toLowerCase(),i,0)!==-1)return!0}else if(mv(t))return!1;if(r=e.indexOf(1,r),r>-1){let s;for(;++r<e.length&&typeof(s=e[r])=="string";)if(s.toLowerCase()===i)return!0}return!1}function mv(t){return t.type===4&&t.value!==Dw}function hL(t,e,i){let n=t.type===4&&!i?Dw:t.value;return e===n}function pL(t,e,i){let n=4,r=t.attrs,s=r!==null?vL(r):0,o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!bn(n)&&!bn(c))return!1;if(o&&bn(c))continue;o=!1,n=c|n&1;continue}if(!o)if(n&4){if(n=2|n&1,c!==""&&!hL(t,c,i)||c===""&&e.length===1){if(bn(n))return!1;o=!0}}else if(n&8){if(r===null||!fL(t,r,c,i)){if(bn(n))return!1;o=!0}}else{let u=e[++a],l=gL(c,r,mv(t),i);if(l===-1){if(bn(n))return!1;o=!0;continue}if(u!==""){let f;if(l>s?f="":f=r[l+1].toLowerCase(),n&2&&u!==f){if(bn(n))return!1;o=!0}}}}return bn(n)||o}function bn(t){return(t&1)===0}function gL(t,e,i,n){if(e===null)return-1;let r=0;if(n||!i){let s=!1;for(;r<e.length;){let o=e[r];if(o===t)return r;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(o===4)break;if(o===0){r+=4;continue}}r+=s?1:2}return-1}else return yL(e,t)}function bw(t,e,i=!1){for(let n=0;n<e.length;n++)if(pL(t,e[n],i))return!0;return!1}function mL(t){let e=t.attrs;if(e!=null){let i=e.indexOf(5);if(!(i&1))return e[i+1]}return null}function vL(t){for(let e=0;e<t.length;e++){let i=t[e];if(Iw(i))return e}return t.length}function yL(t,e){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){let n=t[i];if(typeof n=="number")return-1;if(n===e)return i;i++}return-1}function EL(t,e){e:for(let i=0;i<e.length;i++){let n=e[i];if(t.length===n.length){for(let r=0;r<t.length;r++)if(t[r]!==n[r])continue e;return!0}}return!1}function bb(t,e){return t?":not("+e.trim()+")":e}function CL(t){let e=t[0],i=1,n=2,r="",s=!1;for(;i<t.length;){let o=t[i];if(typeof o=="string")if(n&2){let a=t[++i];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else n&8?r+="."+o:n&4&&(r+=" "+o);else r!==""&&!bn(o)&&(e+=bb(s,r),r=""),n=o,s=s||!bn(n);i++}return r!==""&&(e+=bb(s,r)),e}function SL(t){return t.map(CL).join(",")}function IL(t){let e=[],i=[],n=1,r=2;for(;n<t.length;){let s=t[n];if(typeof s=="string")r===2?s!==""&&e.push(s,t[++n]):r===8&&i.push(s);else{if(!bn(r))break;r=s}n++}return{attrs:e,classes:i}}function ww(t){return Ca(()=>{let e=xw(t),i=T(v({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Sw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||tr.Emulated,styles:t.styles||Bt,_:null,schemas:t.schemas||null,tView:null,id:""});Nw(i);let n=t.dependencies;return i.directiveDefs=Tb(n,!1),i.pipeDefs=Tb(n,!0),i.id=wL(i),i})}function DL(t){return ai(t)||Tw(t)}function bL(t){return t!==null}function B(t){return Ca(()=>({type:t.type,bootstrap:t.bootstrap||Bt,declarations:t.declarations||Bt,imports:t.imports||Bt,exports:t.exports||Bt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function wb(t,e){if(t==null)return Bs;let i={};for(let n in t)if(t.hasOwnProperty(n)){let r=t[n],s,o,a=un.None;Array.isArray(r)?(a=r[0],s=r[1],o=r[2]??s):(s=r,o=r),e?(i[s]=a!==un.None?[n,a]:n,e[s]=o):i[s]=n}return i}function Ft(t){return Ca(()=>{let e=xw(t);return Nw(e),e})}function Vt(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function ai(t){return t[z_]||null}function Tw(t){return t[G_]||null}function Aw(t){return t[W_]||null}function Rw(t){let e=ai(t)||Tw(t)||Aw(t);return e!==null?e.standalone:!1}function Mw(t,e){let i=t[q_]||null;if(!i&&e===!0)throw new Error(`Type ${Pt(t)} does not have '\u0275mod' property.`);return i}function xw(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Bs,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Bt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:wb(t.inputs,e),outputs:wb(t.outputs),debugInfo:null}}function Nw(t){t.features?.forEach(e=>e(t))}function Tb(t,e){if(!t)return null;let i=e?Aw:DL;return()=>(typeof t=="function"?t():t).map(n=>i(n)).filter(bL)}function wL(t){let e=0,i=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let r of i)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function rr(t){return{\u0275providers:t}}function TL(...t){return{\u0275providers:Ow(!0,t),\u0275fromNgModule:!0}}function Ow(t,...e){let i=[],n=new Set,r,s=o=>{i.push(o)};return gv(e,o=>{let a=o;dm(a,s,[],n)&&(r||=[],r.push(a))}),r!==void 0&&Pw(r,s),i}function Pw(t,e){for(let i=0;i<t.length;i++){let{ngModule:n,providers:r}=t[i];vv(r,s=>{e(s,n)})}}function dm(t,e,i,n){if(t=Nt(t),!t)return!1;let r=null,s=Eb(t),o=!s&&ai(t);if(!s&&!o){let c=t.ngModule;if(s=Eb(c),s)r=c;else return!1}else{if(o&&!o.standalone)return!1;r=t}let a=n.has(r);if(o){if(a)return!1;if(n.add(r),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of c)dm(u,e,i,n)}}else if(s){if(s.imports!=null&&!a){n.add(r);let u;try{gv(s.imports,l=>{dm(l,e,i,n)&&(u||=[],u.push(l))})}finally{}u!==void 0&&Pw(u,e)}if(!a){let u=ji(r)||(()=>new r);e({provide:r,useFactory:u,deps:Bt},r),e({provide:Cw,useValue:r,multi:!0},r),e({provide:er,useValue:()=>d(r),multi:!0},r)}let c=s.providers;if(c!=null&&!a){let u=t;vv(c,l=>{e(l,u)})}}else return!1;return r!==t&&t.providers!==void 0}function vv(t,e){for(let i of t)gw(i)&&(i=i.\u0275providers),Array.isArray(i)?vv(i,e):e(i)}var AL=Ae({provide:String,useValue:Ae});function Fw(t){return t!==null&&typeof t=="object"&&AL in t}function RL(t){return!!(t&&t.useExisting)}function ML(t){return!!(t&&t.useFactory)}function Vs(t){return typeof t=="function"}function xL(t){return!!t.useClass}var Dl=new S(""),Wu={},NL={},Wg;function yv(){return Wg===void 0&&(Wg=new tl),Wg}var St=class{},fa=class extends St{get destroyed(){return this._destroyed}constructor(e,i,n,r){super(),this.parent=i,this.source=n,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,hm(e,o=>this.processProvider(o)),this.records.set(Ew,_s(void 0,this)),r.has("environment")&&this.records.set(St,_s(void 0,this));let s=this.records.get(Dl);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Cw,Bt,ce.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ve(null);try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let i=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of i)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ve(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let i=si(this),n=$t(void 0),r;try{return e()}finally{si(i),$t(n)}}get(e,i=la,n=ce.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Sb))return e[Sb](this);n=Sl(n);let r,s=si(this),o=$t(void 0);try{if(!(n&ce.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=LL(e)&&Cl(e);u&&this.injectableDefInScope(u)?c=_s(fm(e),Wu):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=n&ce.Self?yv():this.parent;return i=n&ce.Optional&&i===la?null:i,a.get(e,i)}catch(a){if(a.name==="NullInjectorError"){if((a[Xu]=a[Xu]||[]).unshift(Pt(e)),s)throw a;return rL(a,e,"R3InjectorError",this.source)}else throw a}finally{$t(o),si(s)}}resolveInjectorInitializers(){let e=ve(null),i=si(this),n=$t(void 0),r;try{let s=this.get(er,Bt,ce.Self);for(let o of s)o()}finally{si(i),$t(n),ve(e)}}toString(){let e=[],i=this.records;for(let n of i.keys())e.push(Pt(n));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new j(205,!1)}processProvider(e){e=Nt(e);let i=Vs(e)?e:Nt(e&&e.provide),n=PL(e);if(!Vs(e)&&e.multi===!0){let r=this.records.get(i);r||(r=_s(void 0,Wu,!0),r.factory=()=>um(r.multi),this.records.set(i,r)),i=e,r.multi.push(e)}this.records.set(i,n)}hydrate(e,i){let n=ve(null);try{return i.value===Wu&&(i.value=NL,i.value=i.factory()),typeof i.value=="object"&&i.value&&_L(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}finally{ve(n)}}injectableDefInScope(e){if(!e.providedIn)return!1;let i=Nt(e.providedIn);return typeof i=="string"?i==="any"||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(e){let i=this._onDestroyHooks.indexOf(e);i!==-1&&this._onDestroyHooks.splice(i,1)}};function fm(t){let e=Cl(t),i=e!==null?e.factory:ji(t);if(i!==null)return i;if(t instanceof S)throw new j(204,!1);if(t instanceof Function)return OL(t);throw new j(204,!1)}function OL(t){if(t.length>0)throw new j(204,!1);let i=V_(t);return i!==null?()=>i.factory(t):()=>new t}function PL(t){if(Fw(t))return _s(void 0,t.useValue);{let e=_w(t);return _s(e,Wu)}}function _w(t,e,i){let n;if(Vs(t)){let r=Nt(t);return ji(r)||fm(r)}else if(Fw(t))n=()=>Nt(t.useValue);else if(ML(t))n=()=>t.useFactory(...um(t.deps||[]));else if(RL(t))n=()=>d(Nt(t.useExisting));else{let r=Nt(t&&(t.useClass||t.provide));if(FL(t))n=()=>new r(...um(t.deps));else return ji(r)||fm(r)}return n}function _s(t,e,i=!1){return{factory:t,value:e,multi:i?[]:void 0}}function FL(t){return!!t.deps}function _L(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function LL(t){return typeof t=="function"||typeof t=="object"&&t instanceof S}function hm(t,e){for(let i of t)Array.isArray(i)?hm(i,e):i&&gw(i)?hm(i.\u0275providers,e):e(i)}function xn(t,e){t instanceof fa&&t.assertNotDestroyed();let i,n=si(t),r=$t(void 0);try{return e()}finally{si(n),$t(r)}}function Lw(){return mw()!==void 0||eL()!=null}function Da(t){if(!Lw())throw new j(-203,!1)}function kL(t){let e=Ge.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function UL(t){return typeof t=="function"}var Nr=0,se=1,J=2,mt=3,wn=4,Qt=5,ha=6,pa=7,Tn=8,Hs=9,An=10,xe=11,ga=12,Ab=13,Zs=14,Rn=15,ba=16,Ls=17,Ar=18,bl=19,kw=20,oi=21,qg=22,$i=23,It=25,Uw=1;var Bi=7,nl=8,zs=9,Zt=10,Ev=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Ev||{});function ki(t){return Array.isArray(t)&&typeof t[Uw]=="object"}function Or(t){return Array.isArray(t)&&t[Uw]===!0}function Cv(t){return(t.flags&4)!==0}function wl(t){return t.componentOffset>-1}function Tl(t){return(t.flags&1)===1}function ci(t){return!!t.template}function jL(t){return(t[J]&512)!==0}var pm=class{constructor(e,i,n){this.previousValue=e,this.currentValue=i,this.firstChange=n}isFirstChange(){return this.firstChange}};function jw(t,e,i,n){e!==null?e.applyValueToInputSignal(e,n):t[i]=n}function li(){return $w}function $w(t){return t.type.prototype.ngOnChanges&&(t.setInput=BL),$L}li.ngInherit=!0;function $L(){let t=Vw(this),e=t?.current;if(e){let i=t.previous;if(i===Bs)t.previous=e;else for(let n in e)i[n]=e[n];t.current=null,this.ngOnChanges(e)}}function BL(t,e,i,n,r){let s=this.declaredInputs[n],o=Vw(t)||VL(t,{previous:Bs,current:null}),a=o.current||(o.current={}),c=o.previous,u=c[s];a[s]=new pm(u&&u.currentValue,i,c===Bs),jw(t,e,r,i)}var Bw="__ngSimpleChanges__";function Vw(t){return t[Bw]||null}function VL(t,e){return t[Bw]=e}var Rb=null;var Jn=function(t,e,i){Rb?.(t,e,i)},HL="svg",zL="math",GL=!1;function WL(){return GL}function nr(t){for(;Array.isArray(t);)t=t[Nr];return t}function Hw(t,e){return nr(e[t])}function fn(t,e){return nr(e[t.index])}function zw(t,e){return t.data[e]}function wa(t,e){return t[e]}function di(t,e){let i=e[t];return ki(i)?i:i[Nr]}function qL(t){return(t[J]&4)===4}function Sv(t){return(t[J]&128)===128}function YL(t){return Or(t[mt])}function Gs(t,e){return e==null?null:t[e]}function Gw(t){t[Ls]=0}function KL(t){t[J]&1024||(t[J]|=1024,Sv(t)&&ma(t))}function ZL(t,e){for(;t>0;)e=e[Zs],t--;return e}function Iv(t){return!!(t[J]&9216||t[$i]?.dirty)}function gm(t){t[An].changeDetectionScheduler?.notify(1),Iv(t)?ma(t):t[J]&64&&(WL()?(t[J]|=1024,ma(t)):t[An].changeDetectionScheduler?.notify())}function ma(t){t[An].changeDetectionScheduler?.notify();let e=va(t);for(;e!==null&&!(e[J]&8192||(e[J]|=8192,!Sv(e)));)e=va(e)}function Ww(t,e){if((t[J]&256)===256)throw new j(911,!1);t[oi]===null&&(t[oi]=[]),t[oi].push(e)}function QL(t,e){if(t[oi]===null)return;let i=t[oi].indexOf(e);i!==-1&&t[oi].splice(i,1)}function va(t){let e=t[mt];return Or(e)?e[mt]:e}var oe={lFrame:Xw(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function JL(){return oe.lFrame.elementDepthCount}function XL(){oe.lFrame.elementDepthCount++}function ek(){oe.lFrame.elementDepthCount--}function qw(){return oe.bindingsEnabled}function Yw(){return oe.skipHydrationRootTNode!==null}function tk(t){return oe.skipHydrationRootTNode===t}function nk(){oe.skipHydrationRootTNode=null}function Z(){return oe.lFrame.lView}function Fe(){return oe.lFrame.tView}function Wie(t){return oe.lFrame.contextLView=t,t[Tn]}function qie(t){return oe.lFrame.contextLView=null,t}function bt(){let t=Kw();for(;t!==null&&t.type===64;)t=t.parent;return t}function Kw(){return oe.lFrame.currentTNode}function rk(){let t=oe.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Ki(t,e){let i=oe.lFrame;i.currentTNode=t,i.isParent=e}function Dv(){return oe.lFrame.isParent}function bv(){oe.lFrame.isParent=!1}function ik(){return oe.lFrame.contextLView}function Nn(){let t=oe.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function wv(){return oe.lFrame.bindingIndex}function sk(t){return oe.lFrame.bindingIndex=t}function Ta(){return oe.lFrame.bindingIndex++}function Aa(t){let e=oe.lFrame,i=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,i}function ok(){return oe.lFrame.inI18n}function ak(t,e){let i=oe.lFrame;i.bindingIndex=i.bindingRootIndex=t,mm(e)}function ck(){return oe.lFrame.currentDirectiveIndex}function mm(t){oe.lFrame.currentDirectiveIndex=t}function uk(t){let e=oe.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Zw(){return oe.lFrame.currentQueryIndex}function Tv(t){oe.lFrame.currentQueryIndex=t}function lk(t){let e=t[se];return e.type===2?e.declTNode:e.type===1?t[Qt]:null}function Qw(t,e,i){if(i&ce.SkipSelf){let r=e,s=t;for(;r=r.parent,r===null&&!(i&ce.Host);)if(r=lk(s),r===null||(s=s[Zs],r.type&10))break;if(r===null)return!1;e=r,t=s}let n=oe.lFrame=Jw();return n.currentTNode=e,n.lView=t,!0}function Av(t){let e=Jw(),i=t[se];oe.lFrame=e,e.currentTNode=i.firstChild,e.lView=t,e.tView=i,e.contextLView=t,e.bindingIndex=i.bindingStartIndex,e.inI18n=!1}function Jw(){let t=oe.lFrame,e=t===null?null:t.child;return e===null?Xw(t):e}function Xw(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function eT(){let t=oe.lFrame;return oe.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var tT=eT;function Rv(){let t=eT();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function dk(t){return(oe.lFrame.contextLView=ZL(t,oe.lFrame.contextLView))[Tn]}function ir(){return oe.lFrame.selectedIndex}function Vi(t){oe.lFrame.selectedIndex=t}function Zi(){let t=oe.lFrame;return zw(t.tView,t.selectedIndex)}function fk(){return oe.lFrame.currentNamespace}var nT=!0;function Al(){return nT}function Rl(t){nT=t}function hk(t,e,i){let{ngOnChanges:n,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(n){let o=$w(e);(i.preOrderHooks??=[]).push(t,o),(i.preOrderCheckHooks??=[]).push(t,o)}r&&(i.preOrderHooks??=[]).push(0-t,r),s&&((i.preOrderHooks??=[]).push(t,s),(i.preOrderCheckHooks??=[]).push(t,s))}function Ml(t,e){for(let i=e.directiveStart,n=e.directiveEnd;i<n;i++){let s=t.data[i].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-i,o),a&&((t.contentHooks??=[]).push(i,a),(t.contentCheckHooks??=[]).push(i,a)),c&&(t.viewHooks??=[]).push(-i,c),u&&((t.viewHooks??=[]).push(i,u),(t.viewCheckHooks??=[]).push(i,u)),l!=null&&(t.destroyHooks??=[]).push(i,l)}}function qu(t,e,i){rT(t,e,3,i)}function Yu(t,e,i,n){(t[J]&3)===i&&rT(t,e,i,n)}function Yg(t,e){let i=t[J];(i&3)===e&&(i&=16383,i+=1,t[J]=i)}function rT(t,e,i,n){let r=n!==void 0?t[Ls]&65535:0,s=n??-1,o=e.length-1,a=0;for(let c=r;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],n!=null&&a>=n)break}else e[c]<0&&(t[Ls]+=65536),(a<s||s==-1)&&(pk(t,i,e,c),t[Ls]=(t[Ls]&4294901760)+c+2),c++}function Mb(t,e){Jn(4,t,e);let i=ve(null);try{e.call(t)}finally{ve(i),Jn(5,t,e)}}function pk(t,e,i,n){let r=i[n]<0,s=i[n+1],o=r?-i[n]:i[n],a=t[o];r?t[J]>>14<t[Ls]>>16&&(t[J]&3)===e&&(t[J]+=16384,Mb(a,s)):Mb(a,s)}var $s=-1,Hi=class{constructor(e,i,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=n}};function gk(t){return t instanceof Hi}function mk(t){return(t.flags&8)!==0}function vk(t){return(t.flags&16)!==0}function iT(t){return t!==$s}function rl(t){return t&32767}function yk(t){return t>>16}function il(t,e){let i=yk(t),n=e;for(;i>0;)n=n[Zs],i--;return n}var vm=!0;function sl(t){let e=vm;return vm=t,e}var Ek=256,sT=Ek-1,oT=5,Ck=0,Xn={};function Sk(t,e,i){let n;typeof i=="string"?n=i.charCodeAt(0)||0:i.hasOwnProperty(ca)&&(n=i[ca]),n==null&&(n=i[ca]=Ck++);let r=n&sT,s=1<<r;e.data[t+(r>>oT)]|=s}function ol(t,e){let i=aT(t,e);if(i!==-1)return i;let n=e[se];n.firstCreatePass&&(t.injectorIndex=e.length,Kg(n.data,t),Kg(e,null),Kg(n.blueprint,null));let r=Mv(t,e),s=t.injectorIndex;if(iT(r)){let o=rl(r),a=il(r,e),c=a[se].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|c[o+u]}return e[s+8]=r,s}function Kg(t,e){t.push(0,0,0,0,0,0,0,0,e)}function aT(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Mv(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let i=0,n=null,r=e;for(;r!==null;){if(n=fT(r),n===null)return $s;if(i++,r=r[Zs],n.injectorIndex!==-1)return n.injectorIndex|i<<16}return $s}function ym(t,e,i){Sk(t,e,i)}function Ik(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let i=t.attrs;if(i){let n=i.length,r=0;for(;r<n;){let s=i[r];if(Iw(s))break;if(s===0)r=r+2;else if(typeof s=="number")for(r++;r<n&&typeof i[r]=="string";)r++;else{if(s===e)return i[r+1];r=r+2}}}return null}function cT(t,e,i){if(i&ce.Optional||t!==void 0)return t;fv(e,"NodeInjector")}function uT(t,e,i,n){if(i&ce.Optional&&n===void 0&&(n=null),!(i&(ce.Self|ce.Host))){let r=t[Hs],s=$t(void 0);try{return r?r.get(e,n,i&ce.Optional):vw(e,n,i&ce.Optional)}finally{$t(s)}}return cT(n,e,i)}function lT(t,e,i,n=ce.Default,r){if(t!==null){if(e[J]&2048&&!(n&ce.Self)){let o=Tk(t,e,i,n,Xn);if(o!==Xn)return o}let s=dT(t,e,i,n,Xn);if(s!==Xn)return s}return uT(e,i,n,r)}function dT(t,e,i,n,r){let s=bk(i);if(typeof s=="function"){if(!Qw(e,t,n))return n&ce.Host?cT(r,i,n):uT(e,i,n,r);try{let o;if(o=s(n),o==null&&!(n&ce.Optional))fv(i);else return o}finally{tT()}}else if(typeof s=="number"){let o=null,a=aT(t,e),c=$s,u=n&ce.Host?e[Rn][Qt]:null;for((a===-1||n&ce.SkipSelf)&&(c=a===-1?Mv(t,e):e[a+8],c===$s||!Nb(n,!1)?a=-1:(o=e[se],a=rl(c),e=il(c,e)));a!==-1;){let l=e[se];if(xb(s,a,l.data)){let f=Dk(a,e,i,o,n,u);if(f!==Xn)return f}c=e[a+8],c!==$s&&Nb(n,e[se].data[a+8]===u)&&xb(s,a,e)?(o=l,a=rl(c),e=il(c,e)):a=-1}}return r}function Dk(t,e,i,n,r,s){let o=e[se],a=o.data[t+8],c=n==null?wl(a)&&vm:n!=o&&(a.type&3)!==0,u=r&ce.Host&&s===a,l=Ku(a,o,i,c,u);return l!==null?zi(e,o,l,a):Xn}function Ku(t,e,i,n,r){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,u=t.directiveEnd,l=s>>20,f=n?a:a+l,h=r?a+l:u;for(let m=f;m<h;m++){let y=o[m];if(m<c&&i===y||m>=c&&y.type===i)return m}if(r){let m=o[c];if(m&&ci(m)&&m.type===i)return c}return null}function zi(t,e,i,n){let r=t[i],s=e.data;if(gk(r)){let o=r;o.resolving&&K_(Y_(s[i]));let a=sl(o.canSeeViewProviders);o.resolving=!0;let c,u=o.injectImpl?$t(o.injectImpl):null,l=Qw(t,n,ce.Default);try{r=t[i]=o.factory(void 0,s,t,n),e.firstCreatePass&&i>=n.directiveStart&&hk(i,s[i],e)}finally{u!==null&&$t(u),sl(a),o.resolving=!1,tT()}}return r}function bk(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(ca)?t[ca]:void 0;return typeof e=="number"?e>=0?e&sT:wk:e}function xb(t,e,i){let n=1<<t;return!!(i[e+(t>>oT)]&n)}function Nb(t,e){return!(t&ce.Self)&&!(t&ce.Host&&e)}var Ui=class{constructor(e,i){this._tNode=e,this._lView=i}get(e,i,n){return lT(this._tNode,this._lView,e,Sl(n),i)}};function wk(){return new Ui(bt(),Z())}function We(t){return Ca(()=>{let e=t.prototype.constructor,i=e[Ju]||Em(e),n=Object.prototype,r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==n;){let s=r[Ju]||Em(r);if(s&&s!==i)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function Em(t){return dw(t)?()=>{let e=Em(Nt(t));return e&&e()}:ji(t)}function Tk(t,e,i,n,r){let s=t,o=e;for(;s!==null&&o!==null&&o[J]&2048&&!(o[J]&512);){let a=dT(s,o,i,n|ce.Self,Xn);if(a!==Xn)return a;let c=s.parent;if(!c){let u=o[kw];if(u){let l=u.get(i,Xn,n);if(l!==Xn)return l}c=fT(o),o=o[Zs]}s=c}return r}function fT(t){let e=t[se],i=e.type;return i===2?e.declTNode:i===1?t[Qt]:null}function xv(t){return Ik(bt(),t)}function Ob(t,e=null,i=null,n){let r=hT(t,e,i,n);return r.resolveInjectorInitializers(),r}function hT(t,e=null,i=null,n,r=new Set){let s=[i||Bt,TL(t)];return n=n||(typeof t=="object"?void 0:Pt(t)),new fa(s,e||yv(),n||null,r)}var Ye=(()=>{let e=class e{static create(n,r){if(Array.isArray(n))return Ob({name:""},r,n,"");{let s=n.name??"";return Ob({name:s},n.parent,n.providers,s)}}};e.THROW_IF_NOT_FOUND=la,e.NULL=new tl,e.\u0275prov=g({token:e,providedIn:"any",factory:()=>d(Ew)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var Ak="ngOriginalError";function Zg(t){return t[Ak]}var Dt=class{constructor(){this._console=console}handleError(e){let i=this._findOriginalError(e);this._console.error("ERROR",e),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(e){let i=e&&Zg(e);for(;i&&Zg(i);)i=Zg(i);return i||null}},pT=new S("",{providedIn:"root",factory:()=>C(Dt).handleError.bind(void 0)}),fi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Rk,e.__NG_ENV_ID__=n=>n;let t=e;return t})(),Cm=class extends fi{constructor(e){super(),this._lView=e}onDestroy(e){return Ww(this._lView,e),()=>QL(this._lView,e)}};function Rk(){return new Cm(Z())}function Mk(){return Qs(bt(),Z())}function Qs(t,e){return new sr(fn(t,e))}var sr=(()=>{let e=class e{constructor(n){this.nativeElement=n}};e.__NG_ELEMENT_ID__=Mk;let t=e;return t})();function xk(t){return t instanceof sr?t.nativeElement:t}var Sm=class extends re{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,Lw()&&(this.destroyRef=C(fi,{optional:!0})??void 0)}emit(e){let i=ve(null);try{super.next(e)}finally{ve(i)}}subscribe(e,i,n){let r=e,s=i||(()=>null),o=n;if(e&&typeof e=="object"){let c=e;r=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=Qg(s),r&&(r=Qg(r)),o&&(o=Qg(o)));let a=super.subscribe({next:r,error:s,complete:o});return e instanceof Ee&&e.add(a),a}};function Qg(t){return e=>{setTimeout(t,void 0,e)}}var gt=Sm;function Nk(){return this._results[Symbol.iterator]()}var Im=class t{get changes(){return this._changes??=new gt}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let i=t.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=Nk)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,i){return this._results.reduce(e,i)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,i){this.dirty=!1;let n=oL(e);(this._changesDetected=!sL(this._results,n,i))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function gT(t){return(t.flags&128)===128}var mT=new Map,Ok=0;function Pk(){return Ok++}function Fk(t){mT.set(t[bl],t)}function _k(t){mT.delete(t[bl])}var Pb="__ngContext__";function ui(t,e){ki(e)?(t[Pb]=e[bl],Fk(e)):t[Pb]=e}function vT(t){return ET(t[ga])}function yT(t){return ET(t[wn])}function ET(t){for(;t!==null&&!Or(t);)t=t[wn];return t}var Dm;function CT(t){Dm=t}function Nv(){if(Dm!==void 0)return Dm;if(typeof document<"u")return document;throw new j(210,!1)}var Ra=new S("",{providedIn:"root",factory:()=>Lk}),Lk="ng",Ov=new S(""),$e=new S("",{providedIn:"platform",factory:()=>"unknown"});var Pv=new S("",{providedIn:"root",factory:()=>Nv().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function kk(){let t=new Ma;return C($e)==="browser"&&(t.store=Uk(Nv(),C(Ra))),t}var Ma=(()=>{let e=class e{constructor(){this.store={},this.onSerializeCallbacks={}}get(n,r){return this.store[n]!==void 0?this.store[n]:r}set(n,r){this.store[n]=r}remove(n){delete this.store[n]}hasKey(n){return this.store.hasOwnProperty(n)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(n,r){this.onSerializeCallbacks[n]=r}toJson(){for(let n in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(n))try{this.store[n]=this.onSerializeCallbacks[n]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}};e.\u0275prov=g({token:e,providedIn:"root",factory:kk});let t=e;return t})();function Uk(t,e){let i=t.getElementById(e+"-state");if(i?.textContent)try{return JSON.parse(i.textContent)}catch(n){console.warn("Exception while restoring TransferState for app "+e,n)}return{}}var jk="h",$k="b";var Bk=()=>null;function Fv(t,e,i=!1){return Bk(t,e,i)}var ST=!1,Vk=new S("",{providedIn:"root",factory:()=>ST});var $u;function Hk(){if($u===void 0&&($u=null,Ge.trustedTypes))try{$u=Ge.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return $u}function xl(t){return Hk()?.createHTML(t)||t}var Bu;function IT(){if(Bu===void 0&&(Bu=null,Ge.trustedTypes))try{Bu=Ge.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Bu}function Fb(t){return IT()?.createHTML(t)||t}function _b(t){return IT()?.createScriptURL(t)||t}var Rr=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${uw})`}},bm=class extends Rr{getTypeName(){return"HTML"}},wm=class extends Rr{getTypeName(){return"Style"}},Tm=class extends Rr{getTypeName(){return"Script"}},Am=class extends Rr{getTypeName(){return"URL"}},Rm=class extends Rr{getTypeName(){return"ResourceURL"}};function Ht(t){return t instanceof Rr?t.changingThisBreaksApplicationSecurity:t}function or(t,e){let i=zk(t);if(i!=null&&i!==e){if(i==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${i} (see ${uw})`)}return i===e}function zk(t){return t instanceof Rr&&t.getTypeName()||null}function DT(t){return new bm(t)}function bT(t){return new wm(t)}function wT(t){return new Tm(t)}function TT(t){return new Am(t)}function AT(t){return new Rm(t)}function Gk(t){let e=new xm(t);return Wk()?new Mm(e):e}var Mm=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let i=new window.DOMParser().parseFromString(xl(e),"text/html").body;return i===null?this.inertDocumentHelper.getInertBodyElement(e):(i.removeChild(i.firstChild),i)}catch{return null}}},xm=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let i=this.inertDocument.createElement("template");return i.innerHTML=xl(e),i}};function Wk(){try{return!!new window.DOMParser().parseFromString(xl(""),"text/html")}catch{return!1}}var qk=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Nl(t){return t=String(t),t.match(qk)?t:"unsafe:"+t}function Pr(t){let e={};for(let i of t.split(","))e[i]=!0;return e}function xa(...t){let e={};for(let i of t)for(let n in i)i.hasOwnProperty(n)&&(e[n]=!0);return e}var RT=Pr("area,br,col,hr,img,wbr"),MT=Pr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),xT=Pr("rp,rt"),Yk=xa(xT,MT),Kk=xa(MT,Pr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Zk=xa(xT,Pr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Lb=xa(RT,Kk,Zk,Yk),NT=Pr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Qk=Pr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Jk=Pr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),Xk=xa(NT,Qk,Jk),eU=Pr("script,style,template"),Nm=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let i=e.firstChild,n=!0,r=[];for(;i;){if(i.nodeType===Node.ELEMENT_NODE?n=this.startElement(i):i.nodeType===Node.TEXT_NODE?this.chars(i.nodeValue):this.sanitizedSomething=!0,n&&i.firstChild){r.push(i),i=rU(i);continue}for(;i;){i.nodeType===Node.ELEMENT_NODE&&this.endElement(i);let s=nU(i);if(s){i=s;break}i=r.pop()}}return this.buf.join("")}startElement(e){let i=kb(e).toLowerCase();if(!Lb.hasOwnProperty(i))return this.sanitizedSomething=!0,!eU.hasOwnProperty(i);this.buf.push("<"),this.buf.push(i);let n=e.attributes;for(let r=0;r<n.length;r++){let s=n.item(r),o=s.name,a=o.toLowerCase();if(!Xk.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=s.value;NT[a]&&(c=Nl(c)),this.buf.push(" ",o,'="',Ub(c),'"')}return this.buf.push(">"),!0}endElement(e){let i=kb(e).toLowerCase();Lb.hasOwnProperty(i)&&!RT.hasOwnProperty(i)&&(this.buf.push("</"),this.buf.push(i),this.buf.push(">"))}chars(e){this.buf.push(Ub(e))}};function tU(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function nU(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw OT(e);return e}function rU(t){let e=t.firstChild;if(e&&tU(t,e))throw OT(e);return e}function kb(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function OT(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var iU=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,sU=/([^\#-~ |!])/g;function Ub(t){return t.replace(/&/g,"&amp;").replace(iU,function(e){let i=e.charCodeAt(0),n=e.charCodeAt(1);return"&#"+((i-55296)*1024+(n-56320)+65536)+";"}).replace(sU,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Vu;function _v(t,e){let i=null;try{Vu=Vu||Gk(t);let n=e?String(e):"";i=Vu.getInertBodyElement(n);let r=5,s=n;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,n=s,s=i.innerHTML,i=Vu.getInertBodyElement(n)}while(n!==s);let a=new Nm().sanitizeChildren(jb(i)||i);return xl(a)}finally{if(i){let n=jb(i)||i;for(;n.firstChild;)n.removeChild(n.firstChild)}}}function jb(t){return"content"in t&&oU(t)?t.content:null}function oU(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var hn=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(hn||{});function Yie(t){let e=Ol();return e?Fb(e.sanitize(hn.HTML,t)||""):or(t,"HTML")?Fb(Ht(t)):_v(Nv(),Ot(t))}function Kie(t){let e=Ol();return e?e.sanitize(hn.STYLE,t)||"":or(t,"Style")?Ht(t):Ot(t)}function aU(t){let e=Ol();return e?e.sanitize(hn.URL,t)||"":or(t,"URL")?Ht(t):Nl(Ot(t))}function cU(t){let e=Ol();if(e)return _b(e.sanitize(hn.RESOURCE_URL,t)||"");if(or(t,"ResourceURL"))return _b(Ht(t));throw new j(904,!1)}function uU(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?cU:aU}function PT(t,e,i){return uU(e,i)(t)}function Ol(){let t=Z();return t&&t[An].sanitizer}var lU=/^>|^->|<!--|-->|--!>|<!-$/g,dU=/(<|>)/g,fU="\u200B$1\u200B";function hU(t){return t.replace(lU,e=>e.replace(dU,fU))}function Zie(t){return t.ownerDocument.defaultView}function Qie(t){return t.ownerDocument}function FT(t){return t instanceof Function?t():t}function pU(t){return(t??C(Ye)).get($e)==="browser"}var Mr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Mr||{}),gU;function Lv(t,e){return gU(t,e)}function ks(t,e,i,n,r){if(n!=null){let s,o=!1;Or(n)?s=n:ki(n)&&(o=!0,n=n[Nr]);let a=nr(n);t===0&&i!==null?r==null?$T(e,i,a):al(e,i,a,r||null,!0):t===1&&i!==null?al(e,i,a,r||null,!0):t===2?NU(e,a,o):t===3&&e.destroyNode(a),s!=null&&PU(e,t,s,i,r)}}function mU(t,e){return t.createText(e)}function vU(t,e,i){t.setValue(e,i)}function yU(t,e){return t.createComment(hU(e))}function _T(t,e,i){return t.createElement(e,i)}function EU(t,e){LT(t,e),e[Nr]=null,e[Qt]=null}function CU(t,e,i,n,r,s){n[Nr]=r,n[Qt]=e,Fl(t,n,i,1,r,s)}function LT(t,e){e[An].changeDetectionScheduler?.notify(1),Fl(t,e,e[xe],2,null,null)}function SU(t){let e=t[ga];if(!e)return Jg(t[se],t);for(;e;){let i=null;if(ki(e))i=e[ga];else{let n=e[Zt];n&&(i=n)}if(!i){for(;e&&!e[wn]&&e!==t;)ki(e)&&Jg(e[se],e),e=e[mt];e===null&&(e=t),ki(e)&&Jg(e[se],e),i=e&&e[wn]}e=i}}function IU(t,e,i,n){let r=Zt+n,s=i.length;n>0&&(i[r-1][wn]=e),n<s-Zt?(e[wn]=i[r],yw(i,Zt+n,e)):(i.push(e),e[wn]=null),e[mt]=i;let o=e[ba];o!==null&&i!==o&&DU(o,e);let a=e[Ar];a!==null&&a.insertView(t),gm(e),e[J]|=128}function DU(t,e){let i=t[zs],r=e[mt][mt][Rn];e[Rn]!==r&&(t[J]|=Ev.HasTransplantedViews),i===null?t[zs]=[e]:i.push(e)}function kT(t,e){let i=t[zs],n=i.indexOf(e);i.splice(n,1)}function Om(t,e){if(t.length<=Zt)return;let i=Zt+e,n=t[i];if(n){let r=n[ba];r!==null&&r!==t&&kT(r,n),e>0&&(t[i-1][wn]=n[wn]);let s=el(t,Zt+e);EU(n[se],n);let o=s[Ar];o!==null&&o.detachView(s[se]),n[mt]=null,n[wn]=null,n[J]&=-129}return n}function UT(t,e){if(!(e[J]&256)){let i=e[xe];i.destroyNode&&Fl(t,e,i,3,null,null),SU(e)}}function Jg(t,e){if(e[J]&256)return;let i=ve(null);try{e[J]&=-129,e[J]|=256,e[$i]&&cb(e[$i]),wU(t,e),bU(t,e),e[se].type===1&&e[xe].destroy();let n=e[ba];if(n!==null&&Or(e[mt])){n!==e[mt]&&kT(n,e);let r=e[Ar];r!==null&&r.detachView(t)}_k(e)}finally{ve(i)}}function bU(t,e){let i=t.cleanup,n=e[pa];if(i!==null)for(let s=0;s<i.length-1;s+=2)if(typeof i[s]=="string"){let o=i[s+3];o>=0?n[o]():n[-o].unsubscribe(),s+=2}else{let o=n[i[s+1]];i[s].call(o)}n!==null&&(e[pa]=null);let r=e[oi];if(r!==null){e[oi]=null;for(let s=0;s<r.length;s++){let o=r[s];o()}}}function wU(t,e){let i;if(t!=null&&(i=t.destroyHooks)!=null)for(let n=0;n<i.length;n+=2){let r=e[i[n]];if(!(r instanceof Hi)){let s=i[n+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=r[s[o]],c=s[o+1];Jn(4,a,c);try{c.call(a)}finally{Jn(5,a,c)}}else{Jn(4,r,s);try{s.call(r)}finally{Jn(5,r,s)}}}}}function jT(t,e,i){return TU(t,e.parent,i)}function TU(t,e,i){let n=e;for(;n!==null&&n.type&40;)e=n,n=e.parent;if(n===null)return i[Nr];{let{componentOffset:r}=n;if(r>-1){let{encapsulation:s}=t.data[n.directiveStart+r];if(s===tr.None||s===tr.Emulated)return null}return fn(n,i)}}function al(t,e,i,n,r){t.insertBefore(e,i,n,r)}function $T(t,e,i){t.appendChild(e,i)}function $b(t,e,i,n,r){n!==null?al(t,e,i,n,r):$T(t,e,i)}function AU(t,e,i,n){t.removeChild(e,i,n)}function kv(t,e){return t.parentNode(e)}function RU(t,e){return t.nextSibling(e)}function BT(t,e,i){return xU(t,e,i)}function MU(t,e,i){return t.type&40?fn(t,i):null}var xU=MU,Bb;function Pl(t,e,i,n){let r=jT(t,n,e),s=e[xe],o=n.parent||e[Qt],a=BT(o,n,e);if(r!=null)if(Array.isArray(i))for(let c=0;c<i.length;c++)$b(s,r,i[c],a,!1);else $b(s,r,i,a,!1);Bb!==void 0&&Bb(s,n,e,i,r)}function Zu(t,e){if(e!==null){let i=e.type;if(i&3)return fn(e,t);if(i&4)return Pm(-1,t[e.index]);if(i&8){let n=e.child;if(n!==null)return Zu(t,n);{let r=t[e.index];return Or(r)?Pm(-1,r):nr(r)}}else{if(i&32)return Lv(e,t)()||nr(t[e.index]);{let n=VT(t,e);if(n!==null){if(Array.isArray(n))return n[0];let r=va(t[Rn]);return Zu(r,n)}else return Zu(t,e.next)}}}return null}function VT(t,e){if(e!==null){let n=t[Rn][Qt],r=e.projection;return n.projection[r]}return null}function Pm(t,e){let i=Zt+t+1;if(i<e.length){let n=e[i],r=n[se].firstChild;if(r!==null)return Zu(n,r)}return e[Bi]}function NU(t,e,i){let n=kv(t,e);n&&AU(t,n,e,i)}function Uv(t,e,i,n,r,s,o){for(;i!=null;){let a=n[i.index],c=i.type;if(o&&e===0&&(a&&ui(nr(a),n),i.flags|=2),(i.flags&32)!==32)if(c&8)Uv(t,e,i.child,n,r,s,!1),ks(e,t,r,a,s);else if(c&32){let u=Lv(i,n),l;for(;l=u();)ks(e,t,r,l,s);ks(e,t,r,a,s)}else c&16?HT(t,e,n,i,r,s):ks(e,t,r,a,s);i=o?i.projectionNext:i.next}}function Fl(t,e,i,n,r,s){Uv(i,n,t.firstChild,e,r,s,!1)}function OU(t,e,i){let n=e[xe],r=jT(t,i,e),s=i.parent||e[Qt],o=BT(s,i,e);HT(n,0,e,i,r,o)}function HT(t,e,i,n,r,s){let o=i[Rn],c=o[Qt].projection[n.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];ks(e,t,r,l,s)}else{let u=c,l=o[mt];gT(n)&&(u.flags|=128),Uv(t,e,u,l,r,s,!0)}}function PU(t,e,i,n,r){let s=i[Bi],o=nr(i);s!==o&&ks(e,t,n,s,r);for(let a=Zt;a<i.length;a++){let c=i[a];Fl(c[se],c,t,e,n,s)}}function FU(t,e,i,n,r){if(e)r?t.addClass(i,n):t.removeClass(i,n);else{let s=n.indexOf("-")===-1?void 0:Mr.DashCase;r==null?t.removeStyle(i,n,s):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=Mr.Important),t.setStyle(i,n,r,s))}}function _U(t,e,i){t.setAttribute(e,"style",i)}function zT(t,e,i){i===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",i)}function GT(t,e,i){let{mergedAttrs:n,classes:r,styles:s}=i;n!==null&&lm(t,e,n),r!==null&&zT(t,e,r),s!==null&&_U(t,e,s)}var tt={};function Jie(t=1){WT(Fe(),Z(),ir()+t,!1)}function WT(t,e,i,n){if(!n)if((e[J]&3)===3){let s=t.preOrderCheckHooks;s!==null&&qu(e,s,i)}else{let s=t.preOrderHooks;s!==null&&Yu(e,s,0,i)}Vi(i)}function X(t,e=ce.Default){let i=Z();if(i===null)return d(t,e);let n=bt();return lT(n,i,Nt(t),e)}function qT(){let t="invalid";throw new Error(t)}function YT(t,e,i,n,r,s){let o=ve(null);try{let a=null;r&un.SignalBased&&(a=e[n][Tr]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),r&un.HasDecoratorInputTransform&&(s=t.inputTransforms[n].call(e,s)),t.setInput!==null?t.setInput(e,a,s,i,n):jw(e,a,n,s)}finally{ve(o)}}function LU(t,e){let i=t.hostBindingOpCodes;if(i!==null)try{for(let n=0;n<i.length;n++){let r=i[n];if(r<0)Vi(~r);else{let s=r,o=i[++n],a=i[++n];ak(o,s);let c=e[s];a(2,c)}}}finally{Vi(-1)}}function _l(t,e,i,n,r,s,o,a,c,u,l){let f=e.blueprint.slice();return f[Nr]=r,f[J]=n|4|128|8|64,(u!==null||t&&t[J]&2048)&&(f[J]|=2048),Gw(f),f[mt]=f[Zs]=t,f[Tn]=i,f[An]=o||t&&t[An],f[xe]=a||t&&t[xe],f[Hs]=c||t&&t[Hs]||null,f[Qt]=s,f[bl]=Pk(),f[ha]=l,f[kw]=u,f[Rn]=e.type==2?t[Rn]:f,f}function Js(t,e,i,n,r){let s=t.data[e];if(s===null)s=kU(t,e,i,n,r),ok()&&(s.flags|=32);else if(s.type&64){s.type=i,s.value=n,s.attrs=r;let o=rk();s.injectorIndex=o===null?-1:o.injectorIndex}return Ki(s,!0),s}function kU(t,e,i,n,r){let s=Kw(),o=Dv(),a=o?s:s&&s.parent,c=t.data[e]=HU(t,a,i,e,n,r);return t.firstChild===null&&(t.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function KT(t,e,i,n){if(i===0)return-1;let r=e.length;for(let s=0;s<i;s++)e.push(n),t.blueprint.push(n),t.data.push(null);return r}function ZT(t,e,i,n,r){let s=ir(),o=n&2;try{Vi(-1),o&&e.length>It&&WT(t,e,It,!1),Jn(o?2:0,r),i(n,r)}finally{Vi(s),Jn(o?3:1,r)}}function jv(t,e,i){if(Cv(e)){let n=ve(null);try{let r=e.directiveStart,s=e.directiveEnd;for(let o=r;o<s;o++){let a=t.data[o];if(a.contentQueries){let c=i[o];a.contentQueries(1,c,o)}}}finally{ve(n)}}}function $v(t,e,i){qw()&&(KU(t,e,i,fn(i,e)),(i.flags&64)===64&&XT(t,e,i))}function Bv(t,e,i=fn){let n=e.localNames;if(n!==null){let r=e.index+1;for(let s=0;s<n.length;s+=2){let o=n[s+1],a=o===-1?i(e,t):t[o];t[r++]=a}}}function QT(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Vv(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Vv(t,e,i,n,r,s,o,a,c,u,l){let f=It+n,h=f+r,m=UU(f,h),y=typeof u=="function"?u():u;return m[se]={type:t,blueprint:m,template:i,queries:null,viewQuery:a,declTNode:e,data:m.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:y,incompleteFirstPass:!1,ssrId:l}}function UU(t,e){let i=[];for(let n=0;n<e;n++)i.push(n<t?null:tt);return i}function jU(t,e,i,n){let s=n.get(Vk,ST)||i===tr.ShadowDom,o=t.selectRootElement(e,s);return $U(o),o}function $U(t){BU(t)}var BU=()=>null;function VU(t,e,i,n){let r=n0(e);r.push(i),t.firstCreatePass&&r0(t).push(n,r.length-1)}function HU(t,e,i,n,r,s){let o=e?e.injectorIndex:-1,a=0;return Yw()&&(a|=128),{type:i,index:n,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Vb(t,e,i,n,r){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;n??={};let a,c=un.None;Array.isArray(o)?(a=o[0],c=o[1]):a=o;let u=s;if(r!==null){if(!r.hasOwnProperty(s))continue;u=r[s]}t===0?Hb(n,i,u,a,c):Hb(n,i,u,a)}return n}function Hb(t,e,i,n,r){let s;t.hasOwnProperty(i)?(s=t[i]).push(e,n):s=t[i]=[e,n],r!==void 0&&s.push(r)}function zU(t,e,i){let n=e.directiveStart,r=e.directiveEnd,s=t.data,o=e.attrs,a=[],c=null,u=null;for(let l=n;l<r;l++){let f=s[l],h=i?i.get(f):null,m=h?h.inputs:null,y=h?h.outputs:null;c=Vb(0,f.inputs,l,c,m),u=Vb(1,f.outputs,l,u,y);let b=c!==null&&o!==null&&!mv(e)?oj(c,l,o):null;a.push(b)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function GU(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Xs(t,e,i,n,r,s,o,a){let c=fn(e,i),u=e.inputs,l;!a&&u!=null&&(l=u[n])?(zv(t,i,l,n,r),wl(e)&&WU(i,e.index)):e.type&3?(n=GU(n),r=o!=null?o(r,e.value||"",n):r,s.setProperty(c,n,r)):e.type&12}function WU(t,e){let i=di(e,t);i[J]&16||(i[J]|=64)}function Hv(t,e,i,n){if(qw()){let r=n===null?null:{"":-1},s=QU(t,i),o,a;s===null?o=a=null:[o,a]=s,o!==null&&JT(t,e,i,o,r,a),r&&JU(i,n,r)}i.mergedAttrs=da(i.mergedAttrs,i.attrs)}function JT(t,e,i,n,r,s){for(let u=0;u<n.length;u++)ym(ol(i,e),t,n[u].type);ej(i,t.data.length,n.length);for(let u=0;u<n.length;u++){let l=n[u];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,c=KT(t,e,n.length,null);for(let u=0;u<n.length;u++){let l=n[u];i.mergedAttrs=da(i.mergedAttrs,l.hostAttrs),tj(t,i,e,c,l),XU(c,l,r),l.contentQueries!==null&&(i.flags|=4),(l.hostBindings!==null||l.hostAttrs!==null||l.hostVars!==0)&&(i.flags|=64);let f=l.type.prototype;!o&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((t.preOrderHooks??=[]).push(i.index),o=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(i.index),a=!0),c++}zU(t,i,s)}function qU(t,e,i,n,r){let s=r.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;YU(o)!=a&&o.push(a),o.push(i,n,s)}}function YU(t){let e=t.length;for(;e>0;){let i=t[--e];if(typeof i=="number"&&i<0)return i}return 0}function KU(t,e,i,n){let r=i.directiveStart,s=i.directiveEnd;wl(i)&&nj(e,i,t.data[r+i.componentOffset]),t.firstCreatePass||ol(i,e),ui(n,e);let o=i.initialInputs;for(let a=r;a<s;a++){let c=t.data[a],u=zi(e,t,a,i);if(ui(u,e),o!==null&&sj(e,a-r,u,c,i,o),ci(c)){let l=di(i.index,e);l[Tn]=zi(e,t,a,i)}}}function XT(t,e,i){let n=i.directiveStart,r=i.directiveEnd,s=i.index,o=ck();try{Vi(s);for(let a=n;a<r;a++){let c=t.data[a],u=e[a];mm(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&ZU(c,u)}}finally{Vi(-1),mm(o)}}function ZU(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function QU(t,e){let i=t.directiveRegistry,n=null,r=null;if(i)for(let s=0;s<i.length;s++){let o=i[s];if(bw(e,o.selectors,!1))if(n||(n=[]),ci(o))if(o.findHostDirectiveDefs!==null){let a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),n.unshift(...a,o);let c=a.length;Fm(t,e,c)}else n.unshift(o),Fm(t,e,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,n,r),n.push(o)}return n===null?null:[n,r]}function Fm(t,e,i){e.componentOffset=i,(t.components??=[]).push(e.index)}function JU(t,e,i){if(e){let n=t.localNames=[];for(let r=0;r<e.length;r+=2){let s=i[e[r+1]];if(s==null)throw new j(-301,!1);n.push(e[r],s)}}}function XU(t,e,i){if(i){if(e.exportAs)for(let n=0;n<e.exportAs.length;n++)i[e.exportAs[n]]=t;ci(e)&&(i[""]=t)}}function ej(t,e,i){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+i,t.providerIndexes=e}function tj(t,e,i,n,r){t.data[n]=r;let s=r.factory||(r.factory=ji(r.type,!0)),o=new Hi(s,ci(r),X);t.blueprint[n]=o,i[n]=o,qU(t,e,n,KT(t,i,r.hostVars,tt),r)}function nj(t,e,i){let n=fn(e,t),r=QT(i),s=t[An].rendererFactory,o=16;i.signals?o=4096:i.onPush&&(o=64);let a=Ll(t,_l(t,r,null,o,n,e,null,s.createRenderer(n,i),null,null,null));t[e.index]=a}function rj(t,e,i,n,r,s){let o=fn(t,e);ij(e[xe],o,s,t.value,i,n,r)}function ij(t,e,i,n,r,s,o){if(s==null)t.removeAttribute(e,r,i);else{let a=o==null?Ot(s):o(s,n||"",r);t.setAttribute(e,r,a,i)}}function sj(t,e,i,n,r,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],u=o[a++],l=o[a++],f=o[a++];YT(n,i,c,u,l,f)}}function oj(t,e,i){let n=null,r=0;for(;r<i.length;){let s=i[r];if(s===0){r+=4;continue}else if(s===5){r+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){n===null&&(n=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){n.push(s,o[a+1],o[a+2],i[r+1]);break}}r+=2}return n}function e0(t,e,i,n){return[t,!0,0,e,null,n,null,i,null,null]}function t0(t,e){let i=t.contentQueries;if(i!==null){let n=ve(null);try{for(let r=0;r<i.length;r+=2){let s=i[r],o=i[r+1];if(o!==-1){let a=t.data[o];Tv(s),a.contentQueries(2,e[o],o)}}}finally{ve(n)}}}function Ll(t,e){return t[ga]?t[Ab][wn]=e:t[ga]=e,t[Ab]=e,e}function _m(t,e,i){Tv(0);let n=ve(null);try{e(t,i)}finally{ve(n)}}function n0(t){return t[pa]||(t[pa]=[])}function r0(t){return t.cleanup||(t.cleanup=[])}function i0(t,e){let i=t[Hs],n=i?i.get(Dt,null):null;n&&n.handleError(e)}function zv(t,e,i,n,r){for(let s=0;s<i.length;){let o=i[s++],a=i[s++],c=i[s++],u=e[o],l=t.data[o];YT(l,u,n,a,c,r)}}function kl(t,e,i){let n=Hw(e,t);vU(t[xe],n,i)}function aj(t,e){let i=di(e,t),n=i[se];cj(n,i);let r=i[Nr];r!==null&&i[ha]===null&&(i[ha]=Fv(r,i[Hs])),Gv(n,i,i[Tn])}function cj(t,e){for(let i=e.length;i<t.blueprint.length;i++)e.push(t.blueprint[i])}function Gv(t,e,i){Av(e);try{let n=t.viewQuery;n!==null&&_m(1,n,i);let r=t.template;r!==null&&ZT(t,e,r,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),e[Ar]?.finishViewCreation(t),t.staticContentQueries&&t0(t,e),t.staticViewQueries&&_m(2,t.viewQuery,i);let s=t.components;s!==null&&uj(e,s)}catch(n){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),n}finally{e[J]&=-5,Rv()}}function uj(t,e){for(let i=0;i<e.length;i++)aj(t,e[i])}function lj(t,e,i,n){let r=ve(null);try{let s=e.tView,a=t[J]&4096?4096:16,c=_l(t,s,i,a,null,e,null,null,n?.injector??null,n?.embeddedViewInjector??null,n?.dehydratedView??null),u=t[e.index];c[ba]=u;let l=t[Ar];return l!==null&&(c[Ar]=l.createEmbeddedView(s)),Gv(s,c,i),c}finally{ve(r)}}function zb(t,e){return!e||e.firstChild===null||gT(t)}function dj(t,e,i,n=!0){let r=e[se];if(IU(r,e,t,i),n){let o=Pm(i,t),a=e[xe],c=kv(a,t[Bi]);c!==null&&CU(r,t[Qt],a,e,c,o)}let s=e[ha];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function cl(t,e,i,n,r=!1){for(;i!==null;){let s=e[i.index];s!==null&&n.push(nr(s)),Or(s)&&fj(s,n);let o=i.type;if(o&8)cl(t,e,i.child,n);else if(o&32){let a=Lv(i,e),c;for(;c=a();)n.push(c)}else if(o&16){let a=VT(e,i);if(Array.isArray(a))n.push(...a);else{let c=va(e[Rn]);cl(c[se],c,a,n,!0)}}i=r?i.projectionNext:i.next}return n}function fj(t,e){for(let i=Zt;i<t.length;i++){let n=t[i],r=n[se].firstChild;r!==null&&cl(n[se],n,r,e)}t[Bi]!==t[Nr]&&e.push(t[Bi])}var s0=[];function hj(t){return t[$i]??pj(t)}function pj(t){let e=s0.pop()??Object.create(mj);return e.lView=t,e}function gj(t){t.lView[$i]!==t&&(t.lView=null,s0.push(t))}var mj=T(v({},ku),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{ma(t.lView)},consumerOnSignalRead(){this.lView[$i]=this}}),o0=100;function a0(t,e=!0,i=0){let n=t[An],r=n.rendererFactory,s=!1;s||r.begin?.();try{vj(t,i)}catch(o){throw e&&i0(t,o),o}finally{s||(r.end?.(),n.inlineEffectRunner?.flush())}}function vj(t,e){Lm(t,e);let i=0;for(;Iv(t);){if(i===o0)throw new j(103,!1);i++,Lm(t,1)}}function yj(t,e,i,n){let r=e[J];if((r&256)===256)return;let s=!1;!s&&e[An].inlineEffectRunner?.flush(),Av(e);let o=null,a=null;!s&&Ej(t)&&(a=hj(e),o=Bg(a));try{Gw(e),sk(t.bindingStartIndex),i!==null&&ZT(t,e,i,2,n);let c=(r&3)===3;if(!s)if(c){let f=t.preOrderCheckHooks;f!==null&&qu(e,f,null)}else{let f=t.preOrderHooks;f!==null&&Yu(e,f,0,null),Yg(e,0)}if(Cj(e),c0(e,0),t.contentQueries!==null&&t0(t,e),!s)if(c){let f=t.contentCheckHooks;f!==null&&qu(e,f)}else{let f=t.contentHooks;f!==null&&Yu(e,f,1),Yg(e,1)}LU(t,e);let u=t.components;u!==null&&l0(e,u,0);let l=t.viewQuery;if(l!==null&&_m(2,l,n),!s)if(c){let f=t.viewCheckHooks;f!==null&&qu(e,f)}else{let f=t.viewHooks;f!==null&&Yu(e,f,2),Yg(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[qg]){for(let f of e[qg])f();e[qg]=null}s||(e[J]&=-73)}catch(c){throw ma(e),c}finally{a!==null&&(Vg(a,o),gj(a)),Rv()}}function Ej(t){return t.type!==2}function c0(t,e){for(let i=vT(t);i!==null;i=yT(i))for(let n=Zt;n<i.length;n++){let r=i[n];u0(r,e)}}function Cj(t){for(let e=vT(t);e!==null;e=yT(e)){if(!(e[J]&Ev.HasTransplantedViews))continue;let i=e[zs];for(let n=0;n<i.length;n++){let r=i[n],s=r[mt];KL(r)}}}function Sj(t,e,i){let n=di(e,t);u0(n,i)}function u0(t,e){Sv(t)&&Lm(t,e)}function Lm(t,e){let n=t[se],r=t[J],s=t[$i],o=!!(e===0&&r&16);if(o||=!!(r&64&&e===0),o||=!!(r&1024),o||=!!(s?.dirty&&Hg(s)),s&&(s.dirty=!1),t[J]&=-9217,o)yj(n,t,n.template,t[Tn]);else if(r&8192){c0(t,1);let a=n.components;a!==null&&l0(t,a,1)}}function l0(t,e,i){for(let n=0;n<e.length;n++)Sj(t,e[n],i)}function Wv(t){for(t[An].changeDetectionScheduler?.notify();t;){t[J]|=64;let e=va(t);if(jL(t)&&!e)return t;t=e}return null}var Gi=class{get rootNodes(){let e=this._lView,i=e[se];return cl(i,e,i.firstChild,[])}constructor(e,i,n=!0){this._lView=e,this._cdRefInjectingView=i,this.notifyErrorHandler=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Tn]}set context(e){this._lView[Tn]=e}get destroyed(){return(this._lView[J]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[mt];if(Or(e)){let i=e[nl],n=i?i.indexOf(this):-1;n>-1&&(Om(e,n),el(i,n))}this._attachedToViewContainer=!1}UT(this._lView[se],this._lView)}onDestroy(e){Ww(this._lView,e)}markForCheck(){Wv(this._cdRefInjectingView||this._lView)}detach(){this._lView[J]&=-129}reattach(){gm(this._lView),this._lView[J]|=128}detectChanges(){this._lView[J]|=1024,a0(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new j(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,LT(this._lView[se],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new j(902,!1);this._appRef=e,gm(this._lView)}},Mn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=bj;let t=e;return t})(),Ij=Mn,Dj=class extends Ij{constructor(e,i,n){super(),this._declarationLView=e,this._declarationTContainer=i,this.elementRef=n}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,i){return this.createEmbeddedViewImpl(e,i)}createEmbeddedViewImpl(e,i,n){let r=lj(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:i,dehydratedView:n});return new Gi(r)}};function bj(){return Ul(bt(),Z())}function Ul(t,e){return t.type&4?new Dj(e,t,Qs(t,e)):null}var ese=new RegExp(`^(\\d+)*(${$k}|${jk})*(.*)`);var wj=()=>null;function Gb(t,e){return wj(t,e)}var ul=class{},km=class{},ll=class{};function Tj(t){let e=Error(`No component factory found for ${Pt(t)}.`);return e[Aj]=t,e}var Aj="ngComponent";var Um=class{resolveComponentFactory(e){throw Tj(e)}},jl=(()=>{let e=class e{};e.NULL=new Um;let t=e;return t})(),Wi=class{},eo=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>Rj();let t=e;return t})();function Rj(){let t=Z(),e=bt(),i=di(e.index,t);return(ki(i)?i:t)[xe]}var Mj=(()=>{let e=class e{};e.\u0275prov=g({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Xg={};var Wb=new Set;function to(t){Wb.has(t)||(Wb.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function qb(...t){}function xj(){let t=typeof Ge.requestAnimationFrame=="function",e=Ge[t?"requestAnimationFrame":"setTimeout"],i=Ge[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&i){let n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);let r=i[Zone.__symbol__("OriginalDelegate")];r&&(i=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:i}}var Ce=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new gt(!1),this.onMicrotaskEmpty=new gt(!1),this.onStable=new gt(!1),this.onError=new gt(!1),typeof Zone>"u")throw new j(908,!1);Zone.assertZonePatched();let r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&i,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=xj().nativeRequestAnimationFrame,Pj(r)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new j(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new j(909,!1)}run(e,i,n){return this._inner.run(e,i,n)}runTask(e,i,n,r){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,e,Nj,qb,qb);try{return s.runTask(o,i,n)}finally{s.cancelTask(o)}}runGuarded(e,i,n){return this._inner.runGuarded(e,i,n)}runOutsideAngular(e){return this._outer.run(e)}},Nj={};function qv(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Oj(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ge,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,jm(t),t.isCheckStableRunning=!0,qv(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),jm(t))}function Pj(t){let e=()=>{Oj(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,n,r,s,o,a)=>{if(Fj(a))return i.invokeTask(r,s,o,a);try{return Yb(t),i.invokeTask(r,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Kb(t)}},onInvoke:(i,n,r,s,o,a,c)=>{try{return Yb(t),i.invoke(r,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),Kb(t)}},onHasTask:(i,n,r,s)=>{i.hasTask(r,s),n===r&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,jm(t),qv(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,n,r,s)=>(i.handleError(r,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function jm(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Yb(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Kb(t){t._nesting--,qv(t)}var $m=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new gt,this.onMicrotaskEmpty=new gt,this.onStable=new gt,this.onError=new gt}run(e,i,n){return e.apply(i,n)}runGuarded(e,i,n){return e.apply(i,n)}runOutsideAngular(e){return e()}runTask(e,i,n,r){return e.apply(i,n)}};function Fj(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}function _j(t="zone.js",e){return t==="noop"?new $m:t==="zone.js"?new Ce(e):t}var Us=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Us||{}),Lj={destroy(){}};function $l(t,e){!e&&Da($l);let i=e?.injector??C(Ye);if(!pU(i))return Lj;to("NgAfterNextRender");let n=i.get(Yv),r=n.handler??=new Vm,s=e?.phase??Us.MixedReadWrite,o=()=>{r.unregister(c),a()},a=i.get(fi).onDestroy(o),c=xn(i,()=>new Bm(s,()=>{o(),t()}));return r.register(c),{destroy:o}}var Bm=class{constructor(e,i){this.phase=e,this.callbackFn=i,this.zone=C(Ce),this.errorHandler=C(Dt,{optional:!0}),C(ul,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},Vm=class{constructor(){this.executingCallbacks=!1,this.buckets={[Us.EarlyRead]:new Set,[Us.Write]:new Set,[Us.MixedReadWrite]:new Set,[Us.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let i of e)i.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},Yv=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let n=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of n)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=g({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function dl(t,e,i){let n=i?t.styles:null,r=i?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)r=om(r,a);else if(s==2){let c=a,u=e[++o];n=om(n,c+": "+u+";")}}i?t.styles=n:t.stylesWithoutHost=n,i?t.classes=r:t.classesWithoutHost=r}var fl=class extends jl{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let i=ai(e);return new Ws(i,this.ngModule)}};function Zb(t){let e=[];for(let i in t){if(!t.hasOwnProperty(i))continue;let n=t[i];n!==void 0&&e.push({propName:Array.isArray(n)?n[0]:n,templateName:i})}return e}function kj(t){let e=t.toLowerCase();return e==="svg"?HL:e==="math"?zL:null}var Hm=class{constructor(e,i){this.injector=e,this.parentInjector=i}get(e,i,n){n=Sl(n);let r=this.injector.get(e,Xg,n);return r!==Xg||i===Xg?r:this.parentInjector.get(e,i,n)}},Ws=class extends ll{get inputs(){let e=this.componentDef,i=e.inputTransforms,n=Zb(e.inputs);if(i!==null)for(let r of n)i.hasOwnProperty(r.propName)&&(r.transform=i[r.propName]);return n}get outputs(){return Zb(this.componentDef.outputs)}constructor(e,i){super(),this.componentDef=e,this.ngModule=i,this.componentType=e.type,this.selector=SL(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!i}create(e,i,n,r){let s=ve(null);try{r=r||this.ngModule;let o=r instanceof St?r:r?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new Hm(e,o):e,c=a.get(Wi,null);if(c===null)throw new j(407,!1);let u=a.get(Mj,null),l=a.get(Yv,null),f=a.get(ul,null),h={rendererFactory:c,sanitizer:u,inlineEffectRunner:null,afterRenderEventManager:l,changeDetectionScheduler:f},m=c.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",b=n?jU(m,n,this.componentDef.encapsulation,a):_T(m,y,kj(y)),w=512;this.componentDef.signals?w|=4096:this.componentDef.onPush||(w|=16);let R=null;b!==null&&(R=Fv(b,a,!0));let k=Vv(0,null,null,1,0,null,null,null,null,null,null),U=_l(null,k,null,w,null,null,h,m,a,null,R);Av(U);let H,te;try{let ue=this.componentDef,fe,Pe=null;ue.findHostDirectiveDefs?(fe=[],Pe=new Map,ue.findHostDirectiveDefs(ue,fe,Pe),fe.push(ue)):fe=[ue];let Ri=Uj(U,b),Vn=jj(Ri,b,ue,fe,U,h,m);te=zw(k,It),b&&Vj(m,ue,b,n),i!==void 0&&Hj(te,this.ngContentSelectors,i),H=Bj(Vn,ue,fe,Pe,U,[zj]),Gv(k,U,null)}finally{Rv()}return new zm(this.componentType,H,Qs(te,U),U,te)}finally{ve(s)}}},zm=class extends km{constructor(e,i,n,r,s){super(),this.location=n,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new Gi(r,void 0,!1),this.componentType=e}setInput(e,i){let n=this._tNode.inputs,r;if(n!==null&&(r=n[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),i))return;let s=this._rootLView;zv(s[se],s,r,e,i),this.previousInputValues.set(e,i);let o=di(this._tNode.index,s);Wv(o)}}get injector(){return new Ui(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Uj(t,e){let i=t[se],n=It;return t[n]=e,Js(i,n,2,"#host",null)}function jj(t,e,i,n,r,s,o){let a=r[se];$j(n,t,e,o);let c=null;e!==null&&(c=Fv(e,r[Hs]));let u=s.rendererFactory.createRenderer(e,i),l=16;i.signals?l=4096:i.onPush&&(l=64);let f=_l(r,QT(i),null,l,r[t.index],t,s,u,null,null,c);return a.firstCreatePass&&Fm(a,t,n.length-1),Ll(r,f),r[t.index]=f}function $j(t,e,i,n){for(let r of t)e.mergedAttrs=da(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(dl(e,e.mergedAttrs,!0),i!==null&&GT(n,i,e))}function Bj(t,e,i,n,r,s){let o=bt(),a=r[se],c=fn(o,r);JT(a,r,o,i,null,n);for(let l=0;l<i.length;l++){let f=o.directiveStart+l,h=zi(r,a,f,o);ui(h,r)}XT(a,r,o),c&&ui(c,r);let u=zi(r,a,o.directiveStart+o.componentOffset,o);if(t[Tn]=r[Tn]=u,s!==null)for(let l of s)l(u,e);return jv(a,o,r),u}function Vj(t,e,i,n){if(n)lm(t,i,["ng-version","17.3.12"]);else{let{attrs:r,classes:s}=IL(e.selectors[0]);r&&lm(t,i,r),s&&s.length>0&&zT(t,i,s.join(" "))}}function Hj(t,e,i){let n=t.projection=[];for(let r=0;r<e.length;r++){let s=i[r];n.push(s!=null?Array.from(s):null)}}function zj(){let t=bt();Ml(Z()[se],t)}var zt=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Gj;let t=e;return t})();function Gj(){let t=bt();return f0(t,Z())}var Wj=zt,d0=class extends Wj{constructor(e,i,n){super(),this._lContainer=e,this._hostTNode=i,this._hostLView=n}get element(){return Qs(this._hostTNode,this._hostLView)}get injector(){return new Ui(this._hostTNode,this._hostLView)}get parentInjector(){let e=Mv(this._hostTNode,this._hostLView);if(iT(e)){let i=il(e,this._hostLView),n=rl(e),r=i[se].data[n+8];return new Ui(r,i)}else return new Ui(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let i=Qb(this._lContainer);return i!==null&&i[e]||null}get length(){return this._lContainer.length-Zt}createEmbeddedView(e,i,n){let r,s;typeof n=="number"?r=n:n!=null&&(r=n.index,s=n.injector);let o=Gb(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(i||{},s,o);return this.insertImpl(a,r,zb(this._hostTNode,o)),a}createComponent(e,i,n,r,s){let o=e&&!UL(e),a;if(o)a=i;else{let y=i||{};a=y.index,n=y.injector,r=y.projectableNodes,s=y.environmentInjector||y.ngModuleRef}let c=o?e:new Ws(ai(e)),u=n||this.parentInjector;if(!s&&c.ngModule==null){let b=(o?u:this.parentInjector).get(St,null);b&&(s=b)}let l=ai(c.componentType??{}),f=Gb(this._lContainer,l?.id??null),h=f?.firstChild??null,m=c.create(u,r,h,s);return this.insertImpl(m.hostView,a,zb(this._hostTNode,f)),m}insert(e,i){return this.insertImpl(e,i,!0)}insertImpl(e,i,n){let r=e._lView;if(YL(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=r[mt],u=new d0(c,c[Qt],c[mt]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(i),o=this._lContainer;return dj(o,r,s,n),e.attachToViewContainerRef(),yw(em(o),s,e),e}move(e,i){return this.insert(e,i)}indexOf(e){let i=Qb(this._lContainer);return i!==null?i.indexOf(e):-1}remove(e){let i=this._adjustIndex(e,-1),n=Om(this._lContainer,i);n&&(el(em(this._lContainer),i),UT(n[se],n))}detach(e){let i=this._adjustIndex(e,-1),n=Om(this._lContainer,i);return n&&el(em(this._lContainer),i)!=null?new Gi(n):null}_adjustIndex(e,i=0){return e??this.length+i}};function Qb(t){return t[nl]}function em(t){return t[nl]||(t[nl]=[])}function f0(t,e){let i,n=e[t.index];return Or(n)?i=n:(i=e0(n,e,null,t),e[t.index]=i,Ll(e,i)),Yj(i,e,t,n),new d0(i,t,e)}function qj(t,e){let i=t[xe],n=i.createComment(""),r=fn(e,t),s=kv(i,r);return al(i,s,n,RU(i,r),!1),n}var Yj=Qj,Kj=()=>!1;function Zj(t,e,i){return Kj(t,e,i)}function Qj(t,e,i,n){if(t[Bi])return;let r;i.type&8?r=nr(n):r=qj(e,i),t[Bi]=r}var Gm=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Wm=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let i=e.queries;if(i!==null){let n=e.contentQueries!==null?e.contentQueries[0]:i.length,r=[];for(let s=0;s<n;s++){let o=i.getByIndex(s),a=this.queries[o.indexInDeclarationView];r.push(a.clone())}return new t(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let i=0;i<this.queries.length;i++)Kv(e,i).matches!==null&&this.queries[i].setDirty()}},hl=class{constructor(e,i,n=null){this.flags=i,this.read=n,typeof e=="string"?this.predicate=s1(e):this.predicate=e}},qm=class t{constructor(e=[]){this.queries=e}elementStart(e,i){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,i)}elementEnd(e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(e)}embeddedTView(e){let i=null;for(let n=0;n<this.length;n++){let r=i!==null?i.length:0,s=this.getByIndex(n).embeddedTView(e,r);s&&(s.indexInDeclarationView=n,i!==null?i.push(s):i=[s])}return i!==null?new t(i):null}template(e,i){for(let n=0;n<this.queries.length;n++)this.queries[n].template(e,i)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Ym=class t{constructor(e,i=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(e,i){this.isApplyingToNode(i)&&this.matchTNode(e,i)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,i){this.elementStart(e,i)}embeddedTView(e,i){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,i),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let i=this._declarationNodeIndex,n=e.parent;for(;n!==null&&n.type&8&&n.index!==i;)n=n.parent;return i===(n!==null?n.index:-1)}return this._appliesToNextNode}matchTNode(e,i){let n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){let s=n[r];this.matchTNodeWithReadOption(e,i,Jj(i,s)),this.matchTNodeWithReadOption(e,i,Ku(i,e,s,!1,!1))}else n===Mn?i.type&4&&this.matchTNodeWithReadOption(e,i,-1):this.matchTNodeWithReadOption(e,i,Ku(i,e,n,!1,!1))}matchTNodeWithReadOption(e,i,n){if(n!==null){let r=this.metadata.read;if(r!==null)if(r===sr||r===zt||r===Mn&&i.type&4)this.addMatch(i.index,-2);else{let s=Ku(i,e,r,!1,!1);s!==null&&this.addMatch(i.index,s)}else this.addMatch(i.index,n)}}addMatch(e,i){this.matches===null?this.matches=[e,i]:this.matches.push(e,i)}};function Jj(t,e){let i=t.localNames;if(i!==null){for(let n=0;n<i.length;n+=2)if(i[n]===e)return i[n+1]}return null}function Xj(t,e){return t.type&11?Qs(t,e):t.type&4?Ul(t,e):null}function e1(t,e,i,n){return i===-1?Xj(e,t):i===-2?t1(t,e,n):zi(t,t[se],i,e)}function t1(t,e,i){if(i===sr)return Qs(e,t);if(i===Mn)return Ul(e,t);if(i===zt)return f0(e,t)}function h0(t,e,i,n){let r=e[Ar].queries[n];if(r.matches===null){let s=t.data,o=i.matches,a=[];for(let c=0;o!==null&&c<o.length;c+=2){let u=o[c];if(u<0)a.push(null);else{let l=s[u];a.push(e1(e,l,o[c+1],i.metadata.read))}}r.matches=a}return r.matches}function Km(t,e,i,n){let r=t.queries.getByIndex(i),s=r.matches;if(s!==null){let o=h0(t,e,r,i);for(let a=0;a<s.length;a+=2){let c=s[a];if(c>0)n.push(o[a/2]);else{let u=s[a+1],l=e[-c];for(let f=Zt;f<l.length;f++){let h=l[f];h[ba]===h[mt]&&Km(h[se],h,u,n)}if(l[zs]!==null){let f=l[zs];for(let h=0;h<f.length;h++){let m=f[h];Km(m[se],m,u,n)}}}}}return n}function n1(t,e){return t[Ar].queries[e].queryList}function p0(t,e,i){let n=new Im((i&4)===4);return VU(t,e,n,n.destroy),(e[Ar]??=new Wm).queries.push(new Gm(n))-1}function r1(t,e,i){let n=Fe();return n.firstCreatePass&&(g0(n,new hl(t,e,i),-1),(e&2)===2&&(n.staticViewQueries=!0)),p0(n,Z(),e)}function i1(t,e,i,n){let r=Fe();if(r.firstCreatePass){let s=bt();g0(r,new hl(e,i,n),s.index),o1(r,t),(i&2)===2&&(r.staticContentQueries=!0)}return p0(r,Z(),i)}function s1(t){return t.split(",").map(e=>e.trim())}function g0(t,e,i){t.queries===null&&(t.queries=new qm),t.queries.track(new Ym(e,i))}function o1(t,e){let i=t.contentQueries||(t.contentQueries=[]),n=i.length?i[i.length-1]:-1;e!==n&&i.push(t.queries.length-1,e)}function Kv(t,e){return t.queries.getByIndex(e)}function a1(t,e){let i=t[se],n=Kv(i,e);return n.crossesNgTemplate?Km(i,t,e,[]):h0(i,t,n,e)}function c1(t){return typeof t=="function"&&t[Tr]!==void 0}function Zv(t,e){to("NgSignals");let i=gb(t),n=i[Tr];return e?.equal&&(n.equal=e.equal),i.set=r=>zg(n,r),i.update=r=>mb(n,r),i.asReadonly=u1.bind(i),i}function u1(){let t=this[Tr];if(t.readonlyFn===void 0){let e=()=>this();e[Tr]=t,t.readonlyFn=e}return t.readonlyFn}function m0(t){return c1(t)&&typeof t.set=="function"}function l1(t){let e=[],i=new Map;function n(r){let s=i.get(r);if(!s){let o=t(r);i.set(r,s=o.then(p1))}return s}return pl.forEach((r,s)=>{let o=[];r.templateUrl&&o.push(n(r.templateUrl).then(u=>{r.template=u}));let a=typeof r.styles=="string"?[r.styles]:r.styles||[];if(r.styles=a,r.styleUrl&&r.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(r.styleUrls?.length){let u=r.styles.length,l=r.styleUrls;r.styleUrls.forEach((f,h)=>{a.push(""),o.push(n(f).then(m=>{a[u+h]=m,l.splice(l.indexOf(f),1),l.length==0&&(r.styleUrls=void 0)}))})}else r.styleUrl&&o.push(n(r.styleUrl).then(u=>{a.push(u),r.styleUrl=void 0}));let c=Promise.all(o).then(()=>g1(s));e.push(c)}),f1(),Promise.all(e).then(()=>{})}var pl=new Map,d1=new Set;function f1(){let t=pl;return pl=new Map,t}function h1(){return pl.size===0}function p1(t){return typeof t=="string"?t:t.text()}function g1(t){d1.delete(t)}function m1(t){return Object.getPrototypeOf(t.prototype).constructor}function v1(t){let e=m1(t.type),i=!0,n=[t];for(;e;){let r;if(ci(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new j(903,!1);r=e.\u0275dir}if(r){if(i){n.push(r);let o=t;o.inputs=Hu(t.inputs),o.inputTransforms=Hu(t.inputTransforms),o.declaredInputs=Hu(t.declaredInputs),o.outputs=Hu(t.outputs);let a=r.hostBindings;a&&I1(t,a);let c=r.viewQuery,u=r.contentQueries;if(c&&C1(t,c),u&&S1(t,u),y1(t,r),$_(t.outputs,r.outputs),ci(r)&&r.data.animation){let l=t.data;l.animation=(l.animation||[]).concat(r.data.animation)}}let s=r.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===v1&&(i=!1)}}e=Object.getPrototypeOf(e)}E1(n)}function y1(t,e){for(let i in e.inputs){if(!e.inputs.hasOwnProperty(i)||t.inputs.hasOwnProperty(i))continue;let n=e.inputs[i];if(n!==void 0&&(t.inputs[i]=n,t.declaredInputs[i]=e.declaredInputs[i],e.inputTransforms!==null)){let r=Array.isArray(n)?n[0]:n;if(!e.inputTransforms.hasOwnProperty(r))continue;t.inputTransforms??={},t.inputTransforms[r]=e.inputTransforms[r]}}}function E1(t){let e=0,i=null;for(let n=t.length-1;n>=0;n--){let r=t[n];r.hostVars=e+=r.hostVars,r.hostAttrs=da(r.hostAttrs,i=da(i,r.hostAttrs))}}function Hu(t){return t===Bs?{}:t===Bt?[]:t}function C1(t,e){let i=t.viewQuery;i?t.viewQuery=(n,r)=>{e(n,r),i(n,r)}:t.viewQuery=e}function S1(t,e){let i=t.contentQueries;i?t.contentQueries=(n,r,s)=>{e(n,r,s),i(n,r,s)}:t.contentQueries=e}function I1(t,e){let i=t.hostBindings;i?t.hostBindings=(n,r)=>{e(n,r),i(n,r)}:t.hostBindings=e}function Qv(t){let e=t.inputConfig,i={};for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];Array.isArray(r)&&r[3]&&(i[n]=r[3])}t.inputTransforms=i}var xr=class{},qi=class{};function v0(t,e){return new ya(t,e??null,[])}var ya=class extends xr{constructor(e,i,n){super(),this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new fl(this);let r=Mw(e);this._bootstrapComponents=FT(r.bootstrap),this._r3Injector=hT(e,i,[{provide:xr,useValue:this},{provide:jl,useValue:this.componentFactoryResolver},...n],Pt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},gl=class extends qi{constructor(e){super(),this.moduleType=e}create(e){return new ya(this.moduleType,e,[])}};function D1(t,e,i){return new ya(t,e,i)}var Zm=class extends xr{constructor(e){super(),this.componentFactoryResolver=new fl(this),this.instance=null;let i=new fa([...e.providers,{provide:xr,useValue:this},{provide:jl,useValue:this.componentFactoryResolver}],e.parent||yv(),e.debugName,new Set(["environment"]));this.injector=i,e.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Bl(t,e,i=null){return new Zm({providers:t,parent:e,debugName:i,runEnvironmentInitializers:!0}).injector}var Qi=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Te(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function y0(t){return Jv(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function b1(t,e){if(Array.isArray(t))for(let i=0;i<t.length;i++)e(t[i]);else{let i=t[Symbol.iterator](),n;for(;!(n=i.next()).done;)e(n.value)}}function Jv(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Ji(t,e,i){return t[e]=i}function Xv(t,e){return t[e]}function ln(t,e,i){let n=t[e];return Object.is(n,i)?!1:(t[e]=i,!0)}function qs(t,e,i,n){let r=ln(t,e,i);return ln(t,e+1,n)||r}function E0(t,e,i,n,r){let s=qs(t,e,i,n);return ln(t,e+2,r)||s}function Vl(t,e,i,n,r,s){let o=qs(t,e,i,n);return qs(t,e+2,r,s)||o}function w1(t){return(t.flags&32)===32}function T1(t,e,i,n,r,s,o,a,c){let u=e.consts,l=Js(e,t,4,o||null,Gs(u,a));Hv(e,i,l,Gs(u,c)),Ml(e,l);let f=l.tView=Vv(2,l,n,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,l),f.queries=e.queries.embeddedTView(l)),l}function A1(t,e,i,n,r,s,o,a){let c=Z(),u=Fe(),l=t+It,f=u.firstCreatePass?T1(l,u,c,e,i,n,r,s,o):u.data[l];Ki(f,!1);let h=R1(u,c,f,t);Al()&&Pl(u,c,h,f),ui(h,c);let m=e0(h,c,h,f);return c[l]=m,Ll(c,m),Zj(m,f,c),Tl(f)&&$v(u,c,f),o!=null&&Bv(c,f,a),A1}var R1=M1;function M1(t,e,i,n){return Rl(!0),e[xe].createComment("")}function ey(t,e,i,n){let r=Z(),s=Ta();if(ln(r,s,e)){let o=Fe(),a=Zi();rj(a,r,t,e,i,n)}return ey}function ty(t,e,i,n){return ln(t,Ta(),i)?e+Ot(i)+n:tt}function C0(t,e,i,n,r,s){let o=wv(),a=qs(t,o,i,r);return Aa(2),a?e+Ot(i)+n+Ot(r)+s:tt}function S0(t,e,i,n,r,s,o,a){let c=wv(),u=E0(t,c,i,r,o);return Aa(3),u?e+Ot(i)+n+Ot(r)+s+Ot(o)+a:tt}function x1(t,e,i,n,r,s,o,a,c,u){let l=wv(),f=Vl(t,l,i,r,o,c);return Aa(4),f?e+Ot(i)+n+Ot(r)+s+Ot(o)+a+Ot(c)+u:tt}function zu(t,e){return t<<17|e<<2}function Yi(t){return t>>17&32767}function N1(t){return(t&2)==2}function O1(t,e){return t&131071|e<<17}function Qm(t){return t|2}function Ys(t){return(t&131068)>>2}function tm(t,e){return t&-131069|e<<2}function P1(t){return(t&1)===1}function Jm(t){return t|1}function F1(t,e,i,n,r,s){let o=s?e.classBindings:e.styleBindings,a=Yi(o),c=Ys(o);t[n]=i;let u=!1,l;if(Array.isArray(i)){let f=i;l=f[1],(l===null||Ia(f,l)>0)&&(u=!0)}else l=i;if(r)if(c!==0){let h=Yi(t[a+1]);t[n+1]=zu(h,a),h!==0&&(t[h+1]=tm(t[h+1],n)),t[a+1]=O1(t[a+1],n)}else t[n+1]=zu(a,0),a!==0&&(t[a+1]=tm(t[a+1],n)),a=n;else t[n+1]=zu(c,0),a===0?a=n:t[c+1]=tm(t[c+1],n),c=n;u&&(t[n+1]=Qm(t[n+1])),Jb(t,l,n,!0),Jb(t,l,n,!1),_1(e,l,t,n,s),o=zu(a,c),s?e.classBindings=o:e.styleBindings=o}function _1(t,e,i,n,r){let s=r?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&Ia(s,e)>=0&&(i[n+1]=Jm(i[n+1]))}function Jb(t,e,i,n){let r=t[i+1],s=e===null,o=n?Yi(r):Ys(r),a=!1;for(;o!==0&&(a===!1||s);){let c=t[o],u=t[o+1];L1(c,e)&&(a=!0,t[o+1]=n?Jm(u):Qm(u)),o=n?Yi(u):Ys(u)}a&&(t[i+1]=n?Qm(r):Jm(r))}function L1(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Ia(t,e)>=0:!1}var et={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function I0(t){return t.substring(et.key,et.keyEnd)}function k1(t){return t.substring(et.value,et.valueEnd)}function U1(t){return w0(t),D0(t,Ks(t,0,et.textEnd))}function D0(t,e){let i=et.textEnd;return i===e?-1:(e=et.keyEnd=$1(t,et.key=e,i),Ks(t,e,i))}function j1(t){return w0(t),b0(t,Ks(t,0,et.textEnd))}function b0(t,e){let i=et.textEnd,n=et.key=Ks(t,e,i);return i===n?-1:(n=et.keyEnd=B1(t,n,i),n=Xb(t,n,i,58),n=et.value=Ks(t,n,i),n=et.valueEnd=V1(t,n,i),Xb(t,n,i,59))}function w0(t){et.key=0,et.keyEnd=0,et.value=0,et.valueEnd=0,et.textEnd=t.length}function Ks(t,e,i){for(;e<i&&t.charCodeAt(e)<=32;)e++;return e}function $1(t,e,i){for(;e<i&&t.charCodeAt(e)>32;)e++;return e}function B1(t,e,i){let n;for(;e<i&&((n=t.charCodeAt(e))===45||n===95||(n&-33)>=65&&(n&-33)<=90||n>=48&&n<=57);)e++;return e}function Xb(t,e,i,n){return e=Ks(t,e,i),e<i&&e++,e}function V1(t,e,i){let n=-1,r=-1,s=-1,o=e,a=o;for(;o<i;){let c=t.charCodeAt(o++);if(c===59)return a;c===34||c===39?a=o=ew(t,c,o,i):e===o-4&&s===85&&r===82&&n===76&&c===40?a=o=ew(t,41,o,i):c>32&&(a=o),s=r,r=n,n=c&-33}return a}function ew(t,e,i,n){let r=-1,s=i;for(;s<n;){let o=t.charCodeAt(s++);if(o==e&&r!==92)return s;o==92&&r===92?r=0:r=o}throw new Error}function H1(t,e,i){let n=Z(),r=Ta();if(ln(n,r,e)){let s=Fe(),o=Zi();Xs(s,o,n,t,e,n[xe],i,!1)}return H1}function Xm(t,e,i,n,r){let s=e.inputs,o=r?"class":"style";zv(t,i,s[o],o,n)}function T0(t,e,i){return R0(t,e,i,!1),T0}function z1(t,e){return R0(t,e,null,!0),z1}function nse(t){ny(N0,G1,t,!1)}function G1(t,e){for(let i=j1(e);i>=0;i=b0(e,i))N0(t,I0(e),k1(e))}function rse(t){ny(Q1,A0,t,!0)}function A0(t,e){for(let i=U1(e);i>=0;i=D0(e,i))Sa(t,I0(e),!0)}function R0(t,e,i,n){let r=Z(),s=Fe(),o=Aa(2);if(s.firstUpdatePass&&x0(s,t,o,n),e!==tt&&ln(r,o,e)){let a=s.data[ir()];O0(s,a,r,r[xe],t,r[o+1]=X1(e,i),n,o)}}function ny(t,e,i,n){let r=Fe(),s=Aa(2);r.firstUpdatePass&&x0(r,null,s,n);let o=Z();if(i!==tt&&ln(o,s,i)){let a=r.data[ir()];if(P0(a,n)&&!M0(r,s)){let c=n?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(i=om(c,i||"")),Xm(r,a,o,i,n)}else J1(r,a,o,o[xe],o[s+1],o[s+1]=Z1(t,e,i),n,s)}}function M0(t,e){return e>=t.expandoStartIndex}function x0(t,e,i,n){let r=t.data;if(r[i+1]===null){let s=r[ir()],o=M0(t,i);P0(s,n)&&e===null&&!o&&(e=!1),e=W1(r,s,e,n),F1(r,s,e,i,o,n)}}function W1(t,e,i,n){let r=uk(t),s=n?e.residualClasses:e.residualStyles;if(r===null)(n?e.classBindings:e.styleBindings)===0&&(i=nm(null,t,e,i,n),i=Ea(i,e.attrs,n),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==r)if(i=nm(r,t,e,i,n),s===null){let c=q1(t,e,n);c!==void 0&&Array.isArray(c)&&(c=nm(null,t,e,c[1],n),c=Ea(c,e.attrs,n),Y1(t,e,n,c))}else s=K1(t,e,n)}return s!==void 0&&(n?e.residualClasses=s:e.residualStyles=s),i}function q1(t,e,i){let n=i?e.classBindings:e.styleBindings;if(Ys(n)!==0)return t[Yi(n)]}function Y1(t,e,i,n){let r=i?e.classBindings:e.styleBindings;t[Yi(r)]=n}function K1(t,e,i){let n,r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++){let o=t[s].hostAttrs;n=Ea(n,o,i)}return Ea(n,e.attrs,i)}function nm(t,e,i,n,r){let s=null,o=i.directiveEnd,a=i.directiveStylingLast;for(a===-1?a=i.directiveStart:a++;a<o&&(s=e[a],n=Ea(n,s.hostAttrs,r),s!==t);)a++;return t!==null&&(i.directiveStylingLast=a),n}function Ea(t,e,i){let n=i?1:2,r=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?r=o:r===n&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Sa(t,o,i?!0:e[++s]))}return t===void 0?null:t}function Z1(t,e,i){if(i==null||i==="")return Bt;let n=[],r=Ht(i);if(Array.isArray(r))for(let s=0;s<r.length;s++)t(n,r[s],!0);else if(typeof r=="object")for(let s in r)r.hasOwnProperty(s)&&t(n,s,r[s]);else typeof r=="string"&&e(n,r);return n}function N0(t,e,i){Sa(t,e,Ht(i))}function Q1(t,e,i){let n=String(e);n!==""&&!n.includes(" ")&&Sa(t,n,i)}function J1(t,e,i,n,r,s,o,a){r===tt&&(r=Bt);let c=0,u=0,l=0<r.length?r[0]:null,f=0<s.length?s[0]:null;for(;l!==null||f!==null;){let h=c<r.length?r[c+1]:void 0,m=u<s.length?s[u+1]:void 0,y=null,b;l===f?(c+=2,u+=2,h!==m&&(y=f,b=m)):f===null||l!==null&&l<f?(c+=2,y=l):(u+=2,y=f,b=m),y!==null&&O0(t,e,i,n,y,b,o,a),l=c<r.length?r[c]:null,f=u<s.length?s[u]:null}}function O0(t,e,i,n,r,s,o,a){if(!(e.type&3))return;let c=t.data,u=c[a+1],l=P1(u)?tw(c,e,i,r,Ys(u),o):void 0;if(!ml(l)){ml(s)||N1(u)&&(s=tw(c,null,i,r,a,o));let f=Hw(ir(),i);FU(n,o,f,r,s)}}function tw(t,e,i,n,r,s){let o=e===null,a;for(;r>0;){let c=t[r],u=Array.isArray(c),l=u?c[1]:c,f=l===null,h=i[r+1];h===tt&&(h=f?Bt:void 0);let m=f?Gg(h,n):l===n?h:void 0;if(u&&!ml(m)&&(m=Gg(c,n)),ml(m)&&(a=m,o))return a;let y=t[r+1];r=o?Yi(y):Ys(y)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=Gg(c,n))}return a}function ml(t){return t!==void 0}function X1(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Pt(Ht(t)))),t}function P0(t,e){return(t.flags&(e?8:16))!==0}function ise(t,e,i){let n=Z(),r=ty(n,t,e,i);ny(Sa,A0,r,!0)}function e$(t,e,i,n,r,s){let o=e.consts,a=Gs(o,r),c=Js(e,t,2,n,a);return Hv(e,i,c,Gs(o,s)),c.attrs!==null&&dl(c,c.attrs,!1),c.mergedAttrs!==null&&dl(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function F0(t,e,i,n){let r=Z(),s=Fe(),o=It+t,a=r[xe],c=s.firstCreatePass?e$(o,s,r,e,i,n):s.data[o],u=t$(s,r,c,a,e,t);r[o]=u;let l=Tl(c);return Ki(c,!0),GT(a,u,c),!w1(c)&&Al()&&Pl(s,r,u,c),JL()===0&&ui(u,r),XL(),l&&($v(s,r,c),jv(s,c,r)),n!==null&&Bv(r,c),F0}function _0(){let t=bt();Dv()?bv():(t=t.parent,Ki(t,!1));let e=t;tk(e)&&nk(),ek();let i=Fe();return i.firstCreatePass&&(Ml(i,t),Cv(t)&&i.queries.elementEnd(t)),e.classesWithoutHost!=null&&mk(e)&&Xm(i,e,Z(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&vk(e)&&Xm(i,e,Z(),e.stylesWithoutHost,!1),_0}function ry(t,e,i,n){return F0(t,e,i,n),_0(),ry}var t$=(t,e,i,n,r,s)=>(Rl(!0),_T(n,r,fk()));function n$(t,e,i,n,r){let s=e.consts,o=Gs(s,n),a=Js(e,t,8,"ng-container",o);o!==null&&dl(a,o,!0);let c=Gs(s,r);return Hv(e,i,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function L0(t,e,i){let n=Z(),r=Fe(),s=t+It,o=r.firstCreatePass?n$(s,r,n,e,i):r.data[s];Ki(o,!0);let a=i$(r,n,o,t);return n[s]=a,Al()&&Pl(r,n,a,o),ui(a,n),Tl(o)&&($v(r,n,o),jv(r,o,n)),i!=null&&Bv(n,o),L0}function k0(){let t=bt(),e=Fe();return Dv()?bv():(t=t.parent,Ki(t,!1)),e.firstCreatePass&&(Ml(e,t),Cv(t)&&e.queries.elementEnd(t)),k0}function r$(t,e,i){return L0(t,e,i),k0(),r$}var i$=(t,e,i,n)=>(Rl(!0),yU(e[xe],""));function sse(){return Z()}function s$(t,e,i){let n=Z(),r=Ta();if(ln(n,r,e)){let s=Fe(),o=Zi();Xs(s,o,n,t,e,n[xe],i,!0)}return s$}var Li=void 0;function o$(t){let e=t,i=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return i===1&&n===0?1:5}var a$=["en",[["a","p"],["AM","PM"],Li],[["AM","PM"],Li,Li],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Li,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Li,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Li,"{1} 'at' {0}",Li],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",o$],rm={};function Gt(t){let e=c$(t),i=nw(e);if(i)return i;let n=e.split("-")[0];if(i=nw(n),i)return i;if(n==="en")return a$;throw new j(701,!1)}function nw(t){return t in rm||(rm[t]=Ge.ng&&Ge.ng.common&&Ge.ng.common.locales&&Ge.ng.common.locales[t]),rm[t]}var Be=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Be||{});function c$(t){return t.toLowerCase().replace(/_/g,"-")}var vl="en-US";var u$=vl;function l$(t){typeof t=="string"&&(u$=t.toLowerCase().replace(/_/g,"-"))}function iy(t,e,i,n){let r=Z(),s=Fe(),o=bt();return U0(s,r,r[xe],o,t,e,n),iy}function d$(t,e,i,n){let r=t.cleanup;if(r!=null)for(let s=0;s<r.length-1;s+=2){let o=r[s];if(o===i&&r[s+1]===n){let a=e[pa],c=r[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function U0(t,e,i,n,r,s,o){let a=Tl(n),u=t.firstCreatePass&&r0(t),l=e[Tn],f=n0(e),h=!0;if(n.type&3||o){let b=fn(n,e),w=o?o(b):b,R=f.length,k=o?H=>o(nr(H[n.index])):n.index,U=null;if(!o&&a&&(U=d$(t,e,r,n.index)),U!==null){let H=U.__ngLastListenerFn__||U;H.__ngNextListenerFn__=s,U.__ngLastListenerFn__=s,h=!1}else{s=iw(n,e,l,s,!1);let H=i.listen(w,r,s);f.push(s,H),u&&u.push(r,k,R,R+1)}}else s=iw(n,e,l,s,!1);let m=n.outputs,y;if(h&&m!==null&&(y=m[r])){let b=y.length;if(b)for(let w=0;w<b;w+=2){let R=y[w],k=y[w+1],te=e[R][k].subscribe(s),ue=f.length;f.push(s,te),u&&u.push(r,n.index,ue,-(ue+1))}}}function rw(t,e,i,n){let r=ve(null);try{return Jn(6,e,i),i(n)!==!1}catch(s){return i0(t,s),!1}finally{Jn(7,e,i),ve(r)}}function iw(t,e,i,n,r){return function s(o){if(o===Function)return n;let a=t.componentOffset>-1?di(t.index,e):e;Wv(a);let c=rw(e,i,n,o),u=s.__ngNextListenerFn__;for(;u;)c=rw(e,i,u,o)&&c,u=u.__ngNextListenerFn__;return r&&c===!1&&o.preventDefault(),c}}function ose(t=1){return dk(t)}function f$(t,e){let i=null,n=mL(t);for(let r=0;r<e.length;r++){let s=e[r];if(s==="*"){i=r;continue}if(n===null?bw(t,s,!0):EL(n,s))return r}return i}function ase(t){let e=Z()[Rn][Qt];if(!e.projection){let i=t?t.length:1,n=e.projection=aL(i,null),r=n.slice(),s=e.child;for(;s!==null;){let o=t?f$(s,t):0;o!==null&&(r[o]?r[o].projectionNext=s:n[o]=s,r[o]=s),s=s.next}}}function cse(t,e=0,i){let n=Z(),r=Fe(),s=Js(r,It+t,16,null,i||null);s.projection===null&&(s.projection=e),bv(),(!n[ha]||Yw())&&(s.flags&32)!==32&&OU(r,n,s)}function h$(t,e,i){return j0(t,"",e,"",i),h$}function j0(t,e,i,n,r){let s=Z(),o=ty(s,e,i,n);if(o!==tt){let a=Fe(),c=Zi();Xs(a,c,s,t,o,s[xe],r,!1)}return j0}function p$(t,e,i,n,r,s,o){let a=Z(),c=C0(a,e,i,n,r,s);if(c!==tt){let u=Fe(),l=Zi();Xs(u,l,a,t,c,a[xe],o,!1)}return p$}function g$(t,e,i,n,r,s,o,a,c){let u=Z(),l=S0(u,e,i,n,r,s,o,a);if(l!==tt){let f=Fe(),h=Zi();Xs(f,h,u,t,l,u[xe],c,!1)}return g$}function $0(t,e,i,n){i1(t,e,i,n)}function use(t,e,i){r1(t,e,i)}function B0(t){let e=Z(),i=Fe(),n=Zw();Tv(n+1);let r=Kv(i,n);if(t.dirty&&qL(e)===((r.metadata.flags&2)===2)){if(r.matches===null)t.reset([]);else{let s=a1(e,n);t.reset(s,xk),t.notifyOnChanges()}return!0}return!1}function V0(){return n1(Z(),Zw())}function m$(t,e,i,n){i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),e[i]=n}function lse(t){let e=ik();return wa(e,It+t)}function dse(t,e=""){let i=Z(),n=Fe(),r=t+It,s=n.firstCreatePass?Js(n,r,1,e,null):n.data[r],o=v$(n,i,s,e,t);i[r]=o,Al()&&Pl(n,i,o,s),Ki(s,!1)}var v$=(t,e,i,n,r)=>(Rl(!0),mU(e[xe],n));function y$(t){return H0("",t,""),y$}function H0(t,e,i){let n=Z(),r=ty(n,t,e,i);return r!==tt&&kl(n,ir(),r),H0}function E$(t,e,i,n,r){let s=Z(),o=C0(s,t,e,i,n,r);return o!==tt&&kl(s,ir(),o),E$}function C$(t,e,i,n,r,s,o){let a=Z(),c=S0(a,t,e,i,n,r,s,o);return c!==tt&&kl(a,ir(),c),C$}function S$(t,e,i,n,r,s,o,a,c){let u=Z(),l=x1(u,t,e,i,n,r,s,o,a,c);return l!==tt&&kl(u,ir(),l),S$}function I$(t,e,i){m0(e)&&(e=e());let n=Z(),r=Ta();if(ln(n,r,e)){let s=Fe(),o=Zi();Xs(s,o,n,t,e,n[xe],i,!1)}return I$}function fse(t,e){let i=m0(t);return i&&t.set(e),i}function D$(t,e){let i=Z(),n=Fe(),r=bt();return U0(n,i,i[xe],r,t,e),D$}function b$(t,e,i){let n=Fe();if(n.firstCreatePass){let r=ci(t);ev(i,n.data,n.blueprint,r,!0),ev(e,n.data,n.blueprint,r,!1)}}function ev(t,e,i,n,r){if(t=Nt(t),Array.isArray(t))for(let s=0;s<t.length;s++)ev(t[s],e,i,n,r);else{let s=Fe(),o=Z(),a=bt(),c=Vs(t)?t:Nt(t.provide),u=_w(t),l=a.providerIndexes&1048575,f=a.directiveStart,h=a.providerIndexes>>20;if(Vs(t)||!t.multi){let m=new Hi(u,r,X),y=sm(c,e,r?l:l+h,f);y===-1?(ym(ol(a,o),s,c),im(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),i.push(m),o.push(m)):(i[y]=m,o[y]=m)}else{let m=sm(c,e,l+h,f),y=sm(c,e,l,l+h),b=m>=0&&i[m],w=y>=0&&i[y];if(r&&!w||!r&&!b){ym(ol(a,o),s,c);let R=A$(r?T$:w$,i.length,r,n,u);!r&&w&&(i[y].providerFactory=R),im(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),i.push(R),o.push(R)}else{let R=z0(i[r?y:m],u,!r&&n);im(s,t,m>-1?m:y,R)}!r&&n&&w&&i[y].componentProviders++}}}function im(t,e,i,n){let r=Vs(e),s=xL(e);if(r||s){let c=(s?Nt(e.useClass):e).prototype.ngOnDestroy;if(c){let u=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){let l=u.indexOf(i);l===-1?u.push(i,[n,c]):u[l+1].push(n,c)}else u.push(i,c)}}}function z0(t,e,i){return i&&t.componentProviders++,t.multi.push(e)-1}function sm(t,e,i,n){for(let r=i;r<n;r++)if(e[r]===t)return r;return-1}function w$(t,e,i,n){return tv(this.multi,[])}function T$(t,e,i,n){let r=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=zi(i,i[se],this.providerFactory.index,n);s=a.slice(0,o),tv(r,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],tv(r,s);return s}function tv(t,e){for(let i=0;i<t.length;i++){let n=t[i];e.push(n())}return e}function A$(t,e,i,n,r){let s=new Hi(t,i,X);return s.multi=[],s.index=e,s.componentProviders=0,z0(s,r,n&&!i),s}function hse(t,e=[]){return i=>{i.providersResolver=(n,r)=>b$(n,r?r(t):t,e)}}var R$=(()=>{let e=class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Ow(!1,n.type),s=r.length>0?Bl([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,s)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=g({token:e,providedIn:"environment",factory:()=>new e(d(St))});let t=e;return t})();function G0(t){to("NgStandalone"),t.getStandaloneInjector=e=>e.get(R$).getOrCreateStandaloneInjector(t)}function pse(t,e,i){let n=Nn()+t,r=Z();return r[n]===tt?Ji(r,n,i?e.call(i):e()):Xv(r,n)}function gse(t,e,i,n){return W0(Z(),Nn(),t,e,i,n)}function mse(t,e,i,n,r){return q0(Z(),Nn(),t,e,i,n,r)}function vse(t,e,i,n,r,s){return Y0(Z(),Nn(),t,e,i,n,r,s)}function yse(t,e,i,n,r,s,o){return K0(Z(),Nn(),t,e,i,n,r,s,o)}function Ese(t,e,i,n,r,s,o,a){let c=Nn()+t,u=Z(),l=Vl(u,c,i,n,r,s);return ln(u,c+4,o)||l?Ji(u,c+5,a?e.call(a,i,n,r,s,o):e(i,n,r,s,o)):Xv(u,c+5)}function Cse(t,e,i,n,r,s,o,a,c){let u=Nn()+t,l=Z(),f=Vl(l,u,i,n,r,s);return qs(l,u+4,o,a)||f?Ji(l,u+6,c?e.call(c,i,n,r,s,o,a):e(i,n,r,s,o,a)):Xv(l,u+6)}function Hl(t,e){let i=t[e];return i===tt?void 0:i}function W0(t,e,i,n,r,s){let o=e+i;return ln(t,o,r)?Ji(t,o+1,s?n.call(s,r):n(r)):Hl(t,o+1)}function q0(t,e,i,n,r,s,o){let a=e+i;return qs(t,a,r,s)?Ji(t,a+2,o?n.call(o,r,s):n(r,s)):Hl(t,a+2)}function Y0(t,e,i,n,r,s,o,a){let c=e+i;return E0(t,c,r,s,o)?Ji(t,c+3,a?n.call(a,r,s,o):n(r,s,o)):Hl(t,c+3)}function K0(t,e,i,n,r,s,o,a,c){let u=e+i;return Vl(t,u,r,s,o,a)?Ji(t,u+4,c?n.call(c,r,s,o,a):n(r,s,o,a)):Hl(t,u+4)}function Sse(t,e){let i=Fe(),n,r=t+It;i.firstCreatePass?(n=M$(e,i.pipeRegistry),i.data[r]=n,n.onDestroy&&(i.destroyHooks??=[]).push(r,n.onDestroy)):n=i.data[r];let s=n.factory||(n.factory=ji(n.type,!0)),o,a=$t(X);try{let c=sl(!1),u=s();return sl(c),m$(i,Z(),r,u),u}finally{$t(a)}}function M$(t,e){if(e)for(let i=e.length-1;i>=0;i--){let n=e[i];if(t===n.name)return n}}function Ise(t,e,i){let n=t+It,r=Z(),s=wa(r,n);return zl(r,n)?W0(r,Nn(),e,s.transform,i,s):s.transform(i)}function Dse(t,e,i,n){let r=t+It,s=Z(),o=wa(s,r);return zl(s,r)?q0(s,Nn(),e,o.transform,i,n,o):o.transform(i,n)}function bse(t,e,i,n,r){let s=t+It,o=Z(),a=wa(o,s);return zl(o,s)?Y0(o,Nn(),e,a.transform,i,n,r,a):a.transform(i,n,r)}function wse(t,e,i,n,r,s){let o=t+It,a=Z(),c=wa(a,o);return zl(a,o)?K0(a,Nn(),e,c.transform,i,n,r,s,c):c.transform(i,n,r,s)}function zl(t,e){return t[se].data[e].pure}function Tse(t,e){return Ul(t,e)}var Gu=null;function x$(t){Gu!==null&&(t.defaultEncapsulation!==Gu.defaultEncapsulation||t.preserveWhitespaces!==Gu.preserveWhitespaces)||(Gu=t)}var Gl=(()=>{let e=class e{log(n){console.log(n)}warn(n){console.warn(n)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var sy=new S(""),Na=new S(""),Wl=(()=>{let e=class e{constructor(n,r,s){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,oy||(N$(s),s.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ce.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(n)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,s){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),n()},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:s})}whenStable(n,r,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,s){return[]}};e.\u0275fac=function(r){return new(r||e)(d(Ce),d(ql),d(Na))},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})(),ql=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return oy?.findTestabilityInTree(this,n,r)??null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function N$(t){oy=t}var oy;function no(t){return!!t&&typeof t.then=="function"}function ay(t){return!!t&&typeof t.subscribe=="function"}var wt=new S(""),Z0=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=C(wt,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let s of this.appInits){let o=s();if(no(o))n.push(o);else if(ay(o)){let a=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});n.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(s=>{this.reject(s)}),n.length===0&&r(),this.initialized=!0}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ro=new S("");function O$(){pb(()=>{throw new j(600,!1)})}function P$(t){return t.isBoundToModule}function F$(t,e,i){try{let n=i();return no(n)?n.catch(r=>{throw e.runOutsideAngular(()=>t.handleError(r)),r}):n}catch(n){throw e.runOutsideAngular(()=>t.handleError(n)),n}}function Q0(t,e){return Array.isArray(e)?e.reduce(Q0,t):v(v({},t),e)}var Xi=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=C(pT),this.afterRenderEffectManager=C(Yv),this.externalTestViews=new Set,this.beforeRender=new re,this.afterTick=new re,this.componentTypes=[],this.components=[],this.isStable=C(Qi).hasPendingTasks.pipe(E(n=>!n)),this._injector=C(St)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){let s=n instanceof ll;if(!this._injector.get(Z0).done){let m=!s&&Rw(n),y=!1;throw new j(405,y)}let a;s?a=n:a=this._injector.get(jl).resolveComponentFactory(n),this.componentTypes.push(a.componentType);let c=P$(a)?void 0:this._injector.get(xr),u=r||a.selector,l=a.create(Ye.NULL,[],u,c),f=l.location.nativeElement,h=l.injector.get(sy,null);return h?.registerApplication(f),l.onDestroy(()=>{this.detachView(l.hostView),Qu(this.components,l),h?.unregisterApplication(f)}),this._loadComponent(l),l}tick(){this._tick(!0)}_tick(n){if(this._runningTick)throw new j(101,!1);let r=ve(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(n)}catch(s){this.internalErrorHandler(s)}finally{this.afterTick.next(),this._runningTick=!1,ve(r)}}detectChangesInAttachedViews(n){let r=0,s=this.afterRenderEffectManager;for(;;){if(r===o0)throw new j(103,!1);if(n){let o=r===0;this.beforeRender.next(o);for(let{_lView:a,notifyErrorHandler:c}of this._views)_$(a,o,c)}if(r++,s.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>nv(o))&&(s.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>nv(o))))break}}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Qu(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(ro,[]);[...this._bootstrapListeners,...r].forEach(s=>s(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Qu(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new j(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Qu(t,e){let i=t.indexOf(e);i>-1&&t.splice(i,1)}function _$(t,e,i){!e&&!nv(t)||L$(t,i,e)}function nv(t){return Iv(t)}function L$(t,e,i){let n;i?(n=0,t[J]|=1024):t[J]&64?n=0:n=1,a0(t,e,n)}var rv=class{constructor(e,i){this.ngModuleFactory=e,this.componentFactories=i}},io=(()=>{let e=class e{compileModuleSync(n){return new gl(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),s=Mw(n),o=FT(s.declarations).reduce((a,c)=>{let u=ai(c);return u&&a.push(new Ws(u)),a},[]);return new rv(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),k$=new S("");function U$(t,e,i){let n=new gl(i);return Promise.resolve(n)}function sw(t){for(let e=t.length-1;e>=0;e--)if(t[e]!==void 0)return t[e]}var j$=(()=>{let e=class e{constructor(){this.zone=C(Ce),this.applicationRef=C(Xi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function $$(t){return[{provide:Ce,useFactory:t},{provide:er,multi:!0,useFactory:()=>{let e=C(j$,{optional:!0});return()=>e.initialize()}},{provide:er,multi:!0,useFactory:()=>{let e=C(H$);return()=>{e.initialize()}}},{provide:pT,useFactory:B$}]}function B$(){let t=C(Ce),e=C(Dt);return i=>t.runOutsideAngular(()=>e.handleError(i))}function V$(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var H$=(()=>{let e=class e{constructor(){this.subscription=new Ee,this.initialized=!1,this.zone=C(Ce),this.pendingTasks=C(Qi)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ce.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ce.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function z$(){return typeof $localize<"u"&&$localize.locale||vl}var Oa=new S("",{providedIn:"root",factory:()=>C(Oa,ce.Optional|ce.SkipSelf)||z$()});var J0=new S(""),X0=(()=>{let e=class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){let s=_j(r?.ngZone,V$({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return s.run(()=>{let o=D1(n.moduleType,this.injector,$$(()=>s)),a=o.injector.get(Dt,null);return s.runOutsideAngular(()=>{let c=s.onError.subscribe({next:u=>{a.handleError(u)}});o.onDestroy(()=>{Qu(this._modules,o),c.unsubscribe()})}),F$(a,s,()=>{let c=o.injector.get(Z0);return c.runInitializers(),c.donePromise.then(()=>{let u=o.injector.get(Oa,vl);return l$(u||vl),this._moduleDoBootstrap(o),o})})})}bootstrapModule(n,r=[]){let s=Q0({},r);return U$(this.injector,s,n).then(o=>this.bootstrapModuleFactory(o,s))}_moduleDoBootstrap(n){let r=n.injector.get(Xi);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(s=>r.bootstrap(s));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(r);else throw new j(-403,!1);this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new j(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());let n=this._injector.get(J0,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};e.\u0275fac=function(r){return new(r||e)(d(Ye))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),ua=null,eA=new S("");function G$(t){if(ua&&!ua.get(eA,!1))throw new j(400,!1);O$(),ua=t;let e=t.get(X0);return Y$(t),e}function cy(t,e,i=[]){let n=`Platform: ${e}`,r=new S(n);return(s=[])=>{let o=tA();if(!o||o.injector.get(eA,!1)){let a=[...i,...s,{provide:r,useValue:!0}];t?t(a):G$(W$(a,n))}return q$(r)}}function W$(t=[],e){return Ye.create({name:e,providers:[{provide:Dl,useValue:"platform"},{provide:J0,useValue:new Set([()=>ua=null])},...t]})}function q$(t){let e=tA();if(!e)throw new j(401,!1);return e}function tA(){return ua?.get(X0)??null}function Y$(t){t.get(Ov,null)?.forEach(i=>i())}function ge(){return!1}var Fr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=K$;let t=e;return t})();function K$(t){return Z$(bt(),Z(),(t&16)===16)}function Z$(t,e,i){if(wl(t)&&!i){let n=di(t.index,e);return new Gi(n,n)}else if(t.type&47){let n=e[Rn];return new Gi(n,e)}return null}var iv=class{constructor(){}supports(e){return y0(e)}create(e){return new sv(e)}},Q$=(t,e)=>e,sv=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Q$}forEachItem(e){let i;for(i=this._itHead;i!==null;i=i._next)e(i)}forEachOperation(e){let i=this._itHead,n=this._removalsHead,r=0,s=null;for(;i||n;){let o=!n||i&&i.currentIndex<ow(n,r,s)?i:n,a=ow(o,r,s),c=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(i=i._next,o.previousIndex==null)r++;else{s||(s=[]);let u=a-r,l=c-r;if(u!=l){for(let h=0;h<u;h++){let m=h<s.length?s[h]:s[h]=0,y=m+h;l<=y&&y<u&&(s[h]=m+1)}let f=o.previousIndex;s[f]=l-u}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let i;for(i=this._previousItHead;i!==null;i=i._nextPrevious)e(i)}forEachAddedItem(e){let i;for(i=this._additionsHead;i!==null;i=i._nextAdded)e(i)}forEachMovedItem(e){let i;for(i=this._movesHead;i!==null;i=i._nextMoved)e(i)}forEachRemovedItem(e){let i;for(i=this._removalsHead;i!==null;i=i._nextRemoved)e(i)}forEachIdentityChange(e){let i;for(i=this._identityChangesHead;i!==null;i=i._nextIdentityChange)e(i)}diff(e){if(e==null&&(e=[]),!y0(e))throw new j(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i=this._itHead,n=!1,r,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),i===null||!Object.is(i.trackById,o)?(i=this._mismatch(i,s,o,a),n=!0):(n&&(i=this._verifyReinsertion(i,s,o,a)),Object.is(i.item,s)||this._addIdentityChange(i,s)),i=i._next}else r=0,b1(e,a=>{o=this._trackByFn(r,a),i===null||!Object.is(i.trackById,o)?(i=this._mismatch(i,a,o,r),n=!0):(n&&(i=this._verifyReinsertion(i,a,o,r)),Object.is(i.item,a)||this._addIdentityChange(i,a)),i=i._next,r++}),this.length=r;return this._truncate(i),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,i,n,r){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(n,null),e!==null?(Object.is(e.item,i)||this._addIdentityChange(e,i),this._reinsertAfter(e,s,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(n,r),e!==null?(Object.is(e.item,i)||this._addIdentityChange(e,i),this._moveAfter(e,s,r)):e=this._addAfter(new ov(i,n),s,r)),e}_verifyReinsertion(e,i,n,r){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(n,null);return s!==null?e=this._reinsertAfter(s,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let i=e._next;this._addToRemovals(this._unlink(e)),e=i}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,i,n){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,s=e._nextRemoved;return r===null?this._removalsHead=s:r._nextRemoved=s,s===null?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(e,i,n),this._addToMoves(e,n),e}_moveAfter(e,i,n){return this._unlink(e),this._insertAfter(e,i,n),this._addToMoves(e,n),e}_addAfter(e,i,n){return this._insertAfter(e,i,n),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,i,n){let r=i===null?this._itHead:i._next;return e._next=r,e._prev=i,r===null?this._itTail=e:r._prev=e,i===null?this._itHead=e:i._next=e,this._linkedRecords===null&&(this._linkedRecords=new yl),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let i=e._prev,n=e._next;return i===null?this._itHead=n:i._next=n,n===null?this._itTail=i:n._prev=i,e}_addToMoves(e,i){return e.previousIndex===i||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new yl),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,i){return e.item=i,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},ov=class{constructor(e,i){this.item=e,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},av=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,i){let n;for(n=this._head;n!==null;n=n._nextDup)if((i===null||i<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}remove(e){let i=e._prevDup,n=e._nextDup;return i===null?this._head=n:i._nextDup=n,n===null?this._tail=i:n._prevDup=i,this._head===null}},yl=class{constructor(){this.map=new Map}put(e){let i=e.trackById,n=this.map.get(i);n||(n=new av,this.map.set(i,n)),n.add(e)}get(e,i){let n=e,r=this.map.get(n);return r?r.get(e,i):null}remove(e){let i=e.trackById;return this.map.get(i).remove(e)&&this.map.delete(i),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function ow(t,e,i){let n=t.previousIndex;if(n===null)return n;let r=0;return i&&n<i.length&&(r=i[n]),n+e+r}var cv=class{constructor(){}supports(e){return e instanceof Map||Jv(e)}create(){return new uv}},uv=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let i;for(i=this._mapHead;i!==null;i=i._next)e(i)}forEachPreviousItem(e){let i;for(i=this._previousMapHead;i!==null;i=i._nextPrevious)e(i)}forEachChangedItem(e){let i;for(i=this._changesHead;i!==null;i=i._nextChanged)e(i)}forEachAddedItem(e){let i;for(i=this._additionsHead;i!==null;i=i._nextAdded)e(i)}forEachRemovedItem(e){let i;for(i=this._removalsHead;i!==null;i=i._nextRemoved)e(i)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||Jv(e)))throw new j(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(e,(n,r)=>{if(i&&i.key===r)this._maybeAddToChanges(i,n),this._appendAfter=i,i=i._next;else{let s=this._getOrCreateRecordForKey(r,n);i=this._insertBeforeOrAppend(i,s)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let n=i;n!==null;n=n._nextRemoved)n===this._mapHead&&(this._mapHead=null),this._records.delete(n.key),n._nextRemoved=n._next,n.previousValue=n.currentValue,n.currentValue=null,n._prev=null,n._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,i){if(e){let n=e._prev;return i._next=e,i._prev=n,e._prev=i,n&&(n._next=i),e===this._mapHead&&(this._mapHead=i),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(e,i){if(this._records.has(e)){let r=this._records.get(e);this._maybeAddToChanges(r,i);let s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}let n=new lv(e);return this._records.set(e,n),n.currentValue=i,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,i){Object.is(i,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=i,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,i){e instanceof Map?e.forEach(i):Object.keys(e).forEach(n=>i(e[n],n))}},lv=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function aw(){return new uy([new iv])}var uy=(()=>{let e=class e{constructor(n){this.factories=n}static create(n,r){if(r!=null){let s=r.factories.slice();n=n.concat(s)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||aw()),deps:[[e,new Il,new dn]]}}find(n){let r=this.factories.find(s=>s.supports(n));if(r!=null)return r;throw new j(901,!1)}};e.\u0275prov=g({token:e,providedIn:"root",factory:aw});let t=e;return t})();function cw(){return new ly([new cv])}var ly=(()=>{let e=class e{constructor(n){this.factories=n}static create(n,r){if(r){let s=r.factories.slice();n=n.concat(s)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||cw()),deps:[[e,new Il,new dn]]}}find(n){let r=this.factories.find(s=>s.supports(n));if(r)return r;throw new j(901,!1)}};e.\u0275prov=g({token:e,providedIn:"root",factory:cw});let t=e;return t})();var nA=cy(null,"core",[]),rA=(()=>{let e=class e{constructor(n){}};e.\u0275fac=function(r){return new(r||e)(d(Xi))},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})();function Pa(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Yl(t,e){to("NgSignals");let i=db(t);return e?.equal&&(i[Tr].equal=e.equal),i}function Kl(t){let e=ve(null);try{return t()}finally{ve(e)}}function iA(t){let e=ai(t);if(!e)return null;let i=new Ws(e);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var mA=null;function hi(){return mA}function vA(t){mA??=t}var id=class{};var Le=new S(""),Dy=(()=>{let e=class e{historyGo(n){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=g({token:e,factory:()=>C(J$),providedIn:"platform"});let t=e;return t})(),cd=new S(""),J$=(()=>{let e=class e extends Dy{constructor(){super(),this._doc=C(Le),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return hi().getBaseHref(this._doc)}onPopState(n){let r=hi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=hi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,s){this._history.pushState(n,r,s)}replaceState(n,r,s){this._history.replaceState(n,r,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=g({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function by(t,e){if(t.length==0)return e;if(e.length==0)return t;let i=0;return t.endsWith("/")&&i++,e.startsWith("/")&&i++,i==2?t+e.substring(1):i==1?t+e:t+"/"+e}function sA(t){let e=t.match(/#|\?|$/),i=e&&e.index||t.length,n=i-(t[i-1]==="/"?1:0);return t.slice(0,n)+t.slice(i)}function kr(t){return t&&t[0]!=="?"?"?"+t:t}var jr=(()=>{let e=class e{historyGo(n){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=g({token:e,factory:()=>C(wy),providedIn:"root"});let t=e;return t})(),yA=new S(""),wy=(()=>{let e=class e extends jr{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??C(Le).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return by(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+kr(this._platformLocation.search),s=this._platformLocation.hash;return s&&n?`${r}${s}`:r}pushState(n,r,s,o){let a=this.prepareExternalUrl(s+kr(o));this._platformLocation.pushState(n,r,a)}replaceState(n,r,s,o){let a=this.prepareExternalUrl(s+kr(o));this._platformLocation.replaceState(n,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}};e.\u0275fac=function(r){return new(r||e)(d(Dy),d(yA,8))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),EA=(()=>{let e=class e extends jr{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=by(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,s,o){let a=this.prepareExternalUrl(s+kr(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(n,r,a)}replaceState(n,r,s,o){let a=this.prepareExternalUrl(s+kr(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}};e.\u0275fac=function(r){return new(r||e)(d(Dy),d(yA,8))},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})(),cr=(()=>{let e=class e{constructor(n){this._subject=new gt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=tB(sA(oA(r))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+kr(r))}normalize(n){return e.stripTrailingSlash(eB(this._basePath,oA(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",s=null){this._locationStrategy.pushState(s,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+kr(r)),s)}replaceState(n,r="",s=null){this._locationStrategy.replaceState(s,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+kr(r)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(s=>s(n,r))}subscribe(n,r,s){return this._subject.subscribe({next:n,error:r,complete:s})}};e.normalizeQueryParams=kr,e.joinWithSlash=by,e.stripTrailingSlash=sA,e.\u0275fac=function(r){return new(r||e)(d(jr))},e.\u0275prov=g({token:e,factory:()=>X$(),providedIn:"root"});let t=e;return t})();function X$(){return new cr(d(jr))}function eB(t,e){if(!t||!e.startsWith(t))return e;let i=e.substring(t.length);return i===""||["/",";","?","#"].includes(i[0])?i:e}function oA(t){return t.replace(/\/index.html$/,"")}function tB(t){if(new RegExp("^(https?:)?//").test(t)){let[,i]=t.split(/\/\/[^\/]+/);return i}return t}var CA={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},Ty=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(Ty||{});var _t=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(_t||{}),Re=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(Re||{}),Jt=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(Jt||{}),Tt={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function ud(t){return Gt(t)[Be.LocaleId]}function nB(t,e,i){let n=Gt(t),r=[n[Be.DayPeriodsFormat],n[Be.DayPeriodsStandalone]],s=pn(r,e);return pn(s,i)}function rB(t,e,i){let n=Gt(t),r=[n[Be.DaysFormat],n[Be.DaysStandalone]],s=pn(r,e);return pn(s,i)}function iB(t,e,i){let n=Gt(t),r=[n[Be.MonthsFormat],n[Be.MonthsStandalone]],s=pn(r,e);return pn(s,i)}function sB(t,e){let n=Gt(t)[Be.Eras];return pn(n,e)}function Zl(t,e){let i=Gt(t);return pn(i[Be.DateFormat],e)}function Ql(t,e){let i=Gt(t);return pn(i[Be.TimeFormat],e)}function Jl(t,e){let n=Gt(t)[Be.DateTimeFormat];return pn(n,e)}function ar(t,e){let i=Gt(t),n=i[Be.NumberSymbols][e];if(typeof n>"u"){if(e===Tt.CurrencyDecimal)return i[Be.NumberSymbols][Tt.Decimal];if(e===Tt.CurrencyGroup)return i[Be.NumberSymbols][Tt.Group]}return n}function SA(t,e){return Gt(t)[Be.NumberFormats][e]}function oB(t){return Gt(t)[Be.Currencies]}function IA(t){if(!t[Be.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Be.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function aB(t){let e=Gt(t);return IA(e),(e[Be.ExtraData][2]||[]).map(n=>typeof n=="string"?dy(n):[dy(n[0]),dy(n[1])])}function cB(t,e,i){let n=Gt(t);IA(n);let r=[n[Be.ExtraData][0],n[Be.ExtraData][1]],s=pn(r,e)||[];return pn(s,i)||[]}function pn(t,e){for(let i=e;i>-1;i--)if(typeof t[i]<"u")return t[i];throw new Error("Locale data API: locale data undefined")}function dy(t){let[e,i]=t.split(":");return{hours:+e,minutes:+i}}function Gse(t,e,i="en"){let n=oB(i)[t]||CA[t]||[],r=n[1];return e==="narrow"&&typeof r=="string"?r:n[0]||t}var uB=2;function lB(t){let e,i=CA[t];return i&&(e=i[2]),typeof e=="number"?e:uB}var dB=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Xl={},fB=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Ur=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(Ur||{}),Ie=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(Ie||{}),Se=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(Se||{});function hB(t,e,i,n){let r=IB(t);e=Lr(i,e)||e;let o=[],a;for(;e;)if(a=fB.exec(e),a){o=o.concat(a.slice(1));let l=o.pop();if(!l)break;e=l}else{o.push(e);break}let c=r.getTimezoneOffset();n&&(c=bA(n,c),r=SB(r,n,!0));let u="";return o.forEach(l=>{let f=EB(l);u+=f?f(r,i,c):l==="''"?"'":l.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function sd(t,e,i){let n=new Date(0);return n.setFullYear(t,e,i),n.setHours(0,0,0),n}function Lr(t,e){let i=ud(t);if(Xl[i]??={},Xl[i][e])return Xl[i][e];let n="";switch(e){case"shortDate":n=Zl(t,Jt.Short);break;case"mediumDate":n=Zl(t,Jt.Medium);break;case"longDate":n=Zl(t,Jt.Long);break;case"fullDate":n=Zl(t,Jt.Full);break;case"shortTime":n=Ql(t,Jt.Short);break;case"mediumTime":n=Ql(t,Jt.Medium);break;case"longTime":n=Ql(t,Jt.Long);break;case"fullTime":n=Ql(t,Jt.Full);break;case"short":let r=Lr(t,"shortTime"),s=Lr(t,"shortDate");n=ed(Jl(t,Jt.Short),[r,s]);break;case"medium":let o=Lr(t,"mediumTime"),a=Lr(t,"mediumDate");n=ed(Jl(t,Jt.Medium),[o,a]);break;case"long":let c=Lr(t,"longTime"),u=Lr(t,"longDate");n=ed(Jl(t,Jt.Long),[c,u]);break;case"full":let l=Lr(t,"fullTime"),f=Lr(t,"fullDate");n=ed(Jl(t,Jt.Full),[l,f]);break}return n&&(Xl[i][e]=n),n}function ed(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(i,n){return e!=null&&n in e?e[n]:i})),t}function On(t,e,i="-",n,r){let s="";(t<0||r&&t<=0)&&(r?t=-t+1:(t=-t,s=i));let o=String(t);for(;o.length<e;)o="0"+o;return n&&(o=o.slice(o.length-e)),s+o}function pB(t,e){return On(t,3).substring(0,e)}function Ke(t,e,i=0,n=!1,r=!1){return function(s,o){let a=gB(t,s);if((i>0||a>-i)&&(a+=i),t===Ie.Hours)a===0&&i===-12&&(a=12);else if(t===Ie.FractionalSeconds)return pB(a,e);let c=ar(o,Tt.MinusSign);return On(a,e,c,n,r)}}function gB(t,e){switch(t){case Ie.FullYear:return e.getFullYear();case Ie.Month:return e.getMonth();case Ie.Date:return e.getDate();case Ie.Hours:return e.getHours();case Ie.Minutes:return e.getMinutes();case Ie.Seconds:return e.getSeconds();case Ie.FractionalSeconds:return e.getMilliseconds();case Ie.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function Ne(t,e,i=_t.Format,n=!1){return function(r,s){return mB(r,s,t,e,i,n)}}function mB(t,e,i,n,r,s){switch(i){case Se.Months:return iB(e,r,n)[t.getMonth()];case Se.Days:return rB(e,r,n)[t.getDay()];case Se.DayPeriods:let o=t.getHours(),a=t.getMinutes();if(s){let u=aB(e),l=cB(e,r,n),f=u.findIndex(h=>{if(Array.isArray(h)){let[m,y]=h,b=o>=m.hours&&a>=m.minutes,w=o<y.hours||o===y.hours&&a<y.minutes;if(m.hours<y.hours){if(b&&w)return!0}else if(b||w)return!0}else if(h.hours===o&&h.minutes===a)return!0;return!1});if(f!==-1)return l[f]}return nB(e,r,n)[o<12?0:1];case Se.Eras:return sB(e,n)[t.getFullYear()<=0?0:1];default:let c=i;throw new Error(`unexpected translation type ${c}`)}}function td(t){return function(e,i,n){let r=-1*n,s=ar(i,Tt.MinusSign),o=r>0?Math.floor(r/60):Math.ceil(r/60);switch(t){case Ur.Short:return(r>=0?"+":"")+On(o,2,s)+On(Math.abs(r%60),2,s);case Ur.ShortGMT:return"GMT"+(r>=0?"+":"")+On(o,1,s);case Ur.Long:return"GMT"+(r>=0?"+":"")+On(o,2,s)+":"+On(Math.abs(r%60),2,s);case Ur.Extended:return n===0?"Z":(r>=0?"+":"")+On(o,2,s)+":"+On(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}var vB=0,rd=4;function yB(t){let e=sd(t,vB,1).getDay();return sd(t,0,1+(e<=rd?rd:rd+7)-e)}function DA(t){let e=t.getDay(),i=e===0?-3:rd-e;return sd(t.getFullYear(),t.getMonth(),t.getDate()+i)}function fy(t,e=!1){return function(i,n){let r;if(e){let s=new Date(i.getFullYear(),i.getMonth(),1).getDay()-1,o=i.getDate();r=1+Math.floor((o+s)/7)}else{let s=DA(i),o=yB(s.getFullYear()),a=s.getTime()-o.getTime();r=1+Math.round(a/6048e5)}return On(r,t,ar(n,Tt.MinusSign))}}function nd(t,e=!1){return function(i,n){let s=DA(i).getFullYear();return On(s,t,ar(n,Tt.MinusSign),e)}}var hy={};function EB(t){if(hy[t])return hy[t];let e;switch(t){case"G":case"GG":case"GGG":e=Ne(Se.Eras,Re.Abbreviated);break;case"GGGG":e=Ne(Se.Eras,Re.Wide);break;case"GGGGG":e=Ne(Se.Eras,Re.Narrow);break;case"y":e=Ke(Ie.FullYear,1,0,!1,!0);break;case"yy":e=Ke(Ie.FullYear,2,0,!0,!0);break;case"yyy":e=Ke(Ie.FullYear,3,0,!1,!0);break;case"yyyy":e=Ke(Ie.FullYear,4,0,!1,!0);break;case"Y":e=nd(1);break;case"YY":e=nd(2,!0);break;case"YYY":e=nd(3);break;case"YYYY":e=nd(4);break;case"M":case"L":e=Ke(Ie.Month,1,1);break;case"MM":case"LL":e=Ke(Ie.Month,2,1);break;case"MMM":e=Ne(Se.Months,Re.Abbreviated);break;case"MMMM":e=Ne(Se.Months,Re.Wide);break;case"MMMMM":e=Ne(Se.Months,Re.Narrow);break;case"LLL":e=Ne(Se.Months,Re.Abbreviated,_t.Standalone);break;case"LLLL":e=Ne(Se.Months,Re.Wide,_t.Standalone);break;case"LLLLL":e=Ne(Se.Months,Re.Narrow,_t.Standalone);break;case"w":e=fy(1);break;case"ww":e=fy(2);break;case"W":e=fy(1,!0);break;case"d":e=Ke(Ie.Date,1);break;case"dd":e=Ke(Ie.Date,2);break;case"c":case"cc":e=Ke(Ie.Day,1);break;case"ccc":e=Ne(Se.Days,Re.Abbreviated,_t.Standalone);break;case"cccc":e=Ne(Se.Days,Re.Wide,_t.Standalone);break;case"ccccc":e=Ne(Se.Days,Re.Narrow,_t.Standalone);break;case"cccccc":e=Ne(Se.Days,Re.Short,_t.Standalone);break;case"E":case"EE":case"EEE":e=Ne(Se.Days,Re.Abbreviated);break;case"EEEE":e=Ne(Se.Days,Re.Wide);break;case"EEEEE":e=Ne(Se.Days,Re.Narrow);break;case"EEEEEE":e=Ne(Se.Days,Re.Short);break;case"a":case"aa":case"aaa":e=Ne(Se.DayPeriods,Re.Abbreviated);break;case"aaaa":e=Ne(Se.DayPeriods,Re.Wide);break;case"aaaaa":e=Ne(Se.DayPeriods,Re.Narrow);break;case"b":case"bb":case"bbb":e=Ne(Se.DayPeriods,Re.Abbreviated,_t.Standalone,!0);break;case"bbbb":e=Ne(Se.DayPeriods,Re.Wide,_t.Standalone,!0);break;case"bbbbb":e=Ne(Se.DayPeriods,Re.Narrow,_t.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ne(Se.DayPeriods,Re.Abbreviated,_t.Format,!0);break;case"BBBB":e=Ne(Se.DayPeriods,Re.Wide,_t.Format,!0);break;case"BBBBB":e=Ne(Se.DayPeriods,Re.Narrow,_t.Format,!0);break;case"h":e=Ke(Ie.Hours,1,-12);break;case"hh":e=Ke(Ie.Hours,2,-12);break;case"H":e=Ke(Ie.Hours,1);break;case"HH":e=Ke(Ie.Hours,2);break;case"m":e=Ke(Ie.Minutes,1);break;case"mm":e=Ke(Ie.Minutes,2);break;case"s":e=Ke(Ie.Seconds,1);break;case"ss":e=Ke(Ie.Seconds,2);break;case"S":e=Ke(Ie.FractionalSeconds,1);break;case"SS":e=Ke(Ie.FractionalSeconds,2);break;case"SSS":e=Ke(Ie.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=td(Ur.Short);break;case"ZZZZZ":e=td(Ur.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=td(Ur.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=td(Ur.Long);break;default:return null}return hy[t]=e,e}function bA(t,e){t=t.replace(/:/g,"");let i=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(i)?e:i}function CB(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function SB(t,e,i){let n=i?-1:1,r=t.getTimezoneOffset(),s=bA(e,r);return CB(t,n*(s-r))}function IB(t){if(aA(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[r,s=1,o=1]=t.split("-").map(a=>+a);return sd(r,s-1,o)}let i=parseFloat(t);if(!isNaN(t-i))return new Date(i);let n;if(n=t.match(dB))return DB(n)}let e=new Date(t);if(!aA(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function DB(t){let e=new Date(0),i=0,n=0,r=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(i=Number(t[9]+t[10]),n=Number(t[9]+t[11])),r.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let o=Number(t[4]||0)-i,a=Number(t[5]||0)-n,c=Number(t[6]||0),u=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return s.call(e,o,a,c,u),e}function aA(t){return t instanceof Date&&!isNaN(t.valueOf())}var bB=/^(\d+)?\.((\d+)(-(\d+))?)?$/,cA=22,od=".",Fa="0",wB=";",TB=",",py="#",uA="\xA4";function wA(t,e,i,n,r,s,o=!1){let a="",c=!1;if(!isFinite(t))a=ar(i,Tt.Infinity);else{let u=MB(t);o&&(u=RB(u));let l=e.minInt,f=e.minFrac,h=e.maxFrac;if(s){let k=s.match(bB);if(k===null)throw new Error(`${s} is not a valid digit info`);let U=k[1],H=k[3],te=k[5];U!=null&&(l=gy(U)),H!=null&&(f=gy(H)),te!=null?h=gy(te):H!=null&&f>h&&(h=f)}xB(u,f,h);let m=u.digits,y=u.integerLen,b=u.exponent,w=[];for(c=m.every(k=>!k);y<l;y++)m.unshift(0);for(;y<0;y++)m.unshift(0);y>0?w=m.splice(y,m.length):(w=m,m=[0]);let R=[];for(m.length>=e.lgSize&&R.unshift(m.splice(-e.lgSize,m.length).join(""));m.length>e.gSize;)R.unshift(m.splice(-e.gSize,m.length).join(""));m.length&&R.unshift(m.join("")),a=R.join(ar(i,n)),w.length&&(a+=ar(i,r)+w.join("")),b&&(a+=ar(i,Tt.Exponential)+"+"+b)}return t<0&&!c?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function Wse(t,e,i,n,r){let s=SA(e,Ty.Currency),o=TA(s,ar(e,Tt.MinusSign));return o.minFrac=lB(n),o.maxFrac=o.minFrac,wA(t,o,e,Tt.CurrencyGroup,Tt.CurrencyDecimal,r).replace(uA,i).replace(uA,"").trim()}function AB(t,e,i){let n=SA(e,Ty.Decimal),r=TA(n,ar(e,Tt.MinusSign));return wA(t,r,e,Tt.Group,Tt.Decimal,i)}function TA(t,e="-"){let i={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},n=t.split(wB),r=n[0],s=n[1],o=r.indexOf(od)!==-1?r.split(od):[r.substring(0,r.lastIndexOf(Fa)+1),r.substring(r.lastIndexOf(Fa)+1)],a=o[0],c=o[1]||"";i.posPre=a.substring(0,a.indexOf(py));for(let l=0;l<c.length;l++){let f=c.charAt(l);f===Fa?i.minFrac=i.maxFrac=l+1:f===py?i.maxFrac=l+1:i.posSuf+=f}let u=a.split(TB);if(i.gSize=u[1]?u[1].length:0,i.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,s){let l=r.length-i.posPre.length-i.posSuf.length,f=s.indexOf(py);i.negPre=s.substring(0,f).replace(/'/g,""),i.negSuf=s.slice(f+l).replace(/'/g,"")}else i.negPre=e+i.posPre,i.negSuf=i.posSuf;return i}function RB(t){if(t.digits[0]===0)return t;let e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function MB(t){let e=Math.abs(t)+"",i=0,n,r,s,o,a;for((r=e.indexOf(od))>-1&&(e=e.replace(od,"")),(s=e.search(/e/i))>0?(r<0&&(r=s),r+=+e.slice(s+1),e=e.substring(0,s)):r<0&&(r=e.length),s=0;e.charAt(s)===Fa;s++);if(s===(a=e.length))n=[0],r=1;else{for(a--;e.charAt(a)===Fa;)a--;for(r-=s,n=[],o=0;s<=a;s++,o++)n[o]=Number(e.charAt(s))}return r>cA&&(n=n.splice(0,cA-1),i=r-1,r=1),{digits:n,exponent:i,integerLen:r}}function xB(t,e,i){if(e>i)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${i}).`);let n=t.digits,r=n.length-t.integerLen,s=Math.min(Math.max(e,r),i),o=s+t.integerLen,a=n[o];if(o>0){n.splice(Math.max(t.integerLen,o));for(let f=o;f<n.length;f++)n[f]=0}else{r=Math.max(0,r),t.integerLen=1,n.length=Math.max(1,o=s+1),n[0]=0;for(let f=1;f<o;f++)n[f]=0}if(a>=5)if(o-1<0){for(let f=0;f>o;f--)n.unshift(0),t.integerLen++;n.unshift(1),t.integerLen++}else n[o-1]++;for(;r<Math.max(0,s);r++)n.push(0);let c=s!==0,u=e+t.integerLen,l=n.reduceRight(function(f,h,m,y){return h=h+f,y[m]=h<10?h:h-10,c&&(y[m]===0&&m>=u?y.pop():c=!1),h>=10?1:0},0);l&&(n.unshift(l),t.integerLen++)}function gy(t){let e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function ld(t,e){e=encodeURIComponent(e);for(let i of t.split(";")){let n=i.indexOf("="),[r,s]=n==-1?[i,""]:[i.slice(0,n),i.slice(n+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}var my=/\s+/,lA=[],qse=(()=>{let e=class e{constructor(n,r){this._ngEl=n,this._renderer=r,this.initialClasses=lA,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split(my):lA}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(my):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let s=this.stateMap.get(n);s!==void 0?(s.enabled!==r&&(s.changed=!0,s.enabled=r),s.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],s=n[1];s.changed?(this._toggleClass(r,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),s.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(my).forEach(s=>{r?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}};e.\u0275fac=function(r){return new(r||e)(X(sr),X(eo))},e.\u0275dir=Ft({type:e,selectors:[["","ngClass",""]],inputs:{klass:[un.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})(),Yse=(()=>{let e=class e{constructor(n){this._viewContainerRef=n,this.ngComponentOutlet=null,this._inputsUsed=new Map}_needToReCreateNgModuleInstance(n){return n.ngComponentOutletNgModule!==void 0||n.ngComponentOutletNgModuleFactory!==void 0}_needToReCreateComponentInstance(n){return n.ngComponentOutlet!==void 0||n.ngComponentOutletContent!==void 0||n.ngComponentOutletInjector!==void 0||this._needToReCreateNgModuleInstance(n)}ngOnChanges(n){if(this._needToReCreateComponentInstance(n)&&(this._viewContainerRef.clear(),this._inputsUsed.clear(),this._componentRef=void 0,this.ngComponentOutlet)){let r=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;this._needToReCreateNgModuleInstance(n)&&(this._moduleRef?.destroy(),this.ngComponentOutletNgModule?this._moduleRef=v0(this.ngComponentOutletNgModule,dA(r)):this.ngComponentOutletNgModuleFactory?this._moduleRef=this.ngComponentOutletNgModuleFactory.create(dA(r)):this._moduleRef=void 0),this._componentRef=this._viewContainerRef.createComponent(this.ngComponentOutlet,{injector:r,ngModuleRef:this._moduleRef,projectableNodes:this.ngComponentOutletContent})}}ngDoCheck(){if(this._componentRef){if(this.ngComponentOutletInputs)for(let n of Object.keys(this.ngComponentOutletInputs))this._inputsUsed.set(n,!0);this._applyInputStateDiff(this._componentRef)}}ngOnDestroy(){this._moduleRef?.destroy()}_applyInputStateDiff(n){for(let[r,s]of this._inputsUsed)s?(n.setInput(r,this.ngComponentOutletInputs[r]),this._inputsUsed.set(r,!1)):(n.setInput(r,void 0),this._inputsUsed.delete(r))}};e.\u0275fac=function(r){return new(r||e)(X(zt))},e.\u0275dir=Ft({type:e,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInputs:"ngComponentOutletInputs",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModule:"ngComponentOutletNgModule",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},standalone:!0,features:[li]});let t=e;return t})();function dA(t){return t.get(xr).injector}var vy=class{constructor(e,i,n,r){this.$implicit=e,this.ngForOf=i,this.index=n,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Kse=(()=>{let e=class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,s){this._viewContainer=n,this._template=r,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((s,o,a)=>{if(s.previousIndex==null)r.createEmbeddedView(this._template,new vy(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)r.remove(o===null?void 0:o);else if(o!==null){let c=r.get(o);r.move(c,a),fA(c,s)}});for(let s=0,o=r.length;s<o;s++){let c=r.get(s).context;c.index=s,c.count=o,c.ngForOf=this._ngForOf}n.forEachIdentityChange(s=>{let o=r.get(s.currentIndex);fA(o,s)})}static ngTemplateContextGuard(n,r){return!0}};e.\u0275fac=function(r){return new(r||e)(X(zt),X(Mn),X(uy))},e.\u0275dir=Ft({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function fA(t,e){t.context.$implicit=e.item}var Zse=(()=>{let e=class e{constructor(n,r){this._viewContainer=n,this._context=new yy,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){hA("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){hA("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}};e.\u0275fac=function(r){return new(r||e)(X(zt),X(Mn))},e.\u0275dir=Ft({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),yy=class{constructor(){this.$implicit=null,this.ngIf=null}};function hA(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Pt(e)}'.`)}var NB=!0,ad=class{constructor(e,i){this._viewContainerRef=e,this._templateRef=i,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}},AA=(()=>{let e=class e{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(n){this._ngSwitch=n,this._caseCount===0&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(n){this._defaultViews.push(n)}_matchCase(n){let r=NB?n===this._ngSwitch:n==this._ngSwitch;return this._lastCasesMatched||=r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(n){if(this._defaultViews.length>0&&n!==this._defaultUsed){this._defaultUsed=n;for(let r of this._defaultViews)r.enforceState(n)}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Ft({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0});let t=e;return t})(),Qse=(()=>{let e=class e{constructor(n,r,s){this.ngSwitch=s,s._addCase(),this._view=new ad(n,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}};e.\u0275fac=function(r){return new(r||e)(X(zt),X(Mn),X(AA,9))},e.\u0275dir=Ft({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0});let t=e;return t})(),Jse=(()=>{let e=class e{constructor(n,r,s){s._addDefault(new ad(n,r))}};e.\u0275fac=function(r){return new(r||e)(X(zt),X(Mn),X(AA,9))},e.\u0275dir=Ft({type:e,selectors:[["","ngSwitchDefault",""]],standalone:!0});let t=e;return t})();var Xse=(()=>{let e=class e{constructor(n){this._viewContainerRef=n,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(n){if(this._shouldRecreateView(n)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let s=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,s,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(n){return!!n.ngTemplateOutlet||!!n.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(n,r,s)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,s):!1,get:(n,r,s)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,s)}})}};e.\u0275fac=function(r){return new(r||e)(X(zt))},e.\u0275dir=Ft({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[li]});let t=e;return t})();function oo(t,e){return new j(2100,!1)}var Ey=class{createSubscription(e,i){return Kl(()=>e.subscribe({next:i,error:n=>{throw n}}))}dispose(e){Kl(()=>e.unsubscribe())}},Cy=class{createSubscription(e,i){return e.then(i,n=>{throw n})}dispose(e){}},OB=new Cy,PB=new Ey,eoe=(()=>{let e=class e{constructor(n){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(no(n))return OB;if(ay(n))return PB;throw oo(e,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}};e.\u0275fac=function(r){return new(r||e)(X(Fr,16))},e.\u0275pipe=Vt({name:"async",type:e,pure:!1,standalone:!0});let t=e;return t})(),toe=(()=>{let e=class e{transform(n){if(n==null)return null;if(typeof n!="string")throw oo(e,n);return n.toLowerCase()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275pipe=Vt({name:"lowercase",type:e,pure:!0,standalone:!0});let t=e;return t})(),FB=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,noe=(()=>{let e=class e{transform(n){if(n==null)return null;if(typeof n!="string")throw oo(e,n);return n.replace(FB,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}};e.\u0275fac=function(r){return new(r||e)},e.\u0275pipe=Vt({name:"titlecase",type:e,pure:!0,standalone:!0});let t=e;return t})();var _B="mediumDate",LB=new S(""),kB=new S(""),RA=(()=>{let e=class e{constructor(n,r,s){this.locale=n,this.defaultTimezone=r,this.defaultOptions=s}transform(n,r,s,o){if(n==null||n===""||n!==n)return null;try{let a=r??this.defaultOptions?.dateFormat??_B,c=s??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return hB(n,a,o||this.locale,c)}catch(a){throw oo(e,a.message)}}};e.\u0275fac=function(r){return new(r||e)(X(Oa,16),X(LB,24),X(kB,24))},e.\u0275pipe=Vt({name:"date",type:e,pure:!0,standalone:!0});let t=e;return t})();var roe=(()=>{let e=class e{transform(n){return JSON.stringify(n,null,2)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275pipe=Vt({name:"json",type:e,pure:!1,standalone:!0});let t=e;return t})();function UB(t,e){return{key:t,value:e}}var ioe=(()=>{let e=class e{constructor(n){this.differs=n,this.keyValues=[],this.compareFn=pA}transform(n,r=pA){if(!n||!(n instanceof Map)&&typeof n!="object")return null;this.differ??=this.differs.find(n).create();let s=this.differ.diff(n),o=r!==this.compareFn;return s&&(this.keyValues=[],s.forEachItem(a=>{this.keyValues.push(UB(a.key,a.currentValue))})),(s||o)&&(this.keyValues.sort(r),this.compareFn=r),this.keyValues}};e.\u0275fac=function(r){return new(r||e)(X(ly,16))},e.\u0275pipe=Vt({name:"keyvalue",type:e,pure:!1,standalone:!0});let t=e;return t})();function pA(t,e){let i=t.key,n=e.key;if(i===n)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(i===null)return 1;if(n===null)return-1;if(typeof i=="string"&&typeof n=="string")return i<n?-1:1;if(typeof i=="number"&&typeof n=="number")return i-n;if(typeof i=="boolean"&&typeof n=="boolean")return i<n?-1:1;let r=String(i),s=String(n);return r==s?0:r<s?-1:1}var MA=(()=>{let e=class e{constructor(n){this._locale=n}transform(n,r,s){if(!jB(n))return null;s||=this._locale;try{let o=$B(n);return AB(o,s,r)}catch(o){throw oo(e,o.message)}}};e.\u0275fac=function(r){return new(r||e)(X(Oa,16))},e.\u0275pipe=Vt({name:"number",type:e,pure:!0,standalone:!0});let t=e;return t})();function jB(t){return!(t==null||t===""||t!==t)}function $B(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new Error(`${t} is not a number`);return t}var soe=(()=>{let e=class e{transform(n,r,s){if(n==null)return null;if(!this.supports(n))throw oo(e,n);return n.slice(r,s)}supports(n){return typeof n=="string"||Array.isArray(n)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275pipe=Vt({name:"slice",type:e,pure:!1,standalone:!0});let t=e;return t})();var Ze=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})(),Ay="browser",BB="server";function Pn(t){return t===Ay}function es(t){return t===BB}var xA=(()=>{let e=class e{};e.\u0275prov=g({token:e,providedIn:"root",factory:()=>Pn(C($e))?new Sy(C(Le),window):new Iy});let t=e;return t})(),Sy=class{constructor(e,i){this.document=e,this.window=i,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let i=VB(this.document,e);i&&(this.scrollToElement(i),i.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let i=e.getBoundingClientRect(),n=i.left+this.window.pageXOffset,r=i.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(n-s[0],r-s[1])}};function VB(t,e){let i=t.getElementById(e)||t.getElementsByName(e)[0];if(i)return i;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),r=n.currentNode;for(;r;){let s=r.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}r=n.nextNode()}}return null}var Iy=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},so=class{};var La=class{},ka=class{},le=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(i=>{let n=i.indexOf(":");if(n>0){let r=i.slice(0,n),s=r.toLowerCase(),o=i.slice(n+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((i,n)=>{this.setHeaderEntries(n,i)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([i,n])=>{this.setHeaderEntries(i,n)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let i=this.headers.get(e.toLowerCase());return i&&i.length>0?i[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,i){return this.clone({name:e,value:i,op:"a"})}set(e,i){return this.clone({name:e,value:i,op:"s"})}delete(e,i){return this.clone({name:e,value:i,op:"d"})}maybeSetNormalizedName(e,i){this.normalizedNames.has(i)||this.normalizedNames.set(i,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(i=>{this.headers.set(i,e.headers.get(i)),this.normalizedNames.set(i,e.normalizedNames.get(i))})}clone(e){let i=new t;return i.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,i.lazyUpdate=(this.lazyUpdate||[]).concat([e]),i}applyUpdate(e){let i=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(e.name,i);let r=(e.op==="a"?this.headers.get(i):void 0)||[];r.push(...n),this.headers.set(i,r);break;case"d":let s=e.value;if(!s)this.headers.delete(i),this.normalizedNames.delete(i);else{let o=this.headers.get(i);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(i),this.normalizedNames.delete(i)):this.headers.set(i,o)}break}}setHeaderEntries(e,i){let n=(Array.isArray(i)?i:[i]).map(s=>s.toString()),r=e.toLowerCase();this.headers.set(r,n),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(i=>e(this.normalizedNames.get(i),this.headers.get(i)))}};var Ny=class{encodeKey(e){return NA(e)}encodeValue(e){return NA(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function HB(t,e){let i=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{let s=r.indexOf("="),[o,a]=s==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],c=i.get(o)||[];c.push(a),i.set(o,c)}),i}var zB=/%(\d[a-f0-9])/gi,GB={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function NA(t){return encodeURIComponent(t).replace(zB,(e,i)=>GB[i]??e)}function dd(t){return`${t}`}var ze=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Ny,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=HB(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(i=>{let n=e.fromObject[i],r=Array.isArray(n)?n.map(dd):[dd(n)];this.map.set(i,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let i=this.map.get(e);return i?i[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,i){return this.clone({param:e,value:i,op:"a"})}appendAll(e){let i=[];return Object.keys(e).forEach(n=>{let r=e[n];Array.isArray(r)?r.forEach(s=>{i.push({param:n,value:s,op:"a"})}):i.push({param:n,value:r,op:"a"})}),this.clone(i)}set(e,i){return this.clone({param:e,value:i,op:"s"})}delete(e,i){return this.clone({param:e,value:i,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let i=this.encoder.encodeKey(e);return this.map.get(e).map(n=>i+"="+this.encoder.encodeValue(n)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let i=new t({encoder:this.encoder});return i.cloneFrom=this.cloneFrom||this,i.updates=(this.updates||[]).concat(e),i}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let i=(e.op==="a"?this.map.get(e.param):void 0)||[];i.push(dd(e.value)),this.map.set(e.param,i);break;case"d":if(e.value!==void 0){let n=this.map.get(e.param)||[],r=n.indexOf(dd(e.value));r!==-1&&n.splice(r,1),n.length>0?this.map.set(e.param,n):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}},Ua=class{constructor(e){this.defaultValue=e}},ao=class{constructor(){this.map=new Map}set(e,i){return this.map.set(e,i),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function WB(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function OA(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function PA(t){return typeof Blob<"u"&&t instanceof Blob}function FA(t){return typeof FormData<"u"&&t instanceof FormData}function qB(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var _a=class t{constructor(e,i,n,r){this.url=i,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(WB(this.method)||r?(this.body=n!==void 0?n:null,s=r):s=n,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new le,this.context??=new ao,!this.params)this.params=new ze,this.urlWithParams=i;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=i;else{let a=i.indexOf("?"),c=a===-1?"?":a<i.length-1?"&":"";this.urlWithParams=i+c+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||OA(this.body)||PA(this.body)||FA(this.body)||qB(this.body)?this.body:this.body instanceof ze?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||FA(this.body)?null:PA(this.body)?this.body.type||null:OA(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof ze?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let i=e.method||this.method,n=e.url||this.url,r=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,u=e.headers||this.headers,l=e.params||this.params,f=e.context??this.context;return e.setHeaders!==void 0&&(u=Object.keys(e.setHeaders).reduce((h,m)=>h.set(m,e.setHeaders[m]),u)),e.setParams&&(l=Object.keys(e.setParams).reduce((h,m)=>h.set(m,e.setParams[m]),l)),new t(i,n,o,{params:l,headers:u,context:f,reportProgress:c,responseType:r,withCredentials:a,transferCache:s})}},ur=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(ur||{}),ja=class{constructor(e,i=$a.Ok,n="OK"){this.headers=e.headers||new le,this.status=e.status!==void 0?e.status:i,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},fd=class t extends ja{constructor(e={}){super(e),this.type=ur.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},ts=class t extends ja{constructor(e={}){super(e),this.type=ur.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Wt=class extends ja{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},$a=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}($a||{});function My(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var ke=(()=>{let e=class e{constructor(n){this.handler=n}request(n,r,s={}){let o;if(n instanceof _a)o=n;else{let u;s.headers instanceof le?u=s.headers:u=new le(s.headers);let l;s.params&&(s.params instanceof ze?l=s.params:l=new ze({fromObject:s.params})),o=new _a(n,r,s.body!==void 0?s.body:null,{headers:u,context:s.context,params:l,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let a=I(o).pipe(je(u=>this.handler.handle(u)));if(n instanceof _a||s.observe==="events")return a;let c=a.pipe(M(u=>u instanceof ts));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return c.pipe(E(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return c.pipe(E(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return c.pipe(E(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return c.pipe(E(u=>u.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new ze().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,s={}){return this.request("PATCH",n,My(s,r))}post(n,r,s={}){return this.request("POST",n,My(s,r))}put(n,r,s={}){return this.request("PUT",n,My(s,r))}};e.\u0275fac=function(r){return new(r||e)(d(La))},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})(),YB=/^\)\]\}',?\n/,KB="X-Request-URL";function _A(t){if(t.url)return t.url;let e=KB.toLocaleLowerCase();return t.headers.get(e)}var xy=(()=>{let e=class e{constructor(){this.fetchImpl=C(Oy,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=C(Ce)}handle(n){return new z(r=>{let s=new AbortController;return this.doRequest(n,s.signal,r).then(Py,o=>r.error(new Wt({error:o}))),()=>s.abort()})}doRequest(n,r,s){return rt(this,null,function*(){let o=this.createRequestInit(n),a;try{let y=this.fetchImpl(n.urlWithParams,v({signal:r},o));ZB(y),s.next({type:ur.Sent}),a=yield y}catch(y){s.error(new Wt({error:y,status:y.status??0,statusText:y.statusText,url:n.urlWithParams,headers:y.headers}));return}let c=new le(a.headers),u=a.statusText,l=_A(a)??n.urlWithParams,f=a.status,h=null;if(n.reportProgress&&s.next(new fd({headers:c,status:f,statusText:u,url:l})),a.body){let y=a.headers.get("content-length"),b=[],w=a.body.getReader(),R=0,k,U,H=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>rt(this,null,function*(){for(;;){let{done:ue,value:fe}=yield w.read();if(ue)break;if(b.push(fe),R+=fe.length,n.reportProgress){U=n.responseType==="text"?(U??"")+(k??=new TextDecoder).decode(fe,{stream:!0}):void 0;let Pe=()=>s.next({type:ur.DownloadProgress,total:y?+y:void 0,loaded:R,partialText:U});H?H.run(Pe):Pe()}}}));let te=this.concatChunks(b,R);try{let ue=a.headers.get("Content-Type")??"";h=this.parseBody(n,te,ue)}catch(ue){s.error(new Wt({error:ue,headers:new le(a.headers),status:a.status,statusText:a.statusText,url:_A(a)??n.urlWithParams}));return}}f===0&&(f=h?$a.Ok:0),f>=200&&f<300?(s.next(new ts({body:h,headers:c,status:f,statusText:u,url:l})),s.complete()):s.error(new Wt({error:h,headers:c,status:f,statusText:u,url:l}))})}parseBody(n,r,s){switch(n.responseType){case"json":let o=new TextDecoder().decode(r).replace(YB,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:s});case"arraybuffer":return r.buffer}}createRequestInit(n){let r={},s=n.withCredentials?"include":void 0;if(n.headers.forEach((o,a)=>r[o]=a.join(",")),r.Accept??="application/json, text/plain, */*",!r["Content-Type"]){let o=n.detectContentTypeHeader();o!==null&&(r["Content-Type"]=o)}return{body:n.serializeBody(),method:n.method,headers:r,credentials:s}}concatChunks(n,r){let s=new Uint8Array(r),o=0;for(let a of n)s.set(a,o),o+=a.length;return s}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})(),Oy=class{};function Py(){}function ZB(t){t.then(Py,Py)}function $A(t,e){return e(t)}function QB(t,e){return(i,n)=>e.intercept(i,{handle:r=>t(r,n)})}function JB(t,e,i){return(n,r)=>xn(i,()=>e(n,s=>t(s,r)))}var gn=new S(""),Fy=new S(""),XB=new S(""),BA=new S("");function eV(){let t=null;return(e,i)=>{t===null&&(t=(C(gn,{optional:!0})??[]).reduceRight(QB,$A));let n=C(Qi),r=n.add();return t(e,i).pipe(Dn(()=>n.remove(r)))}}var LA=(()=>{let e=class e extends La{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=C(Qi);let s=C(BA,{optional:!0});this.backend=s??n}handle(n){if(this.chain===null){let s=Array.from(new Set([...this.injector.get(Fy),...this.injector.get(XB,[])]));this.chain=s.reduceRight((o,a)=>JB(o,a,this.injector),$A)}let r=this.pendingTasks.add();return this.chain(n,s=>this.backend.handle(s)).pipe(Dn(()=>this.pendingTasks.remove(r)))}};e.\u0275fac=function(r){return new(r||e)(d(ka),d(St))},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})();var tV=/^\)\]\}',?\n/;function nV(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var kA=(()=>{let e=class e{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new j(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?pe(r.\u0275loadImpl()):I(null)).pipe(N(()=>new z(o=>{let a=r.build();if(a.open(n.method,n.urlWithParams),n.withCredentials&&(a.withCredentials=!0),n.headers.forEach((w,R)=>a.setRequestHeader(w,R.join(","))),n.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let w=n.detectContentTypeHeader();w!==null&&a.setRequestHeader("Content-Type",w)}if(n.responseType){let w=n.responseType.toLowerCase();a.responseType=w!=="json"?w:"text"}let c=n.serializeBody(),u=null,l=()=>{if(u!==null)return u;let w=a.statusText||"OK",R=new le(a.getAllResponseHeaders()),k=nV(a)||n.url;return u=new fd({headers:R,status:a.status,statusText:w,url:k}),u},f=()=>{let{headers:w,status:R,statusText:k,url:U}=l(),H=null;R!==$a.NoContent&&(H=typeof a.response>"u"?a.responseText:a.response),R===0&&(R=H?$a.Ok:0);let te=R>=200&&R<300;if(n.responseType==="json"&&typeof H=="string"){let ue=H;H=H.replace(tV,"");try{H=H!==""?JSON.parse(H):null}catch(fe){H=ue,te&&(te=!1,H={error:fe,text:H})}}te?(o.next(new ts({body:H,headers:w,status:R,statusText:k,url:U||void 0})),o.complete()):o.error(new Wt({error:H,headers:w,status:R,statusText:k,url:U||void 0}))},h=w=>{let{url:R}=l(),k=new Wt({error:w,status:a.status||0,statusText:a.statusText||"Unknown Error",url:R||void 0});o.error(k)},m=!1,y=w=>{m||(o.next(l()),m=!0);let R={type:ur.DownloadProgress,loaded:w.loaded};w.lengthComputable&&(R.total=w.total),n.responseType==="text"&&a.responseText&&(R.partialText=a.responseText),o.next(R)},b=w=>{let R={type:ur.UploadProgress,loaded:w.loaded};w.lengthComputable&&(R.total=w.total),o.next(R)};return a.addEventListener("load",f),a.addEventListener("error",h),a.addEventListener("timeout",h),a.addEventListener("abort",h),n.reportProgress&&(a.addEventListener("progress",y),c!==null&&a.upload&&a.upload.addEventListener("progress",b)),a.send(c),o.next({type:ur.Sent}),()=>{a.removeEventListener("error",h),a.removeEventListener("abort",h),a.removeEventListener("load",f),a.removeEventListener("timeout",h),n.reportProgress&&(a.removeEventListener("progress",y),c!==null&&a.upload&&a.upload.removeEventListener("progress",b)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(r){return new(r||e)(d(so))},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})(),VA=new S(""),rV="XSRF-TOKEN",iV=new S("",{providedIn:"root",factory:()=>rV}),sV="X-XSRF-TOKEN",oV=new S("",{providedIn:"root",factory:()=>sV}),hd=class{},aV=(()=>{let e=class e{constructor(n,r,s){this.doc=n,this.platform=r,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=ld(n,this.cookieName),this.lastCookieString=n),this.lastToken}};e.\u0275fac=function(r){return new(r||e)(d(Le),d($e),d(iV))},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})();function cV(t,e){let i=t.url.toLowerCase();if(!C(VA)||t.method==="GET"||t.method==="HEAD"||i.startsWith("http://")||i.startsWith("https://"))return e(t);let n=C(hd).getToken(),r=C(oV);return n!=null&&!t.headers.has(r)&&(t=t.clone({headers:t.headers.set(r,n)})),e(t)}var _y=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(_y||{});function HA(t,e){return{\u0275kind:t,\u0275providers:e}}function voe(...t){let e=[ke,kA,LA,{provide:La,useExisting:LA},{provide:ka,useExisting:kA},{provide:Fy,useValue:cV,multi:!0},{provide:VA,useValue:!0},{provide:hd,useClass:aV}];for(let i of t)e.push(...i.\u0275providers);return rr(e)}var UA=new S("");function yoe(){return HA(_y.LegacyInterceptors,[{provide:UA,useFactory:eV},{provide:Fy,useExisting:UA,multi:!0}])}function Eoe(){return HA(_y.Fetch,[xy,{provide:ka,useExisting:xy},{provide:BA,useExisting:xy}])}var Uy=class extends id{constructor(){super(...arguments),this.supportsDOMEvents=!0}},jy=class t extends Uy{static makeCurrent(){vA(new t)}onAndCancel(e,i,n){return e.addEventListener(i,n),()=>{e.removeEventListener(i,n)}}dispatchEvent(e,i){e.dispatchEvent(i)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,i){return i=i||this.getDefaultDocument(),i.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,i){return i==="window"?window:i==="document"?e:i==="body"?e.body:null}getBaseHref(e){let i=uV();return i==null?null:lV(i)}resetBaseElement(){Ba=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ld(document.cookie,e)}},Ba=null;function uV(){return Ba=Ba||document.querySelector("base"),Ba?Ba.getAttribute("href"):null}function lV(t){return new URL(t,document.baseURI).pathname}var $y=class{addToWindow(e){Ge.getAngularTestability=(n,r=!0)=>{let s=e.findTestabilityInTree(n,r);if(s==null)throw new j(5103,!1);return s},Ge.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ge.getAllAngularRootElements=()=>e.getAllRootElements();let i=n=>{let r=Ge.getAllAngularTestabilities(),s=r.length,o=function(){s--,s==0&&n()};r.forEach(a=>{a.whenStable(o)})};Ge.frameworkStabilizers||(Ge.frameworkStabilizers=[]),Ge.frameworkStabilizers.push(i)}findTestabilityInTree(e,i,n){if(i==null)return null;let r=e.getTestability(i);return r??(n?hi().isShadowRoot(i)?this.findTestabilityInTree(e,i.host,!0):this.findTestabilityInTree(e,i.parentElement,!0):null)}},dV=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})(),By=new S(""),YA=(()=>{let e=class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(s=>{s.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,s){return this._findPluginFor(r).addEventListener(n,r,s)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new j(5101,!1);return this._eventNameToPlugin.set(n,r),r}};e.\u0275fac=function(r){return new(r||e)(d(By),d(Ce))},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})(),pd=class{constructor(e){this._doc=e}},Ly="ng-app-id",KA=(()=>{let e=class e{constructor(n,r,s,o={}){this.doc=n,this.appId=r,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=es(o),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(s=>s.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${Ly}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(s=>{s.textContent!=null&&r.set(s.textContent,s)}),r}return null}changeUsageCount(n,r){let s=this.styleRef;if(s.has(n)){let o=s.get(n);return o.usage+=r,o.usage}return s.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let s=this.styleNodesInDOM,o=s?.get(r);if(o?.parentNode===n)return s.delete(r),o.removeAttribute(Ly),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(Ly,this.appId),n.appendChild(a),a}}addStyleToHost(n,r){let s=this.getStyleElement(n,r),o=this.styleRef,a=o.get(r)?.elements;a?a.push(s):o.set(r,{elements:[s],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}};e.\u0275fac=function(r){return new(r||e)(d(Le),d(Ra),d(Pv,8),d($e))},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})(),ky={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Hy=/%COMP%/g,ZA="%COMP%",fV=`_nghost-${ZA}`,hV=`_ngcontent-${ZA}`,pV=!0,gV=new S("",{providedIn:"root",factory:()=>pV});function mV(t){return hV.replace(Hy,t)}function vV(t){return fV.replace(Hy,t)}function QA(t,e){return e.map(i=>i.replace(Hy,t))}var GA=(()=>{let e=class e{constructor(n,r,s,o,a,c,u,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=es(c),this.defaultRenderer=new Va(n,a,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===tr.ShadowDom&&(r=T(v({},r),{encapsulation:tr.Emulated}));let s=this.getOrCreateRenderer(n,r);return s instanceof gd?s.applyToHost(n):s instanceof Ha&&s.applyStyles(),s}getOrCreateRenderer(n,r){let s=this.rendererByCompId,o=s.get(r.id);if(!o){let a=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(r.encapsulation){case tr.Emulated:o=new gd(u,l,r,this.appId,f,a,c,h);break;case tr.ShadowDom:return new Vy(u,l,n,r,a,c,this.nonce,h);default:o=new Ha(u,l,r,f,a,c,h);break}s.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(r){return new(r||e)(d(YA),d(KA),d(Ra),d(gV),d(Le),d($e),d(Ce),d(Pv))},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})(),Va=class{constructor(e,i,n,r){this.eventManager=e,this.doc=i,this.ngZone=n,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,i){return i?this.doc.createElementNS(ky[i]||i,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,i){(WA(e)?e.content:e).appendChild(i)}insertBefore(e,i,n){e&&(WA(e)?e.content:e).insertBefore(i,n)}removeChild(e,i){e&&e.removeChild(i)}selectRootElement(e,i){let n=typeof e=="string"?this.doc.querySelector(e):e;if(!n)throw new j(-5104,!1);return i||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,i,n,r){if(r){i=r+":"+i;let s=ky[r];s?e.setAttributeNS(s,i,n):e.setAttribute(i,n)}else e.setAttribute(i,n)}removeAttribute(e,i,n){if(n){let r=ky[n];r?e.removeAttributeNS(r,i):e.removeAttribute(`${n}:${i}`)}else e.removeAttribute(i)}addClass(e,i){e.classList.add(i)}removeClass(e,i){e.classList.remove(i)}setStyle(e,i,n,r){r&(Mr.DashCase|Mr.Important)?e.style.setProperty(i,n,r&Mr.Important?"important":""):e.style[i]=n}removeStyle(e,i,n){n&Mr.DashCase?e.style.removeProperty(i):e.style[i]=""}setProperty(e,i,n){e!=null&&(e[i]=n)}setValue(e,i){e.nodeValue=i}listen(e,i,n){if(typeof e=="string"&&(e=hi().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${i}`);return this.eventManager.addEventListener(e,i,this.decoratePreventDefault(n))}decoratePreventDefault(e){return i=>{if(i==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(i)):e(i))===!1&&i.preventDefault()}}};function WA(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Vy=class extends Va{constructor(e,i,n,r,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=i,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=QA(r.id,r.styles);for(let l of u){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=l,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,i){return super.appendChild(this.nodeOrShadowRoot(e),i)}insertBefore(e,i,n){return super.insertBefore(this.nodeOrShadowRoot(e),i,n)}removeChild(e,i){return super.removeChild(this.nodeOrShadowRoot(e),i)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ha=class extends Va{constructor(e,i,n,r,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=i,this.removeStylesOnCompDestroy=r,this.styles=c?QA(c,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},gd=class extends Ha{constructor(e,i,n,r,s,o,a,c){let u=r+"-"+n.id;super(e,i,n,s,o,a,c,u),this.contentAttr=mV(u),this.hostAttr=vV(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,i){let n=super.createElement(e,i);return super.setAttribute(n,this.contentAttr,""),n}},yV=(()=>{let e=class e extends pd{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,s){return n.addEventListener(r,s,!1),()=>this.removeEventListener(n,r,s)}removeEventListener(n,r,s){return n.removeEventListener(r,s)}};e.\u0275fac=function(r){return new(r||e)(d(Le))},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})(),qA=["alt","control","meta","shift"],EV={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},CV={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},SV=(()=>{let e=class e extends pd{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,s){let o=e.parseEventName(r),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>hi().onAndCancel(n,o.domEventName,a))}static parseEventName(n){let r=n.toLowerCase().split("."),s=r.shift();if(r.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(r.pop()),a="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),a="code."),qA.forEach(l=>{let f=r.indexOf(l);f>-1&&(r.splice(f,1),a+=l+".")}),a+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=s,u.fullKey=a,u}static matchEventFullKeyCode(n,r){let s=EV[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(s=n.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),qA.forEach(a=>{if(a!==s){let c=CV[a];c(n)&&(o+=a+".")}}),o+=s,o===r)}static eventCallback(n,r,s){return o=>{e.matchEventFullKeyCode(o,n)&&s.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}};e.\u0275fac=function(r){return new(r||e)(d(Le))},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})();function IV(){jy.makeCurrent()}function DV(){return new Dt}function bV(){return CT(document),document}var wV=[{provide:$e,useValue:Ay},{provide:Ov,useValue:IV,multi:!0},{provide:Le,useFactory:bV,deps:[]}],Noe=cy(nA,"browser",wV),TV=new S(""),AV=[{provide:Na,useClass:$y,deps:[]},{provide:sy,useClass:Wl,deps:[Ce,ql,Na]},{provide:Wl,useClass:Wl,deps:[Ce,ql,Na]}],RV=[{provide:Dl,useValue:"root"},{provide:Dt,useFactory:DV,deps:[]},{provide:By,useClass:yV,multi:!0,deps:[Le,Ce,$e]},{provide:By,useClass:SV,multi:!0,deps:[Le]},GA,KA,YA,{provide:Wi,useExisting:GA},{provide:so,useClass:dV,deps:[]},[]],Ooe=(()=>{let e=class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:Ra,useValue:n.appId}]}}};e.\u0275fac=function(r){return new(r||e)(d(TV,12))},e.\u0275mod=B({type:e}),e.\u0275inj=$({providers:[...RV,...AV],imports:[Ze,rA]});let t=e;return t})(),zy=(()=>{let e=class e{constructor(n){this._doc=n,this._dom=hi()}addTag(n,r=!1){return n?this._getOrCreateElement(n,r):null}addTags(n,r=!1){return n?n.reduce((s,o)=>(o&&s.push(this._getOrCreateElement(o,r)),s),[]):[]}getTag(n){return n&&this._doc.querySelector(`meta[${n}]`)||null}getTags(n){if(!n)return[];let r=this._doc.querySelectorAll(`meta[${n}]`);return r?[].slice.call(r):[]}updateTag(n,r){if(!n)return null;r=r||this._parseSelector(n);let s=this.getTag(r);return s?this._setMetaElementAttributes(n,s):this._getOrCreateElement(n,!0)}removeTag(n){this.removeTagElement(this.getTag(n))}removeTagElement(n){n&&this._dom.remove(n)}_getOrCreateElement(n,r=!1){if(!r){let a=this._parseSelector(n),c=this.getTags(a).filter(u=>this._containsAttributes(n,u))[0];if(c!==void 0)return c}let s=this._dom.createElement("meta");return this._setMetaElementAttributes(n,s),this._doc.getElementsByTagName("head")[0].appendChild(s),s}_setMetaElementAttributes(n,r){return Object.keys(n).forEach(s=>r.setAttribute(this._getMetaKeyMap(s),n[s])),r}_parseSelector(n){let r=n.name?"name":"property";return`${r}="${n[r]}"`}_containsAttributes(n,r){return Object.keys(n).every(s=>r.getAttribute(this._getMetaKeyMap(s))===n[s])}_getMetaKeyMap(n){return MV[n]||n}};e.\u0275fac=function(r){return new(r||e)(d(Le))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),MV={httpEquiv:"http-equiv"},JA=(()=>{let e=class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}};e.\u0275fac=function(r){return new(r||e)(d(Le))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var xV=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=g({token:e,factory:function(r){let s=null;return r?s=new(r||e):s=d(NV),s},providedIn:"root"});let t=e;return t})(),NV=(()=>{let e=class e extends xV{constructor(n){super(),this._doc=n}sanitize(n,r){if(r==null)return null;switch(n){case hn.NONE:return r;case hn.HTML:return or(r,"HTML")?Ht(r):_v(this._doc,String(r)).toString();case hn.STYLE:return or(r,"Style")?Ht(r):r;case hn.SCRIPT:if(or(r,"Script"))return Ht(r);throw new j(5200,!1);case hn.URL:return or(r,"URL")?Ht(r):Nl(String(r));case hn.RESOURCE_URL:if(or(r,"ResourceURL"))return Ht(r);throw new j(5201,!1);default:throw new j(5202,!1)}}bypassSecurityTrustHtml(n){return DT(n)}bypassSecurityTrustStyle(n){return bT(n)}bypassSecurityTrustScript(n){return wT(n)}bypassSecurityTrustUrl(n){return TT(n)}bypassSecurityTrustResourceUrl(n){return AT(n)}};e.\u0275fac=function(r){return new(r||e)(d(Le))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Gy(t,e){let i=!e?.manualCleanup;i&&!e?.injector&&Da(Gy);let n=i?e?.injector?.get(fi)??C(fi):null,r;e?.requireSync?r=Zv({kind:0}):r=Zv({kind:1,value:e?.initialValue});let s=t.subscribe({next:o=>r.set({kind:1,value:o}),error:o=>{if(e?.rejectErrors)throw o;r.set({kind:2,error:o})}});return n?.onDestroy(s.unsubscribe.bind(s)),Yl(()=>{let o=r();switch(o.kind){case 1:return o.value;case 2:throw o.error;case 0:throw new j(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}})}var Ky={};function pi(t,e){if(Ky[t]=(Ky[t]||0)+1,typeof e=="function")return Wy(t,(...n)=>T(v({},e(...n)),{type:t}));switch(e?e._as:"empty"){case"empty":return Wy(t,()=>({type:t}));case"props":return Wy(t,n=>T(v({},n),{type:t}));default:throw new Error("Unexpected config.")}}function uo(){return{_as:"props",_p:void 0}}function Wy(t,e){return Object.defineProperty(e,"type",{value:t,writable:!1})}var Ed="@ngrx/store/init",$r=(()=>{let e=class e extends Te{constructor(){super({type:Ed})}next(n){if(typeof n=="function")throw new TypeError(`
        Dispatch expected an object, instead it received a function.
        If you're using the createAction function, make sure to invoke the function
        before dispatching the action. For example, someAction should be someAction().`);if(typeof n>"u")throw new TypeError("Actions must be objects");if(typeof n.type>"u")throw new TypeError("Actions must have a type property");super.next(n)}complete(){}ngOnDestroy(){super.complete()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})(),PV=[$r],pR=new S("@ngrx/store Internal Root Guard"),XA=new S("@ngrx/store Internal Initial State"),Xy=new S("@ngrx/store Initial State"),gR=new S("@ngrx/store Reducer Factory"),eR=new S("@ngrx/store Internal Reducer Factory Provider"),mR=new S("@ngrx/store Initial Reducers"),qy=new S("@ngrx/store Internal Initial Reducers"),tR=new S("@ngrx/store Store Features"),nR=new S("@ngrx/store Internal Store Reducers"),Yy=new S("@ngrx/store Internal Feature Reducers"),rR=new S("@ngrx/store Internal Feature Configs"),vR=new S("@ngrx/store Internal Store Features"),iR=new S("@ngrx/store Internal Feature Reducers Token"),yR=new S("@ngrx/store Feature Reducers"),sR=new S("@ngrx/store User Provided Meta Reducers"),co=new S("@ngrx/store Meta Reducers"),oR=new S("@ngrx/store Internal Resolved Meta Reducers"),aR=new S("@ngrx/store User Runtime Checks Config"),cR=new S("@ngrx/store Internal User Runtime Checks Config"),ns=new S("@ngrx/store Internal Runtime Checks"),eE=new S("@ngrx/store Check if Action types are unique"),FV=new S("@ngrx/store Root Store Provider"),_V=new S("@ngrx/store Feature State Provider");function rs(t,e={}){let i=Object.keys(t),n={};for(let s=0;s<i.length;s++){let o=i[s];typeof t[o]=="function"&&(n[o]=t[o])}let r=Object.keys(n);return function(o,a){o=o===void 0?e:o;let c=!1,u={};for(let l=0;l<r.length;l++){let f=r[l],h=n[f],m=o[f],y=h(m,a);u[f]=y,c=c||y!==m}return c?u:o}}function LV(t,e){return Object.keys(t).filter(i=>i!==e).reduce((i,n)=>Object.assign(i,{[n]:t[n]}),{})}function ER(...t){return function(e){if(t.length===0)return e;let i=t[t.length-1];return t.slice(0,-1).reduceRight((r,s)=>s(r),i(e))}}function CR(t,e){return Array.isArray(e)&&e.length>0&&(t=ER.apply(null,[...e,t])),(i,n)=>{let r=t(i);return(s,o)=>(s=s===void 0?n:s,r(s,o))}}function kV(t){let e=Array.isArray(t)&&t.length>0?ER(...t):i=>i;return(i,n)=>(i=e(i),(r,s)=>(r=r===void 0?n:r,i(r,s)))}var za=class extends z{},md=class extends $r{},UV="@ngrx/store/update-reducers",vd=(()=>{let e=class e extends Te{get currentReducers(){return this.reducers}constructor(n,r,s,o){super(o(s,r)),this.dispatcher=n,this.initialState=r,this.reducers=s,this.reducerFactory=o}addFeature(n){this.addFeatures([n])}addFeatures(n){let r=n.reduce((s,{reducers:o,reducerFactory:a,metaReducers:c,initialState:u,key:l})=>{let f=typeof o=="function"?kV(c)(o,u):CR(a,c)(o,u);return s[l]=f,s},{});this.addReducers(r)}removeFeature(n){this.removeFeatures([n])}removeFeatures(n){this.removeReducers(n.map(r=>r.key))}addReducer(n,r){this.addReducers({[n]:r})}addReducers(n){this.reducers=v(v({},this.reducers),n),this.updateReducers(Object.keys(n))}removeReducer(n){this.removeReducers([n])}removeReducers(n){n.forEach(r=>{this.reducers=LV(this.reducers,r)}),this.updateReducers(n)}updateReducers(n){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:UV,features:n})}ngOnDestroy(){this.complete()}};e.\u0275fac=function(r){return new(r||e)(d(md),d(Xy),d(mR),d(gR))},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})(),jV=[vd,{provide:za,useExisting:vd},{provide:md,useExisting:$r}],Ga=(()=>{let e=class e extends re{ngOnDestroy(){this.complete()}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})(),$V=[Ga],yd=class extends z{},uR=(()=>{let e=class e extends Te{constructor(n,r,s,o){super(o);let c=n.pipe(qt(wr)).pipe(it(r)),u={state:o},l=c.pipe(_i(BV,u));this.stateSubscription=l.subscribe(({state:f,action:h})=>{this.next(f),s.next(h)}),this.state=Gy(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}};e.INIT=Ed,e.\u0275fac=function(r){return new(r||e)(d($r),d(za),d(Ga),d(Xy))},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})();function BV(t={state:void 0},[e,i]){let{state:n}=t;return{state:i(n,e),action:e}}var VV=[uR,{provide:yd,useExisting:uR}],me=(()=>{let e=class e extends z{constructor(n,r,s){super(),this.actionsObserver=r,this.reducerManager=s,this.source=n,this.state=n.state}select(n,...r){return x.call(null,n,...r)(this)}selectSignal(n,r){return Yl(()=>n(this.state()),r)}lift(n){let r=new e(this,this.actionsObserver,this.reducerManager);return r.operator=n,r}dispatch(n){this.actionsObserver.next(n)}next(n){this.actionsObserver.next(n)}error(n){this.actionsObserver.error(n)}complete(){this.actionsObserver.complete()}addReducer(n,r){this.reducerManager.addReducer(n,r)}removeReducer(n){this.reducerManager.removeReducer(n)}};e.\u0275fac=function(r){return new(r||e)(d(yd),d($r),d(vd))},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})(),HV=[me];function x(t,e,...i){return function(r){let s;if(typeof t=="string"){let o=[e,...i].filter(Boolean);s=r.pipe(Lg(t,...o))}else if(typeof t=="function")s=r.pipe(E(o=>t(o,e)));else throw new TypeError(`Unexpected type '${typeof t}' in select operator, expected 'string' or 'function'`);return s.pipe(cn())}}var tE="https://ngrx.io/guide/store/configuration/runtime-checks";function lR(t){return t===void 0}function dR(t){return t===null}function SR(t){return Array.isArray(t)}function zV(t){return typeof t=="string"}function GV(t){return typeof t=="boolean"}function WV(t){return typeof t=="number"}function IR(t){return typeof t=="object"&&t!==null}function qV(t){return IR(t)&&!SR(t)}function YV(t){if(!qV(t))return!1;let e=Object.getPrototypeOf(t);return e===Object.prototype||e===null}function Zy(t){return typeof t=="function"}function KV(t){return Zy(t)&&t.hasOwnProperty("\u0275cmp")}function ZV(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var QV=!1;function nE(){return QV}function fR(t,e){return t===e}function JV(t,e,i){for(let n=0;n<t.length;n++)if(!i(t[n],e[n]))return!0;return!1}function DR(t,e=fR,i=fR){let n=null,r=null,s;function o(){n=null,r=null}function a(l=void 0){s={result:l}}function c(){s=void 0}function u(){if(s!==void 0)return s.result;if(!n)return r=t.apply(null,arguments),n=arguments,r;if(!JV(arguments,n,e))return r;let l=t.apply(null,arguments);return n=arguments,i(r,l)?r:(r=l,l)}return{memoized:u,reset:o,setResult:a,clearResult:c}}function A(...t){return e2(DR)(...t)}function XV(t,e,i,n){if(i===void 0){let s=e.map(o=>o(t));return n.memoized.apply(null,s)}let r=e.map(s=>s(t,i));return n.memoized.apply(null,[...r,i])}function e2(t,e={stateFn:XV}){return function(...i){let n=i;if(Array.isArray(n[0])){let[l,...f]=n;n=[...l,...f]}else n.length===1&&t2(n[0])&&(n=n2(n[0]));let r=n.slice(0,n.length-1),s=n[n.length-1],o=r.filter(l=>l.release&&typeof l.release=="function"),a=t(function(...l){return s.apply(null,l)}),c=DR(function(l,f){return e.stateFn.apply(null,[l,r,f,a])});function u(){c.reset(),a.reset(),o.forEach(l=>l.release())}return Object.assign(c.memoized,{release:u,projector:a.memoized,setResult:c.setResult,clearResult:c.clearResult})}}function Fn(t){return A(e=>{let i=e[t];return!nE()&&ge()&&!(t in e)&&console.warn(`@ngrx/store: The feature name "${t}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${t}', ...) or StoreModule.forFeature('${t}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),i},e=>e)}function t2(t){return!!t&&typeof t=="object"&&Object.values(t).every(e=>typeof e=="function")}function n2(t){let e=Object.values(t),i=Object.keys(t),n=(...r)=>i.reduce((s,o,a)=>T(v({},s),{[o]:r[a]}),{});return[...e,n]}function r2(t){return t instanceof S?C(t):t}function i2(t,e){return e.map((i,n)=>{if(t[n]instanceof S){let r=C(t[n]);return{key:i.key,reducerFactory:r.reducerFactory?r.reducerFactory:rs,metaReducers:r.metaReducers?r.metaReducers:[],initialState:r.initialState}}return i})}function s2(t){return t.map(e=>e instanceof S?C(e):e)}function bR(t){return typeof t=="function"?t():t}function o2(t,e){return t.concat(e)}function a2(){if(C(me,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function c2(t,e){return function(i,n){let r=e.action(n)?Qy(n):n,s=t(i,r);return e.state()?Qy(s):s}}function Qy(t){Object.freeze(t);let e=Zy(t);return Object.getOwnPropertyNames(t).forEach(i=>{if(!i.startsWith("\u0275")&&ZV(t,i)&&(!e||i!=="caller"&&i!=="callee"&&i!=="arguments")){let n=t[i];(IR(n)||Zy(n))&&!Object.isFrozen(n)&&Qy(n)}}),t}function u2(t,e){return function(i,n){if(e.action(n)){let s=Jy(n);hR(s,"action")}let r=t(i,n);if(e.state()){let s=Jy(r);hR(s,"state")}return r}}function Jy(t,e=[]){return(lR(t)||dR(t))&&e.length===0?{path:["root"],value:t}:Object.keys(t).reduce((n,r)=>{if(n)return n;let s=t[r];return KV(s)?n:lR(s)||dR(s)||WV(s)||GV(s)||zV(s)||SR(s)?!1:YV(s)?Jy(s,[...e,r]):{path:[...e,r],value:s}},!1)}function hR(t,e){if(t===!1)return;let i=t.path.join("."),n=new Error(`Detected unserializable ${e} at "${i}". ${tE}#strict${e}serializability`);throw n.value=t.value,n.unserializablePath=i,n}function l2(t,e){return function(i,n){if(e.action(n)&&!Ce.isInAngularZone())throw new Error(`Action '${n.type}' running outside NgZone. ${tE}#strictactionwithinngzone`);return t(i,n)}}function d2(t){return ge()?v({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},t):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function f2({strictActionSerializability:t,strictStateSerializability:e}){return i=>t||e?u2(i,{action:n=>t&&!rE(n),state:()=>e}):i}function h2({strictActionImmutability:t,strictStateImmutability:e}){return i=>t||e?c2(i,{action:n=>t&&!rE(n),state:()=>e}):i}function rE(t){return t.type.startsWith("@ngrx")}function p2({strictActionWithinNgZone:t}){return e=>t?l2(e,{action:i=>t&&!rE(i)}):e}function g2(t){return[{provide:cR,useValue:t},{provide:aR,useFactory:m2,deps:[cR]},{provide:ns,deps:[aR],useFactory:d2},{provide:co,multi:!0,deps:[ns],useFactory:h2},{provide:co,multi:!0,deps:[ns],useFactory:f2},{provide:co,multi:!0,deps:[ns],useFactory:p2}]}function wR(){return[{provide:eE,multi:!0,deps:[ns],useFactory:v2}]}function m2(t){return t}function v2(t){if(!t.strictActionTypeUniqueness)return;let e=Object.entries(Ky).filter(([,i])=>i>1).map(([i])=>i);if(e.length)throw new Error(`Action types are registered more than once, ${e.map(i=>`"${i}"`).join(", ")}. ${tE}#strictactiontypeuniqueness`)}function y2(t={},e={}){return[{provide:pR,useFactory:a2},{provide:XA,useValue:e.initialState},{provide:Xy,useFactory:bR,deps:[XA]},{provide:qy,useValue:t},{provide:nR,useExisting:t instanceof S?t:qy},{provide:mR,deps:[qy,[new pv(nR)]],useFactory:r2},{provide:sR,useValue:e.metaReducers?e.metaReducers:[]},{provide:oR,deps:[co,sR],useFactory:o2},{provide:eR,useValue:e.reducerFactory?e.reducerFactory:rs},{provide:gR,deps:[eR,oR],useFactory:CR},PV,jV,$V,VV,HV,g2(e.runtimeChecks),wR()]}function E2(t,e,i={}){return[{provide:rR,multi:!0,useValue:t instanceof Object?{}:i},{provide:tR,multi:!0,useValue:{key:t instanceof Object?t.name:t,reducerFactory:!(i instanceof S)&&i.reducerFactory?i.reducerFactory:rs,metaReducers:!(i instanceof S)&&i.metaReducers?i.metaReducers:[],initialState:!(i instanceof S)&&i.initialState?i.initialState:void 0}},{provide:vR,deps:[rR,tR],useFactory:i2},{provide:Yy,multi:!0,useValue:t instanceof Object?t.reducer:e},{provide:iR,multi:!0,useExisting:e instanceof S?e:Yy},{provide:yR,multi:!0,deps:[Yy,[new pv(iR)]],useFactory:s2},wR()]}var Wa=(()=>{let e=class e{constructor(n,r,s,o,a,c){}};e.\u0275fac=function(r){return new(r||e)(d($r),d(za),d(Ga),d(me),d(pR,8),d(eE,8))},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})(),Cd=(()=>{let e=class e{constructor(n,r,s,o,a){this.features=n,this.featureReducers=r,this.reducerManager=s;let c=n.map((u,l)=>{let h=r.shift()[l];return T(v({},u),{reducers:h,initialState:bR(u.initialState)})});s.addFeatures(c)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}};e.\u0275fac=function(r){return new(r||e)(d(vR),d(yR),d(vd),d(Wa),d(eE,8))},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})(),lr=(()=>{let e=class e{static forRoot(n,r){return{ngModule:Wa,providers:[...y2(n,r)]}}static forFeature(n,r,s={}){return{ngModule:Cd,providers:[...E2(n,r,s)]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})();function Woe(...t){let e=t.pop(),i=t.map(n=>n.type);return{reducer:e,types:i}}function qoe(t,...e){let i=new Map;for(let n of e)for(let r of n.types){let s=i.get(r);if(s){let o=(a,c)=>n.reducer(s(a,c),c);i.set(r,o)}else i.set(r,n.reducer)}return function(n=t,r){let s=i.get(r.type);return s?s(n,r):n}}var C2={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},Id="__@ngrx/effects_create__";function W(t,e={}){let i=e.functional?t:t(),n=v(v({},C2),e);return Object.defineProperty(i,Id,{value:n}),i}function S2(t){return Object.getOwnPropertyNames(t).filter(n=>t[n]&&t[n].hasOwnProperty(Id)?t[n][Id].hasOwnProperty("dispatch"):!1).map(n=>{let r=t[n][Id];return v({propertyName:n},r)})}function I2(t){return S2(t)}function MR(t){return Object.getPrototypeOf(t)}function D2(t){return!!t.constructor&&t.constructor.name!=="Object"&&t.constructor.name!=="Function"}function xR(t){return typeof t=="function"}function TR(t){return t.filter(xR)}function b2(t){return t instanceof S||xR(t)}function w2(t,e,i){let n=MR(t),s=!!n&&n.constructor.name!=="Object"?n.constructor.name:null,o=I2(t).map(({propertyName:a,dispatch:c,useEffectsErrorHandler:u})=>{let l=typeof t[a]=="function"?t[a]():t[a],f=u?i(l,e):l;return c===!1?f.pipe(Jo()):f.pipe(_g()).pipe(E(m=>({effect:t[a],notification:m,propertyName:a,sourceName:s,sourceInstance:t})))});return an(...o)}var T2=10;function NR(t,e,i=T2){return t.pipe(F(n=>(e&&e.handleError(n),i<=1?t:NR(t,e,i-1))))}var Me=(()=>{let e=class e extends z{constructor(n){super(),n&&(this.source=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}};e.\u0275fac=function(r){return new(r||e)(d(Ga))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function V(...t){return M(e=>t.some(i=>typeof i=="string"?i===e.type:i.type===e.type))}var OR=new S("@ngrx/effects Internal Root Guard"),Sd=new S("@ngrx/effects User Provided Effects"),sE=new S("@ngrx/effects Internal Root Effects"),PR=new S("@ngrx/effects Internal Root Effects Instances"),AR=new S("@ngrx/effects Internal Feature Effects"),FR=new S("@ngrx/effects Internal Feature Effects Instance Groups"),A2=new S("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>NR}),_R="@ngrx/effects/init",rae=pi(_R);function R2(t,e){if(t.notification.kind==="N"){let i=t.notification.value;!M2(i)&&e.handleError(new Error(`Effect ${x2(t)} dispatched an invalid action: ${N2(i)}`))}}function M2(t){return typeof t!="function"&&t&&t.type&&typeof t.type=="string"}function x2({propertyName:t,sourceInstance:e,sourceName:i}){let n=typeof e[t]=="function";return!!i?`"${i}.${String(t)}${n?"()":""}"`:`"${String(t)}()"`}function N2(t){try{return JSON.stringify(t)}catch{return t}}var O2="ngrxOnIdentifyEffects";function P2(t){return oE(t,O2)}var F2="ngrxOnRunEffects";function _2(t){return oE(t,F2)}var L2="ngrxOnInitEffects";function k2(t){return oE(t,L2)}function oE(t,e){return t&&e in t&&typeof t[e]=="function"}var LR=(()=>{let e=class e extends re{constructor(n,r){super(),this.errorHandler=n,this.effectsErrorHandler=r}addEffects(n){this.next(n)}toActions(){return this.pipe(ii(n=>D2(n)?MR(n):n),G(n=>n.pipe(ii(U2))),G(n=>{let r=n.pipe(Qn(o=>j2(this.errorHandler,this.effectsErrorHandler)(o)),E(o=>(R2(o,this.errorHandler),o.notification)),M(o=>o.kind==="N"&&o.value!=null),Pg()),s=n.pipe(ie(1),M(k2),E(o=>o.ngrxOnInitEffects()));return an(r,s)}))}};e.\u0275fac=function(r){return new(r||e)(d(Dt),d(A2))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function U2(t){return P2(t)?t.ngrxOnIdentifyEffects():""}function j2(t,e){return i=>{let n=w2(i,t,e);return _2(i)?i.ngrxOnRunEffects(n):n}}var kR=(()=>{let e=class e{get isStarted(){return!!this.effectsSubscription}constructor(n,r){this.effectSources=n,this.store=r,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}};e.\u0275fac=function(r){return new(r||e)(d(LR),d(me))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),UR=(()=>{let e=class e{constructor(n,r,s,o,a,c,u){this.sources=n,r.start();for(let l of o)n.addEffects(l);s.dispatch({type:_R})}addEffects(n){this.sources.addEffects(n)}};e.\u0275fac=function(r){return new(r||e)(d(LR),d(kR),d(me),d(PR),d(Wa,8),d(Cd,8),d(OR,8))},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})(),$2=(()=>{let e=class e{constructor(n,r,s,o){let a=r.flat();for(let c of a)n.addEffects(c)}};e.\u0275fac=function(r){return new(r||e)(d(UR),d(FR),d(Wa,8),d(Cd,8))},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})(),Br=(()=>{let e=class e{static forFeature(...n){let r=n.flat(),s=TR(r);return{ngModule:$2,providers:[s,{provide:AR,multi:!0,useValue:r},{provide:Sd,multi:!0,useValue:[]},{provide:FR,multi:!0,useFactory:RR,deps:[AR,Sd]}]}}static forRoot(...n){let r=n.flat(),s=TR(r);return{ngModule:UR,providers:[s,{provide:sE,useValue:[r]},{provide:OR,useFactory:B2},{provide:Sd,multi:!0,useValue:[]},{provide:PR,useFactory:RR,deps:[sE,Sd]}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})();function RR(t,e){let i=[];for(let n of t)i.push(...n);for(let n of e)i.push(...n);return i.map(n=>b2(n)?C(n):n)}function B2(){let t=C(kR,{optional:!0,skipSelf:!0}),e=C(sE,{self:!0});if(!(e.length===1&&e[0].length===0)&&t)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}var ee="primary",sc=Symbol("RouteTitle"),dE=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let i=this.params[e];return Array.isArray(i)?i[0]:i}return null}getAll(e){if(this.has(e)){let i=this.params[e];return Array.isArray(i)?i:[i]}return[]}get keys(){return Object.keys(this.params)}};function go(t){return new dE(t)}function H2(t,e,i){let n=i.path.split("/");if(n.length>t.length||i.pathMatch==="full"&&(e.hasChildren()||n.length<t.length))return null;let r={};for(let s=0;s<n.length;s++){let o=n[s],a=t[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,n.length),posParams:r}}function z2(t,e){if(t.length!==e.length)return!1;for(let i=0;i<t.length;++i)if(!dr(t[i],e[i]))return!1;return!0}function dr(t,e){let i=t?fE(t):void 0,n=e?fE(e):void 0;if(!i||!n||i.length!=n.length)return!1;let r;for(let s=0;s<i.length;s++)if(r=i[s],!YR(t[r],e[r]))return!1;return!0}function fE(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function YR(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let i=[...t].sort(),n=[...e].sort();return i.every((r,s)=>n[s]===r)}else return t===e}function KR(t){return t.length>0?t[t.length-1]:null}function vi(t){return Oi(t)?t:no(t)?pe(Promise.resolve(t)):I(t)}var G2={exact:QR,subset:JR},ZR={exact:W2,subset:q2,ignored:()=>!0};function jR(t,e,i){return G2[i.paths](t.root,e.root,i.matrixParams)&&ZR[i.queryParams](t.queryParams,e.queryParams)&&!(i.fragment==="exact"&&t.fragment!==e.fragment)}function W2(t,e){return dr(t,e)}function QR(t,e,i){if(!ss(t.segments,e.segments)||!wd(t.segments,e.segments,i)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let n in e.children)if(!t.children[n]||!QR(t.children[n],e.children[n],i))return!1;return!0}function q2(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(i=>YR(t[i],e[i]))}function JR(t,e,i){return XR(t,e,e.segments,i)}function XR(t,e,i,n){if(t.segments.length>i.length){let r=t.segments.slice(0,i.length);return!(!ss(r,i)||e.hasChildren()||!wd(r,i,n))}else if(t.segments.length===i.length){if(!ss(t.segments,i)||!wd(t.segments,i,n))return!1;for(let r in e.children)if(!t.children[r]||!JR(t.children[r],e.children[r],n))return!1;return!0}else{let r=i.slice(0,t.segments.length),s=i.slice(t.segments.length);return!ss(t.segments,r)||!wd(t.segments,r,n)||!t.children[ee]?!1:XR(t.children[ee],e,s,n)}}function wd(t,e,i){return e.every((n,r)=>ZR[i](t[r].parameters,n.parameters))}var gi=class{constructor(e=new De([],{}),i={},n=null){this.root=e,this.queryParams=i,this.fragment=n}get queryParamMap(){return this._queryParamMap??=go(this.queryParams),this._queryParamMap}toString(){return Z2.serialize(this)}},De=class{constructor(e,i){this.segments=e,this.children=i,this.parent=null,Object.values(i).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Td(this)}},is=class{constructor(e,i){this.path=e,this.parameters=i}get parameterMap(){return this._parameterMap??=go(this.parameters),this._parameterMap}toString(){return tM(this)}};function Y2(t,e){return ss(t,e)&&t.every((i,n)=>dr(i.parameters,e[n].parameters))}function ss(t,e){return t.length!==e.length?!1:t.every((i,n)=>i.path===e[n].path)}function K2(t,e){let i=[];return Object.entries(t.children).forEach(([n,r])=>{n===ee&&(i=i.concat(e(r,n)))}),Object.entries(t.children).forEach(([n,r])=>{n!==ee&&(i=i.concat(e(r,n)))}),i}var cs=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=g({token:e,factory:()=>new os,providedIn:"root"});let t=e;return t})(),os=class{parse(e){let i=new pE(e);return new gi(i.parseRootSegment(),i.parseQueryParams(),i.parseFragment())}serialize(e){let i=`/${qa(e.root,!0)}`,n=X2(e.queryParams),r=typeof e.fragment=="string"?`#${Q2(e.fragment)}`:"";return`${i}${n}${r}`}},Z2=new os;function Td(t){return t.segments.map(e=>tM(e)).join("/")}function qa(t,e){if(!t.hasChildren())return Td(t);if(e){let i=t.children[ee]?qa(t.children[ee],!1):"",n=[];return Object.entries(t.children).forEach(([r,s])=>{r!==ee&&n.push(`${r}:${qa(s,!1)}`)}),n.length>0?`${i}(${n.join("//")})`:i}else{let i=K2(t,(n,r)=>r===ee?[qa(t.children[ee],!1)]:[`${r}:${qa(n,!1)}`]);return Object.keys(t.children).length===1&&t.children[ee]!=null?`${Td(t)}/${i[0]}`:`${Td(t)}/(${i.join("//")})`}}function eM(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Dd(t){return eM(t).replace(/%3B/gi,";")}function Q2(t){return encodeURI(t)}function hE(t){return eM(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ad(t){return decodeURIComponent(t)}function $R(t){return Ad(t.replace(/\+/g,"%20"))}function tM(t){return`${hE(t.path)}${J2(t.parameters)}`}function J2(t){return Object.entries(t).map(([e,i])=>`;${hE(e)}=${hE(i)}`).join("")}function X2(t){let e=Object.entries(t).map(([i,n])=>Array.isArray(n)?n.map(r=>`${Dd(i)}=${Dd(r)}`).join("&"):`${Dd(i)}=${Dd(n)}`).filter(i=>i);return e.length?`?${e.join("&")}`:""}var eH=/^[^\/()?;#]+/;function aE(t){let e=t.match(eH);return e?e[0]:""}var tH=/^[^\/()?;=#]+/;function nH(t){let e=t.match(tH);return e?e[0]:""}var rH=/^[^=?&#]+/;function iH(t){let e=t.match(rH);return e?e[0]:""}var sH=/^[^&#]+/;function oH(t){let e=t.match(sH);return e?e[0]:""}var pE=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new De([],{}):new De([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(i).length>0)&&(n[ee]=new De(e,i)),n}parseSegment(){let e=aE(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new j(4009,!1);return this.capture(e),new is(Ad(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let i=nH(this.remaining);if(!i)return;this.capture(i);let n="";if(this.consumeOptional("=")){let r=aE(this.remaining);r&&(n=r,this.capture(n))}e[Ad(i)]=Ad(n)}parseQueryParam(e){let i=iH(this.remaining);if(!i)return;this.capture(i);let n="";if(this.consumeOptional("=")){let o=oH(this.remaining);o&&(n=o,this.capture(n))}let r=$R(i),s=$R(n);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){let i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=aE(this.remaining),r=this.remaining[n.length];if(r!=="/"&&r!==")"&&r!==";")throw new j(4010,!1);let s;n.indexOf(":")>-1?(s=n.slice(0,n.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ee);let o=this.parseChildren();i[s]=Object.keys(o).length===1?o[ee]:new De([],o),this.consumeOptional("//")}return i}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new j(4011,!1)}};function nM(t){return t.segments.length>0?new De([],{[ee]:t}):t}function rM(t){let e={};for(let[n,r]of Object.entries(t.children)){let s=rM(r);if(n===ee&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[n]=s)}let i=new De(t.segments,e);return aH(i)}function aH(t){if(t.numberOfChildren===1&&t.children[ee]){let e=t.children[ee];return new De(t.segments.concat(e.segments),e.children)}return t}function mo(t){return t instanceof gi}function cH(t,e,i=null,n=null){let r=iM(t);return sM(r,e,i,n)}function iM(t){let e;function i(s){let o={};for(let c of s.children){let u=i(c);o[c.outlet]=u}let a=new De(s.url,o);return s===t&&(e=a),a}let n=i(t.root),r=nM(n);return e??r}function sM(t,e,i,n){let r=t;for(;r.parent;)r=r.parent;if(e.length===0)return cE(r,r,r,i,n);let s=uH(e);if(s.toRoot())return cE(r,r,new De([],{}),i,n);let o=lH(s,r,t),a=o.processChildren?Za(o.segmentGroup,o.index,s.commands):aM(o.segmentGroup,o.index,s.commands);return cE(r,o.segmentGroup,a,i,n)}function Rd(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Xa(t){return typeof t=="object"&&t!=null&&t.outlets}function cE(t,e,i,n,r){let s={};n&&Object.entries(n).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`});let o;t===e?o=i:o=oM(t,e,i);let a=nM(rM(o));return new gi(a,s,r)}function oM(t,e,i){let n={};return Object.entries(t.children).forEach(([r,s])=>{s===e?n[r]=i:n[r]=oM(s,e,i)}),new De(t.segments,n)}var Md=class{constructor(e,i,n){if(this.isAbsolute=e,this.numberOfDoubleDots=i,this.commands=n,e&&n.length>0&&Rd(n[0]))throw new j(4003,!1);let r=n.find(Xa);if(r&&r!==KR(n))throw new j(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function uH(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Md(!0,0,t);let e=0,i=!1,n=t.reduce((r,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return typeof s!="string"?[...r,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?i=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,s]},[]);return new Md(i,e,n)}var ho=class{constructor(e,i,n){this.segmentGroup=e,this.processChildren=i,this.index=n}};function lH(t,e,i){if(t.isAbsolute)return new ho(e,!0,0);if(!i)return new ho(e,!1,NaN);if(i.parent===null)return new ho(i,!0,0);let n=Rd(t.commands[0])?0:1,r=i.segments.length-1+n;return dH(i,r,t.numberOfDoubleDots)}function dH(t,e,i){let n=t,r=e,s=i;for(;s>r;){if(s-=r,n=n.parent,!n)throw new j(4005,!1);r=n.segments.length}return new ho(n,!1,r-s)}function fH(t){return Xa(t[0])?t[0].outlets:{[ee]:t}}function aM(t,e,i){if(t??=new De([],{}),t.segments.length===0&&t.hasChildren())return Za(t,e,i);let n=hH(t,e,i),r=i.slice(n.commandIndex);if(n.match&&n.pathIndex<t.segments.length){let s=new De(t.segments.slice(0,n.pathIndex),{});return s.children[ee]=new De(t.segments.slice(n.pathIndex),t.children),Za(s,0,r)}else return n.match&&r.length===0?new De(t.segments,{}):n.match&&!t.hasChildren()?gE(t,e,i):n.match?Za(t,0,r):gE(t,e,i)}function Za(t,e,i){if(i.length===0)return new De(t.segments,{});{let n=fH(i),r={};if(Object.keys(n).some(s=>s!==ee)&&t.children[ee]&&t.numberOfChildren===1&&t.children[ee].segments.length===0){let s=Za(t.children[ee],e,i);return new De(t.segments,s.children)}return Object.entries(n).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(r[s]=aM(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{n[s]===void 0&&(r[s]=o)}),new De(t.segments,r)}}function hH(t,e,i){let n=0,r=e,s={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(n>=i.length)return s;let o=t.segments[r],a=i[n];if(Xa(a))break;let c=`${a}`,u=n<i.length-1?i[n+1]:null;if(r>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!VR(c,u,o))return s;n+=2}else{if(!VR(c,{},o))return s;n++}r++}return{match:!0,pathIndex:r,commandIndex:n}}function gE(t,e,i){let n=t.segments.slice(0,e),r=0;for(;r<i.length;){let s=i[r];if(Xa(s)){let c=pH(s.outlets);return new De(n,c)}if(r===0&&Rd(i[0])){let c=t.segments[e];n.push(new is(c.path,BR(i[0]))),r++;continue}let o=Xa(s)?s.outlets[ee]:`${s}`,a=r<i.length-1?i[r+1]:null;o&&a&&Rd(a)?(n.push(new is(o,BR(a))),r+=2):(n.push(new is(o,{})),r++)}return new De(n,{})}function pH(t){let e={};return Object.entries(t).forEach(([i,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(e[i]=gE(new De([],{}),0,n))}),e}function BR(t){let e={};return Object.entries(t).forEach(([i,n])=>e[i]=`${n}`),e}function VR(t,e,i){return t==i.path&&dr(e,i.parameters)}var Qa="imperative",at=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(at||{}),mn=class{constructor(e,i){this.id=e,this.url=i}},vn=class extends mn{constructor(e,i,n="imperative",r=null){super(e,i),this.type=at.NavigationStart,this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ot=class extends mn{constructor(e,i,n){super(e,i),this.urlAfterRedirects=n,this.type=at.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},en=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(en||{}),xd=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(xd||{}),yn=class extends mn{constructor(e,i,n,r){super(e,i),this.reason=n,this.code=r,this.type=at.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},mi=class extends mn{constructor(e,i,n,r){super(e,i),this.reason=n,this.code=r,this.type=at.NavigationSkipped}},fr=class extends mn{constructor(e,i,n,r){super(e,i),this.error=n,this.target=r,this.type=at.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},as=class extends mn{constructor(e,i,n,r){super(e,i),this.urlAfterRedirects=n,this.state=r,this.type=at.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},mE=class extends mn{constructor(e,i,n,r){super(e,i),this.urlAfterRedirects=n,this.state=r,this.type=at.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},vE=class extends mn{constructor(e,i,n,r,s){super(e,i),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=s,this.type=at.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},yE=class extends mn{constructor(e,i,n,r){super(e,i),this.urlAfterRedirects=n,this.state=r,this.type=at.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},EE=class extends mn{constructor(e,i,n,r){super(e,i),this.urlAfterRedirects=n,this.state=r,this.type=at.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},CE=class{constructor(e){this.route=e,this.type=at.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},SE=class{constructor(e){this.route=e,this.type=at.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},IE=class{constructor(e){this.snapshot=e,this.type=at.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},DE=class{constructor(e){this.snapshot=e,this.type=at.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},bE=class{constructor(e){this.snapshot=e,this.type=at.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},wE=class{constructor(e){this.snapshot=e,this.type=at.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Nd=class{constructor(e,i,n){this.routerEvent=e,this.position=i,this.anchor=n,this.type=at.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},ec=class{},tc=class{constructor(e){this.url=e}};var TE=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new oc,this.attachRef=null}},oc=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){let s=this.getOrCreateContext(n);s.outlet=r,this.contexts.set(n,s)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new TE,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Od=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let i=this.pathFromRoot(e);return i.length>1?i[i.length-2]:null}children(e){let i=AE(e,this._root);return i?i.children.map(n=>n.value):[]}firstChild(e){let i=AE(e,this._root);return i&&i.children.length>0?i.children[0].value:null}siblings(e){let i=RE(e,this._root);return i.length<2?[]:i[i.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return RE(e,this._root).map(i=>i.value)}};function AE(t,e){if(t===e.value)return e;for(let i of e.children){let n=AE(t,i);if(n)return n}return null}function RE(t,e){if(t===e.value)return[e];for(let i of e.children){let n=RE(t,i);if(n.length)return n.unshift(e),n}return[]}var Xt=class{constructor(e,i){this.value=e,this.children=i}toString(){return`TreeNode(${this.value})`}};function fo(t){let e={};return t&&t.children.forEach(i=>e[i.value.outlet]=i),e}var Pd=class extends Od{constructor(e,i){super(e),this.snapshot=i,UE(this,e)}toString(){return this.snapshot.toString()}};function cM(t){let e=gH(t),i=new Te([new is("",{})]),n=new Te({}),r=new Te({}),s=new Te({}),o=new Te(""),a=new Vr(i,n,s,o,r,ee,t,e.root);return a.snapshot=e.root,new Pd(new Xt(a,[]),e)}function gH(t){let e={},i={},n={},r="",s=new nc([],e,n,r,i,ee,t,null,{});return new Fd("",new Xt(s,[]))}var Vr=class{constructor(e,i,n,r,s,o,a,c){this.urlSubject=e,this.paramsSubject=i,this.queryParamsSubject=n,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(E(u=>u[sc]))??I(void 0),this.url=e,this.params=i,this.queryParams=n,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(E(e=>go(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(E(e=>go(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function kE(t,e,i="emptyOnly"){let n,{routeConfig:r}=t;return e!==null&&(i==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?n={params:v(v({},e.params),t.params),data:v(v({},e.data),t.data),resolve:v(v(v(v({},t.data),e.data),r?.data),t._resolvedData)}:n={params:v({},t.params),data:v({},t.data),resolve:v(v({},t.data),t._resolvedData??{})},r&&lM(r)&&(n.resolve[sc]=r.title),n}var nc=class{get title(){return this.data?.[sc]}constructor(e,i,n,r,s,o,a,c,u){this.url=e,this.params=i,this.queryParams=n,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=go(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=go(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(n=>n.toString()).join("/"),i=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${i}')`}},Fd=class extends Od{constructor(e,i){super(i),this.url=e,UE(this,i)}toString(){return uM(this._root)}};function UE(t,e){e.value._routerState=t,e.children.forEach(i=>UE(t,i))}function uM(t){let e=t.children.length>0?` { ${t.children.map(uM).join(", ")} } `:"";return`${t.value}${e}`}function uE(t){if(t.snapshot){let e=t.snapshot,i=t._futureSnapshot;t.snapshot=i,dr(e.queryParams,i.queryParams)||t.queryParamsSubject.next(i.queryParams),e.fragment!==i.fragment&&t.fragmentSubject.next(i.fragment),dr(e.params,i.params)||t.paramsSubject.next(i.params),z2(e.url,i.url)||t.urlSubject.next(i.url),dr(e.data,i.data)||t.dataSubject.next(i.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function ME(t,e){let i=dr(t.params,e.params)&&Y2(t.url,e.url),n=!t.parent!=!e.parent;return i&&!n&&(!t.parent||ME(t.parent,e.parent))}function lM(t){return typeof t.title=="string"||t.title===null}var mH=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ee,this.activateEvents=new gt,this.deactivateEvents=new gt,this.attachEvents=new gt,this.detachEvents=new gt,this.parentContexts=C(oc),this.location=C(zt),this.changeDetector=C(Fr),this.environmentInjector=C(St),this.inputBinder=C(jd,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:s}=n.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new j(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new j(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new j(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new j(4013,!1);this._activatedRoute=n;let s=this.location,a=n.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new xE(n,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Ft({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[li]});let t=e;return t})(),xE=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,i,n){this.route=e,this.childContexts=i,this.parent=n}get(e,i){return e===Vr?this.route:e===oc?this.childContexts:this.parent.get(e,i)}},jd=new S(""),HR=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,s=_e([r.queryParams,r.params,r.data]).pipe(N(([o,a,c],u)=>(c=v(v(v({},o),a),c),u===0?I(c):Promise.resolve(c)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let a=iA(r.component);if(!a){this.unsubscribeFromRouteData(n);return}for(let{templateName:c}of a.inputs)n.activatedComponentRef.setInput(c,o[c])});this.outletDataSubscriptions.set(n,s)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})();function vH(t,e,i){let n=rc(t,e._root,i?i._root:void 0);return new Pd(n,e)}function rc(t,e,i){if(i&&t.shouldReuseRoute(e.value,i.value.snapshot)){let n=i.value;n._futureSnapshot=e.value;let r=yH(t,e,i);return new Xt(n,r)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>rc(t,a)),o}}let n=EH(e.value),r=e.children.map(s=>rc(t,s));return new Xt(n,r)}}function yH(t,e,i){return e.children.map(n=>{for(let r of i.children)if(t.shouldReuseRoute(n.value,r.value.snapshot))return rc(t,n,r);return rc(t,n)})}function EH(t){return new Vr(new Te(t.url),new Te(t.params),new Te(t.queryParams),new Te(t.fragment),new Te(t.data),t.outlet,t.component,t)}var dM="ngNavigationCancelingError";function fM(t,e){let{redirectTo:i,navigationBehaviorOptions:n}=mo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=hM(!1,en.Redirect);return r.url=i,r.navigationBehaviorOptions=n,r}function hM(t,e){let i=new Error(`NavigationCancelingError: ${t||""}`);return i[dM]=!0,i.cancellationCode=e,i}function CH(t){return pM(t)&&mo(t.url)}function pM(t){return!!t&&t[dM]}var SH=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=ww({type:e,selectors:[["ng-component"]],standalone:!0,features:[G0],decls:1,vars:0,template:function(r,s){r&1&&ry(0,"router-outlet")},dependencies:[mH],encapsulation:2});let t=e;return t})();function IH(t,e){return t.providers&&!t._injector&&(t._injector=Bl(t.providers,e,`Route: ${t.path}`)),t._injector??e}function jE(t){let e=t.children&&t.children.map(jE),i=e?T(v({},t),{children:e}):v({},t);return!i.component&&!i.loadComponent&&(e||i.loadChildren)&&i.outlet&&i.outlet!==ee&&(i.component=SH),i}function hr(t){return t.outlet||ee}function DH(t,e){let i=t.filter(n=>hr(n)===e);return i.push(...t.filter(n=>hr(n)!==e)),i}function ac(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let i=e.routeConfig;if(i?._loadedInjector)return i._loadedInjector;if(i?._injector)return i._injector}return null}var bH=(t,e,i,n)=>E(r=>(new NE(e,r.targetRouterState,r.currentRouterState,i,n).activate(t),r)),NE=class{constructor(e,i,n,r,s){this.routeReuseStrategy=e,this.futureState=i,this.currState=n,this.forwardEvent=r,this.inputBindingEnabled=s}activate(e){let i=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(i,n,e),uE(this.futureState.root),this.activateChildRoutes(i,n,e)}deactivateChildRoutes(e,i,n){let r=fo(i);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,r[o],n),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,n)})}deactivateRoutes(e,i,n){let r=e.value,s=i?i.value:null;if(r===s)if(r.component){let o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(e,i,o.children)}else this.deactivateChildRoutes(e,i,n);else s&&this.deactivateRouteAndItsChildren(i,n)}deactivateRouteAndItsChildren(e,i){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,i):this.deactivateRouteAndOutlet(e,i)}detachAndStoreRouteSubtree(e,i){let n=i.getContext(e.value.outlet),r=n&&e.value.component?n.children:i,s=fo(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);if(n&&n.outlet){let o=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,i){let n=i.getContext(e.value.outlet),r=n&&e.value.component?n.children:i,s=fo(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(e,i,n){let r=fo(i);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],n),this.forwardEvent(new wE(s.value.snapshot))}),e.children.length&&this.forwardEvent(new DE(e.value.snapshot))}activateRoutes(e,i,n){let r=e.value,s=i?i.value:null;if(uE(r),r===s)if(r.component){let o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,i,o.children)}else this.activateChildRoutes(e,i,n);else if(r.component){let o=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),uE(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=ac(r.snapshot);o.attachRef=null,o.route=r,o.injector=a,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,n)}},_d=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},po=class{constructor(e,i){this.component=e,this.route=i}};function wH(t,e,i){let n=t._root,r=e?e._root:null;return Ya(n,r,i,[n.value])}function TH(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function yo(t,e){let i=Symbol(),n=e.get(t,i);return n===i?typeof t=="function"&&!fw(t)?t:e.get(t):n}function Ya(t,e,i,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=fo(e);return t.children.forEach(o=>{AH(o,s[o.value.outlet],i,n.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Ja(a,i.getContext(o),r)),r}function AH(t,e,i,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=i?i.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=RH(o,s,s.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new _d(n)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Ya(t,e,a?a.children:null,n,r):Ya(t,e,i,n,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new po(a.outlet.component,o))}else o&&Ja(e,a,r),r.canActivateChecks.push(new _d(n)),s.component?Ya(t,null,a?a.children:null,n,r):Ya(t,null,i,n,r);return r}function RH(t,e,i){if(typeof i=="function")return i(t,e);switch(i){case"pathParamsChange":return!ss(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ss(t.url,e.url)||!dr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ME(t,e)||!dr(t.queryParams,e.queryParams);case"paramsChange":default:return!ME(t,e)}}function Ja(t,e,i){let n=fo(t),r=t.value;Object.entries(n).forEach(([s,o])=>{r.component?e?Ja(o,e.children.getContext(s),i):Ja(o,null,i):Ja(o,e,i)}),r.component?e&&e.outlet&&e.outlet.isActivated?i.canDeactivateChecks.push(new po(e.outlet.component,r)):i.canDeactivateChecks.push(new po(null,r)):i.canDeactivateChecks.push(new po(null,r))}function cc(t){return typeof t=="function"}function MH(t){return typeof t=="boolean"}function xH(t){return t&&cc(t.canLoad)}function NH(t){return t&&cc(t.canActivate)}function OH(t){return t&&cc(t.canActivateChild)}function PH(t){return t&&cc(t.canDeactivate)}function FH(t){return t&&cc(t.canMatch)}function gM(t){return t instanceof In||t?.name==="EmptyError"}var bd=Symbol("INITIAL_VALUE");function vo(){return N(t=>_e(t.map(e=>e.pipe(ie(1),Kn(bd)))).pipe(E(e=>{for(let i of e)if(i!==!0){if(i===bd)return bd;if(i===!1||i instanceof gi)return i}return!0}),M(e=>e!==bd),ie(1)))}function _H(t,e){return G(i=>{let{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=i;return o.length===0&&s.length===0?I(T(v({},i),{guardsResult:!0})):LH(o,n,r,t).pipe(G(a=>a&&MH(a)?kH(n,s,t,e):I(a)),E(a=>T(v({},i),{guardsResult:a})))})}function LH(t,e,i,n){return pe(t).pipe(G(r=>VH(r.component,r.route,i,e,n)),Mt(r=>r!==!0,!0))}function kH(t,e,i,n){return pe(e).pipe(je(r=>qn(jH(r.route.parent,n),UH(r.route,n),BH(t,r.path,i),$H(t,r.route,i))),Mt(r=>r!==!0,!0))}function UH(t,e){return t!==null&&e&&e(new bE(t)),I(!0)}function jH(t,e){return t!==null&&e&&e(new IE(t)),I(!0)}function $H(t,e,i){let n=e.routeConfig?e.routeConfig.canActivate:null;if(!n||n.length===0)return I(!0);let r=n.map(s=>qe(()=>{let o=ac(e)??i,a=yo(s,o),c=NH(a)?a.canActivate(e,t):xn(o,()=>a(e,t));return vi(c).pipe(Mt())}));return I(r).pipe(vo())}function BH(t,e,i){let n=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>TH(o)).filter(o=>o!==null).map(o=>qe(()=>{let a=o.guards.map(c=>{let u=ac(o.node)??i,l=yo(c,u),f=OH(l)?l.canActivateChild(n,t):xn(u,()=>l(n,t));return vi(f).pipe(Mt())});return I(a).pipe(vo())}));return I(s).pipe(vo())}function VH(t,e,i,n,r){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return I(!0);let o=s.map(a=>{let c=ac(e)??r,u=yo(a,c),l=PH(u)?u.canDeactivate(t,e,i,n):xn(c,()=>u(t,e,i,n));return vi(l).pipe(Mt())});return I(o).pipe(vo())}function HH(t,e,i,n){let r=e.canLoad;if(r===void 0||r.length===0)return I(!0);let s=r.map(o=>{let a=yo(o,t),c=xH(a)?a.canLoad(e,i):xn(t,()=>a(e,i));return vi(c)});return I(s).pipe(vo(),mM(n))}function mM(t){return Sg(L(e=>{if(mo(e))throw fM(t,e)}),E(e=>e===!0))}function zH(t,e,i,n){let r=e.canMatch;if(!r||r.length===0)return I(!0);let s=r.map(o=>{let a=yo(o,t),c=FH(a)?a.canMatch(e,i):xn(t,()=>a(e,i));return vi(c)});return I(s).pipe(vo(),mM(n))}var ic=class{constructor(e){this.segmentGroup=e||null}},Ld=class extends Error{constructor(e){super(),this.urlTree=e}};function lo(t){return xt(new ic(t))}function GH(t){return xt(new j(4e3,!1))}function WH(t){return xt(hM(!1,en.GuardRejected))}var OE=class{constructor(e,i){this.urlSerializer=e,this.urlTree=i}lineralizeSegments(e,i){let n=[],r=i.root;for(;;){if(n=n.concat(r.segments),r.numberOfChildren===0)return I(n);if(r.numberOfChildren>1||!r.children[ee])return GH(e.redirectTo);r=r.children[ee]}}applyRedirectCommands(e,i,n){let r=this.applyRedirectCreateUrlTree(i,this.urlSerializer.parse(i),e,n);if(i.startsWith("/"))throw new Ld(r);return r}applyRedirectCreateUrlTree(e,i,n,r){let s=this.createSegmentGroup(e,i.root,n,r);return new gi(s,this.createQueryParams(i.queryParams,this.urlTree.queryParams),i.fragment)}createQueryParams(e,i){let n={};return Object.entries(e).forEach(([r,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);n[r]=i[a]}else n[r]=s}),n}createSegmentGroup(e,i,n,r){let s=this.createSegments(e,i.segments,n,r),o={};return Object.entries(i.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,n,r)}),new De(s,o)}createSegments(e,i,n,r){return i.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,n))}findPosParam(e,i,n){let r=n[i.path.substring(1)];if(!r)throw new j(4001,!1);return r}findOrReturn(e,i){let n=0;for(let r of i){if(r.path===e.path)return i.splice(n),r;n++}return e}},PE={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function qH(t,e,i,n,r){let s=$E(t,e,i);return s.matched?(n=IH(e,n),zH(n,e,i,r).pipe(E(o=>o===!0?s:v({},PE)))):I(s)}function $E(t,e,i){if(e.path==="**")return YH(i);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||i.length>0)?v({},PE):{matched:!0,consumedSegments:[],remainingSegments:i,parameters:{},positionalParamSegments:{}};let r=(e.matcher||H2)(i,t,e);if(!r)return v({},PE);let s={};Object.entries(r.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=r.consumed.length>0?v(v({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:i.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function YH(t){return{matched:!0,parameters:t.length>0?KR(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function zR(t,e,i,n){return i.length>0&&QH(t,i,n)?{segmentGroup:new De(e,ZH(n,new De(i,t.children))),slicedSegments:[]}:i.length===0&&JH(t,i,n)?{segmentGroup:new De(t.segments,KH(t,i,n,t.children)),slicedSegments:i}:{segmentGroup:new De(t.segments,t.children),slicedSegments:i}}function KH(t,e,i,n){let r={};for(let s of i)if($d(t,e,s)&&!n[hr(s)]){let o=new De([],{});r[hr(s)]=o}return v(v({},n),r)}function ZH(t,e){let i={};i[ee]=e;for(let n of t)if(n.path===""&&hr(n)!==ee){let r=new De([],{});i[hr(n)]=r}return i}function QH(t,e,i){return i.some(n=>$d(t,e,n)&&hr(n)!==ee)}function JH(t,e,i){return i.some(n=>$d(t,e,n))}function $d(t,e,i){return(t.hasChildren()||e.length>0)&&i.pathMatch==="full"?!1:i.path===""}function XH(t,e,i,n){return hr(t)!==n&&(n===ee||!$d(e,i,t))?!1:$E(e,t,i).matched}function ez(t,e,i){return e.length===0&&!t.children[i]}var FE=class{};function tz(t,e,i,n,r,s,o="emptyOnly"){return new _E(t,e,i,n,r,o,s).recognize()}var nz=31,_E=class{constructor(e,i,n,r,s,o,a){this.injector=e,this.configLoader=i,this.rootComponentType=n,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new OE(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new j(4002,`'${e.segmentGroup}'`)}recognize(){let e=zR(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(E(i=>{let n=new nc([],Object.freeze({}),Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,{},ee,this.rootComponentType,null,{}),r=new Xt(n,i),s=new Fd("",r),o=cH(n,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,ee).pipe(F(n=>{if(n instanceof Ld)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof ic?this.noMatchError(n):n}))}inheritParamsAndData(e,i){let n=e.value,r=kE(n,i,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(s=>this.inheritParamsAndData(s,n))}processSegmentGroup(e,i,n,r){return n.segments.length===0&&n.hasChildren()?this.processChildren(e,i,n):this.processSegment(e,i,n,n.segments,r,!0).pipe(E(s=>s instanceof Xt?[s]:[]))}processChildren(e,i,n){let r=[];for(let s of Object.keys(n.children))s==="primary"?r.unshift(s):r.push(s);return pe(r).pipe(je(s=>{let o=n.children[s],a=DH(i,s);return this.processSegmentGroup(e,a,o,s)}),_i((s,o)=>(s.push(...o),s)),ti(null),Fg(),G(s=>{if(s===null)return lo(n);let o=vM(s);return rz(o),I(o)}))}processSegment(e,i,n,r,s,o){return pe(i).pipe(je(a=>this.processSegmentAgainstRoute(a._injector??e,i,a,n,r,s,o).pipe(F(c=>{if(c instanceof ic)return I(null);throw c}))),Mt(a=>!!a),F(a=>{if(gM(a))return ez(n,r,s)?I(new FE):lo(n);throw a}))}processSegmentAgainstRoute(e,i,n,r,s,o,a){return XH(n,r,s,o)?n.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,n,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,i,n,s,o):lo(r):lo(r)}expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o){let{matched:a,consumedSegments:c,positionalParamSegments:u,remainingSegments:l}=$E(i,r,s);if(!a)return lo(i);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>nz&&(this.allowRedirects=!1));let f=this.applyRedirects.applyRedirectCommands(c,r.redirectTo,u);return this.applyRedirects.lineralizeSegments(r,f).pipe(G(h=>this.processSegment(e,n,i,h.concat(l),o,!1)))}matchSegmentAgainstRoute(e,i,n,r,s){let o=qH(i,n,r,e,this.urlSerializer);return n.path==="**"&&(i.children={}),o.pipe(N(a=>a.matched?(e=n._injector??e,this.getChildConfig(e,n,r).pipe(N(({routes:c})=>{let u=n._loadedInjector??e,{consumedSegments:l,remainingSegments:f,parameters:h}=a,m=new nc(l,h,Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,sz(n),hr(n),n.component??n._loadedComponent??null,n,oz(n)),{segmentGroup:y,slicedSegments:b}=zR(i,l,f,c);if(b.length===0&&y.hasChildren())return this.processChildren(u,c,y).pipe(E(R=>R===null?null:new Xt(m,R)));if(c.length===0&&b.length===0)return I(new Xt(m,[]));let w=hr(n)===s;return this.processSegment(u,c,y,b,w?ee:s,!0).pipe(E(R=>new Xt(m,R instanceof Xt?[R]:[])))}))):lo(i)))}getChildConfig(e,i,n){return i.children?I({routes:i.children,injector:e}):i.loadChildren?i._loadedRoutes!==void 0?I({routes:i._loadedRoutes,injector:i._loadedInjector}):HH(e,i,n,this.urlSerializer).pipe(G(r=>r?this.configLoader.loadChildren(e,i).pipe(L(s=>{i._loadedRoutes=s.routes,i._loadedInjector=s.injector})):WH(i))):I({routes:[],injector:e})}};function rz(t){t.sort((e,i)=>e.value.outlet===ee?-1:i.value.outlet===ee?1:e.value.outlet.localeCompare(i.value.outlet))}function iz(t){let e=t.value.routeConfig;return e&&e.path===""}function vM(t){let e=[],i=new Set;for(let n of t){if(!iz(n)){e.push(n);continue}let r=e.find(s=>n.value.routeConfig===s.value.routeConfig);r!==void 0?(r.children.push(...n.children),i.add(r)):e.push(n)}for(let n of i){let r=vM(n.children);e.push(new Xt(n.value,r))}return e.filter(n=>!i.has(n))}function sz(t){return t.data||{}}function oz(t){return t.resolve||{}}function az(t,e,i,n,r,s){return G(o=>tz(t,e,i,n,o.extractedUrl,r,s).pipe(E(({state:a,tree:c})=>T(v({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function cz(t,e){return G(i=>{let{targetSnapshot:n,guards:{canActivateChecks:r}}=i;if(!r.length)return I(i);let s=new Set(r.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let u of yM(c))o.add(u);let a=0;return pe(o).pipe(je(c=>s.has(c)?uz(c,n,t,e):(c.data=kE(c,c.parent,t).resolve,I(void 0))),L(()=>a++),Ps(1),G(c=>a===o.size?I(i):he))})}function yM(t){let e=t.children.map(i=>yM(i)).flat();return[t,...e]}function uz(t,e,i,n){let r=t.routeConfig,s=t._resolve;return r?.title!==void 0&&!lM(r)&&(s[sc]=r.title),lz(s,t,e,n).pipe(E(o=>(t._resolvedData=o,t.data=kE(t,t.parent,i).resolve,null)))}function lz(t,e,i,n){let r=fE(t);if(r.length===0)return I({});let s={};return pe(r).pipe(G(o=>dz(t[o],e,i,n).pipe(Mt(),L(a=>{s[o]=a}))),Ps(1),Xo(s),F(o=>gM(o)?he:xt(o)))}function dz(t,e,i,n){let r=ac(e)??n,s=yo(t,r),o=s.resolve?s.resolve(e,i):xn(r,()=>s(e,i));return vi(o)}function lE(t){return N(e=>{let i=t(e);return i?pe(i).pipe(E(()=>e)):I(e)})}var EM=(()=>{let e=class e{buildTitle(n){let r,s=n.root;for(;s!==void 0;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(o=>o.outlet===ee);return r}getResolvedTitleForRoute(n){return n.data[sc]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=g({token:e,factory:()=>C(fz),providedIn:"root"});let t=e;return t})(),fz=(()=>{let e=class e extends EM{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}};e.\u0275fac=function(r){return new(r||e)(d(JA))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),uc=new S("",{providedIn:"root",factory:()=>({})}),kd=new S(""),BE=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=C(io)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return I(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=vi(n.loadComponent()).pipe(E(CM),L(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),Dn(()=>{this.componentLoaders.delete(n)})),s=new ni(r,()=>new re).pipe(xs());return this.componentLoaders.set(n,s),s}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return I({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=hz(r,this.compiler,n,this.onLoadEndListener).pipe(Dn(()=>{this.childrenLoaders.delete(r)})),a=new ni(o,()=>new re).pipe(xs());return this.childrenLoaders.set(r,a),a}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function hz(t,e,i,n){return vi(t.loadChildren()).pipe(E(CM),G(r=>r instanceof qi||Array.isArray(r)?I(r):pe(e.compileModuleAsync(r))),E(r=>{n&&n(t);let s,o,a=!1;return Array.isArray(r)?(o=r,a=!0):(s=r.create(i).injector,o=s.get(kd,[],{optional:!0,self:!0}).flat()),{routes:o.map(jE),injector:s}}))}function pz(t){return t&&typeof t=="object"&&"default"in t}function CM(t){return pz(t)?t.default:t}var VE=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=g({token:e,factory:()=>C(gz),providedIn:"root"});let t=e;return t})(),gz=(()=>{let e=class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),SM=new S(""),IM=new S("");function mz(t,e,i){let n=t.get(IM),r=t.get(Le);return t.get(Ce).runOutsideAngular(()=>{if(!r.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,new Promise(u=>setTimeout(u));let s,o=new Promise(u=>{s=u}),a=r.startViewTransition(()=>(s(),vz(t))),{onViewTransitionCreated:c}=n;return c&&xn(t,()=>c({transition:a,from:e,to:i})),o})}function vz(t){return new Promise(e=>{$l(e,{injector:t})})}var HE=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new re,this.transitionAbortSubject=new re,this.configLoader=C(BE),this.environmentInjector=C(St),this.urlSerializer=C(cs),this.rootContexts=C(oc),this.location=C(cr),this.inputBindingEnabled=C(jd,{optional:!0})!==null,this.titleStrategy=C(EM),this.options=C(uc,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=C(VE),this.createViewTransition=C(SM,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>I(void 0),this.rootComponentType=null;let n=s=>this.events.next(new CE(s)),r=s=>this.events.next(new SE(s));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(T(v(v({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,s){return this.transitions=new Te({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Qa,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(M(o=>o.id!==0),E(o=>T(v({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),N(o=>{let a=!1,c=!1;return I(o).pipe(N(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",en.SupersededByNewNavigation),he;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?T(v({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=u.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!l&&f!=="reload"){let h="";return this.events.next(new mi(u.id,this.urlSerializer.serialize(u.rawUrl),h,xd.IgnoredSameUrlNavigation)),u.resolve(null),he}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return I(u).pipe(N(h=>{let m=this.transitions?.getValue();return this.events.next(new vn(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),m!==this.transitions?.getValue()?he:Promise.resolve(h)}),az(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),L(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=T(v({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let m=new as(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(m)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:h,extractedUrl:m,source:y,restoredState:b,extras:w}=u,R=new vn(h,this.urlSerializer.serialize(m),y,b);this.events.next(R);let k=cM(this.rootComponentType).snapshot;return this.currentTransition=o=T(v({},u),{targetSnapshot:k,urlAfterRedirects:m,extras:T(v({},w),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,I(o)}else{let h="";return this.events.next(new mi(u.id,this.urlSerializer.serialize(u.extractedUrl),h,xd.IgnoredByUrlHandlingStrategy)),u.resolve(null),he}}),L(u=>{let l=new mE(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),E(u=>(this.currentTransition=o=T(v({},u),{guards:wH(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),_H(this.environmentInjector,u=>this.events.next(u)),L(u=>{if(o.guardsResult=u.guardsResult,mo(u.guardsResult))throw fM(this.urlSerializer,u.guardsResult);let l=new vE(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),M(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",en.GuardRejected),!1)),lE(u=>{if(u.guards.canActivateChecks.length)return I(u).pipe(L(l=>{let f=new yE(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}),N(l=>{let f=!1;return I(l).pipe(cz(this.paramsInheritanceStrategy,this.environmentInjector),L({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(l,"",en.NoDataFromResolver)}}))}),L(l=>{let f=new EE(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}))}),lE(u=>{let l=f=>{let h=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(f.routeConfig).pipe(L(m=>{f.component=m}),E(()=>{})));for(let m of f.children)h.push(...l(m));return h};return _e(l(u.targetSnapshot.root)).pipe(ti(null),ie(1))}),lE(()=>this.afterPreactivation()),N(()=>{let{currentSnapshot:u,targetSnapshot:l}=o,f=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return f?pe(f).pipe(E(()=>o)):I(o)}),E(u=>{let l=vH(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=T(v({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),L(()=>{this.events.next(new ec)}),bH(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),ie(1),L({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ot(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),oa(this.transitionAbortSubject.pipe(L(u=>{throw u}))),Dn(()=>{!a&&!c&&this.cancelNavigationTransition(o,"",en.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),F(u=>{if(c=!0,pM(u))this.events.next(new yn(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),CH(u)?this.events.next(new tc(u.url)):o.resolve(!1);else{this.events.next(new fr(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(n.errorHandler(u))}catch(l){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(l)}}return he}))}))}cancelNavigationTransition(n,r,s){let o=new yn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,s);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function yz(t){return t!==Qa}var Ez=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=g({token:e,factory:()=>C(Cz),providedIn:"root"});let t=e;return t})(),LE=class{shouldDetach(e){return!1}store(e,i){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,i){return e.routeConfig===i.routeConfig}},Cz=(()=>{let e=class e extends LE{};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),DM=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=g({token:e,factory:()=>C(Sz),providedIn:"root"});let t=e;return t})(),Sz=(()=>{let e=class e extends DM{constructor(){super(...arguments),this.location=C(cr),this.urlSerializer=C(cs),this.options=C(uc,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=C(VE),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new gi,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=cM(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof vn)this.stateMemento=this.createStateMemento();else if(n instanceof mi)this.rawUrlTree=r.initialUrl;else if(n instanceof as){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(s,r)}}else n instanceof ec?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):n instanceof yn&&(n.code===en.GuardRejected||n.code===en.NoDataFromResolver)?this.restoreHistory(r):n instanceof fr?this.restoreHistory(r,!0):n instanceof ot&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let s=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl){let o=this.browserPageId,a=v(v({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(s,"",a)}else{let o=v(v({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ka=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Ka||{});function bM(t,e){t.events.pipe(M(i=>i instanceof ot||i instanceof yn||i instanceof fr||i instanceof mi),E(i=>i instanceof ot||i instanceof mi?Ka.COMPLETE:(i instanceof yn?i.code===en.Redirect||i.code===en.SupersededByNewNavigation:!1)?Ka.REDIRECTING:Ka.FAILED),M(i=>i!==Ka.REDIRECTING),ie(1)).subscribe(()=>{e()})}function Iz(t){throw t}var Dz={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},bz={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Oe=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=C(Gl),this.stateManager=C(DM),this.options=C(uc,{optional:!0})||{},this.pendingTasks=C(Qi),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=C(HE),this.urlSerializer=C(cs),this.location=C(cr),this.urlHandlingStrategy=C(VE),this._events=new re,this.errorHandler=this.options.errorHandler||Iz,this.navigated=!1,this.routeReuseStrategy=C(Ez),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=C(kd,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!C(jd,{optional:!0}),this.eventsSubscription=new Ee,this.isNgZoneEnabled=C(Ce)instanceof Ce&&Ce.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof yn&&r.code!==en.Redirect&&r.code!==en.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof ot)this.navigated=!0;else if(r instanceof tc){let a=this.urlHandlingStrategy.merge(r.url,s.currentRawUrl),c={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||yz(s.source)};this.scheduleNavigation(a,Qa,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}Tz(r)&&this._events.next(r)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Qa,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let u=v({},s);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(n);this.scheduleNavigation(c,r,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(jE),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:a,f=null;switch(c){case"merge":f=v(v({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}f!==null&&(f=this.removeEmptyProps(f));let h;try{let m=s?s.snapshot:this.routerState.snapshot.root;h=iM(m)}catch{(typeof n[0]!="string"||!n[0].startsWith("/"))&&(n=[]),h=this.currentUrlTree.root}return sM(h,n,f,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let s=mo(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Qa,null,r)}navigate(n,r={skipLocationChange:!1}){return wz(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let s;if(r===!0?s=v({},Dz):r===!1?s=v({},bz):s=r,mo(n))return jR(this.currentUrlTree,n,s);let o=this.parseUrl(n);return jR(this.currentUrlTree,o,s)}removeEmptyProps(n){return Object.entries(n).reduce((r,[s,o])=>(o!=null&&(r[s]=o),r),{})}scheduleNavigation(n,r,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,u,l;a?(c=a.resolve,u=a.reject,l=a.promise):l=new Promise((h,m)=>{c=h,u=m});let f=this.pendingTasks.add();return bM(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function wz(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new j(4008,!1)}function Tz(t){return!(t instanceof ec)&&!(t instanceof tc)}var GR=(()=>{let e=class e{constructor(n,r,s,o,a,c){this.router=n,this.route=r,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new re,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let u=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=n.events.subscribe(l=>{l instanceof ot&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n!=null?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,s,o,a){let c=this.urlTree;if(c===null||this.isAnchorElement&&(n!==0||r||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:PT(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let s=this.renderer,o=this.el.nativeElement;r!==null?s.setAttribute(o,n,r):s.removeAttribute(o,n)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(r){return new(r||e)(X(Oe),X(Vr),xv("tabindex"),X(eo),X(sr),X(jr))},e.\u0275dir=Ft({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,s){r&1&&iy("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),r&2&&ey("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[un.HasDecoratorInputTransform,"preserveFragment","preserveFragment",Pa],skipLocationChange:[un.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",Pa],replaceUrl:[un.HasDecoratorInputTransform,"replaceUrl","replaceUrl",Pa],routerLink:"routerLink"},standalone:!0,features:[Qv,li]});let t=e;return t})(),Sae=(()=>{let e=class e{get isActive(){return this._isActive}constructor(n,r,s,o,a){this.router=n,this.element=r,this.renderer=s,this.cdr=o,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new gt,this.routerEventsSubscription=n.events.subscribe(c=>{c instanceof ot&&this.update()})}ngAfterContentInit(){I(this.links.changes,I(null)).pipe(Wn()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let n=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=pe(n).pipe(Wn()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(n){let r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(s=>!!s)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let n=this.hasActiveLinks();this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),n&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.isActiveChange.emit(n))})}isLinkActive(n){let r=Az(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>{let o=s.urlTree;return o?n.isActive(o,r):!1}}hasActiveLinks(){let n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}};e.\u0275fac=function(r){return new(r||e)(X(Oe),X(sr),X(eo),X(Fr),X(GR,8))},e.\u0275dir=Ft({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(r,s,o){if(r&1&&$0(o,GR,5),r&2){let a;B0(a=V0())&&(s.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[li]});let t=e;return t})();function Az(t){return!!t.paths}var Ud=class{};var Rz=(()=>{let e=class e{constructor(n,r,s,o,a){this.router=n,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(M(n=>n instanceof ot),je(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let s=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Bl(o.providers,n,`Route: ${o.path}`));let a=o._injector??n,c=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(c,o.children??o._loadedRoutes))}return pe(s).pipe(Wn())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let s;r.loadChildren&&r.canLoad===void 0?s=this.loader.loadChildren(n,r):s=I(null);let o=s.pipe(G(a=>a===null?I(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??n,a.routes))));if(r.loadComponent&&!r._loadedComponent){let a=this.loader.loadComponent(r);return pe([o,a]).pipe(Wn())}else return o})}};e.\u0275fac=function(r){return new(r||e)(d(Oe),d(io),d(St),d(Ud),d(BE))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),wM=new S(""),Mz=(()=>{let e=class e{constructor(n,r,s,o,a={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=C(St),a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof vn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof ot?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof mi&&n.code===xd.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Nd&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>rt(this,null,function*(){yield new Promise(s=>{setTimeout(()=>{s()}),$l(()=>{s()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new Nd(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(r){qT()},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})();function xz(t){return t.routerState.root}function lc(t,e){return{\u0275kind:t,\u0275providers:e}}function Nz(){let t=C(Ye);return e=>{let i=t.get(Xi);if(e!==i.components[0])return;let n=t.get(Oe),r=t.get(TM);t.get(zE)===1&&n.initialNavigation(),t.get(AM,null,ce.Optional)?.setUpPreloading(),t.get(wM,null,ce.Optional)?.init(),n.resetRootComponentType(i.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var TM=new S("",{factory:()=>new re}),zE=new S("",{providedIn:"root",factory:()=>1});function Oz(){return lc(2,[{provide:zE,useValue:0},{provide:wt,multi:!0,deps:[Ye],useFactory:e=>{let i=e.get(cd,Promise.resolve());return()=>i.then(()=>new Promise(n=>{let r=e.get(Oe),s=e.get(TM);bM(r,()=>{n(!0)}),e.get(HE).afterPreactivation=()=>(n(!0),s.closed?I(void 0):s),r.initialNavigation()}))}}])}function Pz(){return lc(3,[{provide:wt,multi:!0,useFactory:()=>{let e=C(Oe);return()=>{e.setUpLocationChangeListener()}}},{provide:zE,useValue:2}])}var AM=new S("");function Fz(t){return lc(0,[{provide:AM,useExisting:Rz},{provide:Ud,useExisting:t}])}function _z(){return lc(8,[HR,{provide:jd,useExisting:HR}])}function Lz(t){let e=[{provide:SM,useValue:mz},{provide:IM,useValue:v({skipNextTransition:!!t?.skipInitialTransition},t)}];return lc(9,e)}var WR=new S("ROUTER_FORROOT_GUARD"),kz=[cr,{provide:cs,useClass:os},Oe,oc,{provide:Vr,useFactory:xz,deps:[Oe]},BE,[]],RM=(()=>{let e=class e{constructor(n){}static forRoot(n,r){return{ngModule:e,providers:[kz,[],{provide:kd,multi:!0,useValue:n},{provide:WR,useFactory:Bz,deps:[[Oe,new dn,new Il]]},{provide:uc,useValue:r||{}},r?.useHash?jz():$z(),Uz(),r?.preloadingStrategy?Fz(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?Vz(r):[],r?.bindToComponentInputs?_z().\u0275providers:[],r?.enableViewTransitions?Lz().\u0275providers:[],Hz()]}}static forChild(n){return{ngModule:e,providers:[{provide:kd,multi:!0,useValue:n}]}}};e.\u0275fac=function(r){return new(r||e)(d(WR,8))},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})();function Uz(){return{provide:wM,useFactory:()=>{let t=C(xA),e=C(Ce),i=C(uc),n=C(HE),r=C(cs);return i.scrollOffset&&t.setOffset(i.scrollOffset),new Mz(r,n,t,e,i)}}}function jz(){return{provide:jr,useClass:EA}}function $z(){return{provide:jr,useClass:wy}}function Bz(t){return"guarded"}function Vz(t){return[t.initialNavigation==="disabled"?Pz().\u0275providers:[],t.initialNavigation==="enabledBlocking"?Oz().\u0275providers:[]]}var qR=new S("");function Hz(){return[{provide:qR,useFactory:Nz},{provide:ro,multi:!0,useExisting:qR}]}var Bd=class{validateSignature(e){return Promise.resolve(null)}validateAtHash(e){return Promise.resolve(!0)}},Vd=class{};var dc=class{},zz=(()=>{let e=class e extends dc{now(){return Date.now()}new(){return new Date}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})();var Hd=class{},ls=class{},Gz=(()=>{let e=class e{constructor(){this.data=new Map}getItem(n){return this.data.get(n)}removeItem(n){this.data.delete(n)}setItem(n,r){this.data.set(n,r)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})();var fc=class{constructor(e){this.type=e}},Lt=class extends fc{constructor(e,i=null){super(e),this.info=i}},_n=class extends fc{constructor(e,i=null){super(e),this.info=i}},Ve=class extends fc{constructor(e,i,n=null){super(e),this.reason=i,this.params=n}};function xM(t){let e=t.replace(/-/g,"+").replace(/_/g,"/");return decodeURIComponent(atob(e).split("").map(function(i){return"%"+("00"+i.charCodeAt(0).toString(16)).slice(-2)}).join(""))}function NM(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}var Eo=class{constructor(e){this.clientId="",this.redirectUri="",this.postLogoutRedirectUri="",this.redirectUriAsPostLogoutRedirectUriFallback=!0,this.loginUrl="",this.scope="openid profile",this.resource="",this.rngUrl="",this.oidc=!0,this.requestAccessToken=!0,this.options=null,this.issuer="",this.logoutUrl="",this.clearHashAfterLogin=!0,this.tokenEndpoint=null,this.revocationEndpoint=null,this.customTokenParameters=[],this.userinfoEndpoint=null,this.responseType="",this.showDebugInformation=!1,this.silentRefreshRedirectUri="",this.silentRefreshMessagePrefix="",this.silentRefreshShowIFrame=!1,this.siletRefreshTimeout=1e3*20,this.silentRefreshTimeout=1e3*20,this.dummyClientSecret="",this.requireHttps="remoteOnly",this.strictDiscoveryDocumentValidation=!0,this.jwks=null,this.customQueryParams=null,this.silentRefreshIFrameName="angular-oauth-oidc-silent-refresh-iframe",this.timeoutFactor=.75,this.sessionChecksEnabled=!1,this.sessionCheckIntervall=3*1e3,this.sessionCheckIFrameUrl=null,this.sessionCheckIFrameName="angular-oauth-oidc-check-session-iframe",this.disableAtHashCheck=!1,this.skipSubjectCheck=!1,this.useIdTokenHintForSilentRefresh=!1,this.skipIssuerCheck=!1,this.nonceStateSeparator=";",this.useHttpBasicAuth=!1,this.decreaseExpirationBySec=0,this.waitForTokenInMsec=0,this.disablePKCE=!1,this.preserveRequestedRoute=!1,this.disableIdTokenTimer=!1,this.checkOrigin=!1,this.openUri=i=>{location.href=i},e&&Object.assign(this,e)}},us=class{encodeKey(e){return encodeURIComponent(e)}encodeValue(e){return encodeURIComponent(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}},zd=class{};var OM=(()=>{let e=class e{getHashFragmentParams(n){let r=n||window.location.hash;if(r=decodeURIComponent(r),r.indexOf("#")!==0)return{};let s=r.indexOf("?");return s>-1?r=r.substr(s+1):r=r.substr(1),this.parseQueryString(r)}parseQueryString(n){let r={},s,o,a,c,u,l;if(n===null)return r;let f=n.split("&");for(let h=0;h<f.length;h++)s=f[h],o=s.indexOf("="),o===-1?(a=s,c=null):(a=s.substr(0,o),c=s.substr(o+1)),u=decodeURIComponent(a),l=decodeURIComponent(c),u.substr(0,1)==="/"&&(u=u.substr(1)),r[u]=l;return r}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})(),PM=32,Wz=64,qz=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function GE(t,e,i,n,r){let s,o,a,c,u,l,f,h,m,y,b,w,R;for(;r>=64;){for(s=e[0],o=e[1],a=e[2],c=e[3],u=e[4],l=e[5],f=e[6],h=e[7],y=0;y<16;y++)b=n+y*4,t[y]=(i[b]&255)<<24|(i[b+1]&255)<<16|(i[b+2]&255)<<8|i[b+3]&255;for(y=16;y<64;y++)m=t[y-2],w=(m>>>17|m<<15)^(m>>>19|m<<13)^m>>>10,m=t[y-15],R=(m>>>7|m<<25)^(m>>>18|m<<14)^m>>>3,t[y]=(w+t[y-7]|0)+(R+t[y-16]|0);for(y=0;y<64;y++)w=(((u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7))+(u&l^~u&f)|0)+(h+(qz[y]+t[y]|0)|0)|0,R=((s>>>2|s<<30)^(s>>>13|s<<19)^(s>>>22|s<<10))+(s&o^s&a^o&a)|0,h=f,f=l,l=u,u=c+w|0,c=a,a=o,o=s,s=w+R|0;e[0]+=s,e[1]+=o,e[2]+=a,e[3]+=c,e[4]+=u,e[5]+=l,e[6]+=f,e[7]+=h,n+=64,r-=64}return n}var WE=class{constructor(){this.digestLength=PM,this.blockSize=Wz,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset()}reset(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this}clean(){for(let e=0;e<this.buffer.length;e++)this.buffer[e]=0;for(let e=0;e<this.temp.length;e++)this.temp[e]=0;this.reset()}update(e,i=e.length){if(this.finished)throw new Error("SHA256: can't update because hash was finished.");let n=0;if(this.bytesHashed+=i,this.bufferLength>0){for(;this.bufferLength<64&&i>0;)this.buffer[this.bufferLength++]=e[n++],i--;this.bufferLength===64&&(GE(this.temp,this.state,this.buffer,0,64),this.bufferLength=0)}for(i>=64&&(n=GE(this.temp,this.state,e,n,i),i%=64);i>0;)this.buffer[this.bufferLength++]=e[n++],i--;return this}finish(e){if(!this.finished){let i=this.bytesHashed,n=this.bufferLength,r=i/536870912|0,s=i<<3,o=i%64<56?64:128;this.buffer[n]=128;for(let a=n+1;a<o-8;a++)this.buffer[a]=0;this.buffer[o-8]=r>>>24&255,this.buffer[o-7]=r>>>16&255,this.buffer[o-6]=r>>>8&255,this.buffer[o-5]=r>>>0&255,this.buffer[o-4]=s>>>24&255,this.buffer[o-3]=s>>>16&255,this.buffer[o-2]=s>>>8&255,this.buffer[o-1]=s>>>0&255,GE(this.temp,this.state,this.buffer,0,o),this.finished=!0}for(let i=0;i<8;i++)e[i*4+0]=this.state[i]>>>24&255,e[i*4+1]=this.state[i]>>>16&255,e[i*4+2]=this.state[i]>>>8&255,e[i*4+3]=this.state[i]>>>0&255;return this}digest(){let e=new Uint8Array(this.digestLength);return this.finish(e),e}_saveState(e){for(let i=0;i<this.state.length;i++)e[i]=this.state[i]}_restoreState(e,i){for(let n=0;n<this.state.length;n++)this.state[n]=e[n];this.bytesHashed=i,this.finished=!1,this.bufferLength=0}};function Yz(t){let e=new WE().update(t),i=e.digest();return e.clean(),i}var Oae=new Uint8Array(PM);var Gd=class{};function Kz(t){if(typeof t!="string")throw new TypeError("expected string");let e=t,i=new Uint8Array(e.length);for(let n=0;n<e.length;n++)i[n]=e.charCodeAt(n);return i}function Zz(t){let e=[];for(let i=0;i<t.length;i++)e.push(String.fromCharCode(t[i]));return e.join("")}var Qz=(()=>{let e=class e{calcHash(n,r){return rt(this,null,function*(){return Zz(Yz(Kz(n)))})}toHashString2(n){let r="";for(let s of n)r+=String.fromCharCode(s);return r}toHashString(n){let r=new Uint8Array(n),s="";for(let o of r)s+=String.fromCharCode(o);return s}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})(),qd=(()=>{let e=class e extends Eo{constructor(n,r,s,o,a,c,u,l,f,h){super(),this.ngZone=n,this.http=r,this.config=a,this.urlHelper=c,this.logger=u,this.crypto=l,this.dateTimeService=h,this.discoveryDocumentLoaded=!1,this.state="",this.eventsSubject=new re,this.discoveryDocumentLoadedSubject=new re,this.grantTypesSupported=[],this.inImplicitFlow=!1,this.saveNoncesInLocalStorage=!1,this.debug("angular-oauth2-oidc v10"),this.document=f,a||(a={}),this.discoveryDocumentLoaded$=this.discoveryDocumentLoadedSubject.asObservable(),this.events=this.eventsSubject.asObservable(),o&&(this.tokenValidationHandler=o),a&&this.configure(a);try{s?this.setStorage(s):typeof sessionStorage<"u"&&this.setStorage(sessionStorage)}catch(m){console.error("No OAuthStorage provided and cannot access default (sessionStorage).Consider providing a custom OAuthStorage implementation in your module.",m)}if(this.checkLocalStorageAccessable()){let m=window?.navigator?.userAgent;(m?.includes("MSIE ")||m?.includes("Trident"))&&(this.saveNoncesInLocalStorage=!0)}this.setupRefreshTimer()}checkLocalStorageAccessable(){if(typeof window>"u")return!1;let n="test";try{return typeof window.localStorage>"u"?!1:(localStorage.setItem(n,n),localStorage.removeItem(n),!0)}catch{return!1}}configure(n){Object.assign(this,new Eo,n),this.config=Object.assign({},new Eo,n),this.sessionChecksEnabled&&this.setupSessionCheck(),this.configChanged()}configChanged(){this.setupRefreshTimer()}restartSessionChecksIfStillLoggedIn(){this.hasValidIdToken()&&this.initSessionCheck()}restartRefreshTimerIfStillLoggedIn(){this.setupExpirationTimers()}setupSessionCheck(){this.events.pipe(M(n=>n.type==="token_received")).subscribe(()=>{this.initSessionCheck()})}setupAutomaticSilentRefresh(n={},r,s=!0){let o=!0;this.clearAutomaticRefreshTimer(),this.automaticRefreshSubscription=this.events.pipe(L(a=>{a.type==="token_received"?o=!0:a.type==="logout"&&(o=!1)}),M(a=>a.type==="token_expires"&&(r==null||r==="any"||a.info===r)),Fi(1e3)).subscribe(()=>{o&&this.refreshInternal(n,s).catch(()=>{this.debug("Automatic silent refresh did not work")})}),this.restartRefreshTimerIfStillLoggedIn()}refreshInternal(n,r){return!this.useSilentRefresh&&this.responseType==="code"?this.refreshToken():this.silentRefresh(n,r)}loadDiscoveryDocumentAndTryLogin(n=null){return this.loadDiscoveryDocument().then(()=>this.tryLogin(n))}loadDiscoveryDocumentAndLogin(n=null){return n=n||{},this.loadDiscoveryDocumentAndTryLogin(n).then(()=>{if(!this.hasValidIdToken()||!this.hasValidAccessToken()){let r=typeof n.state=="string"?n.state:"";return this.initLoginFlow(r),!1}else return!0})}debug(...n){this.showDebugInformation&&this.logger.debug(...n)}validateUrlFromDiscoveryDocument(n){let r=[],s=this.validateUrlForHttps(n),o=this.validateUrlAgainstIssuer(n);return s||r.push("https for all urls required. Also for urls received by discovery."),o||r.push("Every url in discovery document has to start with the issuer url.Also see property strictDiscoveryDocumentValidation."),r}validateUrlForHttps(n){if(!n)return!0;let r=n.toLowerCase();return this.requireHttps===!1||(r.match(/^http:\/\/localhost($|[:/])/)||r.match(/^http:\/\/localhost($|[:/])/))&&this.requireHttps==="remoteOnly"?!0:r.startsWith("https://")}assertUrlNotNullAndCorrectProtocol(n,r){if(!n)throw new Error(`'${r}' should not be null`);if(!this.validateUrlForHttps(n))throw new Error(`'${r}' must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).`)}validateUrlAgainstIssuer(n){return!this.strictDiscoveryDocumentValidation||!n?!0:n.toLowerCase().startsWith(this.issuer.toLowerCase())}setupRefreshTimer(){if(typeof window>"u"){this.debug("timer not supported on this plattform");return}(this.hasValidIdToken()||this.hasValidAccessToken())&&(this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()),this.tokenReceivedSubscription&&this.tokenReceivedSubscription.unsubscribe(),this.tokenReceivedSubscription=this.events.pipe(M(n=>n.type==="token_received")).subscribe(()=>{this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()})}setupExpirationTimers(){this.hasValidAccessToken()&&this.setupAccessTokenTimer(),!this.disableIdTokenTimer&&this.hasValidIdToken()&&this.setupIdTokenTimer()}setupAccessTokenTimer(){let n=this.getAccessTokenExpiration(),r=this.getAccessTokenStoredAt(),s=this.calcTimeout(r,n);this.ngZone.runOutsideAngular(()=>{this.accessTokenTimeoutSubscription=I(new _n("token_expires","access_token")).pipe(Yn(s)).subscribe(o=>{this.ngZone.run(()=>{this.eventsSubject.next(o)})})})}setupIdTokenTimer(){let n=this.getIdTokenExpiration(),r=this.getIdTokenStoredAt(),s=this.calcTimeout(r,n);this.ngZone.runOutsideAngular(()=>{this.idTokenTimeoutSubscription=I(new _n("token_expires","id_token")).pipe(Yn(s)).subscribe(o=>{this.ngZone.run(()=>{this.eventsSubject.next(o)})})})}stopAutomaticRefresh(){this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.clearAutomaticRefreshTimer()}clearAccessTokenTimer(){this.accessTokenTimeoutSubscription&&this.accessTokenTimeoutSubscription.unsubscribe()}clearIdTokenTimer(){this.idTokenTimeoutSubscription&&this.idTokenTimeoutSubscription.unsubscribe()}clearAutomaticRefreshTimer(){this.automaticRefreshSubscription&&this.automaticRefreshSubscription.unsubscribe()}calcTimeout(n,r){let s=this.dateTimeService.now(),o=(r-n)*this.timeoutFactor-(s-n),a=Math.max(0,o),c=2147483647;return a>c?c:a}setStorage(n){this._storage=n,this.configChanged()}loadDiscoveryDocument(n=null){return new Promise((r,s)=>{if(n||(n=this.issuer||"",n.endsWith("/")||(n+="/"),n+=".well-known/openid-configuration"),!this.validateUrlForHttps(n)){s("issuer  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");return}this.http.get(n).subscribe(o=>{if(!this.validateDiscoveryDocument(o)){this.eventsSubject.next(new Ve("discovery_document_validation_error",null)),s("discovery_document_validation_error");return}this.loginUrl=o.authorization_endpoint,this.logoutUrl=o.end_session_endpoint||this.logoutUrl,this.grantTypesSupported=o.grant_types_supported,this.issuer=o.issuer,this.tokenEndpoint=o.token_endpoint,this.userinfoEndpoint=o.userinfo_endpoint||this.userinfoEndpoint,this.jwksUri=o.jwks_uri,this.sessionCheckIFrameUrl=o.check_session_iframe||this.sessionCheckIFrameUrl,this.discoveryDocumentLoaded=!0,this.discoveryDocumentLoadedSubject.next(o),this.revocationEndpoint=o.revocation_endpoint||this.revocationEndpoint,this.sessionChecksEnabled&&this.restartSessionChecksIfStillLoggedIn(),this.loadJwks().then(a=>{let c={discoveryDocument:o,jwks:a},u=new Lt("discovery_document_loaded",c);this.eventsSubject.next(u),r(u)}).catch(a=>{this.eventsSubject.next(new Ve("discovery_document_load_error",a)),s(a)})},o=>{this.logger.error("error loading discovery document",o),this.eventsSubject.next(new Ve("discovery_document_load_error",o)),s(o)})})}loadJwks(){return new Promise((n,r)=>{this.jwksUri?this.http.get(this.jwksUri).subscribe(s=>{this.jwks=s,n(s)},s=>{this.logger.error("error loading jwks",s),this.eventsSubject.next(new Ve("jwks_load_error",s)),r(s)}):n(null)})}validateDiscoveryDocument(n){let r;return!this.skipIssuerCheck&&n.issuer!==this.issuer?(this.logger.error("invalid issuer in discovery document","expected: "+this.issuer,"current: "+n.issuer),!1):(r=this.validateUrlFromDiscoveryDocument(n.authorization_endpoint),r.length>0?(this.logger.error("error validating authorization_endpoint in discovery document",r),!1):(r=this.validateUrlFromDiscoveryDocument(n.end_session_endpoint),r.length>0?(this.logger.error("error validating end_session_endpoint in discovery document",r),!1):(r=this.validateUrlFromDiscoveryDocument(n.token_endpoint),r.length>0&&this.logger.error("error validating token_endpoint in discovery document",r),r=this.validateUrlFromDiscoveryDocument(n.revocation_endpoint),r.length>0&&this.logger.error("error validating revocation_endpoint in discovery document",r),r=this.validateUrlFromDiscoveryDocument(n.userinfo_endpoint),r.length>0?(this.logger.error("error validating userinfo_endpoint in discovery document",r),!1):(r=this.validateUrlFromDiscoveryDocument(n.jwks_uri),r.length>0?(this.logger.error("error validating jwks_uri in discovery document",r),!1):(this.sessionChecksEnabled&&!n.check_session_iframe&&this.logger.warn("sessionChecksEnabled is activated but discovery document does not contain a check_session_iframe field"),!0)))))}fetchTokenUsingPasswordFlowAndLoadUserProfile(n,r,s=new le){return this.fetchTokenUsingPasswordFlow(n,r,s).then(()=>this.loadUserProfile())}loadUserProfile(){if(!this.hasValidAccessToken())throw new Error("Can not load User Profile without access_token");if(!this.validateUrlForHttps(this.userinfoEndpoint))throw new Error("userinfoEndpoint must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");return new Promise((n,r)=>{let s=new le().set("Authorization","Bearer "+this.getAccessToken());this.http.get(this.userinfoEndpoint,{headers:s,observe:"response",responseType:"text"}).subscribe(o=>{if(this.debug("userinfo received",JSON.stringify(o)),o.headers.get("content-type").startsWith("application/json")){let a=JSON.parse(o.body),c=this.getIdentityClaims()||{};if(!this.skipSubjectCheck&&this.oidc&&(!c.sub||a.sub!==c.sub)){r(`if property oidc is true, the received user-id (sub) has to be the user-id of the user that has logged in with oidc.
if you are not using oidc but just oauth2 password flow set oidc to false`);return}a=Object.assign({},c,a),this._storage.setItem("id_token_claims_obj",JSON.stringify(a)),this.eventsSubject.next(new Lt("user_profile_loaded")),n({info:a})}else this.debug("userinfo is not JSON, treating it as JWE/JWS"),this.eventsSubject.next(new Lt("user_profile_loaded")),n(JSON.parse(o.body))},o=>{this.logger.error("error loading user info",o),this.eventsSubject.next(new Ve("user_profile_load_error",o)),r(o)})})}fetchTokenUsingPasswordFlow(n,r,s=new le){let o={username:n,password:r};return this.fetchTokenUsingGrant("password",o,s)}fetchTokenUsingGrant(n,r,s=new le){this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint");let o=new ze({encoder:new us}).set("grant_type",n).set("scope",this.scope);if(this.useHttpBasicAuth){let a=btoa(`${this.clientId}:${this.dummyClientSecret}`);s=s.set("Authorization","Basic "+a)}if(this.useHttpBasicAuth||(o=o.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(o=o.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(let a of Object.getOwnPropertyNames(this.customQueryParams))o=o.set(a,this.customQueryParams[a]);for(let a of Object.keys(r))o=o.set(a,r[a]);return s=s.set("Content-Type","application/x-www-form-urlencoded"),new Promise((a,c)=>{this.http.post(this.tokenEndpoint,o,{headers:s}).subscribe(u=>{this.debug("tokenResponse",u),this.storeAccessTokenResponse(u.access_token,u.refresh_token,u.expires_in||this.fallbackAccessTokenExpirationTimeInSec,u.scope,this.extractRecognizedCustomParameters(u)),this.oidc&&u.id_token&&this.processIdToken(u.id_token,u.access_token).then(l=>{this.storeIdToken(l),a(u)}),this.eventsSubject.next(new Lt("token_received")),a(u)},u=>{this.logger.error("Error performing ${grantType} flow",u),this.eventsSubject.next(new Ve("token_error",u)),c(u)})})}refreshToken(){return this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint"),new Promise((n,r)=>{let s=new ze({encoder:new us}).set("grant_type","refresh_token").set("scope",this.scope).set("refresh_token",this._storage.getItem("refresh_token")),o=new le().set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){let a=btoa(`${this.clientId}:${this.dummyClientSecret}`);o=o.set("Authorization","Basic "+a)}if(this.useHttpBasicAuth||(s=s.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(s=s.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(let a of Object.getOwnPropertyNames(this.customQueryParams))s=s.set(a,this.customQueryParams[a]);this.http.post(this.tokenEndpoint,s,{headers:o}).pipe(N(a=>this.oidc&&a.id_token?pe(this.processIdToken(a.id_token,a.access_token,!0)).pipe(L(c=>this.storeIdToken(c)),E(()=>a)):I(a))).subscribe(a=>{this.debug("refresh tokenResponse",a),this.storeAccessTokenResponse(a.access_token,a.refresh_token,a.expires_in||this.fallbackAccessTokenExpirationTimeInSec,a.scope,this.extractRecognizedCustomParameters(a)),this.eventsSubject.next(new Lt("token_received")),this.eventsSubject.next(new Lt("token_refreshed")),n(a)},a=>{this.logger.error("Error refreshing token",a),this.eventsSubject.next(new Ve("token_refresh_error",a)),r(a)})})}removeSilentRefreshEventListener(){this.silentRefreshPostMessageEventListener&&(window.removeEventListener("message",this.silentRefreshPostMessageEventListener),this.silentRefreshPostMessageEventListener=null)}setupSilentRefreshEventListener(){this.removeSilentRefreshEventListener(),this.silentRefreshPostMessageEventListener=n=>{let r=this.processMessageEventMessage(n);this.checkOrigin&&n.origin!==location.origin&&console.error("wrong origin requested silent refresh!"),this.tryLogin({customHashFragment:r,preventClearHashAfterLogin:!0,customRedirectUri:this.silentRefreshRedirectUri||this.redirectUri}).catch(s=>this.debug("tryLogin during silent refresh failed",s))},window.addEventListener("message",this.silentRefreshPostMessageEventListener)}silentRefresh(n={},r=!0){let s=this.getIdentityClaims()||{};if(this.useIdTokenHintForSilentRefresh&&this.hasValidIdToken()&&(n.id_token_hint=this.getIdToken()),!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");if(typeof this.document>"u")throw new Error("silent refresh is not supported on this platform");let o=this.document.getElementById(this.silentRefreshIFrameName);o&&this.document.body.removeChild(o),this.silentRefreshSubject=s.sub;let a=this.document.createElement("iframe");a.id=this.silentRefreshIFrameName,this.setupSilentRefreshEventListener();let c=this.silentRefreshRedirectUri||this.redirectUri;this.createLoginUrl(null,null,c,r,n).then(h=>{a.setAttribute("src",h),this.silentRefreshShowIFrame||(a.style.display="none"),this.document.body.appendChild(a)});let u=this.events.pipe(M(h=>h instanceof Ve),Mt()),l=this.events.pipe(M(h=>h.type==="token_received"),Mt()),f=I(new Ve("silent_refresh_timeout",null)).pipe(Yn(this.silentRefreshTimeout));return Og([u,l,f]).pipe(E(h=>{if(h instanceof Ve)throw h.type==="silent_refresh_timeout"?this.eventsSubject.next(h):(h=new Ve("silent_refresh_error",h),this.eventsSubject.next(h)),h;return h.type==="token_received"&&(h=new Lt("silently_refreshed"),this.eventsSubject.next(h)),h})).toPromise()}initImplicitFlowInPopup(n){return this.initLoginFlowInPopup(n)}initLoginFlowInPopup(n){return n=n||{},this.createLoginUrl(null,null,this.silentRefreshRedirectUri,!1,{display:"popup"}).then(r=>new Promise((s,o)=>{let c=null;n.windowRef?n.windowRef&&!n.windowRef.closed&&(c=n.windowRef,c.location.href=r):c=window.open(r,"ngx-oauth2-oidc-login",this.calculatePopupFeatures(n));let u,l=b=>{this.tryLogin({customHashFragment:b,preventClearHashAfterLogin:!0,customRedirectUri:this.silentRefreshRedirectUri}).then(()=>{h(),s(!0)},w=>{h(),o(w)})},f=()=>{(!c||c.closed)&&(h(),o(new Ve("popup_closed",{})))};c?u=window.setInterval(f,500):o(new Ve("popup_blocked",{}));let h=()=>{window.clearInterval(u),window.removeEventListener("storage",y),window.removeEventListener("message",m),c!==null&&c.close(),c=null},m=b=>{let w=this.processMessageEventMessage(b);w&&w!==null?(window.removeEventListener("storage",y),l(w)):console.log("false event firing")},y=b=>{b.key==="auth_hash"&&(window.removeEventListener("message",m),l(b.newValue))};window.addEventListener("message",m),window.addEventListener("storage",y)}))}calculatePopupFeatures(n){let r=n.height||470,s=n.width||500,o=window.screenLeft+(window.outerWidth-s)/2,a=window.screenTop+(window.outerHeight-r)/2;return`location=no,toolbar=no,width=${s},height=${r},top=${a},left=${o}`}processMessageEventMessage(n){let r="#";if(this.silentRefreshMessagePrefix&&(r+=this.silentRefreshMessagePrefix),!n||!n.data||typeof n.data!="string")return;let s=n.data;if(s.startsWith(r))return"#"+s.substr(r.length)}canPerformSessionCheck(){return this.sessionChecksEnabled?this.sessionCheckIFrameUrl?this.getSessionState()?!(typeof this.document>"u"):(console.warn("sessionChecksEnabled is activated but there is no session_state"),!1):(console.warn("sessionChecksEnabled is activated but there is no sessionCheckIFrameUrl"),!1):!1}setupSessionCheckEventListener(){this.removeSessionCheckEventListener(),this.sessionCheckEventListener=n=>{let r=n.origin.toLowerCase(),s=this.issuer.toLowerCase();if(this.debug("sessionCheckEventListener"),!s.startsWith(r)){this.debug("sessionCheckEventListener","wrong origin",r,"expected",s,"event",n);return}switch(n.data){case"unchanged":this.ngZone.run(()=>{this.handleSessionUnchanged()});break;case"changed":this.ngZone.run(()=>{this.handleSessionChange()});break;case"error":this.ngZone.run(()=>{this.handleSessionError()});break}this.debug("got info from session check inframe",n)},this.ngZone.runOutsideAngular(()=>{window.addEventListener("message",this.sessionCheckEventListener)})}handleSessionUnchanged(){this.debug("session check","session unchanged"),this.eventsSubject.next(new _n("session_unchanged"))}handleSessionChange(){this.eventsSubject.next(new _n("session_changed")),this.stopSessionCheckTimer(),!this.useSilentRefresh&&this.responseType==="code"?this.refreshToken().then(()=>{this.debug("token refresh after session change worked")}).catch(()=>{this.debug("token refresh did not work after session changed"),this.eventsSubject.next(new _n("session_terminated")),this.logOut(!0)}):this.silentRefreshRedirectUri?(this.silentRefresh().catch(()=>this.debug("silent refresh failed after session changed")),this.waitForSilentRefreshAfterSessionChange()):(this.eventsSubject.next(new _n("session_terminated")),this.logOut(!0))}waitForSilentRefreshAfterSessionChange(){this.events.pipe(M(n=>n.type==="silently_refreshed"||n.type==="silent_refresh_timeout"||n.type==="silent_refresh_error"),Mt()).subscribe(n=>{n.type!=="silently_refreshed"&&(this.debug("silent refresh did not work after session changed"),this.eventsSubject.next(new _n("session_terminated")),this.logOut(!0))})}handleSessionError(){this.stopSessionCheckTimer(),this.eventsSubject.next(new _n("session_error"))}removeSessionCheckEventListener(){this.sessionCheckEventListener&&(window.removeEventListener("message",this.sessionCheckEventListener),this.sessionCheckEventListener=null)}initSessionCheck(){if(!this.canPerformSessionCheck())return;let n=this.document.getElementById(this.sessionCheckIFrameName);n&&this.document.body.removeChild(n);let r=this.document.createElement("iframe");r.id=this.sessionCheckIFrameName,this.setupSessionCheckEventListener();let s=this.sessionCheckIFrameUrl;r.setAttribute("src",s),r.style.display="none",this.document.body.appendChild(r),this.startSessionCheckTimer()}startSessionCheckTimer(){this.stopSessionCheckTimer(),this.ngZone.runOutsideAngular(()=>{this.sessionCheckTimer=setInterval(this.checkSession.bind(this),this.sessionCheckIntervall)})}stopSessionCheckTimer(){this.sessionCheckTimer&&(clearInterval(this.sessionCheckTimer),this.sessionCheckTimer=null)}checkSession(){let n=this.document.getElementById(this.sessionCheckIFrameName);n||this.logger.warn("checkSession did not find iframe",this.sessionCheckIFrameName);let r=this.getSessionState();r||this.stopSessionCheckTimer();let s=this.clientId+" "+r;n.contentWindow.postMessage(s,this.issuer)}createLoginUrl(){return rt(this,arguments,function*(n="",r="",s="",o=!1,a={}){let c=this,u;s?u=s:u=this.redirectUri;let l=yield this.createAndSaveNonce();if(n?n=l+this.config.nonceStateSeparator+encodeURIComponent(n):n=l,!this.requestAccessToken&&!this.oidc)throw new Error("Either requestAccessToken or oidc or both must be true");this.config.responseType?this.responseType=this.config.responseType:this.oidc&&this.requestAccessToken?this.responseType="id_token token":this.oidc&&!this.requestAccessToken?this.responseType="id_token":this.responseType="token";let f=c.loginUrl.indexOf("?")>-1?"&":"?",h=c.scope;this.oidc&&!h.match(/(^|\s)openid($|\s)/)&&(h="openid "+h);let m=c.loginUrl+f+"response_type="+encodeURIComponent(c.responseType)+"&client_id="+encodeURIComponent(c.clientId)+"&state="+encodeURIComponent(n)+"&redirect_uri="+encodeURIComponent(u)+"&scope="+encodeURIComponent(h);if(this.responseType.includes("code")&&!this.disablePKCE){let[y,b]=yield this.createChallangeVerifierPairForPKCE();this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.setItem("PKCE_verifier",b):this._storage.setItem("PKCE_verifier",b),m+="&code_challenge="+y,m+="&code_challenge_method=S256"}r&&(m+="&login_hint="+encodeURIComponent(r)),c.resource&&(m+="&resource="+encodeURIComponent(c.resource)),c.oidc&&(m+="&nonce="+encodeURIComponent(l)),o&&(m+="&prompt=none");for(let y of Object.keys(a))m+="&"+encodeURIComponent(y)+"="+encodeURIComponent(a[y]);if(this.customQueryParams)for(let y of Object.getOwnPropertyNames(this.customQueryParams))m+="&"+y+"="+encodeURIComponent(this.customQueryParams[y]);return m})}initImplicitFlowInternal(n="",r=""){if(this.inImplicitFlow)return;if(this.inImplicitFlow=!0,!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");let s={},o=null;typeof r=="string"?o=r:typeof r=="object"&&(s=r),this.createLoginUrl(n,o,null,!1,s).then(this.config.openUri).catch(a=>{console.error("Error in initImplicitFlow",a),this.inImplicitFlow=!1})}initImplicitFlow(n="",r=""){this.loginUrl!==""?this.initImplicitFlowInternal(n,r):this.events.pipe(M(s=>s.type==="discovery_document_loaded")).subscribe(()=>this.initImplicitFlowInternal(n,r))}resetImplicitFlow(){this.inImplicitFlow=!1}callOnTokenReceivedIfExists(n){let r=this;if(n.onTokenReceived){let s={idClaims:r.getIdentityClaims(),idToken:r.getIdToken(),accessToken:r.getAccessToken(),state:r.state};n.onTokenReceived(s)}}storeAccessTokenResponse(n,r,s,o,a){if(this._storage.setItem("access_token",n),o&&!Array.isArray(o)?this._storage.setItem("granted_scopes",JSON.stringify(o.split(" "))):o&&Array.isArray(o)&&this._storage.setItem("granted_scopes",JSON.stringify(o)),this._storage.setItem("access_token_stored_at",""+this.dateTimeService.now()),s){let c=s*1e3,l=this.dateTimeService.new().getTime()+c;this._storage.setItem("expires_at",""+l)}r&&this._storage.setItem("refresh_token",r),a&&a.forEach((c,u)=>{this._storage.setItem(u,c)})}tryLogin(n=null){return this.config.responseType==="code"?this.tryLoginCodeFlow(n).then(()=>!0):this.tryLoginImplicitFlow(n)}parseQueryString(n){return!n||n.length===0?{}:(n.charAt(0)==="?"&&(n=n.substr(1)),this.urlHelper.parseQueryString(n))}tryLoginCodeFlow(n=null){return rt(this,null,function*(){n=n||{};let r=n.customHashFragment?n.customHashFragment.substring(1):window.location.search,s=this.getCodePartsFromUrl(r),o=s.code,a=s.state,c=s.session_state;if(!n.preventClearHashAfterLogin){let f=location.origin+location.pathname+location.search.replace(/code=[^&$]*/,"").replace(/scope=[^&$]*/,"").replace(/state=[^&$]*/,"").replace(/session_state=[^&$]*/,"").replace(/^\?&/,"?").replace(/&$/,"").replace(/^\?$/,"").replace(/&+/g,"&").replace(/\?&/,"?").replace(/\?$/,"")+location.hash;history.replaceState(null,window.name,f)}let[u,l]=this.parseState(a);if(this.state=l,s.error){this.debug("error trying to login"),this.handleLoginError(n,s);let f=new Ve("code_error",{},s);return this.eventsSubject.next(f),Promise.reject(f)}if(!n.disableNonceCheck){if(!u)return this.saveRequestedRoute(),Promise.resolve();if(!n.disableOAuth2StateCheck&&!this.validateNonce(u)){let h=new Ve("invalid_nonce_in_state",null);return this.eventsSubject.next(h),Promise.reject(h)}}return this.storeSessionState(c),o&&(yield this.getTokenFromCode(o,n),this.restoreRequestedRoute()),Promise.resolve()})}saveRequestedRoute(){this.config.preserveRequestedRoute&&this._storage.setItem("requested_route",window.location.pathname+window.location.search)}restoreRequestedRoute(){let n=this._storage.getItem("requested_route");n&&history.replaceState(null,"",window.location.origin+n)}getCodePartsFromUrl(n){return!n||n.length===0?this.urlHelper.getHashFragmentParams():(n.charAt(0)==="?"&&(n=n.substr(1)),this.urlHelper.parseQueryString(n))}getTokenFromCode(n,r){let s=new ze({encoder:new us}).set("grant_type","authorization_code").set("code",n).set("redirect_uri",r.customRedirectUri||this.redirectUri);if(!this.disablePKCE){let o;this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?o=localStorage.getItem("PKCE_verifier"):o=this._storage.getItem("PKCE_verifier"),o?s=s.set("code_verifier",o):console.warn("No PKCE verifier found in oauth storage!")}return this.fetchAndProcessToken(s,r)}fetchAndProcessToken(n,r){r=r||{},this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint");let s=new le().set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){let o=btoa(`${this.clientId}:${this.dummyClientSecret}`);s=s.set("Authorization","Basic "+o)}return this.useHttpBasicAuth||(n=n.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(n=n.set("client_secret",this.dummyClientSecret)),new Promise((o,a)=>{if(this.customQueryParams)for(let c of Object.getOwnPropertyNames(this.customQueryParams))n=n.set(c,this.customQueryParams[c]);this.http.post(this.tokenEndpoint,n,{headers:s}).subscribe(c=>{this.debug("refresh tokenResponse",c),this.storeAccessTokenResponse(c.access_token,c.refresh_token,c.expires_in||this.fallbackAccessTokenExpirationTimeInSec,c.scope,this.extractRecognizedCustomParameters(c)),this.oidc&&c.id_token?this.processIdToken(c.id_token,c.access_token,r.disableNonceCheck).then(u=>{this.storeIdToken(u),this.eventsSubject.next(new Lt("token_received")),this.eventsSubject.next(new Lt("token_refreshed")),o(c)}).catch(u=>{this.eventsSubject.next(new Ve("token_validation_error",u)),console.error("Error validating tokens"),console.error(u),a(u)}):(this.eventsSubject.next(new Lt("token_received")),this.eventsSubject.next(new Lt("token_refreshed")),o(c))},c=>{console.error("Error getting token",c),this.eventsSubject.next(new Ve("token_refresh_error",c)),a(c)})})}tryLoginImplicitFlow(n=null){n=n||{};let r;n.customHashFragment?r=this.urlHelper.getHashFragmentParams(n.customHashFragment):r=this.urlHelper.getHashFragmentParams(),this.debug("parsed url",r);let s=r.state,[o,a]=this.parseState(s);if(this.state=a,r.error){this.debug("error trying to login"),this.handleLoginError(n,r);let h=new Ve("token_error",{},r);return this.eventsSubject.next(h),Promise.reject(h)}let c=r.access_token,u=r.id_token,l=r.session_state,f=r.scope;if(!this.requestAccessToken&&!this.oidc)return Promise.reject("Either requestAccessToken or oidc (or both) must be true.");if(this.requestAccessToken&&!c||this.requestAccessToken&&!n.disableOAuth2StateCheck&&!s||this.oidc&&!u)return Promise.resolve(!1);if(this.sessionChecksEnabled&&!l&&this.logger.warn("session checks (Session Status Change Notification) were activated in the configuration but the id_token does not contain a session_state claim"),this.requestAccessToken&&!n.disableNonceCheck&&!this.validateNonce(o)){let m=new Ve("invalid_nonce_in_state",null);return this.eventsSubject.next(m),Promise.reject(m)}return this.requestAccessToken&&this.storeAccessTokenResponse(c,null,r.expires_in||this.fallbackAccessTokenExpirationTimeInSec,f),this.oidc?this.processIdToken(u,c,n.disableNonceCheck).then(h=>n.validationHandler?n.validationHandler({accessToken:c,idClaims:h.idTokenClaims,idToken:h.idToken,state:s}).then(()=>h):h).then(h=>(this.storeIdToken(h),this.storeSessionState(l),this.clearHashAfterLogin&&!n.preventClearHashAfterLogin&&this.clearLocationHash(),this.eventsSubject.next(new Lt("token_received")),this.callOnTokenReceivedIfExists(n),this.inImplicitFlow=!1,!0)).catch(h=>(this.eventsSubject.next(new Ve("token_validation_error",h)),this.logger.error("Error validating tokens"),this.logger.error(h),Promise.reject(h))):(this.eventsSubject.next(new Lt("token_received")),this.clearHashAfterLogin&&!n.preventClearHashAfterLogin&&this.clearLocationHash(),this.callOnTokenReceivedIfExists(n),Promise.resolve(!0))}parseState(n){let r=n,s="";if(n){let o=n.indexOf(this.config.nonceStateSeparator);o>-1&&(r=n.substr(0,o),s=n.substr(o+this.config.nonceStateSeparator.length))}return[r,s]}validateNonce(n){let r;return this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?r=localStorage.getItem("nonce"):r=this._storage.getItem("nonce"),r!==n?(console.error("Validating access_token failed, wrong state/nonce.",r,n),!1):!0}storeIdToken(n){this._storage.setItem("id_token",n.idToken),this._storage.setItem("id_token_claims_obj",n.idTokenClaimsJson),this._storage.setItem("id_token_expires_at",""+n.idTokenExpiresAt),this._storage.setItem("id_token_stored_at",""+this.dateTimeService.now())}storeSessionState(n){this._storage.setItem("session_state",n)}getSessionState(){return this._storage.getItem("session_state")}handleLoginError(n,r){n.onLoginError&&n.onLoginError(r),this.clearHashAfterLogin&&!n.preventClearHashAfterLogin&&this.clearLocationHash()}getClockSkewInMsec(n=6e5){return!this.clockSkewInSec&&this.clockSkewInSec!==0?n:this.clockSkewInSec*1e3}processIdToken(n,r,s=!1){let o=n.split("."),a=this.padBase64(o[0]),c=xM(a),u=JSON.parse(c),l=this.padBase64(o[1]),f=xM(l),h=JSON.parse(f),m;if(this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?m=localStorage.getItem("nonce"):m=this._storage.getItem("nonce"),Array.isArray(h.aud)){if(h.aud.every(U=>U!==this.clientId)){let U="Wrong audience: "+h.aud.join(",");return this.logger.warn(U),Promise.reject(U)}}else if(h.aud!==this.clientId){let U="Wrong audience: "+h.aud;return this.logger.warn(U),Promise.reject(U)}if(!h.sub){let U="No sub claim in id_token";return this.logger.warn(U),Promise.reject(U)}if(this.sessionChecksEnabled&&this.silentRefreshSubject&&this.silentRefreshSubject!==h.sub){let U=`After refreshing, we got an id_token for another user (sub). Expected sub: ${this.silentRefreshSubject}, received sub: ${h.sub}`;return this.logger.warn(U),Promise.reject(U)}if(!h.iat){let U="No iat claim in id_token";return this.logger.warn(U),Promise.reject(U)}if(!this.skipIssuerCheck&&h.iss!==this.issuer){let U="Wrong issuer: "+h.iss;return this.logger.warn(U),Promise.reject(U)}if(!s&&h.nonce!==m){let U="Wrong nonce: "+h.nonce;return this.logger.warn(U),Promise.reject(U)}if(Object.prototype.hasOwnProperty.call(this,"responseType")&&(this.responseType==="code"||this.responseType==="id_token")&&(this.disableAtHashCheck=!0),!this.disableAtHashCheck&&this.requestAccessToken&&!h.at_hash){let U="An at_hash is needed!";return this.logger.warn(U),Promise.reject(U)}let y=this.dateTimeService.now(),b=h.iat*1e3,w=h.exp*1e3,R=this.getClockSkewInMsec();if(b-R>=y||w+R-this.decreaseExpirationBySec<=y){let U="Token has expired";return console.error(U),console.error({now:y,issuedAtMSec:b,expiresAtMSec:w}),Promise.reject(U)}let k={accessToken:r,idToken:n,jwks:this.jwks,idTokenClaims:h,idTokenHeader:u,loadKeys:()=>this.loadJwks()};return this.disableAtHashCheck?this.checkSignature(k).then(()=>({idToken:n,idTokenClaims:h,idTokenClaimsJson:f,idTokenHeader:u,idTokenHeaderJson:c,idTokenExpiresAt:w})):this.checkAtHash(k).then(U=>{if(!this.disableAtHashCheck&&this.requestAccessToken&&!U){let H="Wrong at_hash";return this.logger.warn(H),Promise.reject(H)}return this.checkSignature(k).then(()=>{let H=!this.disableAtHashCheck,te={idToken:n,idTokenClaims:h,idTokenClaimsJson:f,idTokenHeader:u,idTokenHeaderJson:c,idTokenExpiresAt:w};return H?this.checkAtHash(k).then(ue=>{if(this.requestAccessToken&&!ue){let fe="Wrong at_hash";return this.logger.warn(fe),Promise.reject(fe)}else return te}):te})})}getIdentityClaims(){let n=this._storage.getItem("id_token_claims_obj");return n?JSON.parse(n):null}getGrantedScopes(){let n=this._storage.getItem("granted_scopes");return n?JSON.parse(n):null}getIdToken(){return this._storage?this._storage.getItem("id_token"):null}padBase64(n){for(;n.length%4!==0;)n+="=";return n}getAccessToken(){return this._storage?this._storage.getItem("access_token"):null}getRefreshToken(){return this._storage?this._storage.getItem("refresh_token"):null}getAccessTokenExpiration(){return this._storage.getItem("expires_at")?parseInt(this._storage.getItem("expires_at"),10):null}getAccessTokenStoredAt(){return parseInt(this._storage.getItem("access_token_stored_at"),10)}getIdTokenStoredAt(){return parseInt(this._storage.getItem("id_token_stored_at"),10)}getIdTokenExpiration(){return this._storage.getItem("id_token_expires_at")?parseInt(this._storage.getItem("id_token_expires_at"),10):null}hasValidAccessToken(){if(this.getAccessToken()){let n=this._storage.getItem("expires_at"),r=this.dateTimeService.new();return!(n&&parseInt(n,10)-this.decreaseExpirationBySec<r.getTime()-this.getClockSkewInMsec())}return!1}hasValidIdToken(){if(this.getIdToken()){let n=this._storage.getItem("id_token_expires_at"),r=this.dateTimeService.new();return!(n&&parseInt(n,10)-this.decreaseExpirationBySec<r.getTime()-this.getClockSkewInMsec())}return!1}getCustomTokenResponseProperty(n){return this._storage&&this.config.customTokenParameters&&this.config.customTokenParameters.indexOf(n)>=0&&this._storage.getItem(n)!==null?JSON.parse(this._storage.getItem(n)):null}authorizationHeader(){return"Bearer "+this.getAccessToken()}logOut(n={},r=""){let s=!1;typeof n=="boolean"&&(s=n,n={});let o=this.getIdToken();if(this._storage.removeItem("access_token"),this._storage.removeItem("id_token"),this._storage.removeItem("refresh_token"),this.saveNoncesInLocalStorage?(localStorage.removeItem("nonce"),localStorage.removeItem("PKCE_verifier")):(this._storage.removeItem("nonce"),this._storage.removeItem("PKCE_verifier")),this._storage.removeItem("expires_at"),this._storage.removeItem("id_token_claims_obj"),this._storage.removeItem("id_token_expires_at"),this._storage.removeItem("id_token_stored_at"),this._storage.removeItem("access_token_stored_at"),this._storage.removeItem("granted_scopes"),this._storage.removeItem("session_state"),this.config.customTokenParameters&&this.config.customTokenParameters.forEach(c=>this._storage.removeItem(c)),this.silentRefreshSubject=null,this.eventsSubject.next(new _n("logout")),!this.logoutUrl||s)return;let a;if(!this.validateUrlForHttps(this.logoutUrl))throw new Error("logoutUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");if(this.logoutUrl.indexOf("{{")>-1)a=this.logoutUrl.replace(/\{\{id_token\}\}/,encodeURIComponent(o)).replace(/\{\{client_id\}\}/,encodeURIComponent(this.clientId));else{let c=new ze({encoder:new us});o&&(c=c.set("id_token_hint",o));let u=this.postLogoutRedirectUri||this.redirectUriAsPostLogoutRedirectUriFallback&&this.redirectUri||"";u&&(c=c.set("post_logout_redirect_uri",u),r&&(c=c.set("state",r)));for(let l in n)c=c.set(l,n[l]);a=this.logoutUrl+(this.logoutUrl.indexOf("?")>-1?"&":"?")+c.toString()}this.config.openUri(a)}createAndSaveNonce(){let n=this;return this.createNonce().then(function(r){return n.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.setItem("nonce",r):n._storage.setItem("nonce",r),r})}ngOnDestroy(){this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.removeSilentRefreshEventListener();let n=this.document.getElementById(this.silentRefreshIFrameName);n&&n.remove(),this.stopSessionCheckTimer(),this.removeSessionCheckEventListener();let r=this.document.getElementById(this.sessionCheckIFrameName);r&&r.remove()}createNonce(){return new Promise(n=>{if(this.rngUrl)throw new Error("createNonce with rng-web-api has not been implemented so far");let r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=45,o="",a=typeof self>"u"?null:self.crypto||self.msCrypto;if(a){let c=new Uint8Array(s);a.getRandomValues(c),c.map||(c.map=Array.prototype.map),c=c.map(u=>r.charCodeAt(u%r.length)),o=String.fromCharCode.apply(null,c)}else for(;0<s--;)o+=r[Math.random()*r.length|0];n(NM(o))})}checkAtHash(n){return rt(this,null,function*(){return this.tokenValidationHandler?this.tokenValidationHandler.validateAtHash(n):(this.logger.warn("No tokenValidationHandler configured. Cannot check at_hash."),!0)})}checkSignature(n){return this.tokenValidationHandler?this.tokenValidationHandler.validateSignature(n):(this.logger.warn("No tokenValidationHandler configured. Cannot check signature."),Promise.resolve(null))}initLoginFlow(n="",r={}){return this.responseType==="code"?this.initCodeFlow(n,r):this.initImplicitFlow(n,r)}initCodeFlow(n="",r={}){this.loginUrl!==""?this.initCodeFlowInternal(n,r):this.events.pipe(M(s=>s.type==="discovery_document_loaded")).subscribe(()=>this.initCodeFlowInternal(n,r))}initCodeFlowInternal(n="",r={}){if(!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");let s={},o=null;typeof r=="string"?o=r:typeof r=="object"&&(s=r),this.createLoginUrl(n,o,null,!1,s).then(this.config.openUri).catch(a=>{console.error("Error in initAuthorizationCodeFlow"),console.error(a)})}createChallangeVerifierPairForPKCE(){return rt(this,null,function*(){if(!this.crypto)throw new Error("PKCE support for code flow needs a CryptoHander. Did you import the OAuthModule using forRoot() ?");let n=yield this.createNonce(),r=yield this.crypto.calcHash(n,"sha-256");return[NM(r),n]})}extractRecognizedCustomParameters(n){let r=new Map;return this.config.customTokenParameters&&this.config.customTokenParameters.forEach(s=>{n[s]&&r.set(s,JSON.stringify(n[s]))}),r}revokeTokenAndLogout(n={},r=!1){let s=this.revocationEndpoint,o=this.getAccessToken(),a=this.getRefreshToken();if(!o)return Promise.resolve();let c=new ze({encoder:new us}),u=new le().set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){let l=btoa(`${this.clientId}:${this.dummyClientSecret}`);u=u.set("Authorization","Basic "+l)}if(this.useHttpBasicAuth||(c=c.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(c=c.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(let l of Object.getOwnPropertyNames(this.customQueryParams))c=c.set(l,this.customQueryParams[l]);return new Promise((l,f)=>{let h,m;if(o){let y=c.set("token",o).set("token_type_hint","access_token");h=this.http.post(s,y,{headers:u})}else h=I(null);if(a){let y=c.set("token",a).set("token_type_hint","refresh_token");m=this.http.post(s,y,{headers:u})}else m=I(null);r&&(h=h.pipe(F(y=>y.status===0?I(null):xt(y))),m=m.pipe(F(y=>y.status===0?I(null):xt(y)))),_e([h,m]).subscribe(y=>{this.logOut(n),l(y),this.logger.info("Token successfully revoked")},y=>{this.logger.error("Error revoking token",y),this.eventsSubject.next(new Ve("token_revoke_error",y)),f(y)})})}clearLocationHash(){location.hash!=""&&(location.hash="")}};e.\u0275fac=function(r){return new(r||e)(d(Ce),d(ke),d(ls,8),d(zd,8),d(Eo,8),d(OM),d(Hd),d(Gd,8),d(Le),d(dc))},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})(),Wd=class{},qE=class{handleError(e){return xt(e)}},Jz=(()=>{let e=class e{constructor(n,r,s){this.oAuthService=n,this.errorHandler=r,this.moduleConfig=s}checkUrl(n){return this.moduleConfig.resourceServer.customUrlValidation?this.moduleConfig.resourceServer.customUrlValidation(n):this.moduleConfig.resourceServer.allowedUrls?!!this.moduleConfig.resourceServer.allowedUrls.find(r=>n.toLowerCase().startsWith(r.toLowerCase())):!0}intercept(n,r){let s=n.url.toLowerCase();return!this.moduleConfig||!this.moduleConfig.resourceServer||!this.checkUrl(s)?r.handle(n):this.moduleConfig.resourceServer.sendAccessToken?an(I(this.oAuthService.getAccessToken()).pipe(M(a=>!!a)),this.oAuthService.events.pipe(M(a=>a.type==="token_received"),ta(this.oAuthService.waitForTokenInMsec||0),F(()=>I(null)),E(()=>this.oAuthService.getAccessToken()))).pipe(ie(1),G(a=>{if(a){let c="Bearer "+a,u=n.headers.set("Authorization",c);n=n.clone({headers:u})}return r.handle(n).pipe(F(c=>this.errorHandler.handleError(c)))})):r.handle(n).pipe(F(a=>this.errorHandler.handleError(a)))}};e.\u0275fac=function(r){return new(r||e)(d(qd),d(Wd),d(Vd,8))},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})();function Xz(){return console}function eG(){return typeof sessionStorage<"u"?sessionStorage:new Gz}function tG(t=null,e=Bd){return rr([qd,OM,{provide:Hd,useFactory:Xz},{provide:ls,useFactory:eG},{provide:zd,useClass:e},{provide:Gd,useClass:Qz},{provide:Wd,useClass:qE},{provide:Vd,useValue:t},{provide:gn,useClass:Jz,multi:!0},{provide:dc,useClass:zz}])}var FM=(()=>{let e=class e{static forRoot(n=null,r=Bd){return{ngModule:e,providers:[tG(n,r)]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({imports:[Ze]});let t=e;return t})();var Pae=new S("AUTH_CONFIG");var UM="@ngrx/router-store/request",Vae=pi(UM,uo()),Zd="@ngrx/router-store/navigation",Hae=pi(Zd,uo()),Qd="@ngrx/router-store/cancel",zae=pi(Qd,uo()),Jd="@ngrx/router-store/error",Gae=pi(Jd,uo()),Xd="@ngrx/router-store/navigated",Wae=pi(Xd,uo());var Yd=class{serialize(e){return{root:this.serializeRoute(e.root),url:e.url}}serializeRoute(e){let i=e.children.map(n=>this.serializeRoute(n));return{params:e.params,data:e.data,url:e.url,outlet:e.outlet,title:e.title,routeConfig:e.routeConfig?{path:e.routeConfig.path,pathMatch:e.routeConfig.pathMatch,redirectTo:e.routeConfig.redirectTo,outlet:e.routeConfig.outlet,title:typeof e.routeConfig.title=="string"?e.routeConfig.title:void 0}:null,queryParams:e.queryParams,fragment:e.fragment,firstChild:i[0],children:i}}},YE=function(t){return t[t.PreActivation=1]="PreActivation",t[t.PostActivation=2]="PostActivation",t}(YE||{}),rG="router",_M=new S("@ngrx/router-store Internal Configuration"),jM=new S("@ngrx/router-store Configuration");function iG(t){return v({stateKey:rG,serializer:Yd,navigationActionTiming:YE.PreActivation},t)}var Kd=class{serialize(e){return{root:this.serializeRoute(e.root),url:e.url}}serializeRoute(e){let i=e.children.map(n=>this.serializeRoute(n));return{params:e.params,paramMap:e.paramMap,data:e.data,url:e.url,outlet:e.outlet,title:e.title,routeConfig:e.routeConfig?{component:e.routeConfig.component,path:e.routeConfig.path,pathMatch:e.routeConfig.pathMatch,redirectTo:e.routeConfig.redirectTo,outlet:e.routeConfig.outlet,title:e.routeConfig.title}:null,queryParams:e.queryParams,queryParamMap:e.queryParamMap,fragment:e.fragment,component:e.routeConfig?e.routeConfig.component:void 0,root:void 0,parent:void 0,firstChild:i[0],pathFromRoot:void 0,children:i}}},Co=class{},pr=function(t){return t[t.NONE=1]="NONE",t[t.ROUTER=2]="ROUTER",t[t.STORE=3]="STORE",t}(pr||{}),LM=(()=>{let e=class e{constructor(n,r,s,o,a,c){this.store=n,this.router=r,this.serializer=s,this.errorHandler=o,this.config=a,this.activeRuntimeChecks=c,this.lastEvent=null,this.routerState=null,this.trigger=pr.NONE,this.stateKey=this.config.stateKey,!nE()&&ge()&&(c?.strictActionSerializability||c?.strictStateSerializability)&&this.serializer instanceof Kd&&console.warn("@ngrx/router-store: The serializability runtime checks cannot be enabled with the FullRouterStateSerializer. The FullRouterStateSerializer has an unserializable router state and actions that are not serializable. To use the serializability runtime checks either use the MinimalRouterStateSerializer or implement a custom router state serializer."),this.setUpStoreStateListener(),this.setUpRouterEventsListener()}setUpStoreStateListener(){this.store.pipe(x(this.stateKey),it(this.store)).subscribe(([n,r])=>{this.navigateIfNeeded(n,r)})}navigateIfNeeded(n,r){if(!n||!n.state||this.trigger===pr.ROUTER||this.lastEvent instanceof vn)return;let s=n.state.url;sG(this.router.url,s)||(this.storeState=r,this.trigger=pr.STORE,this.router.navigateByUrl(s).catch(o=>{this.errorHandler.handleError(o)}))}setUpRouterEventsListener(){let n=this.config.navigationActionTiming===YE.PostActivation,r;this.router.events.pipe(it(this.store)).subscribe(([s,o])=>{this.lastEvent=s,s instanceof vn?(this.routerState=this.serializer.serialize(this.router.routerState.snapshot),this.trigger!==pr.STORE&&(this.storeState=o,this.dispatchRouterRequest(s))):s instanceof as?(r=s,!n&&this.trigger!==pr.STORE&&this.dispatchRouterNavigation(s)):s instanceof yn?(this.dispatchRouterCancel(s),this.reset()):s instanceof fr?(this.dispatchRouterError(s),this.reset()):s instanceof ot&&(this.trigger!==pr.STORE&&(n&&this.dispatchRouterNavigation(r),this.dispatchRouterNavigated(s)),this.reset())})}dispatchRouterRequest(n){this.dispatchRouterAction(UM,{event:n})}dispatchRouterNavigation(n){let r=this.serializer.serialize(n.state);this.dispatchRouterAction(Zd,{routerState:r,event:new as(n.id,n.url,n.urlAfterRedirects,r)})}dispatchRouterCancel(n){this.dispatchRouterAction(Qd,{storeState:this.storeState,event:n})}dispatchRouterError(n){this.dispatchRouterAction(Jd,{storeState:this.storeState,event:new fr(n.id,n.url,`${n}`)})}dispatchRouterNavigated(n){let r=this.serializer.serialize(this.router.routerState.snapshot);this.dispatchRouterAction(Xd,{event:n,routerState:r})}dispatchRouterAction(n,r){this.trigger=pr.ROUTER;try{this.store.dispatch({type:n,payload:T(v({routerState:this.routerState},r),{event:this.config.routerState===0?r.event:{id:r.event.id,url:r.event.url,urlAfterRedirects:r.event.urlAfterRedirects}})})}finally{this.trigger=pr.NONE}}reset(){this.trigger=pr.NONE,this.storeState=null,this.routerState=null}};e.\u0275fac=function(r){return new(r||e)(d(me),d(Oe),d(Co),d(Dt),d(jM),d(ns))},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})();function sG(t,e){return kM(t)===kM(e)}function kM(t){return t?.length>0&&t[t.length-1]==="/"?t.substring(0,t.length-1):t}function oG(t={}){return rr([{provide:_M,useValue:t},{provide:jM,useFactory:iG,deps:[_M]},{provide:Co,useClass:t.serializer?t.serializer:t.routerState===0?Kd:Yd},{provide:er,multi:!0,useFactory(){return()=>C(LM)}},LM])}var $M=(()=>{let e=class e{static forRoot(n={}){return{ngModule:e,providers:[oG(n)]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})();function KE(t){"@babel/helpers - typeof";return KE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},KE(t)}var BM=[],Yae=BM.forEach,Kae=BM.slice;function ZE(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":KE(XMLHttpRequest))==="object"}function cG(t){return!!t&&typeof t.then=="function"}function VM(t){return cG(t)?t:Promise.resolve(t)}var rf=$F(WM(),1);function qM(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),i.push.apply(i,n)}return i}function YM(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?qM(Object(i),!0).forEach(function(n){uG(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):qM(Object(i)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}function uG(t,e,i){return e=lG(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function lG(t){var e=dG(t,"string");return ds(e)=="symbol"?e:e+""}function dG(t,e){if(ds(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(ds(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ds(t){"@babel/helpers - typeof";return ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ds(t)}var Hr;typeof fetch=="function"&&(typeof global<"u"&&global.fetch?Hr=global.fetch:typeof window<"u"&&window.fetch?Hr=window.fetch:Hr=fetch);var pc;ZE()&&(typeof global<"u"&&global.XMLHttpRequest?pc=global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(pc=window.XMLHttpRequest));var sf;typeof ActiveXObject=="function"&&(typeof global<"u"&&global.ActiveXObject?sf=global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(sf=window.ActiveXObject));!Hr&&rf&&!pc&&!sf&&(Hr=rf.default||rf);typeof Hr!="function"&&(Hr=void 0);var JE=function(e,i){if(i&&ds(i)==="object"){var n="";for(var r in i)n+="&"+encodeURIComponent(r)+"="+encodeURIComponent(i[r]);if(!n)return e;e=e+(e.indexOf("?")!==-1?"&":"?")+n.slice(1)}return e},KM=function(e,i,n,r){var s=function(c){if(!c.ok)return n(c.statusText||"Error",{status:c.status});c.text().then(function(u){n(null,{status:c.status,data:u})}).catch(n)};if(r){var o=r(e,i);if(o instanceof Promise){o.then(s).catch(n);return}}typeof fetch=="function"?fetch(e,i).then(s).catch(n):Hr(e,i).then(s).catch(n)},ZM=!1,fG=function(e,i,n,r){e.queryStringParams&&(i=JE(i,e.queryStringParams));var s=YM({},typeof e.customHeaders=="function"?e.customHeaders():e.customHeaders);typeof window>"u"&&typeof global<"u"&&typeof global.process<"u"&&global.process.versions&&global.process.versions.node&&(s["User-Agent"]="i18next-http-backend (node/".concat(global.process.version,"; ").concat(global.process.platform," ").concat(global.process.arch,")")),n&&(s["Content-Type"]="application/json");var o=typeof e.requestOptions=="function"?e.requestOptions(n):e.requestOptions,a=YM({method:n?"POST":"GET",body:n?e.stringify(n):void 0,headers:s},ZM?{}:o),c=typeof e.alternateFetch=="function"&&e.alternateFetch.length>=1?e.alternateFetch:void 0;try{KM(i,a,r,c)}catch(u){if(!o||Object.keys(o).length===0||!u.message||u.message.indexOf("not implemented")<0)return r(u);try{Object.keys(o).forEach(function(l){delete a[l]}),KM(i,a,r,c),ZM=!0}catch(l){r(l)}}},hG=function(e,i,n,r){n&&ds(n)==="object"&&(n=JE("",n).slice(1)),e.queryStringParams&&(i=JE(i,e.queryStringParams));try{var s;pc?s=new pc:s=new sf("MSXML2.XMLHTTP.3.0"),s.open(n?"POST":"GET",i,1),e.crossDomain||s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s.withCredentials=!!e.withCredentials,n&&s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.overrideMimeType&&s.overrideMimeType("application/json");var o=e.customHeaders;if(o=typeof o=="function"?o():o,o)for(var a in o)s.setRequestHeader(a,o[a]);s.onreadystatechange=function(){s.readyState>3&&r(s.status>=400?s.statusText:null,{status:s.status,data:s.responseText})},s.send(n)}catch(c){console&&console.log(c)}},pG=function(e,i,n,r){if(typeof n=="function"&&(r=n,n=void 0),r=r||function(){},Hr&&i.indexOf("file:")!==0)return fG(e,i,n,r);if(ZE()||typeof ActiveXObject=="function")return hG(e,i,n,r);r(new Error("No fetch and no xhr implementation found!"))},QM=pG;function Io(t){"@babel/helpers - typeof";return Io=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Io(t)}function JM(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),i.push.apply(i,n)}return i}function XE(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?JM(Object(i),!0).forEach(function(n){ex(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):JM(Object(i)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}function gG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XM(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tx(n.key),n)}}function mG(t,e,i){return e&&XM(t.prototype,e),i&&XM(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function ex(t,e,i){return e=tx(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function tx(t){var e=vG(t,"string");return Io(e)=="symbol"?e:e+""}function vG(t,e){if(Io(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(Io(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yG=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(i){return JSON.parse(i)},stringify:JSON.stringify,parsePayload:function(i,n,r){return ex({},n,r||"")},parseLoadPayload:function(i,n){},request:QM,reloadInterval:typeof window<"u"?!1:60*60*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},nx=function(){function t(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};gG(this,t),this.services=e,this.options=i,this.allOptions=n,this.type="backend",this.init(e,i,n)}return mG(t,[{key:"init",value:function(i){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.services=i,this.options=XE(XE(XE({},yG()),this.options||{}),r),this.allOptions=s,this.services&&this.options.reloadInterval){var o=setInterval(function(){return n.reload()},this.options.reloadInterval);Io(o)==="object"&&typeof o.unref=="function"&&o.unref()}}},{key:"readMulti",value:function(i,n,r){this._readAny(i,i,n,n,r)}},{key:"read",value:function(i,n,r){this._readAny([i],i,[n],n,r)}},{key:"_readAny",value:function(i,n,r,s,o){var a=this,c=this.options.loadPath;typeof this.options.loadPath=="function"&&(c=this.options.loadPath(i,r)),c=VM(c),c.then(function(u){if(!u)return o(null,{});var l=a.services.interpolator.interpolate(u,{lng:i.join("+"),ns:r.join("+")});a.loadUrl(l,o,n,s)})}},{key:"loadUrl",value:function(i,n,r,s){var o=this,a=typeof r=="string"?[r]:r,c=typeof s=="string"?[s]:s,u=this.options.parseLoadPayload(a,c);this.options.request(this.options,i,u,function(l,f){if(f&&(f.status>=500&&f.status<600||!f.status))return n("failed loading "+i+"; status code: "+f.status,!0);if(f&&f.status>=400&&f.status<500)return n("failed loading "+i+"; status code: "+f.status,!1);if(!f&&l&&l.message&&l.message.indexOf("Failed to fetch")>-1)return n("failed loading "+i+": "+l.message,!0);if(l)return n(l,!1);var h,m;try{typeof f.data=="string"?h=o.options.parse(f.data,r,s):h=f.data}catch{m="failed parsing "+i+" to json"}if(m)return n(m,!1);n(null,h)})}},{key:"create",value:function(i,n,r,s,o){var a=this;if(this.options.addPath){typeof i=="string"&&(i=[i]);var c=this.options.parsePayload(n,r,s),u=0,l=[],f=[];i.forEach(function(h){var m=a.options.addPath;typeof a.options.addPath=="function"&&(m=a.options.addPath(h,n));var y=a.services.interpolator.interpolate(m,{lng:h,ns:n});a.options.request(a.options,y,c,function(b,w){u+=1,l.push(b),f.push(w),u===i.length&&typeof o=="function"&&o(l,f)})})}}},{key:"reload",value:function(){var i=this,n=this.services,r=n.backendConnector,s=n.languageUtils,o=n.logger,a=r.language;if(!(a&&a.toLowerCase()==="cimode")){var c=[],u=function(f){var h=s.toResolveHierarchy(f);h.forEach(function(m){c.indexOf(m)<0&&c.push(m)})};u(a),this.allOptions.preload&&this.allOptions.preload.forEach(function(l){return u(l)}),c.forEach(function(l){i.allOptions.ns.forEach(function(f){r.read(l,f,"read",null,null,function(h,m){h&&o.warn("loading namespace ".concat(f," for language ").concat(l," failed"),h),!h&&m&&o.log("loaded namespace ".concat(f," for language ").concat(l),m),r.loaded("".concat(l,"|").concat(f),h,m)})})})}}}])}();nx.type="backend";var rx=nx;var EG={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t]&&console[t].apply(console,e)}},tC=class t{constructor(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,i)}init(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=i.prefix||"i18next:",this.logger=e||EG,this.options=i,this.debug=i.debug}log(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return this.forward(i,"log","",!0)}warn(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return this.forward(i,"warn","",!0)}error(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return this.forward(i,"error","")}deprecate(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return this.forward(i,"warn","WARNING DEPRECATED: ",!0)}forward(e,i,n,r){return r&&!this.debug?null:(typeof e[0]=="string"&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[i](e))}create(e){return new t(this.logger,v({prefix:`${this.prefix}:${e}:`},this.options))}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new t(this.logger,e)}},gr=new tC,wo=class{constructor(){this.observers={}}on(e,i){return e.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);let r=this.observers[n].get(i)||0;this.observers[n].set(i,r+1)}),this}off(e,i){if(this.observers[e]){if(!i){delete this.observers[e];return}this.observers[e].delete(i)}}emit(e){for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(o=>{let[a,c]=o;for(let u=0;u<c;u++)a(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(o=>{let[a,c]=o;for(let u=0;u<c;u++)a.apply(a,[e,...n])})}};function gc(){let t,e,i=new Promise((n,r)=>{t=n,e=r});return i.resolve=t,i.reject=e,i}function ix(t){return t==null?"":""+t}function CG(t,e,i){t.forEach(n=>{e[n]&&(i[n]=e[n])})}var SG=/###/g;function mc(t,e,i){function n(a){return a&&a.indexOf("###")>-1?a.replace(SG,"."):a}function r(){return!t||typeof t=="string"}let s=typeof e!="string"?e:e.split("."),o=0;for(;o<s.length-1;){if(r())return{};let a=n(s[o]);!t[a]&&i&&(t[a]=new i),Object.prototype.hasOwnProperty.call(t,a)?t=t[a]:t={},++o}return r()?{}:{obj:t,k:n(s[o])}}function sx(t,e,i){let{obj:n,k:r}=mc(t,e,Object);if(n!==void 0||e.length===1){n[r]=i;return}let s=e[e.length-1],o=e.slice(0,e.length-1),a=mc(t,o,Object);for(;a.obj===void 0&&o.length;)s=`${o[o.length-1]}.${s}`,o=o.slice(0,o.length-1),a=mc(t,o,Object),a&&a.obj&&typeof a.obj[`${a.k}.${s}`]<"u"&&(a.obj=void 0);a.obj[`${a.k}.${s}`]=i}function IG(t,e,i,n){let{obj:r,k:s}=mc(t,e,Object);r[s]=r[s]||[],r[s].push(i)}function af(t,e){let{obj:i,k:n}=mc(t,e);if(i)return i[n]}function DG(t,e,i){let n=af(t,i);return n!==void 0?n:af(e,i)}function dx(t,e,i){for(let n in e)n!=="__proto__"&&n!=="constructor"&&(n in t?typeof t[n]=="string"||t[n]instanceof String||typeof e[n]=="string"||e[n]instanceof String?i&&(t[n]=e[n]):dx(t[n],e[n],i):t[n]=e[n]);return t}function Do(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var bG={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function wG(t){return typeof t=="string"?t.replace(/[&<>"'\/]/g,e=>bG[e]):t}var nC=class{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){let i=this.regExpMap.get(e);if(i!==void 0)return i;let n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}},TG=[" ",",","?","!",";"],AG=new nC(20);function RG(t,e,i){e=e||"",i=i||"";let n=TG.filter(o=>e.indexOf(o)<0&&i.indexOf(o)<0);if(n.length===0)return!0;let r=AG.getRegExp(`(${n.map(o=>o==="?"?"\\?":o).join("|")})`),s=!r.test(t);if(!s){let o=t.indexOf(i);o>0&&!r.test(t.substring(0,o))&&(s=!0)}return s}function rC(t,e){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return t[e];let n=e.split(i),r=t;for(let s=0;s<n.length;){if(!r||typeof r!="object")return;let o,a="";for(let c=s;c<n.length;++c)if(c!==s&&(a+=i),a+=n[c],o=r[a],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&c<n.length-1)continue;s+=c-s+1;break}r=o}return r}function cf(t){return t&&t.indexOf("_")>0?t.replace("_","-"):t}var uf=class extends wo{constructor(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=i,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){let i=this.options.ns.indexOf(e);i>-1&&this.options.ns.splice(i,1)}getResource(e,i,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,o=r.ignoreJSONStructure!==void 0?r.ignoreJSONStructure:this.options.ignoreJSONStructure,a;e.indexOf(".")>-1?a=e.split("."):(a=[e,i],n&&(Array.isArray(n)?a.push(...n):typeof n=="string"&&s?a.push(...n.split(s)):a.push(n)));let c=af(this.data,a);return!c&&!i&&!n&&e.indexOf(".")>-1&&(e=a[0],i=a[1],n=a.slice(2).join(".")),c||!o||typeof n!="string"?c:rC(this.data&&this.data[e]&&this.data[e][i],n,s)}addResource(e,i,n,r){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,a=[e,i];n&&(a=a.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(a=e.split("."),r=i,i=a[1]),this.addNamespaces(i),sx(this.data,a,r),s.silent||this.emit("added",e,i,n,r)}addResources(e,i,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(let s in n)(typeof n[s]=="string"||Array.isArray(n[s]))&&this.addResource(e,i,s,n[s],{silent:!0});r.silent||this.emit("added",e,i,n)}addResourceBundle(e,i,n,r,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},a=[e,i];e.indexOf(".")>-1&&(a=e.split("."),r=n,n=i,i=a[1]),this.addNamespaces(i);let c=af(this.data,a)||{};o.skipCopy||(n=JSON.parse(JSON.stringify(n))),r?dx(c,n,s):c=v(v({},c),n),sx(this.data,a,c),o.silent||this.emit("added",e,i,n)}removeResourceBundle(e,i){this.hasResourceBundle(e,i)&&delete this.data[e][i],this.removeNamespaces(i),this.emit("removed",e,i)}hasResourceBundle(e,i){return this.getResource(e,i)!==void 0}getResourceBundle(e,i){return i||(i=this.options.defaultNS),this.options.compatibilityAPI==="v1"?v({},this.getResource(e,i)):this.getResource(e,i)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){let i=this.getDataByLanguage(e);return!!(i&&Object.keys(i)||[]).find(r=>i[r]&&Object.keys(i[r]).length>0)}toJSON(){return this.data}},fx={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,i,n,r){return t.forEach(s=>{this.processors[s]&&(e=this.processors[s].process(e,i,n,r))}),e}},ox={},lf=class t extends wo{constructor(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),CG(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=i,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=gr.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;let n=this.resolve(e,i);return n&&n.res!==void 0}extractFromKey(e,i){let n=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");let r=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,s=i.ns||this.options.defaultNS||[],o=n&&e.indexOf(n)>-1,a=!this.options.userDefinedKeySeparator&&!i.keySeparator&&!this.options.userDefinedNsSeparator&&!i.nsSeparator&&!RG(e,n,r);if(o&&!a){let c=e.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:e,namespaces:s};let u=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(u[0])>-1)&&(s=u.shift()),e=u.join(r)}return typeof s=="string"&&(s=[s]),{key:e,namespaces:s}}translate(e,i,n){if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof i=="object"&&(i=v({},i)),i||(i={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);let r=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:o,namespaces:a}=this.extractFromKey(e[e.length-1],i),c=a[a.length-1],u=i.lng||this.language,l=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&u.toLowerCase()==="cimode"){if(l){let H=i.nsSeparator||this.options.nsSeparator;return r?{res:`${c}${H}${o}`,usedKey:o,exactUsedKey:o,usedLng:u,usedNS:c,usedParams:this.getUsedParamsDetails(i)}:`${c}${H}${o}`}return r?{res:o,usedKey:o,exactUsedKey:o,usedLng:u,usedNS:c,usedParams:this.getUsedParamsDetails(i)}:o}let f=this.resolve(e,i),h=f&&f.res,m=f&&f.usedKey||o,y=f&&f.exactUsedKey||o,b=Object.prototype.toString.apply(h),w=["[object Number]","[object Function]","[object RegExp]"],R=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,k=!this.i18nFormat||this.i18nFormat.handleAsObject;if(k&&h&&(typeof h!="string"&&typeof h!="boolean"&&typeof h!="number")&&w.indexOf(b)<0&&!(typeof R=="string"&&Array.isArray(h))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");let H=this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,h,T(v({},i),{ns:a})):`key '${o} (${this.language})' returned an object instead of string.`;return r?(f.res=H,f.usedParams=this.getUsedParamsDetails(i),f):H}if(s){let H=Array.isArray(h),te=H?[]:{},ue=H?y:m;for(let fe in h)if(Object.prototype.hasOwnProperty.call(h,fe)){let Pe=`${ue}${s}${fe}`;te[fe]=this.translate(Pe,T(v({},i),{joinArrays:!1,ns:a})),te[fe]===Pe&&(te[fe]=h[fe])}h=te}}else if(k&&typeof R=="string"&&Array.isArray(h))h=h.join(R),h&&(h=this.extendTranslation(h,e,i,n));else{let H=!1,te=!1,ue=i.count!==void 0&&typeof i.count!="string",fe=t.hasDefaultValue(i),Pe=ue?this.pluralResolver.getSuffix(u,i.count,i):"",Ri=i.ordinal&&ue?this.pluralResolver.getSuffix(u,i.count,{ordinal:!1}):"",Vn=ue&&!i.ordinal&&i.count===0&&this.pluralResolver.shouldUseIntlApi(),D=Vn&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${Pe}`]||i[`defaultValue${Ri}`]||i.defaultValue;!this.isValidLookup(h)&&fe&&(H=!0,h=D),this.isValidLookup(h)||(te=!0,h=o);let ne=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&te?void 0:h,ye=fe&&D!==h&&this.options.updateMissing;if(te||H||ye){if(this.logger.log(ye?"updateKey":"missingKey",u,c,o,ye?D:h),s){let ht=this.resolve(o,T(v({},i),{keySeparator:!1}));ht&&ht.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let we=[],de=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&de&&de[0])for(let ht=0;ht<de.length;ht++)we.push(de[ht]);else this.options.saveMissingTo==="all"?we=this.languageUtils.toResolveHierarchy(i.lng||this.language):we.push(i.lng||this.language);let Ir=(ht,He,sn)=>{let Qc=fe&&sn!==h?sn:ne;this.options.missingKeyHandler?this.options.missingKeyHandler(ht,c,He,Qc,ye,i):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(ht,c,He,Qc,ye,i),this.emit("missingKey",ht,c,He,h)};this.options.saveMissing&&(this.options.saveMissingPlurals&&ue?we.forEach(ht=>{let He=this.pluralResolver.getSuffixes(ht,i);Vn&&i[`defaultValue${this.options.pluralSeparator}zero`]&&He.indexOf(`${this.options.pluralSeparator}zero`)<0&&He.push(`${this.options.pluralSeparator}zero`),He.forEach(sn=>{Ir([ht],o+sn,i[`defaultValue${sn}`]||D)})}):Ir(we,o,D))}h=this.extendTranslation(h,e,i,f,n),te&&h===o&&this.options.appendNamespaceToMissingKey&&(h=`${c}:${o}`),(te||H)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?h=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}:${o}`:o,H?h:void 0):h=this.options.parseMissingKeyHandler(h))}return r?(f.res=h,f.usedParams=this.getUsedParamsDetails(i),f):h}extendTranslation(e,i,n,r,s){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,v(v({},this.options.interpolation.defaultVariables),n),n.lng||this.language||r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(T(v({},n),{interpolation:v(v({},this.options.interpolation),n.interpolation)}));let u=typeof e=="string"&&(n&&n.interpolation&&n.interpolation.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),l;if(u){let h=e.match(this.interpolator.nestingRegexp);l=h&&h.length}let f=n.replace&&typeof n.replace!="string"?n.replace:n;if(this.options.interpolation.defaultVariables&&(f=v(v({},this.options.interpolation.defaultVariables),f)),e=this.interpolator.interpolate(e,f,n.lng||this.language||r.usedLng,n),u){let h=e.match(this.interpolator.nestingRegexp),m=h&&h.length;l<m&&(n.nest=!1)}!n.lng&&this.options.compatibilityAPI!=="v1"&&r&&r.res&&(n.lng=this.language||r.usedLng),n.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var h=arguments.length,m=new Array(h),y=0;y<h;y++)m[y]=arguments[y];return s&&s[0]===m[0]&&!n.context?(o.logger.warn(`It seems you are nesting recursively key: ${m[0]} in key: ${i[0]}`),null):o.translate(...m,i)},n)),n.interpolation&&this.interpolator.reset()}let a=n.postProcess||this.options.postProcess,c=typeof a=="string"?[a]:a;return e!=null&&c&&c.length&&n.applyPostProcessor!==!1&&(e=fx.handle(c,e,i,this.options&&this.options.postProcessPassResolved?v({i18nResolved:T(v({},r),{usedParams:this.getUsedParamsDetails(n)})},n):n,this)),e}resolve(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n,r,s,o,a;return typeof e=="string"&&(e=[e]),e.forEach(c=>{if(this.isValidLookup(n))return;let u=this.extractFromKey(c,i),l=u.key;r=l;let f=u.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));let h=i.count!==void 0&&typeof i.count!="string",m=h&&!i.ordinal&&i.count===0&&this.pluralResolver.shouldUseIntlApi(),y=i.context!==void 0&&(typeof i.context=="string"||typeof i.context=="number")&&i.context!=="",b=i.lngs?i.lngs:this.languageUtils.toResolveHierarchy(i.lng||this.language,i.fallbackLng);f.forEach(w=>{this.isValidLookup(n)||(a=w,!ox[`${b[0]}-${w}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(a)&&(ox[`${b[0]}-${w}`]=!0,this.logger.warn(`key "${r}" for languages "${b.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),b.forEach(R=>{if(this.isValidLookup(n))return;o=R;let k=[l];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(k,l,R,w,i);else{let H;h&&(H=this.pluralResolver.getSuffix(R,i.count,i));let te=`${this.options.pluralSeparator}zero`,ue=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(h&&(k.push(l+H),i.ordinal&&H.indexOf(ue)===0&&k.push(l+H.replace(ue,this.options.pluralSeparator)),m&&k.push(l+te)),y){let fe=`${l}${this.options.contextSeparator}${i.context}`;k.push(fe),h&&(k.push(fe+H),i.ordinal&&H.indexOf(ue)===0&&k.push(fe+H.replace(ue,this.options.pluralSeparator)),m&&k.push(fe+te))}}let U;for(;U=k.pop();)this.isValidLookup(n)||(s=U,n=this.getResource(R,w,U,i))}))})}),{res:n,usedKey:r,exactUsedKey:s,usedLng:o,usedNS:a}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,i,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,i,n,r):this.resourceStore.getResource(e,i,n,r)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&typeof e.replace!="string",r=n?e.replace:e;if(n&&typeof e.count<"u"&&(r.count=e.count),this.options.interpolation.defaultVariables&&(r=v(v({},this.options.interpolation.defaultVariables),r)),!n){r=v({},r);for(let s of i)delete r[s]}return r}static hasDefaultValue(e){let i="defaultValue";for(let n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&i===n.substring(0,i.length)&&e[n]!==void 0)return!0;return!1}};function eC(t){return t.charAt(0).toUpperCase()+t.slice(1)}var df=class{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=gr.create("languageUtils")}getScriptPartFromCode(e){if(e=cf(e),!e||e.indexOf("-")<0)return null;let i=e.split("-");return i.length===2||(i.pop(),i[i.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(i.join("-"))}getLanguagePartFromCode(e){if(e=cf(e),!e||e.indexOf("-")<0)return e;let i=e.split("-");return this.formatLanguageCode(i[0])}formatLanguageCode(e){if(typeof e=="string"&&e.indexOf("-")>-1){let i=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map(r=>r.toLowerCase()):n.length===2?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),i.indexOf(n[1].toLowerCase())>-1&&(n[1]=eC(n[1].toLowerCase()))):n.length===3&&(n[0]=n[0].toLowerCase(),n[1].length===2&&(n[1]=n[1].toUpperCase()),n[0]!=="sgn"&&n[2].length===2&&(n[2]=n[2].toUpperCase()),i.indexOf(n[1].toLowerCase())>-1&&(n[1]=eC(n[1].toLowerCase())),i.indexOf(n[2].toLowerCase())>-1&&(n[2]=eC(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let i;return e.forEach(n=>{if(i)return;let r=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(r))&&(i=r)}),!i&&this.options.supportedLngs&&e.forEach(n=>{if(i)return;let r=this.getLanguagePartFromCode(n);if(this.isSupportedCode(r))return i=r;i=this.options.supportedLngs.find(s=>{if(s===r)return s;if(!(s.indexOf("-")<0&&r.indexOf("-")<0)&&(s.indexOf("-")>0&&r.indexOf("-")<0&&s.substring(0,s.indexOf("-"))===r||s.indexOf(r)===0&&r.length>1))return s})}),i||(i=this.getFallbackCodes(this.options.fallbackLng)[0]),i}getFallbackCodes(e,i){if(!e)return[];if(typeof e=="function"&&(e=e(i)),typeof e=="string"&&(e=[e]),Array.isArray(e))return e;if(!i)return e.default||[];let n=e[i];return n||(n=e[this.getScriptPartFromCode(i)]),n||(n=e[this.formatLanguageCode(i)]),n||(n=e[this.getLanguagePartFromCode(i)]),n||(n=e.default),n||[]}toResolveHierarchy(e,i){let n=this.getFallbackCodes(i||this.options.fallbackLng||[],e),r=[],s=o=>{o&&(this.isSupportedCode(o)?r.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return typeof e=="string"&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(e))):typeof e=="string"&&s(this.formatLanguageCode(e)),n.forEach(o=>{r.indexOf(o)<0&&s(this.formatLanguageCode(o))}),r}},MG=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],xG={1:function(t){return+(t>1)},2:function(t){return+(t!=1)},3:function(t){return 0},4:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},5:function(t){return t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},6:function(t){return t==1?0:t>=2&&t<=4?1:2},7:function(t){return t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},8:function(t){return t==1?0:t==2?1:t!=8&&t!=11?2:3},9:function(t){return+(t>=2)},10:function(t){return t==1?0:t==2?1:t<7?2:t<11?3:4},11:function(t){return t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3},12:function(t){return+(t%10!=1||t%100==11)},13:function(t){return+(t!==0)},14:function(t){return t==1?0:t==2?1:t==3?2:3},15:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2},16:function(t){return t%10==1&&t%100!=11?0:t!==0?1:2},17:function(t){return t==1||t%10==1&&t%100!=11?0:1},18:function(t){return t==0?0:t==1?1:2},19:function(t){return t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3},20:function(t){return t==1?0:t==0||t%100>0&&t%100<20?1:2},21:function(t){return t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0},22:function(t){return t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3}},NG=["v1","v2","v3"],OG=["v4"],ax={zero:0,one:1,two:2,few:3,many:4,other:5};function PG(){let t={};return MG.forEach(e=>{e.lngs.forEach(i=>{t[i]={numbers:e.nr,plurals:xG[e.fc]}})}),t}var iC=class{constructor(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=i,this.logger=gr.create("pluralResolver"),(!this.options.compatibilityJSON||OG.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=PG()}addRule(e,i){this.rules[e]=i}getRule(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(cf(e==="dev"?"en":e),{type:i.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=this.getRule(e,i);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}getPluralFormsOfKey(e,i){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,n).map(r=>`${i}${r}`)}getSuffixes(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=this.getRule(e,i);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort((r,s)=>ax[r]-ax[s]).map(r=>`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${r}`):n.numbers.map(r=>this.getSuffix(e,r,i)):[]}getSuffix(e,i){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=this.getRule(e,n);return r?this.shouldUseIntlApi()?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${r.select(i)}`:this.getSuffixRetroCompatible(r,i):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,i){let n=e.noAbs?e.plurals(i):e.plurals(Math.abs(i)),r=e.numbers[n];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(r===2?r="plural":r===1&&(r=""));let s=()=>this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString();return this.options.compatibilityJSON==="v1"?r===1?"":typeof r=="number"?`_plural_${r.toString()}`:s():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?s():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}shouldUseIntlApi(){return!NG.includes(this.options.compatibilityJSON)}};function cx(t,e,i){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=DG(t,e,i);return!s&&r&&typeof i=="string"&&(s=rC(t,i,n),s===void 0&&(s=rC(e,i,n))),s}var sC=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=gr.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(i=>i),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});let{escape:i,escapeValue:n,useRawValueToEscape:r,prefix:s,prefixEscaped:o,suffix:a,suffixEscaped:c,formatSeparator:u,unescapeSuffix:l,unescapePrefix:f,nestingPrefix:h,nestingPrefixEscaped:m,nestingSuffix:y,nestingSuffixEscaped:b,nestingOptionsSeparator:w,maxReplaces:R,alwaysFormat:k}=e.interpolation;this.escape=i!==void 0?i:wG,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=r!==void 0?r:!1,this.prefix=s?Do(s):o||"{{",this.suffix=a?Do(a):c||"}}",this.formatSeparator=u||",",this.unescapePrefix=l?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":l||"",this.nestingPrefix=h?Do(h):m||Do("$t("),this.nestingSuffix=y?Do(y):b||Do(")"),this.nestingOptionsSeparator=w||",",this.maxReplaces=R||1e3,this.alwaysFormat=k!==void 0?k:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){let e=(i,n)=>i&&i.source===n?(i.lastIndex=0,i):new RegExp(n,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,i,n,r){let s,o,a,c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function u(y){return y.replace(/\$/g,"$$$$")}let l=y=>{if(y.indexOf(this.formatSeparator)<0){let k=cx(i,c,y,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(k,void 0,n,T(v(v({},r),i),{interpolationkey:y})):k}let b=y.split(this.formatSeparator),w=b.shift().trim(),R=b.join(this.formatSeparator).trim();return this.format(cx(i,c,w,this.options.keySeparator,this.options.ignoreJSONStructure),R,n,T(v(v({},r),i),{interpolationkey:w}))};this.resetRegExp();let f=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,h=r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:y=>u(y)},{regex:this.regexp,safeValue:y=>this.escapeValue?u(this.escape(y)):u(y)}].forEach(y=>{for(a=0;s=y.regex.exec(e);){let b=s[1].trim();if(o=l(b),o===void 0)if(typeof f=="function"){let R=f(e,s,r);o=typeof R=="string"?R:""}else if(r&&Object.prototype.hasOwnProperty.call(r,b))o="";else if(h){o=s[0];continue}else this.logger.warn(`missed to pass in variable ${b} for interpolating ${e}`),o="";else typeof o!="string"&&!this.useRawValueToEscape&&(o=ix(o));let w=y.safeValue(o);if(e=e.replace(s[0],w),h?(y.regex.lastIndex+=o.length,y.regex.lastIndex-=s[0].length):y.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),e}nest(e,i){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r,s,o;function a(c,u){let l=this.nestingOptionsSeparator;if(c.indexOf(l)<0)return c;let f=c.split(new RegExp(`${l}[ ]*{`)),h=`{${f[1]}`;c=f[0],h=this.interpolate(h,o);let m=h.match(/'/g),y=h.match(/"/g);(m&&m.length%2===0&&!y||y.length%2!==0)&&(h=h.replace(/'/g,'"'));try{o=JSON.parse(h),u&&(o=v(v({},u),o))}catch(b){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,b),`${c}${l}${h}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,c}for(;r=this.nestingRegexp.exec(e);){let c=[];o=v({},n),o=o.replace&&typeof o.replace!="string"?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let u=!1;if(r[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(r[1])){let l=r[1].split(this.formatSeparator).map(f=>f.trim());r[1]=l.shift(),c=l,u=!0}if(s=i(a.call(this,r[1].trim(),o),o),s&&r[0]===e&&typeof s!="string")return s;typeof s!="string"&&(s=ix(s)),s||(this.logger.warn(`missed to resolve ${r[1]} for nesting ${e}`),s=""),u&&(s=c.reduce((l,f)=>this.format(l,f,n.lng,T(v({},n),{interpolationkey:r[1].trim()})),s.trim())),e=e.replace(r[0],s),this.regexp.lastIndex=0}return e}};function FG(t){let e=t.toLowerCase().trim(),i={};if(t.indexOf("(")>-1){let n=t.split("(");e=n[0].toLowerCase().trim();let r=n[1].substring(0,n[1].length-1);e==="currency"&&r.indexOf(":")<0?i.currency||(i.currency=r.trim()):e==="relativetime"&&r.indexOf(":")<0?i.range||(i.range=r.trim()):r.split(";").forEach(o=>{if(o){let[a,...c]=o.split(":"),u=c.join(":").trim().replace(/^'+|'+$/g,""),l=a.trim();i[l]||(i[l]=u),u==="false"&&(i[l]=!1),u==="true"&&(i[l]=!0),isNaN(u)||(i[l]=parseInt(u,10))}})}return{formatName:e,formatOptions:i}}function bo(t){let e={};return function(n,r,s){let o=r+JSON.stringify(s),a=e[o];return a||(a=t(cf(r),s),e[o]=a),a(n)}}var oC=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=gr.create("formatter"),this.options=e,this.formats={number:bo((i,n)=>{let r=new Intl.NumberFormat(i,v({},n));return s=>r.format(s)}),currency:bo((i,n)=>{let r=new Intl.NumberFormat(i,T(v({},n),{style:"currency"}));return s=>r.format(s)}),datetime:bo((i,n)=>{let r=new Intl.DateTimeFormat(i,v({},n));return s=>r.format(s)}),relativetime:bo((i,n)=>{let r=new Intl.RelativeTimeFormat(i,v({},n));return s=>r.format(s,n.range||"day")}),list:bo((i,n)=>{let r=new Intl.ListFormat(i,v({},n));return s=>r.format(s)})},this.init(e)}init(e){let n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||","}add(e,i){this.formats[e.toLowerCase().trim()]=i}addCached(e,i){this.formats[e.toLowerCase().trim()]=bo(i)}format(e,i,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return i.split(this.formatSeparator).reduce((a,c)=>{let{formatName:u,formatOptions:l}=FG(c);if(this.formats[u]){let f=a;try{let h=r&&r.formatParams&&r.formatParams[r.interpolationkey]||{},m=h.locale||h.lng||r.locale||r.lng||n;f=this.formats[u](a,m,v(v(v({},l),r),h))}catch(h){this.logger.warn(h)}return f}else this.logger.warn(`there was no format function for ${u}`);return a},e)}};function _G(t,e){t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)}var aC=class extends wo{constructor(e,i,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=i,this.services=n,this.languageUtils=n.languageUtils,this.options=r,this.logger=gr.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=r.maxParallelReads||10,this.readingCalls=0,this.maxRetries=r.maxRetries>=0?r.maxRetries:5,this.retryTimeout=r.retryTimeout>=1?r.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(n,r.backend,r)}queueLoad(e,i,n,r){let s={},o={},a={},c={};return e.forEach(u=>{let l=!0;i.forEach(f=>{let h=`${u}|${f}`;!n.reload&&this.store.hasResourceBundle(u,f)?this.state[h]=2:this.state[h]<0||(this.state[h]===1?o[h]===void 0&&(o[h]=!0):(this.state[h]=1,l=!1,o[h]===void 0&&(o[h]=!0),s[h]===void 0&&(s[h]=!0),c[f]===void 0&&(c[f]=!0)))}),l||(a[u]=!0)}),(Object.keys(s).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(s),pending:Object.keys(o),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(c)}}loaded(e,i,n){let r=e.split("|"),s=r[0],o=r[1];i&&this.emit("failedLoading",s,o,i),n&&this.store.addResourceBundle(s,o,n,void 0,void 0,{skipCopy:!0}),this.state[e]=i?-1:2;let a={};this.queue.forEach(c=>{IG(c.loaded,[s],o),_G(c,e),i&&c.errors.push(i),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(u=>{a[u]||(a[u]={});let l=c.loaded[u];l.length&&l.forEach(f=>{a[u][f]===void 0&&(a[u][f]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(c=>!c.done)}read(e,i,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:i,fcName:n,tried:r,wait:s,callback:o});return}this.readingCalls++;let a=(u,l)=>{if(this.readingCalls--,this.waitingReads.length>0){let f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(u&&l&&r<this.maxRetries){setTimeout(()=>{this.read.call(this,e,i,n,r+1,s*2,o)},s);return}o(u,l)},c=this.backend[n].bind(this.backend);if(c.length===2){try{let u=c(e,i);u&&typeof u.then=="function"?u.then(l=>a(null,l)).catch(a):a(null,u)}catch(u){a(u)}return}return c(e,i,a)}prepareLoading(e,i){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();typeof e=="string"&&(e=this.languageUtils.toResolveHierarchy(e)),typeof i=="string"&&(i=[i]);let s=this.queueLoad(e,i,n,r);if(!s.toLoad.length)return s.pending.length||r(),null;s.toLoad.forEach(o=>{this.loadOne(o)})}load(e,i,n){this.prepareLoading(e,i,{},n)}reload(e,i,n){this.prepareLoading(e,i,{reload:!0},n)}loadOne(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=e.split("|"),r=n[0],s=n[1];this.read(r,s,"read",void 0,void 0,(o,a)=>{o&&this.logger.warn(`${i}loading namespace ${s} for language ${r} failed`,o),!o&&a&&this.logger.log(`${i}loaded namespace ${s} for language ${r}`,a),this.loaded(e,o,a)})}saveMissing(e,i,n,r,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(i)){this.logger.warn(`did not save key "${n}" as the namespace "${i}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if(this.backend&&this.backend.create){let c=T(v({},o),{isUpdate:s}),u=this.backend.create.bind(this.backend);if(u.length<6)try{let l;u.length===5?l=u(e,i,n,r,c):l=u(e,i,n,r),l&&typeof l.then=="function"?l.then(f=>a(null,f)).catch(a):a(null,l)}catch(l){a(l)}else u(e,i,n,r,a,c)}!e||!e[0]||this.store.addResource(e[0],i,n,r)}}};function ux(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){let i={};if(typeof e[1]=="object"&&(i=e[1]),typeof e[1]=="string"&&(i.defaultValue=e[1]),typeof e[2]=="string"&&(i.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){let n=e[3]||e[2];Object.keys(n).forEach(r=>{i[r]=n[r]})}return i},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function lx(t){return typeof t.ns=="string"&&(t.ns=[t.ns]),typeof t.fallbackLng=="string"&&(t.fallbackLng=[t.fallbackLng]),typeof t.fallbackNS=="string"&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function of(){}function LG(t){Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(i=>{typeof t[i]=="function"&&(t[i]=t[i].bind(t))})}var ff=class t extends wo{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;if(super(),this.options=lx(e),this.services={},this.logger=gr,this.modules={external:[]},LG(this),i&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,i),this;setTimeout(()=>{this.init(e,i)},0)}}init(){var e=this;let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof i=="function"&&(n=i,i={}),!i.defaultNS&&i.defaultNS!==!1&&i.ns&&(typeof i.ns=="string"?i.defaultNS=i.ns:i.ns.indexOf("translation")<0&&(i.defaultNS=i.ns[0]));let r=ux();this.options=v(v(v({},r),this.options),lx(i)),this.options.compatibilityAPI!=="v1"&&(this.options.interpolation=v(v({},r.interpolation),this.options.interpolation)),i.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=i.keySeparator),i.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=i.nsSeparator);function s(l){return l?typeof l=="function"?new l:l:null}if(!this.options.isClone){this.modules.logger?gr.init(s(this.modules.logger),this.options):gr.init(null,this.options);let l;this.modules.formatter?l=this.modules.formatter:typeof Intl<"u"&&(l=oC);let f=new df(this.options);this.store=new uf(this.options.resources,this.options);let h=this.services;h.logger=gr,h.resourceStore=this.store,h.languageUtils=f,h.pluralResolver=new iC(f,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),l&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(h.formatter=s(l),h.formatter.init(h,this.options),this.options.interpolation.format=h.formatter.format.bind(h.formatter)),h.interpolator=new sC(this.options),h.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},h.backendConnector=new aC(s(this.modules.backend),h.resourceStore,h,this.options),h.backendConnector.on("*",function(m){for(var y=arguments.length,b=new Array(y>1?y-1:0),w=1;w<y;w++)b[w-1]=arguments[w];e.emit(m,...b)}),this.modules.languageDetector&&(h.languageDetector=s(this.modules.languageDetector),h.languageDetector.init&&h.languageDetector.init(h,this.options.detection,this.options)),this.modules.i18nFormat&&(h.i18nFormat=s(this.modules.i18nFormat),h.i18nFormat.init&&h.i18nFormat.init(this)),this.translator=new lf(this.services,this.options),this.translator.on("*",function(m){for(var y=arguments.length,b=new Array(y>1?y-1:0),w=1;w<y;w++)b[w-1]=arguments[w];e.emit(m,...b)}),this.modules.external.forEach(m=>{m.init&&m.init(this)})}if(this.format=this.options.interpolation.format,n||(n=of),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){let l=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);l.length>0&&l[0]!=="dev"&&(this.options.lng=l[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(l=>{this[l]=function(){return e.store[l](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(l=>{this[l]=function(){return e.store[l](...arguments),e}});let c=gc(),u=()=>{let l=(f,h)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(h),n(f,h)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return l(null,this.t.bind(this));this.changeLanguage(this.options.lng,l)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),c}loadResources(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:of,r=typeof e=="string"?e:this.language;if(typeof e=="function"&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(r&&r.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();let s=[],o=a=>{if(!a||a==="cimode")return;this.services.languageUtils.toResolveHierarchy(a).forEach(u=>{u!=="cimode"&&s.indexOf(u)<0&&s.push(u)})};r?o(r):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>o(c)),this.options.preload&&this.options.preload.forEach(a=>o(a)),this.services.backendConnector.load(s,this.options.ns,a=>{!a&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(a)})}else n(null)}reloadResources(e,i,n){let r=gc();return e||(e=this.languages),i||(i=this.options.ns),n||(n=of),this.services.backendConnector.reload(e,i,s=>{r.resolve(),n(s)}),r}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&fx.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let i=0;i<this.languages.length;i++){let n=this.languages[i];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}changeLanguage(e,i){var n=this;this.isLanguageChangingTo=e;let r=gc();this.emit("languageChanging",e);let s=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},o=(c,u)=>{u?(s(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,r.resolve(function(){return n.t(...arguments)}),i&&i(c,function(){return n.t(...arguments)})},a=c=>{!e&&!c&&this.services.languageDetector&&(c=[]);let u=typeof c=="string"?c:this.services.languageUtils.getBestMatchFromCodes(c);u&&(this.language||s(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(u)),this.loadResources(u,l=>{o(l,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),r}getFixedT(e,i,n){var r=this;let s=function(o,a){let c;if(typeof a!="object"){for(var u=arguments.length,l=new Array(u>2?u-2:0),f=2;f<u;f++)l[f-2]=arguments[f];c=r.options.overloadTranslationOptionHandler([o,a].concat(l))}else c=v({},a);c.lng=c.lng||s.lng,c.lngs=c.lngs||s.lngs,c.ns=c.ns||s.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||n||s.keyPrefix);let h=r.options.keySeparator||".",m;return c.keyPrefix&&Array.isArray(o)?m=o.map(y=>`${c.keyPrefix}${h}${y}`):m=c.keyPrefix?`${c.keyPrefix}${h}${o}`:o,r.t(m,c)};return typeof e=="string"?s.lng=e:s.lngs=e,s.ns=i,s.keyPrefix=n,s}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;let n=i.lng||this.resolvedLanguage||this.languages[0],r=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;let o=(a,c)=>{let u=this.services.backendConnector.state[`${a}|${c}`];return u===-1||u===2};if(i.precheck){let a=i.precheck(this,o);if(a!==void 0)return a}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(n,e)&&(!r||o(s,e)))}loadNamespaces(e,i){let n=gc();return this.options.ns?(typeof e=="string"&&(e=[e]),e.forEach(r=>{this.options.ns.indexOf(r)<0&&this.options.ns.push(r)}),this.loadResources(r=>{n.resolve(),i&&i(r)}),n):(i&&i(),Promise.resolve())}loadLanguages(e,i){let n=gc();typeof e=="string"&&(e=[e]);let r=this.options.preload||[],s=e.filter(o=>r.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return s.length?(this.options.preload=r.concat(s),this.loadResources(o=>{n.resolve(),i&&i(o)}),n):(i&&i(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";let i=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=this.services&&this.services.languageUtils||new df(ux());return i.indexOf(n.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;return new t(e,i)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:of,n=e.forkResourceStore;n&&delete e.forkResourceStore;let r=T(v(v({},this.options),e),{isClone:!0}),s=new t(r);return(e.debug!==void 0||e.prefix!==void 0)&&(s.logger=s.logger.clone(e)),["store","services","language"].forEach(a=>{s[a]=this[a]}),s.services=v({},this.services),s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},n&&(s.store=new uf(this.store.data,r),s.services.resourceStore=s.store),s.translator=new lf(s.services,r),s.translator.on("*",function(a){for(var c=arguments.length,u=new Array(c>1?c-1:0),l=1;l<c;l++)u[l-1]=arguments[l];s.emit(a,...u)}),s.init(r,i),s.translator.options=r,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}},vt=ff.createInstance();vt.createInstance=ff.createInstance;var rce=vt.createInstance,ice=vt.dir,sce=vt.init,oce=vt.loadResources,ace=vt.reloadResources,cce=vt.use,uce=vt.changeLanguage,lce=vt.getFixedT,dce=vt.t,fce=vt.exists,hce=vt.setDefaultNamespace,pce=vt.hasLoadedNamespace,gce=vt.loadNamespaces,mce=vt.loadLanguages;var hx=function(e){return{type:"backend",init:function(n,r,s){},read:function(n,r,s){if(typeof e=="function"){if(e.length<3){try{var o=e(n,r);o&&typeof o.then=="function"?o.then(function(a){return s(null,a&&a.default||a)}).catch(s):s(null,o)}catch(a){s(a)}return}e(n,r,s);return}s(null,e&&e[n]&&e[n][r])}}};function vf(t){return t&&typeof t=="object"&&!Array.isArray(t)}function kG(t){return t==="__proto__"||t==="constructor"}function Et(t={},...e){if(!e.length)return t;let i=e.shift()||{};if(!vf(i))return Et(t,...e);for(let n in i)kG(n)||(i[n]instanceof Date?t[n]=i[n]:vf(i[n])?(vf(t[n])||(t[n]={}),Et(t[n],i[n])):t[n]=i[n]);return Et(t,...e)}function UG(){return Et({},C($x),C(OS))}var Ut=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=g({token:e,factory:()=>UG(),providedIn:"root"});let t=e;return t})();function jG(){return Et({},...C(Vo,{optional:!0})??[])}var $x=new S("DefaultConfiguration",{providedIn:"root",factory:jG});function $G(){return Et({},...C(Ac,{optional:!0})??[])}var OS=new S("RootConfiguration",{providedIn:"root",factory:$G}),Ac=new S("ConfigurationChunk"),Vo=new S("DefaultConfigurationChunk");function px(t={},e=!1){return{provide:e?Vo:Ac,useValue:t,multi:!0}}function yf(t,e,i=!1){return{provide:i?Vo:Ac,useFactory:t,multi:!0,deps:e}}function Un(t={}){return{provide:Vo,useValue:t,multi:!0}}function Ho(t,e){return{provide:Vo,useFactory:t,multi:!0,deps:e}}var BG={anonymousConsents:{registerConsent:"MARKETING_NEWSLETTER",showLegalDescriptionInDialog:!0,requiredConsents:[],consentManagementPage:{showAnonymousConsents:!0,hideConsents:[]}}},PS=function(t){return t.BILLING="BILLING",t.SHIPPING="SHIPPING",t}(PS||{}),be=function(t){return t.CONTENT_PAGE="ContentPage",t.PRODUCT_PAGE="ProductPage",t.CATEGORY_PAGE="CategoryPage",t.CATALOG_PAGE="CatalogPage",t}(be||{}),VG=function(t){return t.AUTO="auto",t.SMOOTH="smooth",t}(VG||{});var HG=function(t){return t.NO_BACKGROUND="NO_BACKGROUND",t.UPLOAD_RESPONSIVE_IMAGE="UPLOAD_RESPONSIVE_IMAGE",t.UPLOAD_THUMBNAIL="UPLOAD_THUMBNAIL",t}(HG||{});var Ao="userCmsEndpoints",_o=function(t){return t.GIVEN="GIVEN",t.WITHDRAWN="WITHDRAWN",t}(_o||{}),vC="X-Anonymous-Consents";var Ef=class{},zG=function(t){return t.ADMIN="b2badmingroup",t.CUSTOMER="b2bcustomergroup",t.MANAGER="b2bmanagergroup",t.APPROVER="b2bapprovergroup",t}(zG||{}),GG=function(t){return t.UNITORDERVIEWER="unitorderviewergroup",t}(GG||{}),WG=function(t){return t.BACK_IN_STOCK="BACK_IN_STOCK",t}(WG||{}),qG=function(t){return t.SIZE="ApparelSizeVariantProduct",t.STYLE="ApparelStyleVariantProduct",t.COLOR="ElectronicsColorVariantProduct",t}(qG||{});var YG=function(t){return t.SIZE="size",t.STYLE="style",t.COLOR="color",t.THUMBNAIL="thumbnail",t.PRODUCT="product",t.ROLLUP_PROPERTY="rollupProperty",t}(YG||{}),Bx="[ENTITY] REMOVE",Vx="[ENTITY] REMOVE ALL";function Di(t,e){return{entityType:t,entityId:e}}function Hx(t,e){return{entityId:e,entityType:t,entityRemove:!0}}function zx(t){return{entityId:null,entityType:t,entityRemove:!0}}var yC=class{constructor(e,i){this.type=Bx,this.meta=Hx(e,i)}},EC=class{constructor(e){this.type=Vx,this.meta=zx(e)}},Gx="[LOADER] LOAD",Wx="[LOADER] FAIL",qx="[LOADER] SUCCESS",Yx="[LOADER] RESET";function FS(t){return{entityType:t,loader:{load:!0}}}function _S(t,e){return{entityType:t,loader:{error:e||!0}}}function LS(t){return{entityType:t,loader:{success:!0}}}function Vp(t){return{entityType:t,loader:{}}}var ut=class{constructor(e){this.type=Gx,this.meta=FS(e)}},lt=class{constructor(e,i){this.type=Wx,this.meta=_S(e,i)}},dt=class{constructor(e){this.type=qx,this.meta=LS(e)}},qr=class{constructor(e){this.type=Yx,this.meta=Vp(e)}},kS="[ENTITY] LOAD",US="[ENTITY] LOAD FAIL",jS="[ENTITY] LOAD SUCCESS",$S="[ENTITY] RESET";function BS(t,e){return v(v({},FS(t)),Di(t,e))}function VS(t,e,i){return v(v({},_S(t,i)),Di(t,e))}function HS(t,e){return v(v({},LS(t)),Di(t,e))}function zS(t,e){return v(v({},Vp(t)),Di(t,e))}var kt=class{constructor(e,i){this.type=kS,this.meta=BS(e,i)}},At=class{constructor(e,i,n){this.type=US,this.meta=VS(e,i,n)}},ft=class{constructor(e,i,n){this.payload=n,this.type=jS,this.meta=HS(e,i)}},Ln=class{constructor(e,i){this.type=$S,this.meta=zS(e,i)}};function nt(t){return t.value}function jt(t){return t.loading??!1}function zo(t){return t.error??!1}function jn(t){return t.success??!1}var mr={loading:!1,error:!1,success:!1,value:void 0};function ct(t,e){return(i=mr,n)=>{if(n.meta&&n.meta.loader&&n.meta.entityType===t){let s=n.meta.loader;return s.load?T(v({},i),{loading:!0,value:r(i.value)}):s.error?T(v({},i),{loading:!1,error:!0,success:!1,value:r(void 0)}):s.success?T(v({},i),{value:r(n.payload),loading:!1,error:!1,success:!0}):T(v({},mr),{value:e?e(mr.value,n):mr.value})}if(e){let s=e(i.value,n);if(s!==i.value)return T(v({},i),{value:s})}return i;function r(s){return e?e(i.value,n):s}}}function nn(t,e){return t.entities[e]||mr}function KG(t,e){let i=nn(t,e);return nt(i)}function ZG(t,e){let i=nn(t,e);return jt(i)}function QG(t,e){let i=nn(t,e);return zo(i)}function JG(t,e){let i=nn(t,e);return jn(i)}var CC={entities:{}};function Rc(t,e){return(n=CC,r)=>{let s=[],o=!1;if(r.meta&&r.meta.entityType===t&&r.meta.entityId!==void 0){if(r.meta.entityId!==null&&(s=[].concat(r.meta.entityId)),r.meta.entityRemove)return i(r,n,s);o=Array.isArray(r.meta.entityId)&&Array.isArray(r.payload)}else s=Object.keys(n.entities);let a={};for(let c=0;c<s.length;c++){let u=s[c],l=o?T(v({},r),{payload:r.payload[c]}):r,f=e(n.entities[u],l);f&&(a[u]=f)}return Object.keys(a).length>0?T(v({},n),{entities:v(v({},n.entities),a)}):n};function i(n,r,s){if(n?.meta?.entityId===null)return CC;{let o=!1,a=Object.keys(r.entities).reduce((c,u)=>(s.includes(u)?o=!0:c[u]=r.entities[u],c),{});return o?{entities:a}:r}}}function fs(t,e){return Rc(t,ct(t,e))}var Kx="[PROCESSES LOADER] INCREMENT",Zx="[PROCESSES LOADER] DECREMENT",Qx="[PROCESSES LOADER] RESET";function GS(t){return{entityType:t,loader:void 0,processesCountDiff:1}}function WS(t){return{entityType:t,loader:void 0,processesCountDiff:-1}}function qS(t){return T(v({},Vp(t)),{processesCountDiff:null})}var SC=class{constructor(e){this.type=Qx,this.meta=qS(e)}},IC=class{constructor(e){this.type=Kx,this.meta=GS(e)}},DC=class{constructor(e){this.type=Zx,this.meta=WS(e)}},Jx="[ENTITY] PROCESSES LOADER RESET",Xx="[ENTITY] PROCESSES INCREMENT",eN="[ENTITY] PROCESSES DECREMENT";function tN(t,e){return v(v({},qS(t)),Di(t,e))}function nN(t,e){return v(v({},GS(t)),Di(t,e))}function rN(t,e){return v(v({},WS(t)),Di(t,e))}var bC=class{constructor(e,i){this.type=Jx,this.meta=tN(e,i)}},wC=class{constructor(e,i){this.type=Xx,this.meta=nN(e,i)}},TC=class{constructor(e,i){this.type=eN,this.meta=rN(e,i)}};function iN(t){return!t.processesCount&&!t.loading}function sN(t){return t.processesCount!==void 0&&t.processesCount>0}var Cf={processesCount:0};function oN(t,e){return(i=v(v({},Cf),mr),n)=>{let r=ct(t,e)(i,n);if(n.meta&&n.meta.entityType===t){let s=n.meta.processesCountDiff;if(ge()&&i.processesCount&&s&&i.processesCount+s<0&&console.error(`Action '${n.type}' sets processesCount to value < 0!
Make sure to keep processesCount in sync.
There should always be only one decrement action for each increment action.
Make sure that you don't reset state in between those actions.
`,n),s)return T(v({},r),{processesCount:i.processesCount?i.processesCount+s:s});if(s===null)return v(v({},r),Cf)}return r}}var XG=v(v({},mr),Cf);function e8(t,e){let i=nn(t,e);return sN(i)}function t8(t,e){let i=nn(t,e);return iN(i)}function n8(t,e){return t.entities[e]||XG}function r8(t,e){return Rc(t,oN(t,e))}function aN(t,e){return t.entities[e]||void 0}var YS=".";function i8(t,e){return t.split(YS).reduce((n,r)=>n?n[r]:void 0,e)}function s8(t,e,i){if(!t||!i||Object.keys(i).length===0)return{};let n=t.split(YS).reduceRight((r,s)=>({[s]:r}),i);return o8(t,e,n)}function KS(t,e,i){if(t&&t.length===0)return{};let n={};for(let r of t){let s=i8(r,i),o=s8(r,e,s);n=Et(n,o)}return n}function o8(t,e,i){let n=a8(t,e);if(n.length===0)return i;let r=Et({},i);for(let s of n){let o=s.split(YS),a=r;for(let c=0;c<o.length;c++){let u=o[c];c===o.length-1?a&&a[u]&&delete a[u]:a=a[u]}}return r}function a8(t,e){if(!t||!e)return[];let i=[];for(let n of e)n.includes(t)&&i.push(n);return i}function cN(t,e){return t?Object.keys(t).filter(i=>t[i]===e):[]}var c8="all";function ZS(t,e){return`${e??""}?pageSize=${t.pageSize??""}&currentPage=${t.currentPage??""}&sort=${t.sort??""}`}function u8(t,e){return uN(t.list,t.entities,e)}function uN(t,e,i,n){let r=nn(t,i?ZS(i,n):n??c8);if(!r.value||!r.value.ids)return r;let s=Object.assign({},r,{value:{values:r.value.ids.map(o=>nn(e,o).value)}});return i&&s.value&&(s.value.pagination=r.value.pagination,s.value.sorts=r.value.sorts),s}function l8(t,e){let i=t.values||[],n={ids:i.map(r=>r[e])};return t.pagination&&(n.pagination=t.pagination),t.sorts&&(n.sorts=t.sorts),{values:i,page:n}}function d8(t,e){return[t,ZS(e)].toString()}var $ce=Object.freeze({__proto__:null,ENTITY_FAIL_ACTION:US,ENTITY_LOAD_ACTION:kS,ENTITY_PROCESSES_DECREMENT_ACTION:eN,ENTITY_PROCESSES_INCREMENT_ACTION:Xx,ENTITY_PROCESSES_LOADER_RESET_ACTION:Jx,ENTITY_REMOVE_ACTION:Bx,ENTITY_REMOVE_ALL_ACTION:Vx,ENTITY_RESET_ACTION:$S,ENTITY_SUCCESS_ACTION:jS,EntityFailAction:At,EntityLoadAction:kt,EntityLoaderResetAction:Ln,EntityProcessesDecrementAction:TC,EntityProcessesIncrementAction:wC,EntityProcessesLoaderResetAction:bC,EntityRemoveAction:yC,EntityRemoveAllAction:EC,EntitySuccessAction:ft,LOADER_FAIL_ACTION:Wx,LOADER_LOAD_ACTION:Gx,LOADER_RESET_ACTION:Yx,LOADER_SUCCESS_ACTION:qx,LoaderFailAction:lt,LoaderLoadAction:ut,LoaderResetAction:qr,LoaderSuccessAction:dt,PROCESSES_DECREMENT_ACTION:Zx,PROCESSES_INCREMENT_ACTION:Kx,PROCESSES_LOADER_RESET_ACTION:Qx,ProcessesDecrementAction:DC,ProcessesIncrementAction:IC,ProcessesLoaderResetAction:SC,denormalizeCustomB2BSearch:uN,denormalizeSearch:u8,entityErrorSelector:QG,entityFailMeta:VS,entityHasPendingProcessesSelector:e8,entityIsStableSelector:t8,entityLoadMeta:BS,entityLoaderReducer:fs,entityLoaderStateSelector:nn,entityLoadingSelector:ZG,entityMeta:Di,entityProcessesDecrementMeta:rN,entityProcessesIncrementMeta:nN,entityProcessesLoaderReducer:r8,entityProcessesLoaderResetMeta:tN,entityProcessesLoaderStateSelector:n8,entityReducer:Rc,entityRemoveAllMeta:zx,entityRemoveMeta:Hx,entityResetMeta:zS,entitySelector:aN,entitySuccessMeta:HS,entitySuccessSelector:JG,entityValueSelector:KG,failMeta:_S,getStateSlice:KS,hasPendingProcessesSelector:sN,initialEntityState:CC,initialLoaderState:mr,initialProcessesState:Cf,isStableSelector:iN,loadMeta:FS,loaderErrorSelector:zo,loaderLoadingSelector:jt,loaderReducer:ct,loaderSuccessSelector:jn,loaderValueSelector:nt,normalizeListPage:l8,processesDecrementMeta:WS,processesIncrementMeta:GS,processesLoaderReducer:oN,processesLoaderResetMeta:qS,resetMeta:Vp,serializeParams:d8,serializeSearchConfig:ZS,successMeta:LS}),lN="anonymous-consents",Mc="[Anonymous Consents] Anonymous Consents",dN="[Anonymous Consents] Load Anonymous Consent Templates",f8="[Anonymous Consents] Load Anonymous Consent Templates Success",h8="[Anonymous Consents] Load Anonymous Consent Templates Fail",p8="[Anonymous Consents] Reset Load Anonymous Consent Templates";var fN="[Anonymous Consents] Set Anonymous Consents",hN="[Anonymous Consents] Give Anonymous Consent",pN="[Anonymous Consents] Withdraw Anonymous Consent",gN="[Anonymous Consents] Toggle Anonymous Consents Banner Dismissed",mN="[Anonymous Consents] Anonymous Consent Templates Updated",vN="[Anonymous Consents] Check Updated Versions",Sf=class extends ut{constructor(){super(Mc),this.type=dN}},If=class extends dt{constructor(e){super(Mc),this.payload=e,this.type=f8}},Df=class extends lt{constructor(e){super(Mc,e),this.type=h8}},AC=class extends qr{constructor(){super(Mc),this.type=p8}};var RC=class{constructor(e){this.payload=e,this.type=fN}},MC=class{constructor(e){this.templateCode=e,this.type=hN}},xC=class{constructor(e){this.templateCode=e,this.type=pN}},NC=class{constructor(e){this.dismissed=e,this.type=gN}},bf=class{constructor(e){this.updated=e,this.type=mN}},OC=class{constructor(){this.type=vN}};var xc=Fn(lN),Hp=A(xc,t=>t.templates),PC=A(Hp,t=>nt(t)),g8=A(Hp,jt),m8=A(Hp,jn),v8=A(Hp,zo),y8=t=>A(PC,e=>e?e.find(i=>i.id===t):void 0),E8=A(xc,t=>t.ui.updated),C8=A(xc,t=>t.ui.bannerDismissed),yN=A(xc,t=>t.consents),S8=t=>A(yN,e=>e.find(i=>i.templateCode===t));var Mo="current",xo="anonymous",I8="guest",D8=Object.freeze({__proto__:null,OCC_USER_ID_ANONYMOUS:xo,OCC_USER_ID_CURRENT:Mo,OCC_USER_ID_GUEST:I8}),Bce="current",vr="[Auth] Login",Zr="[Auth] Logout",No=class{constructor(){this.type=vr}},wf=class{constructor(){this.type=Zr}},Vce=Object.freeze({__proto__:null,LOGIN:vr,LOGOUT:Zr,Login:No,Logout:wf}),Cn=(()=>{let e=class e{constructor(){this._userId=new on(1)}setUserId(n){this._userId.next(n)}getUserId(){return this._userId}takeUserId(n=!1){return this.getUserId().pipe(ie(1),E(r=>{if(n&&r===xo)throw new Error("Requested user id for logged user while user is not logged in.");return r}))}clearUserId(){this.setUserId(xo)}isEmulated(){return this.getUserId().pipe(E(n=>n!==xo&&n!==Mo))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),b8="oAuthRedirectCodeFlow",yc=function(t){return t[t.ResourceOwnerPasswordFlow=0]="ResourceOwnerPasswordFlow",t[t.ImplicitFlow=1]="ImplicitFlow",t[t.AuthorizationCode=2]="AuthorizationCode",t}(yc||{}),w8=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=g({token:e,factory:function(r){let s=null;return r?s=new(r||e):s=d(Ut),s},providedIn:"root"});let t=e;return t})(),Qr=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=g({token:e,factory:function(r){let s=null;return r?s=new(r||e):s=d(Ut),s},providedIn:"root"});let t=e;return t})(),Er=(()=>{let e=class e extends Qr{};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=g({token:e,factory:function(r){let s=null;return r?s=new(r||e):s=d(Ut),s},providedIn:"root"});let t=e;return t})(),zp=(()=>{let e=class e{constructor(n,r){this.authConfig=n,this.occConfig=r}get config(){return this.authConfig?.authentication??{}}getClientId(){return this.config?.client_id??""}getClientSecret(){return this.config?.client_secret??""}getBaseUrl(){return this.config?.baseUrl??(this.occConfig?.backend?.occ?.baseUrl??"")+"/authorizationserver"}getTokenEndpoint(){let n=this.config?.tokenEndpoint??"";return this.prefixEndpoint(n)}getLoginUrl(){let n=this.config?.loginUrl??"";return this.prefixEndpoint(n)}getRevokeEndpoint(){let n=this.config?.revokeEndpoint??"";return this.prefixEndpoint(n)}getLogoutUrl(){let n=this.config?.logoutUrl??"";return this.prefixEndpoint(n)}getUserinfoEndpoint(){let n=this.config?.userinfoEndpoint??"";return this.prefixEndpoint(n)}getOAuthLibConfig(){return this.config?.OAuthLibConfig??{}}prefixEndpoint(n){let r=n;return r.startsWith("/")||(r="/"+r),`${this.getBaseUrl()}${r}`}getOAuthFlow(){let n=this.config?.OAuthLibConfig?.responseType;if(n){let r=n.split(" ");return r.includes("code")?yc.AuthorizationCode:r.includes("token")?yc.ImplicitFlow:yc.ResourceOwnerPasswordFlow}return yc.ResourceOwnerPasswordFlow}};e.\u0275fac=function(r){return new(r||e)(d(w8),d(Er))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),T8=new S("SERVER_REQUEST_URL"),A8=new S("SERVER_REQUEST_ORIGIN"),bi=(()=>{let e=class e{constructor(n,r,s,o){this.platformId=r,this.serverUrl=s,this.serverOrigin=o,this.document=n}isBrowser(){return Pn(this.platformId)}get nativeWindow(){return this.isBrowser()?window:void 0}get sessionStorage(){return this.nativeWindow?this.nativeWindow.sessionStorage:void 0}get localStorage(){return this.nativeWindow?this.nativeWindow.localStorage:void 0}get location(){if(this.isBrowser())return this.document.location;if(!this.serverUrl)throw new Error("Cannot resolve the href as the SERVER_REQUEST_URL is undefined");if(!this.serverOrigin)throw new Error("Cannot resolve the origin as the SERVER_REQUEST_ORIGIN is undefined");return{href:this.serverUrl,origin:this.serverOrigin}}get resize$(){return this.nativeWindow?na(this.nativeWindow,"resize").pipe(Fi(300),Kn({target:this.nativeWindow}),cn()):I(null)}};e.\u0275fac=function(r){return new(r||e)(d(Le),d($e),d(T8,8),d(A8,8))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),EN=(()=>{let e=class e{constructor(n,r,s,o){this.oAuthService=n,this.authConfigService=r,this.platformId=s,this.winRef=o,this.events$=this.oAuthService.events,this.initialize()}initialize(){let n=!this.winRef.isBrowser();this.oAuthService.configure(v({tokenEndpoint:this.authConfigService.getTokenEndpoint(),loginUrl:this.authConfigService.getLoginUrl(),clientId:this.authConfigService.getClientId(),dummyClientSecret:this.authConfigService.getClientSecret(),revocationEndpoint:this.authConfigService.getRevokeEndpoint(),logoutUrl:this.authConfigService.getLogoutUrl(),userinfoEndpoint:this.authConfigService.getUserinfoEndpoint(),issuer:this.authConfigService.getOAuthLibConfig()?.issuer??this.authConfigService.getBaseUrl(),redirectUri:this.authConfigService.getOAuthLibConfig()?.redirectUri??(n?"":this.winRef.nativeWindow.location.origin)},this.authConfigService.getOAuthLibConfig()))}authorizeWithPasswordFlow(n,r){return this.oAuthService.fetchTokenUsingPasswordFlow(n,r)}refreshToken(){this.oAuthService.refreshToken()}revokeAndLogout(){return new Promise(n=>{this.oAuthService.revokeTokenAndLogout(!0).catch(()=>{this.oAuthService.logOut(!0)}).finally(()=>{n()})})}logout(){this.oAuthService.logOut(!0)}getIdToken(){return this.oAuthService.getIdToken()}initLoginFlow(){return this.winRef.localStorage&&this.winRef.localStorage?.setItem(b8,"true"),this.oAuthService.initLoginFlow()}tryLogin(){return new Promise(n=>{let r,s=this.events$.pipe(M(o=>o.type==="token_received"),ie(1)).subscribe(o=>r=o);this.oAuthService.tryLogin({disableOAuth2StateCheck:!0}).then(o=>{n({result:o,tokenReceived:!!r})}).finally(()=>{s.unsubscribe()})})}};e.\u0275fac=function(r){return new(r||e)(d(qd),d(zp),d($e),d(bi))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Nc=(()=>{let e=class e extends ls{constructor(){super(...arguments),this._token$=new Te({})}decode(n,r){return e.nonStringifiedOAuthLibKeys.includes(n)?r:JSON.stringify(r)}encode(n,r){if(e.nonStringifiedOAuthLibKeys.includes(n))return r;try{return JSON.parse(r)}catch{return r}}getToken(){return this._token$}setToken(n){this._token$.next(n)}getItem(n){let r;return this.getToken().subscribe(s=>r=s).unsubscribe(),this.decode(n,r?.[n])}removeItem(n){let r=v({},this._token$.value);delete r[n],this._token$.next(v({},r))}setItem(n,r){n&&this._token$.next(T(v({},this._token$.value),{[n]:this.encode(n,r)}))}};e.nonStringifiedOAuthLibKeys=["PKCE_verifier","access_token","refresh_token","expires_at","access_token_stored_at","id_token","id_token_expires_at","id_token_stored_at","session_state","nonce"],e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),CN="[Router] Change Next PageContext",FC=class{constructor(e){this.payload=e,this.type=CN}};var _C="router",R8=Fn(_C),Gp=A(R8,t=>t.router),Hce=A(Gp,t=>t.state&&t.state.semanticRoute||""),M8=A(Gp,t=>t.state&&t.state.context||{id:""}),SN=A(Gp,t=>t.nextState&&t.nextState.context),x8=A(SN,t=>!!t);var LC=t=>t.startsWith(":"),gx=t=>t.slice(1);var Q=(()=>{let e=class e{log(...n){console.log(...n)}warn(...n){console.warn(...n)}error(...n){console.error(...n)}info(...n){console.info(...n)}debug(...n){console.debug(...n)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Wp=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=g({token:e,factory:function(r){let s=null;return r?s=new(r||e):s=d(Ut),s},providedIn:"root"});let t=e;return t})(),qp=(()=>{let e=class e{constructor(n){this.config=n,this.logger=C(Q)}getRouteConfig(n){let r=this.config?.routing?.routes,s=r&&r[n];return(!r||s===void 0)&&this.warn(`No path was configured for the named route '${n}'!`),s}warn(...n){ge()&&this.logger.warn(...n)}getLoadStrategy(){return this.config?.routing?.loadStrategy??"always"}getRouteName(n){return this.routeNamesByPath||this.initRouteNamesByPath(),this.routeNamesByPath[n]}initRouteNamesByPath(){this.routeNamesByPath={};for(let[n,r]of Object.entries(this.config?.routing?.routes??{}))r?.paths?.forEach(s=>{ge()&&this.routeNamesByPath[s]&&this.logger.error(`The same path '${s}' is configured for two different route names: '${this.routeNamesByPath[s]}' and '${n}`),this.routeNamesByPath[s]=n})}};e.\u0275fac=function(r){return new(r||e)(d(Wp))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),QS=(()=>{let e=class e{constructor(n){this.router=n}getPrimarySegments(n){let r=this.router.parseUrl(n);return this._getPrimarySegmentsFromUrlTree(r.root)}_getPrimarySegmentsFromUrlTree(n){let r=n.segments.map(o=>o.path),s=n.children[ee]?this._getPrimarySegmentsFromUrlTree(n.children[ee]):[];return r.concat(s)}matchPath(n,r){if(n=Array.isArray(n)?n:this.getPrimarySegments(n),r=Array.isArray(r)?r:this.getPrimarySegments(r),n.length!==r.length)return!1;for(let s=0;s<r.length;s++){let o=r[s],a=n[s];if(!LC(o)&&o!==a)return!1}return!0}};e.\u0275fac=function(r){return new(r||e)(d(Oe))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Oc=(()=>{let e=class e{constructor(n,r){this.routingConfigService=n,this.urlParser=r,this.ROOT_URL=["/"]}get(n){let r=this.routingConfigService.getRouteConfig(n);return r&&Array.isArray(r.paths)?"/"+r.paths[0]:void 0}transform(n){Array.isArray(n)||(n=[n]);let r=[];for(let s of n)if(!this.isRouteCommand(s))r.push(s);else{let o=this.generateUrlPart(s);if(o===null)return this.ROOT_URL;r.push(...o)}return this.shouldOutputAbsolute(n)&&r.unshift("/"),r}isRouteCommand(n){return n&&!!n.cxRoute}shouldOutputAbsolute(n){return this.isRouteCommand(n[0])}generateUrlPart(n){if(this.standarizeRouteCommand(n),!n.cxRoute)return null;let r=this.routingConfigService.getRouteConfig(n.cxRoute);if(!r||!r.paths)return null;let s=this.findPathWithFillableParams(r,n.params);return s?this.provideParamsValues(s,n.params,r.paramsMapping):null}standarizeRouteCommand(n){n.params=n.params||{}}provideParamsValues(n,r,s){return this.urlParser.getPrimarySegments(n).map(o=>{if(LC(o)){let a=gx(o),c=this.getMappedParamName(a,s);return r?.[c]}return o})}findPathWithFillableParams(n,r){let s=n.paths?.find(o=>this.getParams(o).every(a=>{let c=this.getMappedParamName(a,n.paramsMapping);return r?.[c]!==void 0}));return s??null}getParams(n){return this.urlParser.getPrimarySegments(n).filter(LC).map(gx)}getMappedParamName(n,r){return r&&r[n]||n}};e.\u0275fac=function(r){return new(r||e)(d(qp),d(QS))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),IN=(()=>{let e=class e{constructor(n){this.router=n,this.routes$=this.router.events.pipe(M(r=>r instanceof ot),Kn(void 0),E(()=>{let r=this.router.routerState.snapshot.root,s=[r];for(;r=r.firstChild;)s.push(r);return s}),pt({bufferSize:1,refCount:!0}))}};e.\u0275fac=function(r){return new(r||e)(d(Oe))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),N8=(()=>{let e=class e{constructor(n,r){this.router=n,this.activatedRoutesService=r,this.params$=this.activatedRoutesService.routes$.pipe(E(s=>this.findAllParam(s)),pt({refCount:!0,bufferSize:1}))}getParams(){return this.params$}findAllParam(n){return Object.assign({},...n.map(r=>r.params))}};e.\u0275fac=function(r){return new(r||e)(d(Oe),d(IN))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),wi=(()=>{let e=class e{constructor(n,r,s,o,a,c){this.store=n,this.winRef=r,this.semanticPathService=s,this.routingParamsService=o,this.router=a,this.location=c}getParams(){return this.routingParamsService.getParams()}getRouterState(){return this.store.pipe(x(Gp))}getPageContext(){return this.store.pipe(x(M8))}getNextPageContext(){return this.store.pipe(x(SN))}changeNextPageContext(n){this.store.dispatch(new FC(n))}isNavigating(){return this.store.pipe(x(x8))}go(n,r){let s=this.semanticPathService.transform(n);return this.navigate(s,r)}getUrl(n,r){let s=this.router.serializeUrl(this.router.createUrlTree(this.semanticPathService.transform(n),r));return s.startsWith("/")||(s=`/${s}`),s}getFullUrl(n,r){return`${this.winRef.location.origin}${this.getUrl(n,r)}`}goByUrl(n,r){return this.router.navigateByUrl(n,r)}back(){if(this.winRef.nativeWindow&&this.winRef.document.referrer.includes(this.winRef.nativeWindow.location.origin)){this.location.back();return}this.go(["/"])}forward(){this.location.forward()}navigate(n,r){return this.router.navigate(n,r)}};e.\u0275fac=function(r){return new(r||e)(d(me),d(bi),d(Oc),d(N8),d(Oe),d(cr))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),DN=(()=>{let e=class e{constructor(){this.redirectUrl$=new Te(void 0)}getRedirectUrl(){return this.redirectUrl$}setRedirectUrl(n){this.redirectUrl$.next(n)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),O8=(()=>{let e=class e{constructor(n,r){this.config=n,this.urlParsingService=r}get authFlowPaths(){return this._authFlowPaths||(this._authFlowPaths=Object.values(this.config?.routing?.routes||{}).reduce((n,r)=>r.authFlow===!0&&r.paths?.length?n.concat(r?.paths):n,[])),this._authFlowPaths}isAuthFlow(n){return this.authFlowPaths.some(r=>this.urlParsingService.matchPath(n,r))}};e.\u0275fac=function(r){return new(r||e)(d(Wp),d(QS))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),JS=(()=>{let e=class e{constructor(n,r,s,o){this.routing=n,this.router=r,this.authRedirectStorageService=s,this.authFlowRoutesService=o,this.init()}init(){this.subscription=this.router.events.subscribe(n=>{n instanceof ot&&this.setRedirectUrl(n.urlAfterRedirects)})}ngOnDestroy(){this.subscription?.unsubscribe()}redirect(){this.authRedirectStorageService.getRedirectUrl().pipe(ie(1)).subscribe(n=>{n===void 0?this.routing.go("/"):this.routing.goByUrl(n),this.clearRedirectUrl()})}saveCurrentNavigationUrl(){let n=this.router.getCurrentNavigation();if(!n?.finalUrl)return;let r=this.router.serializeUrl(n.finalUrl);this.setRedirectUrl(r)}setRedirectUrl(n){this.authFlowRoutesService.isAuthFlow(n)||this.authRedirectStorageService.setRedirectUrl(n)}clearRedirectUrl(){this.authRedirectStorageService.setRedirectUrl(void 0)}};e.\u0275fac=function(r){return new(r||e)(d(wi),d(Oe),d(DN),d(O8))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function En(t){return typeof t<"u"}function Cc(t){return En(t)&&t!==null}function Pc(t,e){return t.context&&t.context[e]||[]}function Si(t,e){let i=Pc(t,e);return i&&i.length?i[0]:void 0}var Es="language",Cs="currency",Yr="baseSite",P8="theme",XS="[Site-context] Load BaseSite",bN="[Site-context] Load BaseSite Fail",eI="[Site-context] Load BaseSite Success",tI="[Site-context] Load BaseSites",wN="[Site-context] Load BaseSites Fail",nI="[Site-context] Load BaseSites Success",rI="[Site-context] Set Active BaseSite",TN="[Site-context] BaseSite Change",kC=class{constructor(){this.type=XS}},Tf=class{constructor(e){this.payload=e,this.type=bN}},Af=class{constructor(e){this.payload=e,this.type=eI}},Rf=class{constructor(){this.type=tI}},Mf=class{constructor(e){this.payload=e,this.type=wN}},xf=class{constructor(e){this.payload=e,this.type=nI}},Nf=class{constructor(e){this.payload=e,this.type=rI}},UC=class{constructor(){this.type=TN}},iI="[Site-context] Load Currencies",AN="[Site-context] Load Currencies Fail",sI="[Site-context] Load Currencies Success",Yp="[Site-context] Set Active Currency",Fc="[Site-context] Currency Change",Of=class{constructor(){this.type=iI}},Pf=class{constructor(e){this.payload=e,this.type=AN}},Ff=class{constructor(e){this.payload=e,this.type=sI}},_f=class{constructor(e){this.payload=e,this.type=Yp}},Lf=class{constructor(e){this.payload=e,this.type=Fc}},oI="[Site-context] Load Languages",RN="[Site-context] Load Languages Fail",aI="[Site-context] Load Languages Success",Kp="[Site-context] Set Active Language",$n="[Site-context] Language Change",kf=class{constructor(){this.type=oI}},Uf=class{constructor(e){this.payload=e,this.type=RN}},jf=class{constructor(e){this.payload=e,this.type=aI}},$f=class{constructor(e){this.payload=e,this.type=Kp}},Bf=class{constructor(e){this.payload=e,this.type=$n}},zce=Object.freeze({__proto__:null,BASE_SITE_CHANGE:TN,BaseSiteChange:UC,CURRENCY_CHANGE:Fc,CurrencyChange:Lf,LANGUAGE_CHANGE:$n,LOAD_BASE_SITE:XS,LOAD_BASE_SITES:tI,LOAD_BASE_SITES_FAIL:wN,LOAD_BASE_SITES_SUCCESS:nI,LOAD_BASE_SITE_FAIL:bN,LOAD_BASE_SITE_SUCCESS:eI,LOAD_CURRENCIES:iI,LOAD_CURRENCIES_FAIL:AN,LOAD_CURRENCIES_SUCCESS:sI,LOAD_LANGUAGES:oI,LOAD_LANGUAGES_FAIL:RN,LOAD_LANGUAGES_SUCCESS:aI,LanguageChange:Bf,LoadBaseSite:kC,LoadBaseSiteFail:Tf,LoadBaseSiteSuccess:Af,LoadBaseSites:Rf,LoadBaseSitesFail:Mf,LoadBaseSitesSuccess:xf,LoadCurrencies:Of,LoadCurrenciesFail:Pf,LoadCurrenciesSuccess:Ff,LoadLanguages:kf,LoadLanguagesFail:Uf,LoadLanguagesSuccess:jf,SET_ACTIVE_BASE_SITE:rI,SET_ACTIVE_CURRENCY:Yp,SET_ACTIVE_LANGUAGE:Kp,SetActiveBaseSite:Nf,SetActiveCurrency:_f,SetActiveLanguage:$f}),cI="siteContext",_c=Fn(cI),F8=t=>t.entities,_8=A(_c,t=>t.baseSite),mx=A(_c,t=>t&&t.baseSite&&t.baseSite.activeSite),Gce=A(_c,t=>t&&t.baseSite&&t.baseSite.details),L8=A(_8,F8),k8=A(L8,t=>t?Object.keys(t).map(e=>t[e]):null),U8=t=>t.entities,j8=t=>t.activeCurrency,MN=A(_c,t=>t.currencies),$8=A(MN,U8),jC=A(MN,j8),B8=A($8,t=>t?Object.keys(t).map(e=>t[e]):null),V8=t=>t.activeLanguage,H8=t=>t.entities,xN=A(_c,t=>t.languages),z8=A(xN,H8),$C=A(xN,V8),G8=A(z8,t=>t?Object.keys(t).map(e=>t[e]):null);var Ss=(()=>{let e=class e{constructor(n,r){this.store=n,this.config=r}getActive(){return this.store.pipe(x(mx),M(n=>!!n))}getAll(){return this.store.pipe(x(k8),L(n=>{n||this.store.dispatch(new Rf)}),M(Cc))}get(n){return n?this.getAll().pipe(E(r=>r.find(s=>s.uid===n))):this.getActive().pipe(N(r=>this.getAll().pipe(E(s=>s.find(o=>o.uid===r)))))}setActive(n){this.store.pipe(x(mx),ie(1)).subscribe(r=>{n&&r!==n&&this.store.dispatch(new Nf(n))})}isInitialized(){let n=!1;return this.getActive().subscribe(()=>n=!0).unsubscribe(),n}isValid(n){return!!n&&Pc(this.config,Yr).includes(n)}};e.\u0275fac=function(r){return new(r||e)(d(me),d(Qr))},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})(),W8=(()=>{let e=class e{constructor(n){this.baseSiteService=n,this.MULTISITE_SEPARATOR="|"}getBaseSiteDecorator(){return this.baseSiteService.get().pipe(ie(1),E(n=>n?.isolated?this.MULTISITE_SEPARATOR+n?.uid:""))}decorateUserId(n){return this.getBaseSiteDecorator().pipe(E(r=>n+r))}};e.\u0275fac=function(r){return new(r||e)(d(Ss))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Bn=(()=>{let e=class e{constructor(n,r,s,o,a,c,u){this.store=n,this.userIdService=r,this.oAuthLibWrapperService=s,this.authStorageService=o,this.authRedirectService=a,this.routingService=c,this.authMultisiteIsolationService=u,this.refreshInProgress$=new Te(!1),this.logoutInProgress$=new Te(!1)}checkOAuthParamsInUrl(){return rt(this,null,function*(){try{let n=yield this.oAuthLibWrapperService.tryLogin(),r=this.authStorageService.getItem("access_token");n.result&&r&&(this.userIdService.setUserId(Mo),this.store.dispatch(new No),n.tokenReceived&&this.authRedirectService.redirect())}catch{}})}loginWithRedirect(){return this.oAuthLibWrapperService.initLoginFlow(),!0}loginWithCredentials(n,r){return rt(this,null,function*(){let s=n;this.authMultisiteIsolationService&&(s=yield Zn(this.authMultisiteIsolationService.decorateUserId(s)));try{yield this.oAuthLibWrapperService.authorizeWithPasswordFlow(s,r),this.userIdService.setUserId(Mo),this.store.dispatch(new No),this.authRedirectService.redirect()}catch{}})}otpLoginWithCredentials(n,r){return rt(this,null,function*(){try{yield this.oAuthLibWrapperService.authorizeWithPasswordFlow(n,r),this.userIdService.setUserId(Mo),this.store.dispatch(new No),this.authRedirectService.redirect()}catch{}})}coreLogout(){return this.setLogoutProgress(!0),this.userIdService.clearUserId(),new Promise(n=>{this.oAuthLibWrapperService.revokeAndLogout().finally(()=>{this.store.dispatch(new wf),this.setLogoutProgress(!1),n()})})}isUserLoggedIn(){return this.authStorageService.getToken().pipe(E(n=>!!n?.access_token),cn())}logout(){this.routingService.go({cxRoute:"logout"})}setRefreshProgress(n){this.refreshInProgress$.next(n)}setLogoutProgress(n){this.logoutInProgress$.next(n)}};e.\u0275fac=function(r){return new(r||e)(d(me),d(Cn),d(EN),d(Nc),d(JS),d(wi),d(W8))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Lc=(()=>{let e=class e{constructor(n,r){this.store=n,this.authService=r}loadTemplates(){this.store.dispatch(new Sf)}getTemplates(n=!1){return ra(()=>n,this.store.pipe(x(PC),it(this.getLoadTemplatesLoading()),M(([r,s])=>!s),L(([r,s])=>{r||this.loadTemplates()}),M(([r,s])=>!!r),E(([r,s])=>r)),this.store.pipe(x(PC)))}getTemplate(n){return this.store.pipe(x(y8(n)))}getLoadTemplatesLoading(){return this.store.pipe(x(g8))}getLoadTemplatesSuccess(){return this.store.pipe(x(m8))}getLoadTemplatesError(){return this.store.pipe(x(v8))}resetLoadTemplatesState(){this.store.dispatch(new AC)}getConsents(){return this.store.pipe(x(yN))}setConsents(n){return this.store.dispatch(new RC(n))}getConsent(n){return this.authService.isUserLoggedIn().pipe(M(r=>!r),L(()=>this.getTemplates(!0)),N(()=>this.store.pipe(x(S8(n)))))}giveConsent(n){this.store.dispatch(new MC(n))}giveAllConsents(){return this.getTemplates(!0).pipe(L(n=>n.forEach(r=>{r.id&&this.giveConsent(r.id)})))}isConsentGiven(n){return(n&&n.consentState===_o.GIVEN)??!1}withdrawConsent(n){this.store.dispatch(new xC(n))}withdrawAllConsents(){return this.getTemplates(!0).pipe(L(n=>n.forEach(r=>{r.id&&this.withdrawConsent(r.id)})))}isConsentWithdrawn(n){return n&&n.consentState===_o.WITHDRAWN}toggleBannerDismissed(n){this.store.dispatch(new NC(n)),n&&this.toggleTemplatesUpdated(!1)}isBannerDismissed(){return this.store.pipe(x(C8))}getTemplatesUpdated(){return this.getTemplates(!0).pipe(N(()=>this.store.pipe(x(E8))))}toggleTemplatesUpdated(n){this.store.dispatch(new bf(n))}isBannerVisible(){return _e([this.isBannerDismissed(),this.getTemplatesUpdated()]).pipe(L(()=>this.checkConsentVersions()),E(([n,r])=>!n||r))}checkConsentVersions(){this.store.dispatch(new OC)}detectUpdatedTemplates(n,r){if(r.length!==n.length)return!0;for(let s=0;s<r.length;s++){let o=r[s],a=n[s];if(o.version!==a.version)return!0}return!1}serializeAndEncode(n){if(!n)return"";let r=JSON.stringify(n);return encodeURIComponent(r)}decodeAndDeserialize(n){let r=decodeURIComponent(n);return r.length>0?JSON.parse(r):[]}consentsUpdated(n,r){let s=this.serializeAndEncode(n),o=this.serializeAndEncode(r);return s!==o}};e.\u0275fac=function(r){return new(r||e)(d(me),d(Bn))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),BC="cx-use-client-token",Wce="cx-use-csagent-token",Sc=class{static createHeader(e,i,n){return n?n.append(e,JSON.stringify(i)):(n=new le().set(e,JSON.stringify(i)),n)}static removeHeader(e,i){let n=i.headers.delete(e);return i.clone({headers:n})}static getInterceptorParam(e,i){let n=i.get(e);if(n)return JSON.parse(n)}},NN="client-auth",Zp="[Client auth] Client Token Data",ON="[Token] Load Client Token",q8="[Token] Load Client Token Fail",Y8="[Token] Load Client Token Success",Vf=class extends ut{constructor(){super(Zp),this.type=ON}},VC=class extends lt{constructor(e){super(Zp,e),this.payload=e,this.type=q8}},HC=class extends dt{constructor(e){super(Zp),this.payload=e,this.type=Y8}};var K8=Fn(NN),vx=A(K8,t=>t.clientToken);var PN=(()=>{let e=class e{constructor(n){this.store=n}getClientToken(){return this.store.pipe(x(vx),qt(wr),M(n=>this.isClientTokenLoaded(n)?!0:(n.loading||this.store.dispatch(new Vf),!1)),E(n=>n.value))}refreshClientToken(){return this.store.dispatch(new Vf),this.store.pipe(x(vx),M(n=>this.isClientTokenLoaded(n)),E(n=>n.value),M(En))}isClientTokenLoaded(n){return!!((n.success||n.error)&&!n.loading)}};e.\u0275fac=function(r){return new(r||e)(d(me))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Z8=(()=>{let e=class e{constructor(n){this.clientTokenService=n}handleExpiredClientToken(n,r){return this.clientTokenService.refreshClientToken().pipe(ie(1),N(s=>r.handle(this.createNewRequestWithNewToken(n,s))))}createNewRequestWithNewToken(n,r){return n=n.clone({setHeaders:{Authorization:`${r.token_type||"Bearer"} ${r.access_token}`}}),n}};e.\u0275fac=function(r){return new(r||e)(d(PN))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),zC=class{static resolve(e,i,n){for(let r of Object.keys(i)){let s=new RegExp("\\${"+r+"}","g");e=e.replace(s,n?encodeURIComponent(i[r]):i[r])}return e}},GC=class{encodeKey(e){return encodeURIComponent(e)}encodeValue(e){return encodeURIComponent(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}},Ec="default";function yx(...t){let e=[];t=t.filter(i=>!!i);for(let i of t)e.push(Q8(i));return t[0]?.startsWith("/")&&(e[0]="/"+e[0]),t[t.length-1]?.endsWith("/")&&(e[e.length-1]=e[e.length-1]+"/"),e.join("/")}function Q8(t){return t=t.startsWith("/")?t.slice(1):t,t=t.endsWith("/")?t.slice(0,-1):t,t}var Qe=(()=>{let e=class e{get activeBaseSite(){return this._activeBaseSite??Si(this.config,Yr)}constructor(n,r){this.config=n,this.baseSiteService=r,this.logger=C(Q),this.baseSiteService&&this.baseSiteService.getActive().subscribe(s=>this._activeBaseSite=s)}getRawEndpointValue(n,r){return this.getEndpointForScope(n,r)}isConfigured(n,r){return!(typeof this.getEndpointFromConfig(n,r)>"u")}getBaseUrl(n={baseUrl:!0,prefix:!0,baseSite:!0}){let r=n.baseUrl===!1?"":this.config?.backend?.occ?.baseUrl??"",s=n.prefix===!1?"":this.getPrefix(),o=n.baseSite===!1?"":this.activeBaseSite;return yx(r,s,o)}buildUrl(n,r,s){let o=this.getEndpointForScope(n,r?.scope);if(r){let{urlParams:a,queryParams:c}=r;if(a&&(o=zC.resolve(o,a,!0)),c){let u={encoder:new GC};if(o.includes("?")){let h;[o,h]=o.split("?"),u=T(v({},u),{fromString:h})}let f=this.getHttpParamsFromQueryParams(c,u).toString();f.length&&(o+="?"+f)}}return this.buildUrlFromEndpointString(o,s)}getHttpParamsFromQueryParams(n,r){let s=new ze(r);return Object.keys(n).forEach(o=>{let a=n[o];a!==void 0&&(a===null?s=s.delete(o):s=s.set(o,a))}),s}getEndpointFromConfig(n,r){let s=this.config.backend?.occ?.endpoints;if(!s)return;let o=s[n];return r?r===Ec&&typeof o=="string"?o:o?.[r]:typeof o=="string"?o:o?.[Ec]}getEndpointForScope(n,r){let s=this.config.backend?.occ?.endpoints;if(!s)return"";let o=s[n];if(r){if(o?.[r])return o?.[r];if(r===Ec&&typeof o=="string")return o;ge()&&this.logger.warn(`${n} endpoint configuration missing for scope "${r}"`)}return(typeof o=="string"?o:o?.[Ec])||n}buildUrlFromEndpointString(n,r){return yx(this.getBaseUrl(r),n)}getPrefix(){return this.config?.backend?.occ?.prefix&&!this.config.backend.occ.prefix.startsWith("/")?"/"+this.config.backend.occ.prefix:this.config?.backend?.occ?.prefix??""}};e.\u0275fac=function(r){return new(r||e)(d(Er),d(Ss,8))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),J8=(()=>{let e=class e{constructor(n,r,s){this.clientTokenService=n,this.clientErrorHandlingService=r,this.occEndpoints=s}intercept(n,r){let s=this.isClientTokenRequest(n);return s&&(n=Sc.removeHeader(BC,n)),this.getClientToken(s).pipe(ie(1),N(o=>(o?.access_token&&n.url.includes(this.occEndpoints.getBaseUrl())&&(n=n.clone({setHeaders:{Authorization:`${o.token_type||"Bearer"} ${o.access_token}`}})),r.handle(n).pipe(F(a=>{if(a instanceof Wt&&a.status===401&&s&&this.isExpiredToken(a))return this.clientErrorHandlingService.handleExpiredClientToken(n,r);throw a})))))}getClientToken(n){return n?this.clientTokenService.getClientToken():I(void 0)}isClientTokenRequest(n){return!!Sc.getInterceptorParam(BC,n.headers)}isExpiredToken(n){return n.error?.errors?.[0]?.type==="InvalidTokenError"}};e.\u0275fac=function(r){return new(r||e)(d(PN),d(Z8),d(Qe))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),X8=[{provide:gn,useExisting:J8,multi:!0}],Oo=function(t){return t.NO_STORAGE="NO_STORAGE",t.LOCAL_STORAGE="LOCAL_STORAGE",t.SESSION_STORAGE="SESSION_STORAGE",t}(Oo||{}),Go=function(t){return t.TRANSFER_STATE="SSR",t}(Go||{});function Ex(t,e){let i;switch(t){case Oo.LOCAL_STORAGE:{i=e.localStorage;break}case Oo.SESSION_STORAGE:{i=e.sessionStorage;break}case Oo.NO_STORAGE:{i=void 0;break}default:i=e.sessionStorage}return i}function e3(t,e,i){!FN(i)&&e&&i.setItem(t,JSON.stringify(e))}function Cx(t,e){if(FN(t))return;let i=t.getItem(e);if(i)return JSON.parse(i)}function FN(t){return!t}var Qp=(()=>{let e=class e{constructor(n){this.winRef=n}syncWithStorage({key:n,state$:r,context$:s=I(""),storageType:o=Oo.LOCAL_STORAGE,onRead:a=()=>{}}){let c=Ex(o,this.winRef),u=new Ee;return u.add(s.pipe(E(l=>c?Cx(c,this.generateKeyWithContext(l,n)):void 0),L(l=>a(l))).subscribe()),c&&u.add(r.pipe(it(s)).subscribe(([l,f])=>{e3(this.generateKeyWithContext(f,n),l,c)})),u}readStateFromStorage({key:n,context:r="",storageType:s=Oo.LOCAL_STORAGE}){let o=Ex(s,this.winRef);if(o)return Cx(o,this.generateKeyWithContext(r,n))}generateKeyWithContext(n,r){return`spartacus\u26BF${[].concat(n).join("\u26BF")}\u26BF${r}`}};e.\u0275fac=function(r){return new(r||e)(d(bi))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),_N=(()=>{let e=class e{constructor(n,r,s,o){this.statePersistenceService=n,this.userIdService=r,this.authStorageService=s,this.authRedirectStorageService=o,this.subscription=new Ee,this.key="auth"}initSync(){this.subscription.add(this.statePersistenceService.syncWithStorage({key:this.key,state$:this.getAuthState(),onRead:n=>this.onRead(n)}))}getAuthState(){return _e([this.authStorageService.getToken().pipe(M(n=>!!n),E(n=>v({},n))),this.userIdService.getUserId(),this.authRedirectStorageService.getRedirectUrl()]).pipe(E(([n,r,s])=>{let o=n;return o&&(o=v({},o),delete o.refresh_token),{token:o,userId:r,redirectUrl:s}}))}onRead(n){n?.token&&this.authStorageService.setToken(n.token),n?.redirectUrl&&this.authRedirectStorageService.setRedirectUrl(n.redirectUrl),n?.userId?this.userIdService.setUserId(n.userId):this.userIdService.clearUserId()}readStateFromStorage(){return this.statePersistenceService.readStateFromStorage({key:this.key})}isUserLoggedIn(){return!!this.readStateFromStorage()?.token?.access_token}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)(d(Qp),d(Cn),d(Nc),d(DN))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),WC="cx-state";function t3(t,e,i,n){if(e&&i?.state?.ssrTransfer?.keys){if(Pn(t))return r3(e,i.state.ssrTransfer.keys,!!n?.isUserLoggedIn());if(es(t))return n3(e,i.state.ssrTransfer.keys)}return r=>r}function n3(t,e){let i=cN(e,Go.TRANSFER_STATE);return function(n){return function(r,s){let o=n(r,s);if(o){let a=KS(i,[],o);t.set(WC,a)}return o}}}function r3(t,e,i){let n=cN(e,Go.TRANSFER_STATE);return function(r){return function(s,o){if(o.type===Ed){if(s||(s=r(s,o)),!i&&t.hasKey(WC)){let a=t.get(WC,{}),c=KS(n,[],a);s=Et({},s,c)}return s}return r(s,o)}}}var Sx=new S("TransferStateMetaReducer"),i3=[{provide:Sx,useFactory:t3,deps:[$e,[new dn,Ma],[new dn,Ut],[new dn,_N]]},{provide:co,useExisting:Sx,multi:!0}],Ti=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[...i3]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})();function Y(t,e){if(t instanceof Ef)return t;if(t instanceof Wt){let i=new Ef;return i.message=t.message,i.status=t.status,i.statusText=t.statusText,i.url=t.url,Array.isArray(t.error.errors)?i.details=t.error.errors:typeof t.error.error=="string"&&(i.details=[{type:t.error.error,message:t.error.error_description}]),i}ge()&&e.error("Error passed to normalizeHttpError is not HttpErrorResponse instance",t)}var s3=(()=>{let e=class e{constructor(n,r){this.http=n,this.authConfigService=r}loadClientAuthenticationToken(){let n=this.authConfigService.getTokenEndpoint(),r=new ze().set("client_id",encodeURIComponent(this.authConfigService.getClientId())).set("client_secret",encodeURIComponent(this.authConfigService.getClientSecret())).set("grant_type","client_credentials"),s=new le({"Content-Type":"application/x-www-form-urlencoded"});return this.http.post(n,r,{headers:s})}};e.\u0275fac=function(r){return new(r||e)(d(ke),d(zp))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),o3=(()=>{let e=class e{constructor(n,r){this.actions$=n,this.clientAuthenticationTokenService=r,this.logger=C(Q),this.loadClientToken$=W(()=>this.actions$.pipe(V(ON),Qn(()=>this.clientAuthenticationTokenService.loadClientAuthenticationToken().pipe(E(s=>new HC(s)),F(s=>I(new VC(Y(s,this.logger))))))))}};e.\u0275fac=function(r){return new(r||e)(d(Me),d(s3))},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})(),a3=[o3];function c3(){return{clientToken:ct(Zp)}}var LN=new S("ClientAuthReducers"),u3={provide:LN,useFactory:c3},l3=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({providers:[u3],imports:[Ze,Ti,lr.forFeature(NN,LN),Br.forFeature(a3)]});let t=e;return t})(),d3=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[...X8]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({imports:[Ze,l3]});let t=e;return t})(),Jp=new S("ConfigInitializer"),kN=new S("CONFIG_INITIALIZER_FORROOT_GUARD"),kn=(()=>{let e=class e{constructor(n,r,s){this.config=n,this.initializerGuard=r,this.rootConfig=s,this.logger=C(Q),this.ongoingScopes$=new Te(void 0)}get isStable(){return!this.initializerGuard||this.ongoingScopes$.value?.length===0}getStable(...n){return this.isStable?I(this.config):this.ongoingScopes$.pipe(M(r=>!!r&&this.areReady(n,r)),ie(1),E(()=>this.config))}finishScopes(n){let r=[...this.ongoingScopes$.value??[]];for(let s of n)r.splice(r.indexOf(s),1);this.ongoingScopes$.next(r)}areReady(n,r){if(!n.length)return!r.length;for(let s of n)for(let o of r)if(this.scopesOverlap(s,o))return!1;return!0}scopesOverlap(n,r){return r.length>n.length&&([n,r]=[r,n]),n.startsWith(r)&&(n[r.length]||".")==="."}initialize(n){return rt(this,null,function*(){if(this.ongoingScopes$.value)return;let r=[],s=[];for(let o of n||[])if(o){if(!o.scopes||!o.scopes.length)throw new Error("CONFIG_INITIALIZER should provide scope!");ge()&&!this.areReady(o.scopes,r)&&this.logger.warn("More than one CONFIG_INITIALIZER is initializing the same config scope."),r.push(...o.scopes),s.push(rt(this,null,function*(){let a=yield o.configFactory();Et(this.rootConfig,a),Et(this.config,a),this.finishScopes(o.scopes)}))}this.ongoingScopes$.next(r),s.length&&(yield Promise.all(s))})}};e.\u0275fac=function(r){return new(r||e)(d(Ut),d(kN,8),d(OS))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),UN=new S("ConfigurationValidator");function uI(t){return{provide:UN,useValue:t,multi:!0}}function f3(t,e,i){for(let n of e){let r=n(t);r&&i.warn(r)}}function h3(t){if(typeof t?.authentication?.baseUrl>"u"&&typeof t?.backend?.occ?.baseUrl>"u"&&t?.authentication?.OAuthLibConfig?.requireHttps!==!1)return"Authentication might not work correctly without setting either authentication.baseUrl or backend.occ.baseUrl configuration option! Workaround: To support relative urls in angular-oauth2-oidc library you can try setting authentication.OAuthLibConfig.requireHttps to false."}var p3={authentication:{client_id:"mobile_android",client_secret:"secret",tokenEndpoint:"/oauth/token",revokeEndpoint:"/oauth/revoke",loginUrl:"/oauth/authorize",OAuthLibConfig:{scope:"",customTokenParameters:["token_type"],strictDiscoveryDocumentValidation:!1,skipIssuerCheck:!0,disablePKCE:!0,oidc:!1,clearHashAfterLogin:!1}}};function Ii(t,e){return Object.assign(new t,e)}var Kr=(()=>{let e=class e{};e.type="CxEvent";let t=e;return t})(),Ix=(()=>{let e=class e extends Kr{};e.type="LogoutEvent";let t=e;return t})(),g3=(()=>{let e=class e extends Kr{};e.type="LoginEvent";let t=e;return t})(),qC=class{constructor(){this.sources=[],this.subscriptionsToSources=new Map,this.output$=new z(e=>(this.consumer=e,this.bindAllSourcesToConsumer(e),()=>{this.consumer=null,this.unbindAllSourcesFromConsumer()})).pipe(Ms()),this.consumer=null}add(e){this.has(e)||(this.consumer&&this.bindSourceToConsumer(e,this.consumer),this.sources.push(e))}bindAllSourcesToConsumer(e){this.sources.forEach(i=>this.bindSourceToConsumer(i,e))}unbindAllSourcesFromConsumer(){this.sources.forEach(e=>this.unbindSourceFromConsumer(e))}bindSourceToConsumer(e,i){let n=e.subscribe(r=>i.next(r));this.subscriptionsToSources.set(e,n)}unbindSourceFromConsumer(e){let i=this.subscriptionsToSources.get(e);i!==void 0&&(i.unsubscribe(),this.subscriptionsToSources.delete(e))}remove(e){this.unbindSourceFromConsumer(e);let i;(i=this.sources.findIndex(n=>n===e))!==-1&&this.sources.splice(i,1)}has(e){return this.sources.includes(e)}},Is=(()=>{let e=class e{constructor(){this.logger=C(Q),this.eventsMeta=new Map}register(n,r){let s=this.getEventMeta(n);return s.mergingSubject.has(r)?ge()&&this.logger.warn("EventService: the event source",r,"has been already registered for the type",n):s.mergingSubject.add(r),()=>s.mergingSubject.remove(r)}get(n){let r=this.getEventMeta(n).mergingSubject.output$;return ge()&&(r=this.getValidatedEventStream(r,n)),r}dispatch(n,r){r?n instanceof r||(n=Ii(r,n)):r=n.constructor,this.getInputSubject(r).next(n)}getInputSubject(n){let r=this.getEventMeta(n);return r.inputSubject$||(r.inputSubject$=new re,this.register(n,r.inputSubject$)),r.inputSubject$}getEventMeta(n){return this.eventsMeta.get(n)||(ge()&&this.validateEventType(n),this.createEventMeta(n)),this.eventsMeta.get(n)}createEventMeta(n){let r={inputSubject$:null,mergingSubject:new qC};this.eventsMeta.set(n,r);let s=Object.getPrototypeOf(n);for(;s!==null&&Object.getPrototypeOf(s)!==Object.getPrototypeOf({});)this.register(s,r.mergingSubject.output$),s=Object.getPrototypeOf(s)}validateEventType(n){if(!n?.constructor)throw new Error(`EventService:  ${n} is not a valid event type. Please provide a class reference.`);this.validateCxEvent(n)}validateCxEvent(n){let r=n;for(;r!==null&&Object.getPrototypeOf(r)!==Object.getPrototypeOf({});){if(r.type===Kr.type)return;r=Object.getPrototypeOf(r)}this.logger.warn(`The ${n.name} (or one of its parent classes) does not inherit from the ${Kr.type}`)}getValidatedEventStream(n,r){return n.pipe(L(s=>{s instanceof r||this.logger.warn("EventService: The stream",n,"emitted the event",s,"that is not an instance of the declared type",r.name)}))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),jN=(()=>{let e=class e{constructor(n,r){this.actionsSubject=n,this.eventService=r}register(n){return this.eventService.register(n.event,this.getFromAction(n))}getFromAction(n){return this.actionsSubject.pipe(V(...[].concat(n.action))).pipe(E(r=>this.createEvent(r,n.event,n.factory)))}createEvent(n,r,s){return s?s(n):Ii(r,n.payload??{})}};e.\u0275fac=function(r){return new(r||e)(d($r),d(Is))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),m3=(()=>{let e=class e{constructor(n,r,s){this.stateEventService=n,this.eventService=r,this.authService=s,this.register()}register(){this.registerLoginEvent(),this.registerLogoutEvent()}registerLoginEvent(){this.stateEventService.register({action:vr,event:g3})}registerLogoutEvent(){this.eventService.register(Ix,this.buildLogoutEvent())}buildLogoutEvent(){return this.authService.isUserLoggedIn().pipe(sa(),M(([n,r])=>n&&!r),E(()=>Ii(Ix,{})))}};e.\u0275fac=function(r){return new(r||e)(d(jN),d(Is),d(Bn))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),v3=(()=>{let e=class e{constructor(n){}};e.\u0275fac=function(r){return new(r||e)(d(m3))},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})(),Ue=function(t){return t.MSG_TYPE_CONFIRMATION="[GlobalMessage] Confirmation",t.MSG_TYPE_ERROR="[GlobalMessage] Error",t.MSG_TYPE_INFO="[GlobalMessage] Information",t.MSG_TYPE_WARNING="[GlobalMessage] Warning",t.MSG_TYPE_ASSISTIVE="[GlobalMessage] Assistive",t}(Ue||{}),Hf="[Global-message] Add a Message",$N="[Global-message] Remove a Message",BN="[Global-message] Remove messages by type",YC=class{constructor(e){this.payload=e,this.type=Hf}},Ic=class{constructor(e){this.payload=e,this.type=$N}},zf=class{constructor(e){this.payload=e,this.type=BN}};var VN="global-message",y3=Fn(VN),HN=A(y3,t=>t.entities),zN=t=>A(HN,e=>e&&e[t]),E3=t=>A(zN(t),e=>e&&e.length);var Wo=(()=>{let e=class e{constructor(n){this.store=n}get(){return this.store.pipe(x(HN),M(En))}add(n,r,s){this.store.dispatch(new YC({text:typeof n=="string"?{raw:n}:n,type:r,timeout:s}))}remove(n,r){this.store.dispatch(r!==void 0?new Ic({type:n,index:r}):new zf(n))}};e.\u0275fac=function(r){return new(r||e)(d(me))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),C3=(()=>{let e=class e{constructor(n,r,s,o,a,c,u){this.authService=n,this.authStorageService=r,this.oAuthLibWrapperService=s,this.routingService=o,this.occEndpoints=a,this.globalMessageService=c,this.authRedirectService=u,this.refreshTokenTrigger$=new re,this.token$=this.authStorageService.getToken().pipe(E(l=>l?.access_token?l:void 0)),this.stopProgress$=this.token$.pipe(sa(),L(([l,f])=>{l?.access_token!==f?.access_token&&(this.authService.setLogoutProgress(!1),this.authService.setRefreshProgress(!1))})),this.refreshToken$=this.refreshTokenTrigger$.pipe(it(this.authService.refreshInProgress$,this.authService.logoutInProgress$),M(([,l,f])=>!l&&!f),L(([l])=>{l?.refresh_token?(this.oAuthLibWrapperService.refreshToken(),this.authService.setRefreshProgress(!0)):this.handleExpiredRefreshToken()})),this.tokenToRetryRequest$=Os(()=>this.refreshToken$.subscribe(),()=>this.getStableToken()).pipe(pt({refCount:!0,bufferSize:1})),this.subscriptions=new Ee,this.subscriptions.add(this.stopProgress$.subscribe())}shouldCatchError(n){return this.isOccUrl(n.url)}shouldAddAuthorizationHeader(n){let r=!!this.getAuthorizationHeader(n),s=this.isOccUrl(n.url);return!r&&s}alterRequest(n,r){let s=!!this.getAuthorizationHeader(n),o=this.isBaseSitesRequest(n),a=this.isOccUrl(n.url);return!s&&a&&!o?n.clone({setHeaders:v({},this.createAuthorizationHeader(r))}):n}isOccUrl(n){return n.includes(this.occEndpoints.getBaseUrl())}isBaseSitesRequest(n){return n.url.includes(this.occEndpoints.getRawEndpointValue("baseSites"))}getAuthorizationHeader(n){return n.headers.get("Authorization")}createAuthorizationHeader(n){if(n?.access_token)return{Authorization:`${n.token_type||"Bearer"} ${n.access_token}`};let r;return this.authStorageService.getToken().subscribe(s=>r=s).unsubscribe(),r?.access_token?{Authorization:`${r.token_type||"Bearer"} ${r.access_token}`}:{}}handleExpiredAccessToken(n,r,s){return this.getValidToken(s).pipe(N(o=>o?r.handle(this.createNewRequestWithNewToken(n,o)):he))}handleExpiredRefreshToken(){this.authRedirectService.saveCurrentNavigationUrl(),this.authService.coreLogout().finally(()=>{this.routingService.go({cxRoute:"login"}),this.globalMessageService.add({key:"httpHandlers.sessionExpired"},Ue.MSG_TYPE_ERROR)})}getStableToken(){return _e([this.token$,this.authService.refreshInProgress$,this.authService.logoutInProgress$]).pipe(qt(wr),M(([n,r,s])=>!r&&!s),N(()=>this.token$))}getValidToken(n){return qe(()=>{let r=!1;return this.tokenToRetryRequest$.pipe(L(s=>{s?.access_token===n?.access_token&&!r&&this.refreshTokenTrigger$.next(s),r=!0}),Pu(s=>s?.access_token===n?.access_token),ie(1))})}createNewRequestWithNewToken(n,r){return n=n.clone({setHeaders:{Authorization:`${r.token_type||"Bearer"} ${r.access_token}`}}),n}ngOnDestroy(){this.subscriptions.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)(d(Bn),d(Nc),d(EN),d(wi),d(Qe),d(Wo),d(JS))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),S3=(()=>{let e=class e{constructor(n,r){this.authHttpHeaderService=n,this.authConfigService=r}intercept(n,r){let s=this.authHttpHeaderService.shouldCatchError(n);return(this.authHttpHeaderService.shouldAddAuthorizationHeader(n)?this.authHttpHeaderService.getStableToken().pipe(ie(1)):I(void 0)).pipe(E(u=>({token:u,request:this.authHttpHeaderService.alterRequest(n,u)}))).pipe(N(({request:u,token:l})=>r.handle(u).pipe(F(f=>{switch(f.status){case 401:if(this.isExpiredToken(f)&&s)return this.authHttpHeaderService.handleExpiredAccessToken(u,r,l);if(this.errorIsInvalidToken(f))return this.authHttpHeaderService.handleExpiredRefreshToken(),he;break;case 400:this.errorIsInvalidGrant(f)&&u.body.get("grant_type")==="refresh_token"&&this.authHttpHeaderService.handleExpiredRefreshToken();break}throw f}))))}errorIsInvalidToken(n){return(n.url?.includes(this.authConfigService.getTokenEndpoint())&&n.error.error==="invalid_token")??!1}errorIsInvalidGrant(n){return(n.url?.includes(this.authConfigService.getTokenEndpoint())&&n.error.error==="invalid_grant")??!1}isExpiredToken(n){return n.error?.errors?.[0]?.type==="InvalidTokenError"}};e.\u0275fac=function(r){return new(r||e)(d(C3),d(zp))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),I3=(()=>{let e=class e{constructor(n,r){this.authStorageService=n,this.authConfigService=r}intercept(n,r){let s=this.isTokenRevocationRequest(n);return this.authStorageService.getToken().pipe(ie(1),N(o=>(s&&(n=n.clone({setHeaders:{Authorization:`${o.token_type||"Bearer"} ${o.access_token}`}})),r.handle(n))))}isTokenRevocationRequest(n){return n.url===this.authConfigService.getRevokeEndpoint()}};e.\u0275fac=function(r){return new(r||e)(d(Nc),d(zp))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),D3=[{provide:gn,useExisting:S3,multi:!0},{provide:gn,useExisting:I3,multi:!0}],lI=new S("MULTI_LOCATION_INITIALIZED");function b3(t,e,i){return()=>Pn(i)?Zn(e.getStable().pipe(N(()=>t.checkOAuthParamsInUrl()))):Promise.resolve()}function w3(t){return()=>t.initSync()}var T3=()=>{let t=C(Bn),e=C(kn),i=C($e),n=C(_N);return w3(n)(),b3(t,e,i)},A3=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[Un(p3),uI(h3),...D3,{provide:ls,useExisting:Nc},{provide:lI,useFactory:T3,multi:!0}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({imports:[Ze,FM.forRoot(),v3]});let t=e;return t})(),qce=(()=>{let e=class e{static forRoot(){return{ngModule:e}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({imports:[Ze,A3.forRoot(),d3.forRoot()]});let t=e;return t})(),R3=(()=>{let e=class e{constructor(n,r,s,o){this.authService=n,this.authRedirectService=r,this.router=s,this.semanticPathService=o}canActivate(){return this.authService.isUserLoggedIn().pipe(E(n=>n||(this.authRedirectService.saveCurrentNavigationUrl(),this.router.parseUrl(this.semanticPathService.get("login")??""))))}};e.\u0275fac=function(r){return new(r||e)(d(Bn),d(JS),d(Oe),d(Oc))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Yce=(()=>{let e=class e{constructor(n,r,s){this.authService=n,this.semanticPathService=r,this.router=s}canActivate(){return this.authService.isUserLoggedIn().pipe(E(n=>n?this.router.parseUrl(this.semanticPathService.get("home")??""):!n))}};e.\u0275fac=function(r){return new(r||e)(d(Bn),d(Oc),d(Oe))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),GN=(()=>{let e=class e extends Er{};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=g({token:e,factory:function(r){let s=null;return r?s=new(r||e):s=d(Ut),s},providedIn:"root"});let t=e;return t})(),M3=(()=>{let e=class e{constructor(n,r,s,o){this.anonymousConsentsService=n,this.authService=r,this.occEndpoints=s,this.config=o}intercept(n,r){return _e([this.anonymousConsentsService.getConsents(),this.authService.isUserLoggedIn()]).pipe(ie(1),N(([s,o])=>{if(!this.isOccUrl(n.url))return r.handle(n);let a=this.handleRequest(s,n);return r.handle(a).pipe(L(c=>{c instanceof ts&&(c.url??"").startsWith(this.occEndpoints.buildUrl("anonymousConsentTemplates"))&&this.handleResponse(o,c.headers.get(vC),s)}))}))}handleResponse(n,r,s){if(!n&&r){let o=[];o=this.anonymousConsentsService.decodeAndDeserialize(r),o=this.giveRequiredConsents(o),this.anonymousConsentsService.consentsUpdated(o,s)&&this.anonymousConsentsService.setConsents(o)}}handleRequest(n,r){if(!n)return r;let s=this.anonymousConsentsService.serializeAndEncode(n);return r.clone({setHeaders:{[vC]:s}})}isOccUrl(n){return n.includes(this.occEndpoints.getBaseUrl())}giveRequiredConsents(n){let r=[...n];if(this.config.anonymousConsents&&this.config.anonymousConsents.requiredConsents)for(let s of r)s.templateCode&&this.config.anonymousConsents.requiredConsents.includes(s.templateCode)&&(s.consentState=_o.GIVEN);return r}};e.\u0275fac=function(r){return new(r||e)(d(Lc),d(Bn),d(Qe),d(GN))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),x3=[{provide:gn,useExisting:M3,multi:!0}],dI="[User] Load Billing Countries",WN="[User] Load Billing Countries Fail",fI="[User] Load Billing Countries Success",Gf=class{constructor(){this.type=dI}},Wf=class{constructor(e){this.payload=e,this.type=WN}},qf=class{constructor(e){this.payload=e,this.type=fI}},ae="process";function N3(){return Fn(ae)}function Xp(t){return A(N3(),e=>nn(e,t))}function Ci(t){return A(Xp(t),e=>jt(e))}function Gr(t){return A(Xp(t),e=>jn(e))}function Ei(t){return A(Xp(t),e=>zo(e))}var Kce=Object.freeze({__proto__:null,getProcessErrorFactory:Ei,getProcessLoadingFactory:Ci,getProcessStateFactory:Xp,getProcessSuccessFactory:Gr}),qN="user",O3="registerUser",hs="giveConsent",ps="withdrawConsent",kc="updateNotificationPreferences",Lo="addProductInterests",ko="removeProductInterests",Uc="[User] User Consents",Cr="[User] User Payment Methods",rn="[User] User Addresses",eg="[User] User Cost Centers",jc="[User] Regions",$c="[User] Customer Coupons",gs="subscribeCustomerCoupon",ms="unsubscribeCustomerCoupon",Po="claimCustomerCoupon",Uo="disclaimCustomerCoupon",Bc="[User] Notification Preferences",Vc="[User] Product Interests",hI="[User] Load Customer Coupons",YN="[User] Load Customer Coupons Fail",pI="[User] Load Customer Coupons Success",KN="[User] Reset Load Customer Coupons",gI="[User] Subscribe Customer Notification Coupon",ZN="[User] Subscribe Customer Coupon Notification Fail",mI="[User] Subscribe Customer Coupon Notification Success",QN="[User] Reset Subscribe Customer Coupon Process",vI="[User] Unsubscribe Customer Notification Coupon",JN="[User] Unsubscribe Customer Coupon Notification Fail",yI="[User] Unsubscribe Customer Coupon Notification Success",XN="[User] Reset Unsubscribe Customer Coupon Process",EI="[User] Claim Customer",eO="[User] Claim Customer Fail",tO="[User] Claim Customer Success",CI="[User] Disclaim Customer",nO="[User] Disclaim Customer Fail",rO="[User] Disclaim Customer Success",iO="[User] Reset Disclaim Customer",Yf=class extends ut{constructor(e){super($c),this.payload=e,this.type=hI}},Kf=class extends lt{constructor(e){super($c,e),this.payload=e,this.type=YN}},Zf=class extends dt{constructor(e){super($c),this.payload=e,this.type=pI}},KC=class extends qr{constructor(){super($c),this.type=KN}},Qf=class extends kt{constructor(e){super(ae,gs),this.payload=e,this.type=gI}},Jf=class extends At{constructor(e){super(ae,gs,e),this.payload=e,this.type=ZN}},Xf=class extends ft{constructor(e){super(ae,gs,e),this.payload=e,this.type=mI}},ZC=class extends Ln{constructor(){super(ae,gs),this.type=QN}},eh=class extends kt{constructor(e){super(ae,ms),this.payload=e,this.type=vI}},th=class extends At{constructor(e){super(ae,ms,e),this.payload=e,this.type=JN}},nh=class extends ft{constructor(e){super(ae,ms,e),this.payload=e,this.type=yI}},QC=class extends Ln{constructor(){super(ae,ms),this.type=XN}},rh=class extends kt{constructor(e){super(ae,Po),this.payload=e,this.type=EI}},ih=class extends kt{constructor(e){super(ae,Uo),this.payload=e,this.type=CI}},sh=class extends Ln{constructor(){super(ae,Uo),this.type=iO}},oh=class extends At{constructor(e){super(ae,Uo,e),this.payload=e,this.type=nO}},ah=class extends ft{constructor(e){super(ae,Uo,e),this.payload=e,this.type=rO}},ch=class extends At{constructor(e){super(ae,Po,e),this.payload=e,this.type=eO}},uh=class extends ft{constructor(e){super(ae,Po,e),this.payload=e,this.type=tO}},SI="[User] Load Delivery Countries",sO="[User] Load Delivery Countries Fail",II="[User] Load Delivery Countries Success",lh=class{constructor(){this.type=SI}},dh=class{constructor(e){this.payload=e,this.type=sO}},fh=class{constructor(e){this.payload=e,this.type=II}},DI="[User] Load Notification Preferences",bI="[User] Load Notification Preferences Fail",wI="[User] Load Notification Preferences Success",TI="[User] Update Notification Preferences",oO="[User] Update Notification Preferences Fail",AI="[User] Update Notification Preferences Success",aO="[User] Reset Notification Preferences",cO="[User] Clear Notification Preferences",hh=class extends ut{constructor(e){super(Bc),this.payload=e,this.type=DI}},ph=class extends lt{constructor(e){super(Bc,e),this.payload=e,this.type=bI}},gh=class extends dt{constructor(e){super(Bc),this.payload=e,this.type=wI}},mh=class extends kt{constructor(e){super(ae,kc),this.payload=e,this.type=TI}},vh=class extends At{constructor(e){super(ae,kc,e),this.payload=e,this.type=oO}},yh=class extends ft{constructor(e){super(ae,kc),this.payload=e,this.type=AI}},Eh=class extends Ln{constructor(){super(ae,kc),this.type=aO}},Ch=class extends qr{constructor(){super(Bc),this.type=cO}},RI="[User] Load User Payment Methods",MI="[User] Load User Payment Methods Fail",xI="[User] Load User Payment Methods Success",NI="[User] Set Default User Payment Method",uO="[User] Set Default User Payment Method Fail",lO="[User] Set Default User Payment Method Success",OI="[User] Delete User Payment Method",dO="[User] Delete User Payment Method Fail",fO="[User] Delete User  Payment Method Success",jo=class extends ut{constructor(e){super(Cr),this.payload=e,this.type=RI}},Sh=class extends lt{constructor(e){super(Cr,e),this.payload=e,this.type=MI}},Ih=class extends dt{constructor(e){super(Cr),this.payload=e,this.type=xI}},Dh=class extends ut{constructor(e){super(Cr),this.payload=e,this.type=NI}},bh=class extends lt{constructor(e){super(Cr,e),this.payload=e,this.type=uO}},wh=class extends dt{constructor(e){super(Cr),this.payload=e,this.type=lO}},Th=class extends ut{constructor(e){super(Cr),this.payload=e,this.type=OI}},Ah=class extends lt{constructor(e){super(Cr,e),this.payload=e,this.type=dO}},Rh=class extends dt{constructor(e){super(Cr),this.payload=e,this.type=fO}},PI="Load Product Interests",FI="Load Product Interests Fail",_I="Load Product Interests Success",LI="Remove Product Interest",hO="Remove Product Interest Success",pO="Remove Product Interest Fail",kI="Add Product Interest",gO="Add Product Interest Fail",mO="Add Product Interest Success",vO="Add Product Interest Reset",yO="Remove Product Interest Reset",EO="Clear Product Interests",$o=class extends ut{constructor(e){super(Vc),this.payload=e,this.type=PI}},Mh=class extends lt{constructor(e){super(Vc,e),this.payload=e,this.type=FI}},xh=class extends dt{constructor(e){super(Vc),this.payload=e,this.type=_I}},Nh=class extends kt{constructor(e){super(ae,ko),this.payload=e,this.type=LI}},Oh=class extends ft{constructor(e){super(ae,ko),this.payload=e,this.type=hO}},Ph=class extends At{constructor(e){super(ae,ko,e),this.payload=e,this.type=pO}},Fh=class extends kt{constructor(e){super(ae,Lo),this.payload=e,this.type=kI}},_h=class extends ft{constructor(e){super(ae,Lo),this.payload=e,this.type=mO}},Lh=class extends At{constructor(e){super(ae,Lo,e),this.payload=e,this.type=gO}},kh=class extends Ln{constructor(){super(ae,Lo),this.type=vO}},Uh=class extends Ln{constructor(){super(ae,ko),this.type=yO}},jh=class extends qr{constructor(){super(Vc),this.type=EO}},UI="[User] Load Regions",jI="[User] Load Regions Success",CO="[User] Load Regions Fail",$I="[User] Clear Regions",$h=class extends ut{constructor(e){super(jc),this.payload=e,this.type=UI}},Bh=class extends lt{constructor(e){super(jc,e),this.payload=e,this.type=CO}},Vh=class extends dt{constructor(e){super(jc),this.payload=e,this.type=jI}},Hh=class{constructor(){this.type=$I}},BI="[User] Load User Addresses",VI="[User] Load User Addresses Fail",HI="[User] Load User Addresses Success",tg="[User] Add User Address",SO="[User] Add User Address Fail",zI="[User] Add User Address Success",ng="[User] Update User Address",IO="[User] Update User Address Fail",GI="[User] Update User Address Success",rg="[User] Delete User Address",DO="[User] Delete User Address Fail",WI="[User] Delete User Address Success",zh=class extends ut{constructor(e){super(rn),this.payload=e,this.type=BI}},Gh=class extends lt{constructor(e){super(rn,e),this.payload=e,this.type=VI}},Wh=class extends dt{constructor(e){super(rn),this.payload=e,this.type=HI}},qh=class extends ut{constructor(e){super(rn),this.payload=e,this.type=tg}},Yh=class extends lt{constructor(e){super(rn,e),this.payload=e,this.type=SO}},Kh=class extends dt{constructor(e){super(rn),this.payload=e,this.type=zI}},Dc=class extends ut{constructor(e){super(rn),this.payload=e,this.type=ng}},Zh=class extends lt{constructor(e){super(rn,e),this.payload=e,this.type=IO}},Qh=class extends dt{constructor(e){super(rn),this.payload=e,this.type=GI}},Jh=class extends ut{constructor(e){super(rn),this.payload=e,this.type=rg}},Xh=class extends lt{constructor(e){super(rn,e),this.payload=e,this.type=DO}},ep=class extends dt{constructor(e){super(rn),this.payload=e,this.type=WI}},qI="[User] Load User Consents",YI="[User] Load User Consents Success",bO="[User] Load User Consents Fail",wO="[User] Reset Load User Consents",KI="[User] Give User Consent",TO="[User] Give User Consent Fail",ZI="[User] Give User Consent Success",AO="[User] Reset Give User Consent Process",tp="[User] Transfer Anonymous Consent",QI="[User] Withdraw User Consent",RO="[User] Withdraw User Consent Fail",MO="[User] Withdraw User Consent Success",xO="[User] Reset Withdraw User Consent Process",np=class extends ut{constructor(e){super(Uc),this.payload=e,this.type=qI}},rp=class extends lt{constructor(e){super(Uc,e),this.payload=e,this.type=bO}},ip=class extends dt{constructor(e){super(Uc),this.payload=e,this.type=YI}},bc=class extends qr{constructor(){super(Uc),this.type=wO}},wc=class extends kt{constructor(e){super(ae,hs),this.payload=e,this.type=KI}},sp=class extends At{constructor(e){super(ae,hs,e),this.type=TO}},op=class extends ft{constructor(e){super(ae,hs),this.consentTemplate=e,this.type=ZI}},ap=class extends Ln{constructor(){super(ae,hs),this.type=AO}},cp=class{constructor(e){this.payload=e,this.type=tp}},up=class extends kt{constructor(e){super(ae,ps),this.payload=e,this.type=QI}},lp=class extends At{constructor(e){super(ae,ps,e),this.type=RO}},dp=class extends ft{constructor(){super(ae,ps),this.type=MO}},fp=class extends Ln{constructor(){super(ae,ps),this.type=xO}},JI="[User] Load Active CostCenters",XI="[User] Load Active CostCenters Fail",eD="[User] Load Active CostCenters Success",hp=class extends ut{constructor(e){super(eg),this.payload=e,this.type=JI}},pp=class extends lt{constructor(e){super(eg,e),this.payload=e,this.type=XI}},gp=class extends dt{constructor(e){super(eg),this.payload=e,this.type=eD}},Hc="[User] Clear User Misc Data",mp=class{constructor(){this.type=Hc}},tD="[User] Register User Success",JC=class extends ft{constructor(){super(ae,O3),this.type=tD}},Zce=Object.freeze({__proto__:null,ADD_PRODUCT_INTEREST:kI,ADD_PRODUCT_INTEREST_FAIL:gO,ADD_PRODUCT_INTEREST_RESET:vO,ADD_PRODUCT_INTEREST_SUCCESS:mO,ADD_USER_ADDRESS:tg,ADD_USER_ADDRESS_FAIL:SO,ADD_USER_ADDRESS_SUCCESS:zI,AddProductInterest:Fh,AddProductInterestFail:Lh,AddProductInterestSuccess:_h,AddUserAddress:qh,AddUserAddressFail:Yh,AddUserAddressSuccess:Kh,CLAIM_CUSTOMER_COUPON:EI,CLAIM_CUSTOMER_COUPON_FAIL:eO,CLAIM_CUSTOMER_COUPON_SUCCESS:tO,CLEAR_NOTIFICATION_PREFERENCES:cO,CLEAR_PRODUCT_INTERESTS:EO,CLEAR_REGIONS:$I,CLEAR_USER_MISCS_DATA:Hc,ClaimCustomerCoupon:rh,ClaimCustomerCouponFail:ch,ClaimCustomerCouponSuccess:uh,ClearNotificationPreferences:Ch,ClearProductInterests:jh,ClearRegions:Hh,ClearUserMiscsData:mp,DELETE_USER_ADDRESS:rg,DELETE_USER_ADDRESS_FAIL:DO,DELETE_USER_ADDRESS_SUCCESS:WI,DELETE_USER_PAYMENT_METHOD:OI,DELETE_USER_PAYMENT_METHOD_FAIL:dO,DELETE_USER_PAYMENT_METHOD_SUCCESS:fO,DISCLAIM_CUSTOMER_COUPON:CI,DISCLAIM_CUSTOMER_COUPON_FAIL:nO,DISCLAIM_CUSTOMER_COUPON_SUCCESS:rO,DeleteUserAddress:Jh,DeleteUserAddressFail:Xh,DeleteUserAddressSuccess:ep,DeleteUserPaymentMethod:Th,DeleteUserPaymentMethodFail:Ah,DeleteUserPaymentMethodSuccess:Rh,DisclaimCustomerCoupon:ih,DisclaimCustomerCouponFail:oh,DisclaimCustomerCouponSuccess:ah,GIVE_USER_CONSENT:KI,GIVE_USER_CONSENT_FAIL:TO,GIVE_USER_CONSENT_SUCCESS:ZI,GiveUserConsent:wc,GiveUserConsentFail:sp,GiveUserConsentSuccess:op,LOAD_ACTIVE_COST_CENTERS:JI,LOAD_ACTIVE_COST_CENTERS_FAIL:XI,LOAD_ACTIVE_COST_CENTERS_SUCCESS:eD,LOAD_BILLING_COUNTRIES:dI,LOAD_BILLING_COUNTRIES_FAIL:WN,LOAD_BILLING_COUNTRIES_SUCCESS:fI,LOAD_CUSTOMER_COUPONS:hI,LOAD_CUSTOMER_COUPONS_FAIL:YN,LOAD_CUSTOMER_COUPONS_SUCCESS:pI,LOAD_DELIVERY_COUNTRIES:SI,LOAD_DELIVERY_COUNTRIES_FAIL:sO,LOAD_DELIVERY_COUNTRIES_SUCCESS:II,LOAD_NOTIFICATION_PREFERENCES:DI,LOAD_NOTIFICATION_PREFERENCES_FAIL:bI,LOAD_NOTIFICATION_PREFERENCES_SUCCESS:wI,LOAD_PRODUCT_INTERESTS:PI,LOAD_PRODUCT_INTERESTS_FAIL:FI,LOAD_PRODUCT_INTERESTS_SUCCESS:_I,LOAD_REGIONS:UI,LOAD_REGIONS_FAIL:CO,LOAD_REGIONS_SUCCESS:jI,LOAD_USER_ADDRESSES:BI,LOAD_USER_ADDRESSES_FAIL:VI,LOAD_USER_ADDRESSES_SUCCESS:HI,LOAD_USER_CONSENTS:qI,LOAD_USER_CONSENTS_FAIL:bO,LOAD_USER_CONSENTS_SUCCESS:YI,LOAD_USER_PAYMENT_METHODS:RI,LOAD_USER_PAYMENT_METHODS_FAIL:MI,LOAD_USER_PAYMENT_METHODS_SUCCESS:xI,LoadActiveCostCenters:hp,LoadActiveCostCentersFail:pp,LoadActiveCostCentersSuccess:gp,LoadBillingCountries:Gf,LoadBillingCountriesFail:Wf,LoadBillingCountriesSuccess:qf,LoadCustomerCoupons:Yf,LoadCustomerCouponsFail:Kf,LoadCustomerCouponsSuccess:Zf,LoadDeliveryCountries:lh,LoadDeliveryCountriesFail:dh,LoadDeliveryCountriesSuccess:fh,LoadNotificationPreferences:hh,LoadNotificationPreferencesFail:ph,LoadNotificationPreferencesSuccess:gh,LoadProductInterests:$o,LoadProductInterestsFail:Mh,LoadProductInterestsSuccess:xh,LoadRegions:$h,LoadRegionsFail:Bh,LoadRegionsSuccess:Vh,LoadUserAddresses:zh,LoadUserAddressesFail:Gh,LoadUserAddressesSuccess:Wh,LoadUserConsents:np,LoadUserConsentsFail:rp,LoadUserConsentsSuccess:ip,LoadUserPaymentMethods:jo,LoadUserPaymentMethodsFail:Sh,LoadUserPaymentMethodsSuccess:Ih,REGISTER_USER_SUCCESS:tD,REMOVE_PRODUCT_INTEREST:LI,REMOVE_PRODUCT_INTEREST_FAIL:pO,REMOVE_PRODUCT_INTEREST_RESET:yO,REMOVE_PRODUCT_INTEREST_SUCCESS:hO,RESET_DISCLAIM_CUSTOMER_COUPON:iO,RESET_GIVE_USER_CONSENT_PROCESS:AO,RESET_LOAD_CUSTOMER_COUPONS:KN,RESET_LOAD_USER_CONSENTS:wO,RESET_NOTIFICATION_PREFERENCES:aO,RESET_SUBSCRIBE_CUSTOMER_COUPON_PROCESS:QN,RESET_UNSUBSCRIBE_CUSTOMER_COUPON_PROCESS:XN,RESET_WITHDRAW_USER_CONSENT_PROCESS:xO,RegisterUserSuccess:JC,RemoveProductInterest:Nh,RemoveProductInterestFail:Ph,RemoveProductInterestSuccess:Oh,ResetAddInterestState:kh,ResetDisclaimCustomerCoupon:sh,ResetGiveUserConsentProcess:ap,ResetLoadCustomerCoupons:KC,ResetLoadUserConsents:bc,ResetNotificationPreferences:Eh,ResetRemoveInterestState:Uh,ResetSubscribeCustomerCouponProcess:ZC,ResetUnsubscribeCustomerCouponProcess:QC,ResetWithdrawUserConsentProcess:fp,SET_DEFAULT_USER_PAYMENT_METHOD:NI,SET_DEFAULT_USER_PAYMENT_METHOD_FAIL:uO,SET_DEFAULT_USER_PAYMENT_METHOD_SUCCESS:lO,SUBSCRIBE_CUSTOMER_COUPON:gI,SUBSCRIBE_CUSTOMER_COUPON_FAIL:ZN,SUBSCRIBE_CUSTOMER_COUPON_SUCCESS:mI,SetDefaultUserPaymentMethod:Dh,SetDefaultUserPaymentMethodFail:bh,SetDefaultUserPaymentMethodSuccess:wh,SubscribeCustomerCoupon:Qf,SubscribeCustomerCouponFail:Jf,SubscribeCustomerCouponSuccess:Xf,TRANSFER_ANONYMOUS_CONSENT:tp,TransferAnonymousConsent:cp,UNSUBSCRIBE_CUSTOMER_COUPON:vI,UNSUBSCRIBE_CUSTOMER_COUPON_FAIL:JN,UNSUBSCRIBE_CUSTOMER_COUPON_SUCCESS:yI,UPDATE_NOTIFICATION_PREFERENCES:TI,UPDATE_NOTIFICATION_PREFERENCES_FAIL:oO,UPDATE_NOTIFICATION_PREFERENCES_SUCCESS:AI,UPDATE_USER_ADDRESS:ng,UPDATE_USER_ADDRESS_FAIL:IO,UPDATE_USER_ADDRESS_SUCCESS:GI,UnsubscribeCustomerCoupon:eh,UnsubscribeCustomerCouponFail:th,UnsubscribeCustomerCouponSuccess:nh,UpdateNotificationPreferences:mh,UpdateNotificationPreferencesFail:vh,UpdateNotificationPreferencesSuccess:yh,UpdateUserAddress:Dc,UpdateUserAddressFail:Zh,UpdateUserAddressSuccess:Qh,WITHDRAW_USER_CONSENT:QI,WITHDRAW_USER_CONSENT_FAIL:RO,WITHDRAW_USER_CONSENT_SUCCESS:MO,WithdrawUserConsent:up,WithdrawUserConsentFail:lp,WithdrawUserConsentSuccess:dp}),vp=class{},P3=(()=>{let e=class e{constructor(n){this.adapter=n}loadAnonymousConsentTemplates(){return this.adapter.loadAnonymousConsentTemplates()}loadAnonymousConsents(){return this.adapter.loadAnonymousConsents()}};e.\u0275fac=function(r){return new(r||e)(d(vp))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),yp=class{},Ep=class{},XC=new S("CmsPageNormalizer"),F3="JspIncludeComponent",_3="CMSFlexComponent";var L3=function(t){return t.DEFER="DEFERRED-LOADING",t.INSTANT="INSTANT-LOADING",t}(L3||{}),nD=(()=>{let e=class e extends Er{};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=g({token:e,factory:function(r){let s=null;return r?s=new(r||e):s=d(Ut),s},providedIn:"root"});let t=e;return t})(),zr=function(t){return t.INDEX="INDEX",t.NOINDEX="NOINDEX",t.FOLLOW="FOLLOW",t.NOFOLLOW="NOFOLLOW",t}(zr||{}),Ro;(function(t){let e;(function(p){p.INDEX_FOLLOW="INDEX_FOLLOW",p.NOINDEX_FOLLOW="NOINDEX_FOLLOW",p.INDEX_NOFOLLOW="INDEX_NOFOLLOW",p.NOINDEX_NOFOLLOW="NOINDEX_NOFOLLOW"})(e=t.PageRobots||(t.PageRobots={}));let i;(function(p){p.Success="SUCCESS",p.Info="INFO",p.Warning="WARNING",p.Error="ERROR"})(i=t.OrderEntryStatus||(t.OrderEntryStatus={}));let n;(function(p){p.BUY="BUY",p.FROM="FROM"})(n=t.PriceType||(t.PriceType={}));let r;(function(p){p.PRIMARY="PRIMARY",p.GALLERY="GALLERY"})(r=t.ImageType||(t.ImageType={}));let s;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(s=t.Fields||(t.Fields={}));let o;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(o=t.Fields1||(t.Fields1={}));let a;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(a=t.Fields2||(t.Fields2={}));let c;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(c=t.Fields3||(t.Fields3={}));let u;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(u=t.Fields4||(t.Fields4={}));let l;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(l=t.Fields5||(t.Fields5={}));let f;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(f=t.Fields6||(t.Fields6={}));let h;(function(p){p.CONTENT_PAGE="ContentPage",p.PRODUCT_PAGE="ProductPage",p.CATEGORY_PAGE="CategoryPage",p.CATALOG_PAGE="CatalogPage"})(h=t.PageType||(t.PageType={}));let m;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(m=t.Fields7||(t.Fields7={}));let y;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(y=t.Fields8||(t.Fields8={}));let b;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(b=t.Fields9||(t.Fields9={}));let w;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(w=t.Fields10||(t.Fields10={}));let R;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(R=t.Fields11||(t.Fields11={}));let k;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(k=t.Fields12||(t.Fields12={}));let U;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(U=t.Fields13||(t.Fields13={}));let H;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(H=t.Fields14||(t.Fields14={}));let te;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(te=t.Fields15||(t.Fields15={}));let ue;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(ue=t.Fields16||(t.Fields16={}));let fe;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(fe=t.SortEnum||(t.SortEnum={}));let Pe;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(Pe=t.Fields17||(t.Fields17={}));let Ri;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(Ri=t.Fields18||(t.Fields18={}));let Vn;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(Vn=t.Fields19||(t.Fields19={}));let D;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(D=t.Fields20||(t.Fields20={}));let O;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(O=t.Fields21||(t.Fields21={}));let ne;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(ne=t.Fields22||(t.Fields22={}));let ye;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(ye=t.Fields23||(t.Fields23={}));let we;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(we=t.Fields24||(t.Fields24={}));let de;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(de=t.Fields25||(t.Fields25={}));let Ir;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(Ir=t.Fields26||(t.Fields26={}));let ht;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(ht=t.Fields27||(t.Fields27={}));let He;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(He=t.Fields28||(t.Fields28={}));let sn;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(sn=t.Fields29||(t.Fields29={}));let Qc;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(Qc=t.Fields30||(t.Fields30={}));let ZP;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(ZP=t.Fields31||(t.Fields31={}));let QP;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(QP=t.Fields32||(t.Fields32={}));let JP;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(JP=t.Fields33||(t.Fields33={}));let XP;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(XP=t.Fields34||(t.Fields34={}));let eF;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(eF=t.Fields35||(t.Fields35={}));let tF;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(tF=t.Fields36||(t.Fields36={}));let nF;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(nF=t.Fields37||(t.Fields37={}));let rF;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(rF=t.Fields38||(t.Fields38={}));let iF;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(iF=t.Fields39||(t.Fields39={}));let sF;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(sF=t.Fields40||(t.Fields40={}));let oF;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(oF=t.Fields41||(t.Fields41={}));let aF;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(aF=t.Fields42||(t.Fields42={}));let cF;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(cF=t.Fields43||(t.Fields43={}));let uF;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(uF=t.Fields44||(t.Fields44={}));let lF;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(lF=t.Fields45||(t.Fields45={}));let dF;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(dF=t.Fields46||(t.Fields46={}));let fF;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(fF=t.Fields47||(t.Fields47={}));let hF;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(hF=t.Fields48||(t.Fields48={}));let pF;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(pF=t.Fields49||(t.Fields49={}));let gF;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(gF=t.Fields50||(t.Fields50={}));let mF;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(mF=t.Fields51||(t.Fields51={}));let vF;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(vF=t.Fields52||(t.Fields52={}));let yF;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(yF=t.Fields53||(t.Fields53={}));let EF;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(EF=t.Fields54||(t.Fields54={}));let CF;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(CF=t.Fields55||(t.Fields55={}));let SF;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(SF=t.Fields56||(t.Fields56={}));let IF;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(IF=t.Fields57||(t.Fields57={}));let DF;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(DF=t.Fields58||(t.Fields58={}));let bF;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(bF=t.Fields59||(t.Fields59={}));let wF;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(wF=t.Fields60||(t.Fields60={}));let TF;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(TF=t.Fields61||(t.Fields61={}));let AF;(function(p){p.All="all",p.Product="product",p.Order="order"})(AF=t.Type||(t.Type={}));let RF;(function(p){p.ANONYMOUS_CONSENT_GIVEN="GIVEN",p.ANONYMOUS_CONSENT_WITHDRAWN="WITHDRAWN"})(RF=t.CONSENT_STATUS||(t.CONSENT_STATUS={}));let MF;(function(p){p.BACK_IN_STOCK="BACK_IN_STOCK"})(MF=t.NotificationType||(t.NotificationType={}));let xF;(function(p){p.DAY="DAY",p.WEEK="WEEK",p.MONTH="MONTH",p.QUARTER="QUARTER",p.YEAR="YEAR"})(xF=t.Period||(t.Period={}));let NF;(function(p){p.MONDAY="MONDAY",p.TUESDAY="TUESDAY",p.WEDNESDAY="WEDNESDAY",p.THURSDAY="THURSDAY",p.FRIDAY="FRIDAY",p.SATURDAY="SATURDAY",p.SUNDAY="SUNDAY"})(NF=t.DaysOfWeek||(t.DaysOfWeek={}));let OF;(function(p){p.APPROVE="APPROVE",p.REJECT="REJECT"})(OF=t.OrderApprovalDecisionValue||(t.OrderApprovalDecisionValue={}))})(Ro||(Ro={}));var k3=(()=>{let e=class e{convert(n,r={}){return this.normalizePageData(n,r),this.normalizePageSlotData(n,r),this.normalizePageComponentData(n,r),this.normalizeComponentData(n,r),r}normalizePageData(n,r){if(!n)return;let s={};n.name&&(s.name=n.name),n.typeCode&&(s.type=n.typeCode),n.label&&(s.label=n.label),n.template&&(s.template=n.template),n.uid&&(s.pageId=n.uid),n.title&&(s.title=n.title),n.description&&(s.description=n.description),n.properties&&(s.properties=n.properties),this.normalizeRobots(n,s),r.page=s}normalizePageSlotData(n,r){if(n?.contentSlots){n.contentSlots.contentSlot&&!Array.isArray(n.contentSlots.contentSlot)&&(n.contentSlots.contentSlot=[n.contentSlots.contentSlot]),r.page=r.page??{},r.page.slots={};for(let s of n.contentSlots.contentSlot??[])s.position&&(r.page.slots[s.position]={},s.properties&&(r.page.slots[s.position].properties=s.properties))}}normalizePageComponentData(n,r){if(n?.contentSlots?.contentSlot){for(let s of n.contentSlots.contentSlot)if(Array.isArray(s.components?.component))for(let o of s.components?.component??[]){let a={uid:o.uid,typeCode:o.typeCode,flexType:this.getFlexTypeFromComponent(o),properties:this.getComponentProperties(o.properties)};if(s.position){let c=r.page?.slots?.[s.position];c&&(c.components||(c.components=[]),c.components.push(a))}}}}getComponentProperties(n){return n||void 0}getFlexTypeFromComponent(n){return n.typeCode===_3?n.flexType:n.typeCode===F3?n.uid:n.typeCode}normalizeComponentData(n,r){if(n?.contentSlots?.contentSlot)for(let s of n.contentSlots.contentSlot)for(let o of s.components?.component??[])o.modifiedtime&&(o.modifiedTime=o.modifiedtime,delete o.modifiedtime),o.properties&&(o.properties=void 0),r.components||(r.components=[]),r.components.push(o)}normalizeRobots(n,r){let s=[];if(n.robotTag)switch(n.robotTag){case Ro.PageRobots.INDEX_FOLLOW:s.push(zr.INDEX),s.push(zr.FOLLOW);break;case Ro.PageRobots.NOINDEX_FOLLOW:s.push(zr.NOINDEX),s.push(zr.FOLLOW);break;case Ro.PageRobots.INDEX_NOFOLLOW:s.push(zr.INDEX),s.push(zr.NOFOLLOW);break;case Ro.PageRobots.NOINDEX_NOFOLLOW:s.push(zr.NOINDEX),s.push(zr.NOFOLLOW);break}r.robots=s}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),hf=new S("CmsComponentNormalizer"),U3=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=g({token:e,factory:function(r){let s=null;return r?s=new(r||e):s=d(Ut),s},providedIn:"root"});let t=e;return t})();function NO(t){return typeof t=="object"&&!!t.features}function Dx(t,e){if(t==="*")return!0;let i=t.split("."),n=e.split(".");for(let r=0;r<n.length;r++){let s=Number(n[r]),o=Number(i[r])||0;if(s!==o)return o>s}return!0}function OO(t,e){return NO(t)&&t.features.level?e.startsWith("!")?!Dx(t.features.level,e.substring(1)):Dx(t.features.level,e):!1}function PO(t,e){if(NO(t)){let i=e[0]==="!"?t.features[e.substring(1)]:t.features[e],n=typeof i=="string"?OO(t,i):i;return e.startsWith("!")?!n:!!n}return!1}var ig=(()=>{let e=class e{constructor(n){this.config=n}isLevel(n){return OO(this.config,n)}isEnabled(n){return PO(this.config,n)}};e.\u0275fac=function(r){return new(r||e)(d(U3))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Qce=(()=>{let e=class e{constructor(n,r,s){this.templateRef=n,this.viewContainer=r,this.featureConfig=s,this.hasView=!1}set cxFeature(n){this.featureConfig.isEnabled(n)&&!this.hasView?(this.viewContainer.createEmbeddedView(this.templateRef),this.hasView=!0):!this.featureConfig.isEnabled(n)&&this.hasView&&(this.viewContainer.clear(),this.hasView=!1)}};e.\u0275fac=function(r){return new(r||e)(X(Mn),X(zt),X(ig))},e.\u0275dir=Ft({type:e,selectors:[["","cxFeature",""]],inputs:{cxFeature:"cxFeature"}});let t=e;return t})(),Jce=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=g({token:e,factory:()=>Object.assign({},C(FO),C(_O)),providedIn:"root"});let t=e;return t})(),FO=new S("DefaultFeatureToggles",{providedIn:"root",factory:()=>Object.assign({},...C(kO,{optional:!0})??[])}),_O=new S("RootFeatureToggles",{providedIn:"root",factory:()=>Object.assign({},...C(LO,{optional:!0})??[])}),LO=new S("FeatureTogglesChunk",{providedIn:"root",factory:()=>[]}),kO=new S("DefaultFeatureTogglesChunk",{providedIn:"root",factory:()=>[]});function Xce(t={}){return{provide:LO,useValue:t,multi:!0}}function j3(t={}){return{provide:kO,useValue:t,multi:!0}}var $3={formErrorsDescriptiveMessages:!0,showSearchingCustomerByOrderInASM:!1,showStyleChangesInASM:!1,shouldHideAddToCartForUnpurchasableProducts:!1,useExtractedBillingAddressComponent:!1,showBillingAddressInDigitalPayments:!1,showDownloadProposalButton:!1,showPromotionsInPDP:!1,recentSearches:!1,pdfInvoicesSortByInvoiceDate:!1,storeFrontLibCardParagraphTruncated:!1,productConfiguratorAttributeTypesV2:!1,a11yRequiredAsterisks:!1,a11yQuantityOrderTabbing:!1,a11yNavigationUiKeyboardControls:!1,a11yOrderConfirmationHeadingOrder:!1,a11yStarRating:!1,a11yViewChangeAssistiveMessage:!1,a11yReorderDialog:!1,a11yPopoverFocus:!1,a11yScheduleReplenishment:!1,a11yScrollToTop:!1,a11ySavedCartsZoom:!1,a11ySortingOptionsTruncation:!1,a11yExpandedFocusIndicator:!1,a11yCheckoutDeliveryFocus:!1,a11yMobileVisibleFocus:!1,a11yOrganizationsBanner:!1,a11yOrganizationListHeadingOrder:!1,a11yReplenishmentOrderFieldset:!1,a11yListOversizedFocus:!1,a11yStoreFinderOverflow:!1,a11yCartSummaryHeadingOrder:!1,a11ySearchBoxMobileFocus:!1,a11yFacetKeyboardNavigation:!1,a11yUnitsListKeyboardControls:!1,a11yCartItemsLinksStyles:!1,a11yHideSelectBtnForSelectedAddrOrPayment:!1,a11yFocusableCarouselControls:!1,cmsGuardsServiceUseGuardsComposer:!1,cartQuickOrderRemoveListeningToFailEvent:!1,a11yKeyboardAccessibleZoom:!1,a11yOrganizationLinkableCells:!1,a11yVisibleFocusOverflows:!1,a11yTruncatedTextForResponsiveView:!1,a11ySemanticPaginationLabel:!1,a11yPreventCartItemsFormRedundantRecreation:!1,a11yPreventSRFocusOnHiddenElements:!1,a11yMyAccountLinkOutline:!1,a11yCloseProductImageBtnFocus:!1,a11yNotificationPreferenceFieldset:!1,a11yImproveContrast:!1,a11yEmptyWishlistHeading:!1,a11yScreenReaderBloatFix:!1,a11yUseButtonsForBtnLinks:!1,a11yNotificationsOnConsentChange:!1,a11yDisabledCouponAndQuickOrderActionButtonsInsteadOfRequiredFields:!1,a11yFacetsDialogFocusHandling:!1,a11yStoreFinderAlerts:!1,a11yFormErrorMuteIcon:!1,a11yCxMessageFocus:!1,a11yLinkBtnsToTertiaryBtns:!1,a11yDeliveryModeRadiogroup:!1,a11yNgSelectMobileReadout:!1,occCartNameAndDescriptionInHttpRequestBody:!1,cmsBottomHeaderSlotUsingFlexStyles:!1};function B3(t,e){return()=>t.initialize(e)}var V3=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[{provide:kN,useValue:!0},{provide:wt,multi:!0,useFactory:B3,deps:[kn,[new dn,Jp]]},{provide:lI,useFactory:()=>{let n=C(kn);return()=>Zn(n.getStable())},multi:!0}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})();function H3(t,e){let i=C(Q);return()=>{ge()&&t.getStable().subscribe(n=>f3(n,e||[],i))}}var z3=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[{provide:wt,multi:!0,useFactory:H3,deps:[kn,[new dn,UN]]}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})(),pf={},eS=class{constructor(e,i){this.mainInjector=e,this.complementaryInjectors=i}get(e,i,n){if(n&&n.self){if(i!==void 0)return i;throw new Error("CombinedInjector should be used as a parent injector / doesn't support self dependencies")}for(let r of this.complementaryInjectors){let s=r.get(e,pf,{self:!0});if(s!==pf)return s}for(let r of this.complementaryInjectors){let s=r.get(e,pf);if(s!==pf)return s}return this.mainInjector.get(e,i)}},cC=(()=>{let e=class e extends Kr{};e.type="ModuleInitializedEvent";let t=e;return t})(),UO=new S("MODULE_INITIALIZER"),rD=(()=>{let e=class e{constructor(n,r,s){this.compiler=n,this.injector=r,this.events=s,this.logger=C(Q),this.modules$=Ru(this.events.get(cC).pipe(E(o=>o.moduleRef)),{connector:()=>new on,resetOnDisconnect:!1}),this.dependencyModules=new Map,this.eventSubscription=this.modules$.connect()}resolveModuleInstance(n,r,s=[]){let o;return s.length?s.length===1?o=s[0].injector:o=new eS(this.injector,s.map(a=>a.injector)):o=this.injector,this.resolveModuleFactory(n).pipe(E(([a])=>a.create(o)),je(a=>this.runModuleInitializersForModule(a)),L(a=>this.events.dispatch(Ii(cC,{feature:r,moduleRef:a}))))}resolveDependencyModuleInstance(n){return this.resolveModuleFactory(n).pipe(E(([r,s])=>{if(!this.dependencyModules.has(s)){let o=r.create(this.injector);this.dependencyModules.set(s,o)}return this.dependencyModules.get(s)}),je(r=>this.runModuleInitializersForModule(r)),L(r=>this.events.dispatch(Ii(cC,{moduleRef:r}))))}runModuleInitializersForModule(n){let r=n.injector.get(UO,[],{self:!0}),s=this.runModuleInitializerFunctions(r);return s.length?pe(Promise.all(s)).pipe(L({error:o=>{this.logger.error("MODULE_INITIALIZER promise was rejected while lazy loading a module.",o)}}),N(()=>I(n))):I(n)}runModuleInitializerFunctions(n){let r=[];try{if(n)for(let s=0;s<n.length;s++){let o=n[s]();this.isObjectPromise(o)&&r.push(o)}return r}catch(s){throw this.logger.error("MODULE_INITIALIZER init function throwed an error. ",s),s}}isObjectPromise(n){return!!n&&typeof n.then=="function"}resolveModuleFactory(n){return pe(n()).pipe(N(r=>r instanceof qi?I([r,r]):_e([pe(this.compiler.compileModuleAsync(r)),I(r)])),qt(wr))}ngOnDestroy(){this.eventSubscription&&this.eventSubscription.unsubscribe(),this.dependencyModules.forEach(n=>n.destroy())}};e.\u0275fac=function(r){return new(r||e)(d(io),d(Ye),d(Is))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),bx={},zc=(()=>{let e=class e{constructor(n,r){this.rootInjector=n,this.lazyModules=r,this.injectors$=this.lazyModules.modules$.pipe(E(s=>s.injector),Kn(this.rootInjector))}get(n,r){return this.injectors$.pipe(E((s,o)=>s.get(n,r??bx,o?{self:!0}:void 0)),M(s=>s!==bx))}getMulti(n){return this.get(n,[]).pipe(M(r=>{if(!Array.isArray(r))throw new Error(`Multi-providers mixed with single providers for ${n.toString()}!`);return r.length>0}),_i((r,s)=>[...r,...s],[]))}};e.\u0275fac=function(r){return new(r||e)(d(Ye),d(rD))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),G3=(()=>{let e=class e{constructor(n,r,s,o){this.rootConfig=n,this.defaultConfig=r,this.unifiedInjector=s,this.ambientDefaultConfig={},this.ambientConfig={},this.config=o,this.unifiedConfig$=new Te(o),this.subscription=this.feedUnifiedConfig().subscribe()}feedUnifiedConfig(){let n=this.unifiedInjector.get(Ac,[]),r=this.unifiedInjector.get(Vo,[]);return Pi(n,r).pipe(Tg(1),L(([s,o])=>this.processConfig(s,o)))}processConfig(n,r){r?.length&&Et(this.ambientDefaultConfig,...r),n.length&&Et(this.ambientConfig,...n),(n.length||r.length)&&this.emitUnifiedConfig()}emitUnifiedConfig(){let n=Et({},this.defaultConfig,this.ambientDefaultConfig,this.ambientConfig,this.rootConfig);this.unifiedConfig$.next(n),PO(this.config,"disableConfigUpdates")||Et(this.config,n)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),this.unifiedConfig$.complete()}};e.\u0275fac=function(r){return new(r||e)(d(OS),d($x),d(zc),d(Ut))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),jO=(()=>{let e=class e{constructor(n){}static withConfig(n){return{ngModule:e,providers:[px(n)]}}static withConfigFactory(n,r){return{ngModule:e,providers:[yf(n,r)]}}static forRoot(n={}){return{ngModule:e,providers:[px(n)]}}};e.\u0275fac=function(r){return new(r||e)(d(G3))},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})();function W3(t,e){let n=new RegExp("(?:^|;\\s*)"+e+"=([^;]*)","g").exec(t);return n&&decodeURIComponent(n[1])||""}var q3=new S("TEST_CONFIG_COOKIE_NAME"),eue=new S("TEST_CONFIG",{providedIn:"root",factory:()=>{let t=C(q3),e=C($e),i=C(Le);if(Pn(e)&&t){let n=W3(i.cookie,t);return Y3(n)}return{}}});function Y3(t){try{return JSON.parse(decodeURIComponent(t))}catch{return{}}}var K3=[yf(()=>{let t=C(_O);return{features:v({},t)}}),Ho(()=>{let t=C(FO);return{features:v({},t)}})],$O=(()=>{let e=class e{constructor(){this.rendererFactory=C(Wi),this.featureConfig=C(ig),this.logger=C(Q),this.CSS_FEATURE_FLAG_PREFIX="cxFeat_",this.renderer=this.rendererFactory.createRenderer(null,null),this.usagesCounter=new Map}init(n){this.rootElement=n.location.nativeElement;for(let[r,s]of this.usagesCounter.entries())s>0&&this.addClass(r)}registerUsage(n){let r=this.usagesCounter.get(n)??0;this.isEnabled(n)&&r===0&&this.addClass(n),this.usagesCounter.set(n,r+1)}unregisterUsage(n){let r=this.usagesCounter.get(n)??0;r===0&&ge()&&this.logger.warn(`Feature flag CSS: "${n}" is already not used, so it cannot be unregistered.`),this.isEnabled(n)&&r===1&&this.removeClass(n),this.usagesCounter.set(n,Math.max(r-1,0))}isEnabled(n){return this.featureConfig.isEnabled(n)}addClass(n){let r=this.getCssClass(n);!this.rootElement||!r||this.renderer.addClass(this.rootElement,r)}removeClass(n){let r=this.getCssClass(n);!this.rootElement||!r||this.renderer.removeClass(this.rootElement,r)}getCssClass(n){return this.featureConfig.isEnabled(n)?`${this.CSS_FEATURE_FLAG_PREFIX}${n}`:void 0}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Z3=(()=>{let e=class e{static forRoot(n="3.0"){return{ngModule:e,providers:[j3($3),...K3,Un({features:{level:n||"*"}}),{provide:ro,multi:!0,useFactory:()=>{let r=C($O);return s=>r.init(s)}}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})();function Q3(t){Da(Q3);let e=C($O),i=C(fi);e.registerUsage(t),i.onDestroy(()=>e.unregisterUsage(t))}function Cp(t){let e;return t.subscribe(i=>e=i).unsubscribe(),e}var Je=(()=>{let e=class e{constructor(n){this.unifiedInjector=n,this.subscriptions=new Ee,this.converters=new Map;let r=this.unifiedInjector.injectors$.pipe(L(()=>this.converters.clear()));this.subscriptions.add(r.subscribe())}getConverters(n){if(!this.converters.has(n)){let r=Cp(this.unifiedInjector.getMulti(n));r&&this.converters.set(n,r)}return this.converters.get(n)}hasConverters(n){let r=this.getConverters(n);return Array.isArray(r)&&r.length>0}pipeable(n){return this.hasConverters(n)?E(r=>this.convertSource(r,n)):r=>r}pipeableMany(n){return this.hasConverters(n)?E(r=>this.convertMany(r,n)):r=>r}convert(n,r){return this.hasConverters(r)?this.convertSource(n,r):n}convertMany(n,r){return this.hasConverters(r)&&Array.isArray(n)?n.map(s=>this.convertSource(s,r)):n}convertSource(n,r){return this.getConverters(r)?.reduce((s,o)=>o.convert(n,s),void 0)}ngOnDestroy(){this.subscriptions.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)(d(zc))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),J3=(()=>{let e=class e{constructor(n,r,s){this.http=n,this.occEndpoints=r,this.converter=s,this.userIdService=C(Cn),this.featureConfigService=C(ig),this.headers=new le().set("Content-Type","application/json")}load(n,r){return this.featureConfigService.isEnabled(Ao)?this.userIdService.getUserId().pipe(N(s=>this.http.get(this.getComponentEndPoint(n,r,s),{headers:this.headers})),this.converter.pipeable(hf)):this.http.get(this.getComponentEndPoint(n,r),{headers:this.headers}).pipe(this.converter.pipeable(hf))}findComponentsByIds(n,r,s="DEFAULT",o=0,a=n.length,c){let u=v(v({},this.getContextParams(r)),this.getPaginationParams(o,a,c));return u.componentIds=n.toString(),this.featureConfigService.isEnabled(Ao)?this.userIdService.getUserId().pipe(N(l=>this.http.get(this.getComponentsEndpoint(u,s,l),{headers:this.headers})),E(l=>l.component??[]),this.converter.pipeableMany(hf)):this.http.get(this.getComponentsEndpoint(u,s),{headers:this.headers}).pipe(E(l=>l.component??[]),this.converter.pipeableMany(hf))}getComponentEndPoint(n,r,s){if(this.featureConfigService.isEnabled(Ao)){let o=this.getContextParams(r),a=s?{urlParams:{id:n,userId:s},queryParams:o}:{urlParams:{id:n},queryParams:o};return this.occEndpoints.buildUrl("component",a)}return this.occEndpoints.buildUrl("component",{urlParams:{id:n},queryParams:this.getContextParams(r)})}getComponentsEndpoint(n,r,s){if(this.featureConfigService.isEnabled(Ao)){let o=v({fields:r},n),a=s?{urlParams:{userId:s},queryParams:o}:{queryParams:o};return this.occEndpoints.buildUrl("components",a)}return this.occEndpoints.buildUrl("components",{queryParams:v({fields:r},n)})}getPaginationParams(n,r,s){let o={};return n!==void 0&&(o.currentPage=n.toString()),r!==void 0&&(o.pageSize=r.toString()),s!==void 0&&(o.sort=s),o}getContextParams(n){let r={};switch(n.type){case be.PRODUCT_PAGE:{r={productCode:n.id};break}case be.CATEGORY_PAGE:{r={categoryCode:n.id};break}case be.CATALOG_PAGE:{r={catalogCode:n.id};break}}return r}};e.\u0275fac=function(r){return new(r||e)(d(ke),d(Qe),d(Je))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),BO="__HOMEPAGE__",VO="smartedit-preview";var X3=(()=>{let e=class e{constructor(n,r,s){this.http=n,this.occEndpoints=r,this.converter=s,this.userIdService=C(Cn),this.featureConfigService=C(ig),this.headers=new le().set("Content-Type","application/json")}load(n){let r=this.getPagesRequestParams(n);if(this.featureConfigService.isEnabled(Ao))return this.userIdService.getUserId().pipe(N(o=>{let a=n.type?this.occEndpoints.buildUrl("pages",{urlParams:{userId:o},queryParams:r}):this.occEndpoints.buildUrl("page",{urlParams:{id:n.id,userId:o}});return this.http.get(a,{headers:this.headers})}),this.converter.pipeable(XC));let s=n.type?this.occEndpoints.buildUrl("pages",{queryParams:r}):this.occEndpoints.buildUrl("page",{urlParams:{id:n.id}});return this.http.get(s,{headers:this.headers}).pipe(this.converter.pipeable(XC))}getPagesRequestParams(n){if(n.id===BO||n.id===VO)return{};let r={};return n.type&&(r.pageType=n.type),n.type===be.CONTENT_PAGE?r.pageLabelOrId=n.id:r.code=n.id,r}};e.\u0275fac=function(r){return new(r||e)(d(ke),d(Qe),d(Je))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),eW=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({providers:[{provide:Ep,useExisting:X3},{provide:XC,useExisting:k3,multi:!0},{provide:yp,useExisting:J3}],imports:[Ze]});let t=e;return t})();var tW=(()=>{let e=class e{convert(n,r){return r===void 0&&(r=v({},n)),r.active=this.normalizeBoolean(n.active),r}normalizeBoolean(n){return n===void 0?!1:typeof n=="string"?n==="true":n}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),nW=(()=>{let e=class e{convert(n,r){return r===void 0&&(r=v({},n)),r.activeFlag=n.active,delete r.active,r}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),HO=new S("CostCenterNormalizer"),zO=new S("CostCentersListNormalizer"),rW=new S("CostCenterSerializer"),iW=(()=>{let e=class e{constructor(n){this.converter=n}convert(n,r){return r===void 0&&(r=v({},n)),r.values=n.costCenters.map(s=>v({},this.converter.convert(s,HO))),r}};e.\u0275fac=function(r){return new(r||e)(d(Je))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),sW={backend:{occ:{endpoints:{getActiveCostCenters:"/costcenters?fields=DEFAULT,unit(BASIC,addresses(DEFAULT))"}}}},tue=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({providers:[{provide:zO,useExisting:iW,multi:!0},{provide:HO,useExisting:tW,multi:!0},{provide:rW,useExisting:nW,multi:!0}],imports:[Ze,jO.withConfig(sW)]});let t=e;return t})(),oW=(()=>{let e=class e{constructor(n){this.config=n}convert(n,r){return r===void 0&&(r=v({},n)),n.images&&(r.images=this.normalize(n.images)),r}normalize(n){let r={};if(n)for(let s of n){let o=this.hasGalleryIndex(s);if(s.imageType){r.hasOwnProperty(s.imageType)||(r[s.imageType]=o?[]:{});let a=this.getImageContainer(o,r,s),c=v({},s);c.url=this.normalizeImageUrl(c.url??""),s.format&&(a[s.format]=c)}}return r}getImageContainer(n,r,s){return n?this.getImageGroups(r,s)[s.galleryIndex]:r[s.imageType]}getImageGroups(n,r){let s=n[r.imageType];return s[r.galleryIndex]||(s[r.galleryIndex]={}),s}normalizeImageUrl(n){return new RegExp(/^(http|data:image|\/\/)/i).test(n)?n:(this.config.backend?.media?.baseUrl||this.config.backend?.occ?.baseUrl||"")+n}hasGalleryIndex(n){return(n.galleryIndex??!1)!==!1}};e.\u0275fac=function(r){return new(r||e)(d(Er))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var vs=new S("ProductNormalizer"),aW=(()=>{let e=class e{constructor(n){this.converterService=n,this.DEFAULT_TOP_VALUES=6}convert(n,r={}){return r=v(v({},r),n),this.normalizeFacets(r),n.products&&(r.products=n.products.map(s=>this.converterService.convert(s,vs))),r}normalizeFacets(n){this.normalizeFacetValues(n),this.normalizeUselessFacets(n)}normalizeUselessFacets(n){n.facets&&(n.facets=n.facets.filter(r=>!n.pagination||!n.pagination.totalResults||(!r.hasOwnProperty("visible")||r.visible)&&r.values&&r.values.find(s=>s.selected||(s.count??0)<(n.pagination?.totalResults??0))))}normalizeFacetValues(n){n.facets&&(n.facets=n.facets.map(r=>{let a=r,{topValues:s}=a,o=gg(a,["topValues"]);return o.topValueCount=s&&s.length>0?s.length:this.DEFAULT_TOP_VALUES,o}))}};e.\u0275fac=function(r){return new(r||e)(d(Je))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),cW=(()=>{let e=class e{constructor(n){this.converter=n}convert(n,r=[]){return r===void 0&&(r=v({},n)),n&&n.references?(r=n.references.map(s=>T(v({},s),{target:this.converter.convert(s.target,vs)})),r):[]}};e.\u0275fac=function(r){return new(r||e)(d(Je))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),uW=(()=>{let e=class e{constructor(n){this.config=n,this.reservedSlugCharacters=" !*'();:@&=+$,/?%#[]",this.slugChar="-",this.slugRegex=new RegExp(`[${this.reservedSlugCharacters.split("").join("\\")}]`,"g"),this.sanitizeMultipleSlugChars=new RegExp(`${this.slugChar}+`,"g")}convert(n,r){return r=r??v({},n),n.name&&(r.name=this.normalize(n.name),r.slug=this.normalizeSlug(n.name),r.nameHtml=n.name),r}normalize(n){return n.replace(/<[^>]*>/g,"")}normalizeSlug(n){return this.normalize(n).trim().toLowerCase().replace(this.slugRegex,this.slugChar).replace(this.sanitizeMultipleSlugChars,this.slugChar)}};e.\u0275fac=function(r){return new(r||e)(d(Er))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),GO=new S("ProductReferencesListNormalizer"),lW=(()=>{let e=class e{constructor(n,r,s){this.http=n,this.occEndpoints=r,this.converter=s}load(n,r,s){return this.http.get(this.getEndpoint(n,r,s)).pipe(this.converter.pipeable(GO))}getEndpoint(n,r,s){return this.occEndpoints.buildUrl("productReferences",{urlParams:{productCode:n},queryParams:{referenceType:r,pageSize:s}})}};e.\u0275fac=function(r){return new(r||e)(d(ke),d(Qe),d(Je))},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})(),dW=new S("ProductReviewNormalizer"),fW=new S("ProductReviewSerializer"),hW=(()=>{let e=class e{constructor(n,r,s){this.http=n,this.occEndpoints=r,this.converter=s}load(n,r){return this.http.get(this.getEndpoint(n,r)).pipe(E(s=>s.reviews),E(s=>s??[]),this.converter.pipeableMany(dW))}post(n,r){r=this.converter.convert(r,fW);let s=new le({"Content-Type":"application/x-www-form-urlencoded"}),o=new URLSearchParams;return o.append("headline",r.headline),o.append("comment",r.comment),o.append("rating",r.rating.toString()),o.append("alias",r.alias),this.http.post(this.getEndpoint(n),o.toString(),{headers:s})}getEndpoint(n,r){return this.occEndpoints.buildUrl("productReviews",{urlParams:{productCode:n},queryParams:{maxCount:r}})}};e.\u0275fac=function(r){return new(r||e)(d(ke),d(Qe),d(Je))},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})(),WO=new S("ProductSearchPageNormalizer"),pW=new S("ProductSuggestionNormalizer"),qO=new Ua(()=>({}));function gW(t){let e=t.map(n=>typeof n=="string"?sg(n):n),i=YO(Et({},...e));return KO(i)}function YO(t={}){let e=Object.keys(t);return e.includes("FULL")?(delete t.DEFAULT,delete t.BASIC):e.includes("DEFAULT")&&delete t.BASIC,Object.keys(t).forEach(i=>{t[i]=YO(t[i])}),t}function sg(t,e=0){let i={},n=e;for(;n<t.length;){if(t[n]===",")n>e&&(i[t.substring(e,n)]={}),e=n+1;else if(t[n]==="("){let r=sg(t,n+1);if(!Array.isArray(r))return i;i[t.substring(e,n)]=r[0],e=r[1],n=e-1}else if(t[n]===")")return n>e&&(i[t.substring(e,n)]={}),[i,n+1];n++}return e<t.length&&(i[t.substring(e,n)]={}),i}function KO(t){return Object.keys(t).map(e=>{let i=KO(t[e]);return i?`${e}(${i})`:e}).join(",")}function mW(t,e){let i=typeof e=="string"?sg(e):e;return ZO(t,i)}function ZO(t,e){if(!vf(t))return t;let i=Object.keys(e);if(i.length===0||i.find(r=>r==="BASIC"||r==="DEFAULT"||r==="FULL"))return t;let n={};return i.forEach(r=>{t.hasOwnProperty(r)&&(n[r]=ZO(t[r],e[r]))}),n}var nue=new S("List of OCC constants that pass for user IDs.",{providedIn:"root",factory:()=>D8}),vW=(()=>{let e=class e{constructor(n,r,s){this.http=n,this.occEndpoints=r,this.converter=s,this.router=C(Oe,{optional:!0}),this.DEFAULT_SEARCH_CONFIG={pageSize:20}}search(n,r=this.DEFAULT_SEARCH_CONFIG){let s=new ao().set(qO,{sendUserIdAsHeader:!0});return this.http.get(this.getSearchEndpoint(n,r),{context:s}).pipe(this.converter.pipeable(WO),L(o=>o.keywordRedirectUrl&&this.router?.navigate([o.keywordRedirectUrl])))}loadSuggestions(n,r=3){return this.http.get(this.getSuggestionEndpoint(n,r.toString())).pipe(E(s=>s.suggestions??[]),this.converter.pipeableMany(pW))}getSearchEndpoint(n,r){return this.occEndpoints.buildUrl("productSearch",{queryParams:v({query:n},r)})}getSuggestionEndpoint(n,r){return this.occEndpoints.buildUrl("productSuggestions",{queryParams:{term:n,max:r}})}};e.\u0275fac=function(r){return new(r||e)(d(ke),d(Qe),d(Je))},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})(),yW=(()=>{let e=class e{constructor(n){this.http=n,this.FIELDS_PARAM="fields"}getOptimalUrlGroups(n){let r={};for(let o of n){let[a,c]=this.splitFields(o.url??"");r[a]||(r[a]={}),o.fields=c?sg(c):{},o.scopedData.scope!==void 0&&(r[a][o.scopedData.scope]=o)}let s={};for(let[o,a]of Object.entries(r)){let c=this.getUrlWithFields(o,Object.values(a).map(u=>u.fields));s[c]=a}return s}splitFields(n){let[r,s]=n.split("?"),o={};s&&s.split("&").forEach(u=>{let l=u.split("=");o[l[0]]=l[1]});let c=Object.keys(o).sort().reduce((u,l)=>(l!==this.FIELDS_PARAM&&u.push(o[l]?`${l}=${o[l]}`:l),u),[]).join("&");return[c?`${r}?${c}`:r,o[this.FIELDS_PARAM]]}getUrlWithFields(n,r){let s=gW(r);return s&&(n+=n.includes("?")?"&":"?",n+=`${this.FIELDS_PARAM}=${s}`),n}};e.\u0275fac=function(r){return new(r||e)(d(ke))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),EW=(()=>{let e=class e{constructor(n,r){this.http=n,this.occFields=r}scopedDataLoad(n,r){let s=[];r||(r=a=>this.http.get(a));let o=this.occFields.getOptimalUrlGroups(n);return Object.entries(o).forEach(([a,c])=>{let u=Object.values(c);if(u.length===1)s.push(T(v({},u[0].scopedData),{data$:r?.(a)}));else{let l=r?.(a).pipe(pt(1));u.forEach(f=>{s.push(T(v({},f.scopedData),{data$:l?.pipe(E(h=>mW(h,f.fields)))}))})}}),s}};e.\u0275fac=function(r){return new(r||e)(d(ke),d(yW))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),CW=(()=>{let e=class e{constructor(n,r,s,o){this.http=n,this.occEndpoints=r,this.converter=s,this.requestsOptimizer=o}load(n,r){return this.http.get(this.getEndpoint(n,r)).pipe(this.converter.pipeable(vs))}loadMany(n){let r=n.map(s=>({scopedData:s,url:this.getEndpoint(s.code,s.scope)}));return this.requestsOptimizer.scopedDataLoad(r).map(s=>T(v({},s),{data$:s.data$?.pipe(this.converter.pipeable(vs))}))}getEndpoint(n,r){return this.occEndpoints.buildUrl("product",{urlParams:{productCode:n},scope:r})}};e.\u0275fac=function(r){return new(r||e)(d(ke),d(Qe),d(Je),d(EW))},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})(),Sp=class{},Ip=class{},Dp=class{},bp=class{},SW={backend:{occ:{endpoints:{product:{default:"products/${productCode}?fields=DEFAULT,averageRating,images(FULL),classifications,manufacturer,numberOfReviews,categories(FULL),baseOptions,baseProduct,variantOptions,variantType",list:"products/${productCode}?fields=code,purchasable,name,summary,price(formattedValue),images(DEFAULT,galleryIndex),baseProduct",details:"products/${productCode}?fields=averageRating,stock(DEFAULT),description,availableForPickup,code,url,price(DEFAULT),numberOfReviews,manufacturer,categories(FULL),priceRange,multidimensional,tags,images(FULL)",promotions:"products/${productCode}?fields=potentialPromotions(description)",attributes:"products/${productCode}?fields=classifications",price:"products/${productCode}?fields=price(formattedValue)",stock:"products/${productCode}?fields=stock(DEFAULT)",list_item:"products/${productCode}?fields=code,name,price(formattedValue),images(DEFAULT),baseProduct"},productReviews:"products/${productCode}/reviews",productReferences:"products/${productCode}/references?fields=DEFAULT,references(target(images(FULL)))",productSearch:"products/search?fields=products(code,name,summary,configurable,configuratorType,multidimensional,price(FULL),images(DEFAULT),stock(FULL),averageRating,variantOptions),facets,breadcrumbs,pagination(DEFAULT),sorts(DEFAULT),freeTextSearch,currentQuery,keywordRedirectUrl",productSuggestions:"products/suggestions"}},loadingScopes:{product:{details:{include:["list","variants"]}}}}},rue=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({providers:[Un(SW),{provide:Sp,useClass:CW},{provide:vs,useExisting:oW,multi:!0},{provide:vs,useExisting:uW,multi:!0},{provide:Ip,useClass:lW},{provide:GO,useExisting:cW,multi:!0},{provide:bp,useClass:vW},{provide:WO,useExisting:aW,multi:!0},{provide:Dp,useClass:hW}],imports:[Ze]});let t=e;return t})(),IW=(()=>{let e=class e{constructor(){}convert(n,r){return r===void 0&&(r=v({},n)),r.baseStore=n.stores?.[0],delete r.stores,r}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),DW=new S("LanguageNormalizer"),bW=new S("CurrencyNormalizer"),wW=new S("CountryNormalizer"),TW=new S("RegionNormalizer"),QO=new S("BaseSiteNormalizer"),AW=(()=>{let e=class e{constructor(n,r,s){this.http=n,this.occEndpointsService=r,this.converterService=s}loadLanguages(){return this.http.get(this.occEndpointsService.buildUrl("languages")).pipe(E(n=>n.languages??[]),this.converterService.pipeableMany(DW))}loadCurrencies(){return this.http.get(this.occEndpointsService.buildUrl("currencies")).pipe(E(n=>n.currencies??[]),this.converterService.pipeableMany(bW))}loadCountries(n){return this.http.get(this.occEndpointsService.buildUrl("countries",{queryParams:n?{type:n}:void 0})).pipe(E(r=>r.countries??[]),this.converterService.pipeableMany(wW))}loadRegions(n){return this.http.get(this.occEndpointsService.buildUrl("regions",{urlParams:{isoCode:n}})).pipe(E(r=>r.regions??[]),this.converterService.pipeableMany(TW))}loadBaseSite(n){return n||(n=this.occEndpointsService.getBaseUrl().split("/").pop()),this.http.get(this.occEndpointsService.buildUrl("baseSites",{},{baseSite:!1})).pipe(E(r=>r.baseSites.find(s=>s.uid===n)))}loadBaseSites(){return this.http.get(this.occEndpointsService.buildUrl("baseSites",{},{baseSite:!1})).pipe(E(n=>n.baseSites),this.converterService.pipeableMany(QO))}};e.\u0275fac=function(r){return new(r||e)(d(ke),d(Qe),d(Je))},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})(),wp=class{},RW={backend:{occ:{endpoints:{languages:"languages",currencies:"currencies",countries:"countries",regions:"countries/${isoCode}/regions?fields=regions(name,isocode,isocodeShort)",baseSites:"basesites?fields=FULL"}}}},Ai=(()=>{let e=class e{constructor(n,r){this.store=n,this.config=r}getAll(){return this.store.pipe(x(G8),L(n=>{n||this.store.dispatch(new kf)}),M(Cc))}getActive(){return this.store.pipe(x($C),M(Cc))}setActive(n){this.store.pipe(x($C),ie(1)).subscribe(r=>{r!==n&&this.isValid(n)&&this.store.dispatch(new $f(n))})}isInitialized(){let n=!1;return this.getActive().subscribe(()=>n=!0).unsubscribe(),n}isValid(n){return!!n&&Pc(this.config,Es).includes(n)}};e.\u0275fac=function(r){return new(r||e)(d(me),d(Qr))},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})(),Gc=(()=>{let e=class e{constructor(n,r){this.store=n,this.config=r}getAll(){return this.store.pipe(x(B8),L(n=>{n||this.store.dispatch(new Of)}),M(Cc))}getActive(){return this.store.pipe(x(jC),M(Cc))}setActive(n){this.store.pipe(x(jC),ie(1)).subscribe(r=>{r!==n&&this.isValid(n)&&this.store.dispatch(new _f(n))})}isInitialized(){let n=!1;return this.getActive().subscribe(()=>n=!0).unsubscribe(),n}isValid(n){return!!n&&Pc(this.config,Cs).includes(n)}};e.\u0275fac=function(r){return new(r||e)(d(me),d(Qr))},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})(),MW=(()=>{let e=class e{constructor(n,r,s,o){this.languageService=n,this.currencyService=r,this.occEndpoints=s,this.config=o,this.activeLang=Si(this.config,Es),this.activeCurr=Si(this.config,Cs),this.languageService.getActive().subscribe(a=>this.activeLang=a),this.currencyService.getActive().subscribe(a=>{this.activeCurr=a})}intercept(n,r){return n.url.includes(this.occEndpoints.getBaseUrl())&&(n=n.clone({setParams:{lang:this.activeLang??"",curr:this.activeCurr??""}})),r.handle(n)}};e.\u0275fac=function(r){return new(r||e)(d(Ai),d(Gc),d(Qe),d(Qr))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),xW=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({providers:[Un(RW),{provide:wp,useClass:AW},{provide:gn,useExisting:MW,multi:!0},{provide:QO,useExisting:IW,multi:!0}],imports:[Ze]});let t=e;return t})(),NW=(()=>{let e=class e{constructor(n){this.anonymousConsentsService=n}convert(n){return this.anonymousConsentsService.decodeAndDeserialize(n)}};e.\u0275fac=function(r){return new(r||e)(d(Lc))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),OW=(()=>{let e=class e{constructor(n){this.converter=n}convert(n,r){return r===void 0&&(r=v({},n)),n&&n.results&&(r.results=n.results.map(s=>T(v({},s),{product:this.converter.convert(s.product,vs)}))),r}};e.\u0275fac=function(r){return new(r||e)(d(Je))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),JO=new S("AnonymousConsentNormalizer"),tS=new S("ConsentTemplateNormalizer"),PW=(()=>{let e=class e{constructor(n,r,s){this.http=n,this.occEndpoints=r,this.converter=s,this.logger=C(Q)}loadAnonymousConsentTemplates(){let n=this.occEndpoints.buildUrl("anonymousConsentTemplates");return this.http.get(n).pipe(F(r=>{throw Y(r,this.logger)}),E(r=>r.consentTemplates??[]),this.converter.pipeableMany(tS))}loadAnonymousConsents(){let n=this.occEndpoints.buildUrl("anonymousConsentTemplates");return this.http.head(n,{observe:"response"}).pipe(F(r=>{throw Y(r,this.logger)}),E(r=>r.headers.get(vC)??""),this.converter.pipeable(JO))}};e.\u0275fac=function(r){return new(r||e)(d(ke),d(Qe),d(Je))},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})(),FW=new S("CustomerCouponSearchResultNormalizer"),_W=(()=>{let e=class e{constructor(n,r,s){this.http=n,this.occEndpoints=r,this.converter=s}getCustomerCoupons(n,r,s,o){if(n===xo)return I({});let a=this.occEndpoints.buildUrl("customerCoupons",{urlParams:{userId:n}}),c=new ze().set("sort",o||"startDate:asc");r&&(c=c.set("pageSize",r.toString())),s&&(c=c.set("currentPage",s.toString()));let u=this.newHttpHeader();return this.http.get(a,{headers:u,params:c}).pipe(this.converter.pipeable(FW))}turnOffNotification(n,r){let s=this.occEndpoints.buildUrl("couponNotification",{urlParams:{userId:n,couponCode:r}}),o=this.newHttpHeader();return this.http.delete(s,{headers:o})}turnOnNotification(n,r){let s=this.occEndpoints.buildUrl("couponNotification",{urlParams:{userId:n,couponCode:r}}),o=this.newHttpHeader();return this.http.post(s,{headers:o})}claimCustomerCoupon(n,r){let s=this.occEndpoints.buildUrl("claimCoupon",{urlParams:{userId:n,couponCode:r}}),o=this.newHttpHeader();return this.http.post(s,{headers:o})}disclaimCustomerCoupon(n,r){let s=this.occEndpoints.buildUrl("claimCoupon",{urlParams:{userId:n,couponCode:r}}),o=this.newHttpHeader();return this.http.delete(s,{headers:o})}newHttpHeader(){return new le({"Content-Type":"application/json"})}};e.\u0275fac=function(r){return new(r||e)(d(ke),d(Qe),d(Je))},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})(),XO=new S("AddressNormalizer"),LW=new S("AddressesNormalizer"),uC=new S("AddressSerializer"),kW=new S("AddressValidationNormalizer"),vc={"Content-Type":"application/json"},UW=(()=>{let e=class e{constructor(n,r,s){this.http=n,this.occEndpoints=r,this.converter=s,this.logger=C(Q)}loadAll(n){let r=this.occEndpoints.buildUrl("addresses",{urlParams:{userId:n}}),s=new le(v({},vc));return this.http.get(r,{headers:s}).pipe(F(o=>{throw Y(o,this.logger)}),E(o=>o.addresses??[]),this.converter.pipeableMany(XO))}add(n,r){let s=this.occEndpoints.buildUrl("addresses",{urlParams:{userId:n}}),o=new le(v({},vc));return r=this.converter.convert(r,uC),this.http.post(s,r,{headers:o}).pipe(F(a=>{throw Y(a,this.logger)}))}update(n,r,s){let o=this.occEndpoints.buildUrl("addressDetail",{urlParams:{userId:n,addressId:r}}),a=new le(v({},vc));return s=this.converter.convert(s,uC),this.http.patch(o,s,{headers:a}).pipe(F(c=>{throw Y(c,this.logger)}))}verify(n,r){let s=this.occEndpoints.buildUrl("addressVerification",{urlParams:{userId:n}}),o=new le(v({},vc));return n===xo&&(o=Sc.createHeader(BC,!0,o)),r=this.converter.convert(r,uC),this.http.post(s,r,{headers:o}).pipe(F(a=>{throw Y(a,this.logger)}),this.converter.pipeable(kW))}delete(n,r){let s=this.occEndpoints.buildUrl("addressDetail",{urlParams:{userId:n,addressId:r}}),o=new le(v({},vc));return this.http.delete(s,{headers:o}).pipe(F(a=>{throw Y(a,this.logger)}))}};e.\u0275fac=function(r){return new(r||e)(d(ke),d(Qe),d(Je))},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})(),jW=(()=>{let e=class e{constructor(n,r,s){this.http=n,this.occEndpoints=r,this.converter=s,this.logger=C(Q)}loadConsents(n){let r=this.occEndpoints.buildUrl("consentTemplates",{urlParams:{userId:n}}),s=new le({"Cache-Control":"no-cache"});return this.http.get(r,{headers:s}).pipe(F(o=>{throw Y(o,this.logger)}),E(o=>o.consentTemplates??[]),this.converter.pipeableMany(tS))}giveConsent(n,r,s){let o=this.occEndpoints.buildUrl("consents",{urlParams:{userId:n}}),a=new ze().set("consentTemplateId",r).set("consentTemplateVersion",s.toString()),c=new le({"Content-Type":"application/x-www-form-urlencoded","Cache-Control":"no-cache"});return this.http.post(o,a,{headers:c}).pipe(F(u=>{throw Y(u,this.logger)}),this.converter.pipeable(tS))}withdrawConsent(n,r){let s=new le({"Cache-Control":"no-cache"}),o=this.occEndpoints.buildUrl("consentDetail",{urlParams:{userId:n,consentId:r}});return this.http.delete(o,{headers:s})}};e.\u0275fac=function(r){return new(r||e)(d(ke),d(Qe),d(Je))},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})(),eP=new S("ProductInterestsNormalizer"),wx=new le({"Content-Type":"application/json"}),$W=(()=>{let e=class e{constructor(n,r,s,o){this.http=n,this.occEndpoints=r,this.config=s,this.converter=o,this.logger=C(Q)}getInterests(n,r,s,o,a,c){let u=new ze().set("sort",o||"name:asc");return r&&(u=u.set("pageSize",r.toString())),s&&(u=u.set("currentPage",s.toString())),a&&(u=u.set("productCode",a)),c&&(u=u.set("notificationType",c.toString())),this.http.get(this.occEndpoints.buildUrl("getProductInterests",{urlParams:{userId:n}}),{headers:wx,params:u}).pipe(this.converter.pipeable(eP),F(l=>{throw Y(l,this.logger)}))}removeInterest(n,r){let s=[];return r.productInterestEntry?.forEach(o=>{let a=new ze().set("productCode",r.product?.code??"").set("notificationType",o.interestType);s.push(this.http.delete(this.occEndpoints.buildUrl("productInterests",{urlParams:{userId:n}}),{params:a}).pipe(F(c=>{throw Y(c,this.logger)})))}),Mu(s)}addInterest(n,r,s){let o=new ze().set("productCode",r).set("notificationType",s.toString());return this.http.post(this.occEndpoints.buildUrl("productInterests",{urlParams:{userId:n}}),{},{headers:wx,params:o}).pipe(F(a=>{throw Y(a,this.logger)}))}};e.\u0275fac=function(r){return new(r||e)(d(ke),d(Qe),d(Er),d(Je))},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})(),BW=new S("NotificationPreferenceSerializer"),VW=new S("NotificationPreferenceNormalizer"),Tp=class{},HW=(()=>{let e=class e{constructor(n){this.adapter=n}loadAll(n){return this.adapter.loadAll(n)}update(n,r){return this.adapter.update(n,r)}};e.\u0275fac=function(r){return new(r||e)(d(Tp))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Tx=new le({"Content-Type":"application/json"}),zW=(()=>{let e=class e{constructor(n,r,s){this.http=n,this.converter=r,this.occEndpoints=s,this.logger=C(Q)}loadAll(n){return this.http.get(this.occEndpoints.buildUrl("notificationPreference",{urlParams:{userId:n}}),{headers:Tx}).pipe(E(r=>r.preferences??[]),this.converter.pipeableMany(VW),F(r=>{throw Y(r,this.logger)}))}update(n,r){return r=this.converter.convert(r,BW),this.http.patch(this.occEndpoints.buildUrl("notificationPreference",{urlParams:{userId:n}}),{preferences:r},{headers:Tx}).pipe(F(s=>{throw Y(s,this.logger)}))}};e.\u0275fac=function(r){return new(r||e)(d(ke),d(Je),d(Qe))},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})(),GW=new S("PaymentDetailsNormalizer"),lC={"Content-Type":"application/json"},WW=(()=>{let e=class e{constructor(n,r,s){this.http=n,this.occEndpoints=r,this.converter=s,this.logger=C(Q)}loadAll(n){let r=this.occEndpoints.buildUrl("paymentDetailsAll",{urlParams:{userId:n}})+"?saved=true",s=new le(v({},lC));return this.http.get(r,{headers:s}).pipe(F(o=>{throw Y(o,this.logger)}),E(o=>o.payments??[]),this.converter.pipeableMany(GW))}delete(n,r){let s=this.occEndpoints.buildUrl("paymentDetail",{urlParams:{userId:n,paymentDetailId:r}}),o=new le(v({},lC));return this.http.delete(s,{headers:o}).pipe(F(a=>{throw Y(a,this.logger)}))}setDefault(n,r){let s=this.occEndpoints.buildUrl("paymentDetail",{urlParams:{userId:n,paymentDetailId:r}}),o=new le(v({},lC));return this.http.patch(s,{billingAddress:{titleCode:"mr"},defaultPayment:!0},{headers:o}).pipe(F(a=>{throw Y(a,this.logger)}))}};e.\u0275fac=function(r){return new(r||e)(d(ke),d(Qe),d(Je))},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})(),Ap=class{},Rp=class{},Mp=class{},xp=class{},Np=class{},Op=class{},qW=(()=>{let e=class e{constructor(n){this.converter=n}convert(n,r){return r===void 0&&(r=v({},n)),r.values=n.addresses?.map(s=>v({},this.converter.convert(s,XO)))??[],r}};e.\u0275fac=function(r){return new(r||e)(d(Je))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),YW={backend:{occ:{endpoints:{paymentDetailsAll:"users/${userId}/paymentdetails",paymentDetail:"users/${userId}/paymentdetails/${paymentDetailId}",anonymousConsentTemplates:"users/anonymous/consenttemplates",consentTemplates:"users/${userId}/consenttemplates",consents:"users/${userId}/consents",consentDetail:"users/${userId}/consents/${consentId}",addresses:"users/${userId}/addresses",addressDetail:"users/${userId}/addresses/${addressId}",addressVerification:"users/${userId}/addresses/verification",customerCoupons:"users/${userId}/customercoupons",claimCoupon:"users/${userId}/customercoupons/${couponCode}/claim",couponNotification:"users/${userId}/customercoupons/${couponCode}/notification",notificationPreference:"users/${userId}/notificationpreferences",productInterests:"users/${userId}/productinterests",getProductInterests:"users/${userId}/productinterests?fields=sorts,pagination,results(productInterestEntry,product(code))"}}}},KW=(()=>{let e=class e{constructor(n,r,s){this.http=n,this.occEndpoints=r,this.converter=s}loadActiveList(n){let r=new ao().set(qO,{sendUserIdAsHeader:!0});return this.http.get(this.getCostCentersEndpoint(n),{context:r}).pipe(this.converter.pipeable(zO))}getCostCentersEndpoint(n,r){return this.occEndpoints.buildUrl("getActiveCostCenters",{urlParams:{userId:n},queryParams:r})}};e.\u0275fac=function(r){return new(r||e)(d(ke),d(Qe),d(Je))},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})(),iue=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({providers:[Un(YW),{provide:Ap,useClass:UW},{provide:Rp,useClass:jW},{provide:vp,useClass:PW},{provide:Op,useClass:WW},{provide:xp,useClass:_W},{provide:Tp,useClass:zW},{provide:Np,useClass:$W},{provide:Mp,useClass:KW},{provide:eP,useExisting:OW,multi:!0},{provide:JO,useExisting:NW,multi:!0},{provide:LW,useExisting:qW,multi:!0}],imports:[Ze]});let t=e;return t})(),ZW={backend:{occ:{prefix:"/occ/v2/"},media:{}}};function QW(t){if(t.backend===void 0||t.backend.occ===void 0||t.backend.occ.baseUrl===void 0)return"Please configure backend.occ.baseUrl before using storefront library!"}var JW=(()=>{let e=class e{constructor(n){this.config=n}intercept(n,r){return this.requiresWithCredentials(n)&&(n=n.clone({withCredentials:!0})),r.handle(n)}requiresWithCredentials(n){return this.occConfig?.useWithCredentials!==void 0&&n.url.indexOf(this.occConfig?.prefix??"")>-1}get occConfig(){return this.config.backend?.occ}};e.\u0275fac=function(r){return new(r||e)(d(Er))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),XW=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[{provide:gn,useExisting:JW,multi:!0},Un(ZW),uI(QW)]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({imports:[eW,xW]});let t=e;return t})(),e4="occ-backend-base-url",t4="OCC_BACKEND_BASE_URL_VALUE",n4="media-backend-base-url",r4="MEDIA_BACKEND_BASE_URL_VALUE";function i4(t){let e=tP(e4,t);return e&&e!==t4?{backend:{occ:{baseUrl:e}}}:{}}function s4(t){let e=tP(n4,t);return e&&e!==r4?{backend:{media:{baseUrl:e}}}:{}}function tP(t,e){let i=e.getTag(`name="${t}"`);return i&&i.content}function o4(){return[yf(i4,[zy]),yf(s4,[zy])]}var a4=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[...o4()]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})(),c4=(()=>{let e=class e{constructor(n){this.config=n}expand(n,r){let s=this.config?.backend?.loadingScopes?.[n];if(s){let o=[...r],a=o.length;for(;a>0;){a--;let c=s[o[a]]?.include;if(c)for(let u of c)o.includes(u)||(o.splice(a,0,u),a++)}return o}return r}getMaxAge(n,r){return(this.config.backend?.loadingScopes?.[n]?.[r]?.maxAge??0)*1e3}getReloadTriggers(n,r){return this.config.backend?.loadingScopes?.[n]?.[r]?.reloadOn??[]}};e.\u0275fac=function(r){return new(r||e)(d(Er))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Sr=Fn(qN),u4=A(Sr,t=>t.billingCountries),l4=A(u4,t=>t.entities),d4=A(l4,t=>Object.keys(t).map(e=>t[e])),og=A(Sr,t=>t.customerCoupons),f4=A(og,t=>jn(t)),h4=A(og,t=>jt(t)),sue=A(og,t=>nt(t)),p4=A(Sr,t=>t.countries),nP=A(p4,t=>t.entities),g4=A(nP,t=>Object.keys(t).map(e=>t[e])),m4=t=>A(nP,e=>Object.keys(e).length!==0?e[t]:null),iD=A(Sr,t=>t.notificationPreferences),v4=A(iD,t=>nt(t)),y4=A(iD,t=>nt(t).filter(e=>e.enabled)),E4=A(iD,t=>jt(t)),sD=A(Sr,t=>t.payments),C4=A(sD,t=>nt(t)),S4=A(sD,t=>jt(t)),I4=A(sD,t=>jn(t)&&!jt(t)),oD=A(Sr,t=>t.productInterests),D4=A(oD,t=>nt(t)),b4=A(oD,t=>jt(t)),Wc=A(Sr,t=>t.regions),oue=A(Wc,t=>nt(t).entities),w4=A(Wc,t=>({loaded:jn(t),loading:jt(t),regions:nt(t).entities,country:nt(t).country})),aue=A(Wc,t=>nt(t).country),cue=A(Wc,t=>jt(t)),uue=A(Wc,t=>jn(t)),aD=A(Sr,t=>t.addresses),T4=A(aD,t=>nt(t)),A4=A(aD,t=>jt(t)),R4=A(aD,t=>jn(t)&&!jt(t)),ag=A(Sr,t=>t.consents),nS=A(ag,t=>nt(t)),M4=t=>A(nS,e=>e.find(i=>i.id===t)),x4=A(ag,jt),N4=A(ag,jn),O4=A(ag,zo),rP=A(Sr,t=>t.costCenters),lue=A(rP,t=>nt(t));var P4=(()=>{let e=class e{constructor(n,r,s){this.store=n,this.authService=r,this.userIdService=s}loadConsents(){this.userIdService.takeUserId().subscribe(n=>{this.store.dispatch(new np(n))})}getConsents(n=!1){return ra(()=>n,this.store.pipe(x(nS),it(this.getConsentsResultLoading(),this.getConsentsResultSuccess()),M(([r,s,o])=>!s),L(([r,s,o])=>{(!r||r.length===0)&&(o||this.loadConsents())}),M(([r,s])=>!!r),E(([r,s])=>r)),this.store.pipe(x(nS)))}getConsentsResultLoading(){return this.store.pipe(x(x4))}getConsentsResultSuccess(){return this.store.pipe(x(N4))}getConsentsResultError(){return this.store.pipe(x(O4))}resetConsentsProcessState(){this.store.dispatch(new bc)}getConsent(n){return _e([this.authService.isUserLoggedIn(),this.userIdService.getUserId()]).pipe(M(([r,s])=>r&&s===Mo),N(()=>this.getConsents(!0)),ie(1),N(()=>this.store.pipe(x(M4(n)))),M(En),E(r=>r.currentConsent))}isConsentGiven(n){return!!n&&!!n.consentGivenDate&&!n.consentWithdrawnDate}isConsentWithdrawn(n){return n?!!n?.consentWithdrawnDate:!0}giveConsent(n,r){this.userIdService.takeUserId().subscribe(s=>{this.store.dispatch(new wc({userId:s,consentTemplateId:n,consentTemplateVersion:r}))})}getGiveConsentResultLoading(){return this.store.pipe(x(Ci(hs)))}getGiveConsentResultSuccess(){return this.store.pipe(x(Gr(hs)))}getGiveConsentResultError(){return this.store.pipe(x(Ei(hs)))}resetGiveConsentProcessState(){return this.store.dispatch(new ap)}withdrawConsent(n,r){this.userIdService.takeUserId().subscribe(s=>{this.store.dispatch(new up({userId:s,consentCode:n,consentId:r}))})}getWithdrawConsentResultLoading(){return this.store.pipe(x(Ci(ps)))}getWithdrawConsentResultSuccess(){return this.store.pipe(x(Gr(ps)))}getWithdrawConsentResultError(){return this.store.pipe(x(Ei(ps)))}resetWithdrawConsentProcessState(){return this.store.dispatch(new fp)}filterConsentTemplates(n,r=[]){if(r.length===0)return n;let s=[];for(let o of n)o.id&&!r.includes(o.id)&&s.push(o);return s}};e.\u0275fac=function(r){return new(r||e)(d(me),d(Bn),d(Cn))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),F4=(()=>{let e=class e{isRequiredConsent(n){return!!(n&&this.anonymousConsentsConfig.anonymousConsents?.requiredConsents?.includes(n))}constructor(n,r,s,o,a,c,u){this.actions$=n,this.anonymousConsentTemplatesConnector=r,this.authService=s,this.anonymousConsentsConfig=o,this.anonymousConsentService=a,this.userConsentService=c,this.userIdService=u,this.logger=C(Q),this.checkConsentVersions$=W(()=>this.actions$.pipe(V(vN),it(this.anonymousConsentService.getConsents()),je(([l,f])=>this.anonymousConsentTemplatesConnector.loadAnonymousConsents().pipe(E(h=>{if(!h)return ge()&&this.logger.warn("No consents were loaded. Please check the Spartacus documentation as this could be a back-end configuration issue."),!1;let m=f.map(b=>b.templateVersion),y=h.map(b=>b.templateVersion);return this.detectUpdatedVersion(m,y)}),N(h=>h?I(new Sf):he),F(h=>I(new Df(Y(h,this.logger)))))))),this.loadAnonymousConsentTemplates$=W(()=>this.actions$.pipe(V(dN),it(this.anonymousConsentService.getTemplates()),je(([l,f])=>this.anonymousConsentTemplatesConnector.loadAnonymousConsentTemplates().pipe(G(h=>{let m=!1;return f&&f.length!==0&&(m=this.anonymousConsentService.detectUpdatedTemplates(f,h)),[new If(h),new bf(m)]}),F(h=>I(new Df(Y(h,this.logger)))))))),this.transferAnonymousConsentsToUser$=W(()=>this.actions$.pipe(V(vr),M(()=>!!this.anonymousConsentsConfig.anonymousConsents),it(this.actions$.pipe(V(tD))),M(([,l])=>!!l),N(()=>this.anonymousConsentService.getConsents().pipe(it(this.userIdService.getUserId(),this.anonymousConsentService.getTemplates(),this.authService.isUserLoggedIn()),M(([,,,l])=>l),je(([l,f,h,m])=>{let y=[];for(let b of l)if(this.anonymousConsentService.isConsentGiven(b)&&!this.isRequiredConsent(b.templateCode)){for(let w of h)if(w.id===b.templateCode){y.push(new cp({userId:f,consentTemplateId:w.id,consentTemplateVersion:w.version}));break}}return y.length>0?y:he}))))),this.giveRequiredConsentsToUser$=W(()=>this.actions$.pipe(V(vr),M(l=>!!(this.anonymousConsentsConfig.anonymousConsents&&this.anonymousConsentsConfig.anonymousConsents.requiredConsents&&l)),je(()=>this.userConsentService.getConsentsResultSuccess().pipe(ie(1),it(this.userIdService.getUserId(),this.userConsentService.getConsents(),this.authService.isUserLoggedIn()),M(([,,,l])=>l),L(([l,f,h,m])=>{l||this.userConsentService.loadConsents()}),E(([l,f,h,m])=>({userId:f,templates:h})),je(({userId:l,templates:f})=>{let h=[];for(let m of f)this.userConsentService.isConsentWithdrawn(m.currentConsent)&&this.isRequiredConsent(m.id)&&h.push(new wc({userId:l,consentTemplateId:m.id,consentTemplateVersion:m.version}));return h.length>0?h:he})))))}detectUpdatedVersion(n,r){if(n.length!==r.length)return!0;for(let s=0;s<r.length;s++)if(n[s]!==r[s])return!0;return!1}};e.\u0275fac=function(r){return new(r||e)(d(Me),d(P3),d(Bn),d(GN),d(Lc),d(P4),d(Cn))},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})(),_4=[F4],L4=(()=>{let e=class e{constructor(){this.logger=C(Q),this.EXTRACT_JAVA_REGEXP_MODIFIERS=/^(\(\?([a-z]+)\))?(.*)/}toJsRegExp(n){let r=n.match(this.EXTRACT_JAVA_REGEXP_MODIFIERS);if(!r)return null;let[,,s,o]=r;try{return new RegExp(o,s)}catch(a){return ge()&&this.logger.warn(`WARNING: Could not convert Java regexp into Javascript. Original regexp: ${n} 
Message: ${a}`),null}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),k4=(()=>{let e=class e{constructor(n,r,s){this.baseSiteService=n,this.javaRegExpConverter=r,this.winRef=s,this.scopes=["context"],this.configFactory=()=>Zn(this.resolveConfig())}get currentUrl(){return this.winRef.location.href}resolveConfig(){return this.baseSiteService.getAll().pipe(E(n=>n?.find(r=>this.isCurrentBaseSite(r))),M(n=>{if(!n)throw new Error(`Error: Cannot get base site config! Current url (${this.currentUrl}) doesn't match any of url patterns of any base sites.`);return!!n}),E(n=>this.getConfig(n)),ie(1))}getConfig(n){return{context:{urlParameters:this.getUrlParams(n.urlEncodingAttributes),[Yr]:[n.uid],[Es]:this.getIsoCodes(n.baseStore?.languages,n.defaultLanguage||n.baseStore?.defaultLanguage),[Cs]:this.getIsoCodes(n.baseStore?.currencies,n.baseStore?.defaultCurrency),[P8]:[n.theme]}}}isCurrentBaseSite(n){return(n.urlPatterns||[]).findIndex(s=>{let o=this.javaRegExpConverter.toJsRegExp(s);if(o)return o.test(this.currentUrl)})!==-1}getUrlParams(n){let r="storefront";return(n||[]).map(s=>s===r?Yr:s)}getIsoCodes(n,r){if(n&&r)return this.moveToFirst(n,o=>o.isocode===r.isocode).map(o=>o.isocode)}moveToFirst(n,r){n=[...n];let s=n.findIndex(r);if(s!==-1){let[o]=n.splice(s,1);n.unshift(o)}return n}};e.\u0275fac=function(r){return new(r||e)(d(Ss),d(L4),d(bi))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),qo=(()=>{let e=class e{constructor(n){this.adapter=n}getLanguages(){return this.adapter.loadLanguages()}getCurrencies(){return this.adapter.loadCurrencies()}getCountries(n){return this.adapter.loadCountries(n)}getRegions(n){return this.adapter.loadRegions(n)}getBaseSite(n){return this.adapter.loadBaseSite(n)}getBaseSites(){return this.adapter.loadBaseSites()}};e.\u0275fac=function(r){return new(r||e)(d(wp))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ax=(()=>{let e=class e extends Kr{};e.type="LanguageSetEvent";let t=e;return t})(),Rx=(()=>{let e=class e extends Kr{};e.type="CurrencySetEvent";let t=e;return t})(),U4=(()=>{let e=class e{constructor(n,r){this.actionsSubject=n,this.eventService=r,this.register()}register(){this.registerSetLanguage(),this.registerSetCurrency()}registerSetLanguage(){let n=this.actionsSubject.pipe(V(Kp),E(r=>Ii(Ax,{activeLanguage:r.payload})));this.eventService.register(Ax,n)}registerSetCurrency(){let n=this.actionsSubject.pipe(V(Yp),E(r=>Ii(Rx,{activeCurrency:r.payload})));this.eventService.register(Rx,n)}};e.\u0275fac=function(r){return new(r||e)(d($r),d(Is))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),j4=(()=>{let e=class e{constructor(n){}};e.\u0275fac=function(r){return new(r||e)(d(U4))},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})(),Pp=class{};function $4(){return{[Es]:Ai,[Cs]:Gc,[Yr]:Ss}}var B4={provide:Pp,useFactory:$4},V4=(()=>{let e=class e{constructor(n,r){this.baseSiteService=n,this.configInit=r}initialize(){this.subscription=this.configInit.getStable("context").pipe(N(()=>this.setFallbackValue())).subscribe()}setFallbackValue(){return this.configInit.getStable("context").pipe(L(n=>this.setDefaultFromConfig(n)))}setDefaultFromConfig(n){let r=Si(n,Yr);!this.baseSiteService.isInitialized()&&r&&this.baseSiteService.setActive(r)}ngOnDestroy(){this.subscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)(d(Ss),d(kn))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),H4=(()=>{let e=class e{constructor(n,r,s){this.statePersistenceService=n,this.currencyService=r,this.config=s,this.initialized$=new on(1)}initSync(){return this.statePersistenceService.syncWithStorage({key:Cs,state$:this.currencyService.getActive(),onRead:n=>this.onRead(n)}),this.initialized$}onRead(n){!this.currencyService.isInitialized()&&n&&this.currencyService.setActive(n),this.initialized$.closed||(this.initialized$.next(void 0),this.initialized$.complete())}};e.\u0275fac=function(r){return new(r||e)(d(Qp),d(Gc),d(Qr))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),z4=(()=>{let e=class e{constructor(n,r,s){this.currencyService=n,this.currencyStatePersistenceService=r,this.configInit=s}initialize(){this.subscription=this.configInit.getStable("context").pipe(N(()=>this.currencyStatePersistenceService.initSync()),N(()=>this.setFallbackValue())).subscribe()}setFallbackValue(){return this.configInit.getStable("context").pipe(L(n=>this.setDefaultFromConfig(n)))}setDefaultFromConfig(n){let r=Si(n,Cs);!this.currencyService.isInitialized()&&r&&this.currencyService.setActive(r)}ngOnDestroy(){this.subscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)(d(Gc),d(H4),d(kn))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),G4=(()=>{let e=class e{constructor(n,r,s){this.statePersistenceService=n,this.languageService=r,this.config=s,this.initialized$=new on(1)}initSync(){return this.statePersistenceService.syncWithStorage({key:Es,state$:this.languageService.getActive(),onRead:n=>this.onRead(n)}),this.initialized$}onRead(n){!this.languageService.isInitialized()&&n&&this.languageService.setActive(n),this.initialized$.closed||(this.initialized$.next(void 0),this.initialized$.complete())}};e.\u0275fac=function(r){return new(r||e)(d(Qp),d(Ai),d(Qr))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),W4=(()=>{let e=class e{constructor(n,r,s){this.languageService=n,this.languageStatePersistenceService=r,this.configInit=s}initialize(){this.subscription=this.configInit.getStable("context").pipe(N(()=>this.languageStatePersistenceService.initSync()),N(()=>this.setFallbackValue())).subscribe()}setFallbackValue(){return this.configInit.getStable("context").pipe(L(n=>this.setDefaultFromConfig(n)))}setDefaultFromConfig(n){let r=Si(n,Es);!this.languageService.isInitialized()&&r&&this.languageService.setActive(r)}ngOnDestroy(){this.subscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)(d(Ai),d(G4),d(kn))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),cD=(()=>{let e=class e{constructor(n,r,s){this.config=n,this.injector=r,this.serviceMap=s,this.logger=C(Q)}getContextParameters(){return this.config.context?Object.keys(this.config.context).filter(n=>n!=="urlParameters"):[]}getUrlEncodingParameters(){return this.config.context&&this.config.context.urlParameters||[]}getParamValues(n){return Pc(this.config,n)}getParamDefaultValue(n){return Si(this.config,n)}getSiteContextService(n){if(this.serviceMap[n])try{return this.injector.get(this.serviceMap[n])}catch{ge()&&this.logger.warn(`Couldn't find site context service for '${n}'.`);return}}getValue(n){let r,s=this.getSiteContextService(n);return s&&s.getActive().subscribe(o=>r=o).unsubscribe(),r!==void 0?r:this.getParamDefaultValue(n)}setValue(n,r){let s=this.getSiteContextService(n);s&&s.setActive(r)}getValues(n){return n.length===0?I([]):_e(n.map(r=>{let s=this.getSiteContextService(r);return s?s.getActive().pipe(cn()):I("")})).pipe(M(r=>r.every(s=>!!s)))}};e.\u0275fac=function(r){return new(r||e)(d(Qr),d(Ye),d(Pp))},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})(),rS=(()=>{let e=class e extends os{get urlEncodingParameters(){return this.siteContextParams.getUrlEncodingParameters()}get hasContextInRoutes(){return this.urlEncodingParameters.length>0}constructor(n){super(),this.siteContextParams=n,this.URL_SPLIT=/(^[^#?]*)(.*)/}parse(n){if(this.hasContextInRoutes){let r=this.urlExtractContextParameters(n),s=super.parse(r.url);return this.urlTreeIncludeContextParameters(s,r.params),s}else return super.parse(n)}urlExtractContextParameters(n){let[,r,s]=n.match(this.URL_SPLIT)??[,"",""],o=r?.split("/")??[];o[0]===""&&o.shift();let a={},c=0,u=0;for(;c<this.urlEncodingParameters.length&&u<o.length;){let l=this.urlEncodingParameters[c];this.siteContextParams.getParamValues(l).includes(o[u])&&(a[l]=o[u],u++),c++}return n=o.slice(u).join("/")+s,{url:n,params:a}}urlTreeIncludeContextParameters(n,r){n.siteContext=r}serialize(n){let r=this.urlTreeExtractContextParameters(n),s=super.serialize(n);return this.urlIncludeContextParameters(s,r)}urlTreeExtractContextParameters(n){return n.siteContext?n.siteContext:{}}urlIncludeContextParameters(n,r){return this.urlEncodingParameters.map(o=>r[o]?r[o]:this.siteContextParams.getValue(o)).join("/")+n}};e.\u0275fac=function(r){return new(r||e)(d(cD))},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})();function q4(t){if(Si(t,Yr)===void 0)return"Please configure context.parameters.baseSite before using storefront library!"}function Y4(){return{context:{[Es]:["en","de","ja","zh","ru","fr","tr","it","es","uk","pl","nl","hi","ar","pt","bn","pa"],[Cs]:["USD","EUR","JPY","GBP","AUD","CAD","CHF","CNY","SEK","NZD","MXN","SGD","HKD","NOK","KRW","TRY","RUB","INR","BRL","ZAR"]}}}function K4(t){return()=>{t.initialize()}}function Z4(t){return()=>{t.initialize()}}function Q4(t){return()=>{t.initialize()}}var J4=[{provide:wt,useFactory:Z4,deps:[W4],multi:!0},{provide:wt,useFactory:K4,deps:[z4],multi:!0},{provide:wt,useFactory:Q4,deps:[V4],multi:!0}],X4=(()=>{let e=class e{constructor(n,r,s){this.siteContextParams=n,this.serializer=r,this.injector=s,this.subscription=new Ee,this.contextValues={},this.isNavigating=!1}init(){this.router=this.injector.get(Oe),this.location=this.injector.get(cr);let n=this.siteContextParams.getUrlEncodingParameters();n.length&&(this.setContextParamsFromRoute(this.location.path(!0)),this.subscribeChanges(n),this.subscribeRouting())}subscribeChanges(n){n.forEach(r=>{let s=this.siteContextParams.getSiteContextService(r);s&&this.subscription.add(s.getActive().subscribe(o=>{if(!this.isNavigating&&this.contextValues[r]&&this.contextValues[r]!==o){let a=this.router.parseUrl(this.router.url),c=this.router.serializeUrl(a);this.location.replaceState(c)}this.contextValues[r]=o}))})}subscribeRouting(){this.subscription.add(this.router.events.pipe(M(n=>n instanceof vn||n instanceof ot||n instanceof fr||n instanceof yn)).subscribe(n=>{this.isNavigating=n instanceof vn,this.isNavigating&&this.setContextParamsFromRoute(n.url)}))}setContextParamsFromRoute(n){let{params:r}=this.serializer.urlExtractContextParameters(n);Object.keys(r).forEach(s=>this.siteContextParams.setValue(s,r[s]))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)(d(cD),d(rS),d(Ye))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function eq(t,e){return()=>Zn(t.getStable("context").pipe(L(()=>{e.init()})))}var tq=[Ss,Ai,Gc,{provide:wt,useFactory:eq,deps:[kn,X4],multi:!0}],nq=[cD,rS,{provide:cs,useExisting:rS}],rq=(()=>{let e=class e{constructor(n,r){this.actions$=n,this.siteConnector=r,this.logger=C(Q),this.loadBaseSite$=W(()=>this.actions$.pipe(V(XS),Qn(()=>this.siteConnector.getBaseSite().pipe(E(s=>{if(s)return new Af(s);throw new Error("BaseSite is not found")}),F(s=>I(new Tf(Y(s,this.logger)))))))),this.loadBaseSites$=W(()=>this.actions$.pipe(V(tI),Qn(()=>this.siteConnector.getBaseSites().pipe(E(s=>new xf(s)),F(s=>I(new Mf(Y(s,this.logger))))))))}};e.\u0275fac=function(r){return new(r||e)(d(Me),d(qo))},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})(),iq=(()=>{let e=class e{constructor(n,r,s){this.actions$=n,this.siteConnector=r,this.state=s,this.logger=C(Q),this.loadCurrencies$=W(()=>this.actions$.pipe(V(iI),Qn(()=>this.siteConnector.getCurrencies().pipe(E(o=>new Ff(o)),F(o=>I(new Pf(Y(o,this.logger)))))))),this.activateCurrency$=W(()=>this.state.select(jC).pipe(Nu(2,1),M(([o])=>!!o),E(([o,a])=>new Lf({previous:o,current:a}))))}};e.\u0275fac=function(r){return new(r||e)(d(Me),d(qo),d(me))},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})(),sq=(()=>{let e=class e{constructor(n,r,s){this.actions$=n,this.siteConnector=r,this.state=s,this.logger=C(Q),this.loadLanguages$=W(()=>this.actions$.pipe(V(oI),Qn(()=>this.siteConnector.getLanguages().pipe(E(o=>new jf(o)),F(o=>I(new Uf(Y(o,this.logger)))))))),this.activateLanguage$=W(()=>this.state.select($C).pipe(Nu(2,1),M(([o])=>!!o),E(([o,a])=>new Bf({previous:o,current:a}))))}};e.\u0275fac=function(r){return new(r||e)(d(Me),d(qo),d(me))},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})(),oq=[sq,iq,rq],aq={entities:null,details:{},activeSite:""};function cq(t=aq,e){switch(e.type){case eI:return T(v({},t),{details:e.payload});case rI:{let i={};return t.entities&&(i=t.entities[e.payload]),T(v({},t),{details:i,activeSite:e.payload})}case nI:{let n=e.payload.reduce((s,o)=>T(v({},s),{[o.uid??""]:o}),v({},t.entities)),r=n[t.activeSite];return T(v({},t),{details:r,entities:n})}}return t}var uq={entities:null,activeCurrency:null};function lq(t=uq,e){switch(e.type){case sI:{let n=e.payload.reduce((r,s)=>T(v({},r),{[s.isocode??""]:s}),v({},t.entities));return T(v({},t),{entities:n})}case Yp:{let i=e.payload;return T(v({},t),{activeCurrency:i})}}return t}var dq={entities:null,activeLanguage:null};function fq(t=dq,e){switch(e.type){case aI:{let n=e.payload.reduce((r,s)=>T(v({},r),{[s.isocode??""]:s}),v({},t.entities));return T(v({},t),{entities:n})}case Kp:{let i=e.payload;return T(v({},t),{activeLanguage:i})}}return t}function hq(){return{languages:fq,currencies:lq,baseSite:cq}}var iP=new S("SiteContextReducers"),pq={provide:iP,useFactory:hq};function gq(){return{state:{ssrTransfer:{keys:{[cI]:Go.TRANSFER_STATE}}}}}var mq=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({providers:[Ho(gq),pq],imports:[Ze,lr.forFeature(cI,iP),Br.forFeature(oq)]});let t=e;return t})();function vq(t,e){return e.context?.[Yr]?null:t}var yq=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[Ho(Y4),B4,...tq,...nq,uI(q4),{provide:Jp,useFactory:vq,deps:[k4,Qr],multi:!0},...J4]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({imports:[Ti,mq,j4]});let t=e;return t})(),Eq=!1;function Cq(t=Eq,e){switch(e.type){case gN:return e.dismissed}return t}var Sq=!1;function Iq(t=Sq,e){switch(e.type){case mN:return e.updated}return t}var Dq=[];function Mx(t,e,i){return t?t.map(n=>(n.templateCode===e&&(n=T(v({},n),{consentState:i})),n)):[]}function bq(t=Dq,e){switch(e.type){case hN:return Mx(t,e.templateCode,_o.GIVEN);case pN:return Mx(t,e.templateCode,_o.WITHDRAWN);case fN:return e.payload}return t}function wq(){return{templates:ct(Mc),consents:bq,ui:rs({bannerDismissed:Cq,updated:Iq})}}var sP=new S("AnonymousConsentsReducers"),Tq={provide:sP,useFactory:wq};function Aq(t){return function(e,i){return e!==void 0&&(i.type===Zr||i.type===$n)&&(e=T(v({},e),{templates:{}})),t(e,i)}}var Rq=[Aq],Mq=(()=>{let e=class e{constructor(n,r,s){this.statePersistenceService=n,this.store=r,this.anonymousConsentsService=s,this.subscription=new Ee,this.key="anonymous-consents"}initSync(){this.subscription.add(this.statePersistenceService.syncWithStorage({key:this.key,state$:this.getAuthState(),onRead:n=>this.onRead(n)}))}getAuthState(){return this.store.select(xc)}onRead(n){let r=n?.templates,s=n?.consents,o=n?.ui;r?.success&&this.store.dispatch(new If(r.value??[])),s&&this.anonymousConsentsService.setConsents(s),o&&(this.anonymousConsentsService.toggleBannerDismissed(o?.bannerDismissed),this.anonymousConsentsService.toggleTemplatesUpdated(o?.updated))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)(d(Qp),d(me),d(Lc))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function xq(t){return()=>t.initSync()}var Nq=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({providers:[Tq,{provide:wt,useFactory:xq,deps:[Mq],multi:!0}],imports:[Ze,Ti,lr.forFeature(lN,sP,{metaReducers:Rq}),Br.forFeature(_4)]});let t=e;return t})(),due=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[...x3,Lc,Un(BG)]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({imports:[Nq]});let t=e;return t})(),oP={backend:{occ:{endpoints:{component:"cms/components/${id}",components:"cms/components",pages:"cms/pages",page:"cms/pages/${id}"}}},cmsComponents:{},componentsLoading:{pageSize:50}},Oq=T(v({},oP),{backend:{occ:{endpoints:{component:"users/${userId}/cms/components/${id}",components:"users/${userId}/cms/components",pages:"users/${userId}/cms/pages",page:"users/${userId}/cms/pages/${id}"}}}}),uD="cms",cg="[Cms] Navigation Entity",qc="[Cms] Component Entity",lD="[Cms] Load Component",dD="[Cms] Load Component Fail",fD="[Cms] Load Component Success",hD="[Cms] Get Component from Page",Fp=class extends kt{constructor(e){super(qc,e.uid),this.payload=e,this.type=lD}},_p=class extends At{constructor(e){super(qc,e.uid,e.error),this.payload=e,this.type=dD}},iS=class extends ft{constructor(e){super(qc,e.uid||e.component.uid||""),this.payload=e,this.type=fD}},sS=class extends ft{constructor(e){super(qc,[].concat(e).map(i=>i.component.uid)),this.payload=e,this.type=hD}},aP="[Cms] Load NavigationEntry items",Pq="[Cms] Load NavigationEntry items Fail",cP="[Cms] Load NavigationEntry items Success",oS=class extends kt{constructor(e){super(cg,e.nodeId),this.payload=e,this.type=aP}},Lp=class extends At{constructor(e,i){super(cg,e,i),this.payload=i,this.type=Pq}},aS=class extends ft{constructor(e){super(cg,e.nodeId),this.payload=e,this.type=cP}},uP="[Cms] Load Page Data",lP="[Cms] Load Page Data Fail",pD="[Cms] Load Page Data Success",dP="[Cms] Set Page Success Index",fP="[Cms] Set Page Fail Index",Fo=class extends kt{constructor(e){super(e.type??"",e.id),this.payload=e,this.type=uP}},cS=class extends At{constructor(e,i){super(e.type??"",e.id,i),this.type=lP}},uS=class extends ft{constructor(e,i){super(e.type??"",e.id,i),this.type=pD}},lS=class extends ft{constructor(e,i){super(e.type??"",e.id,i),this.type=dP}},dS=class extends At{constructor(e,i){super(e.type??"",e.id),this.payload=i,this.type=fP}};var gD=Fn(uD),Fq=A(gD,t=>t.components),hP=t=>A(Fq,e=>aN(e,t)),pP=(t,e)=>A(hP(t),i=>i&&i.pageContext&&i.pageContext[e]||mr),_q=(t,e)=>A(pP(t,e),i=>nt(i)),Lq=t=>A(hP(t),e=>e?e.component:void 0),kq=(t,e)=>A(Lq(t),_q(t,e),(i,n)=>{switch(n){case!0:return i;case!1:return null;case void 0:return}}),Uq=A(gD,t=>t.navigation),jq=t=>A(Uq,e=>nn(e,t)),$q=t=>A(jq(t),e=>nt(e)),Bq=t=>t.pageData.entities,Vq=(t,e)=>{switch(e){case be.CONTENT_PAGE:return t.content;case be.PRODUCT_PAGE:return t.product;case be.CATEGORY_PAGE:return t.category;case be.CATALOG_PAGE:return t.catalog;default:return{entities:{}}}},Hq=t=>{let e=new Set;if(t&&t.slots)for(let i of Object.keys(t.slots))for(let n of t.slots[i].components||[])e.add(n.flexType??"");return Array.from(e)},gP=A(gD,t=>t.page),zq=A(gP,t=>t.index),Gq=t=>A(zq,e=>Vq(e,t.type)),mP=t=>A(Gq(t),e=>nn(e,t.id)),vP=t=>A(mP(t),e=>nt(e)),Wq=A(gP,Bq),kp=t=>A(Wq,vP(t),(e,i)=>e[i]),qq=t=>A(kp(t),e=>Hq(e)),Yq=(t,e)=>A(kp(t),i=>{if(i)return i.slots?.[e]||{components:[]}});var Kq="current";function Wr(t,e){return t?e&&t.type===be.CONTENT_PAGE?`${t.type}`:`${t.type}-${t.id}`:Kq}var ug=(()=>{let e=class e{constructor(n,r){this.store=n,this.routingService=r,this.components={}}getCurrentPage(){return this.routingService.getPageContext().pipe(N(n=>this.store.select(kp(n))))}getComponentData(n,r){let s=Wr(r,!0);this.components[n]||(this.components[n]={});let o=this.components[n];return o[s]||(o[s]=this.createComponentData(n,r)),o[s]}createComponentData(n,r){if(!r)return this.routingService.getPageContext().pipe(M(c=>!!c),N(c=>this.getComponentData(n,c)));let s=Wr(r,!0),o=_e([this.routingService.getNextPageContext(),this.store.pipe(x(pP(n,s)))]).pipe(qt(wr),L(([c,u])=>{let l=u.loading||u.success||u.error,f=c?Wr(c,!0)===s:!1;!l&&!f&&this.store.dispatch(new Fp({uid:n,pageContext:r}))})),a=this.store.pipe(x(kq(n,s)),M(En));return Os(()=>o.subscribe(),()=>a).pipe(pt({bufferSize:1,refCount:!0}))}getContentSlot(n){return this.routingService.getPageContext().pipe(N(r=>this.store.pipe(x(Yq(r,n)),M(En))))}getNavigationEntryItems(n){return this.store.pipe(x($q(n)))}loadNavigationItems(n,r){this.store.dispatch(new oS({nodeId:n,items:r}))}refreshLatestPage(){this.routingService.getPageContext().pipe(ie(1)).subscribe(n=>this.store.dispatch(new Fo(n)))}refreshPageById(n){let r={id:n};this.store.dispatch(new Fo(r))}refreshComponent(n,r){this.store.dispatch(new Fp({uid:n,pageContext:r}))}getPageState(n){return this.store.pipe(x(kp(n)))}getPageComponentTypes(n){return this.store.pipe(x(qq(n)))}hasPage(n,r=!1){return this.store.pipe(x(mP(n)),L(s=>{let o=s.loading||s.success||s.error,a=r&&!s.loading;(!o||a)&&(this.store.dispatch(new Fo(n)),r=!1)}),M(s=>s.hasOwnProperty("value")?!!(s.success||s.error&&!s.loading):!1),E(s=>!!s.success),F(()=>I(!1)))}getPage(n,r=!1){return this.hasPage(n,r).pipe(N(s=>s?this.getPageState(n):I(null)))}getPageIndex(n){return this.store.pipe(x(vP(n)))}setPageFailIndex(n,r){this.store.dispatch(new dS(n,r))}};e.\u0275fac=function(r){return new(r||e)(d(me),d(wi))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Zq={pageMeta:{resolvers:[{property:"title",method:"resolveTitle"},{property:"heading",method:"resolveHeading"},{property:"breadcrumbs",method:"resolveBreadcrumbs"},{property:"description",method:"resolveDescription",disabledInCsr:!0},{property:"image",method:"resolveImage",disabledInCsr:!0},{property:"robots",method:"resolveRobots",disabledInCsr:!0},{property:"canonicalUrl",method:"resolveCanonicalUrl",disabledInCsr:!0}],canonicalUrl:{forceHttps:!0,forceWww:!1,removeQueryParams:!0,forceTrailingSlash:!0}}},tn=class{getScore(e){let i=0;return this.pageType&&(i+=e.type===this.pageType?1:-1),this.pageTemplate&&(i+=e.template===this.pageTemplate?1:-1),this.pageUid&&(i+=e.pageId===this.pageUid?10:-10),i}hasMatch(e){return this.getScore(e)>0}getPriority(e){return this.getScore(e)}},yr=class{},Qq=(()=>{let e=class e{constructor(n){this.translation=n}resolveBreadcrumbs({url:n,pageMetaConfig:r}){let s=r?.breadcrumb;return s?typeof s!="string"&&s.raw?I([{link:n,label:s.raw}]):this.translateBreadcrumbLabel(s).pipe(E(o=>[{label:o,link:n}])):I([])}translateBreadcrumbLabel(n){let r=typeof n=="string"?n:n.i18n;return this.getParams().pipe(N(s=>this.translation.translate(r??"",s??{})))}getParams(){return I({})}};e.\u0275fac=function(r){return new(r||e)(d(yr))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Jq=(()=>{let e=class e{constructor(n,r){this.activatedRoutesService=n,this.injector=r,this.routes$=this.activatedRoutesService.routes$.pipe(E(s=>s=s.slice(1,s.length))),this.routesWithExtras$=this.routes$.pipe(E(s=>s.reduce((o,a)=>{let c=o.length?o[o.length-1]:{route:null,resolver:this.injector.get(Qq),url:""},u=this.getResolver(a)??c.resolver,l=this.getUrlPart(a),f=c.url+(l?`/${l}`:"");return o.concat({route:a,resolver:u,url:f})},[])),pt({bufferSize:1,refCount:!0}))}resolveBreadcrumbs(n){return this.routesWithExtras$.pipe(E(r=>n?.includeCurrentRoute?r:this.trimCurrentRoute(r)),N(r=>r.length?_e(r.map(s=>this.resolveRouteBreadcrumb(s))):I([])),E(r=>r.flat()))}getResolver(n){let r=this.getPageMetaConfig(n);return typeof r!="string"&&r?.resolver?this.injector.get(r.resolver,null):null}resolveRouteBreadcrumb({route:n,resolver:r,url:s}){let o=r;return typeof o.resolveBreadcrumbs=="function"?o.resolveBreadcrumbs({route:n,url:s,pageMetaConfig:this.getPageMetaConfig(n)}):I([])}trimCurrentRoute(n){let r=n.length-1;for(;n[r]?.route?.url.length===0&&r>=0;)r--;return n.slice(0,r)}getUrlPart(n){return n.url.map(r=>r.path).join("/")}getPageMetaConfig(n){return n?.routeConfig?.data?.cxPageMeta}};e.\u0275fac=function(r){return new(r||e)(d(IN),d(Ye))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),yP=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=g({token:e,factory:function(r){let s=null;return r?s=new(r||e):s=d(Ut),s},providedIn:"root"});let t=e;return t})(),EP=(()=>{let e=class e{constructor(n,r){this.pageMetaConfig=n,this.winRef=r}getCanonicalUrl(n,r){let s=v(v({},this.pageMetaConfig?.pageMeta?.canonicalUrl),n);return this.buildCanonicalUrl(r??this.winRef.location.href??"",s)}buildCanonicalUrl(n,r){return r.forceHttps&&(n=n.replace(/^http(?!s):/i,"https:")),r.forceWww&&(n=n.replace(/^(https?:\/\/)(?!www\.)(.*)/i,"$1www.$2")),r.removeQueryParams&&(n=this.removeQueryParams(n,r)),r.forceTrailingSlash&&(n=n.replace(/^([^\?]+[^\/\?]$)$/i,"$1/")),n}removeQueryParams(n,r){let s=n.indexOf("?");if(s>-1){let o=n.substring(0,s),a=new URLSearchParams(n.substring(s));n=o,Array.isArray(r.removeQueryParams)&&(r.removeQueryParams.forEach(c=>{a.delete(c)}),a.toString().length>0&&(n=`${o}?${a.toString()}`))}return n}};e.\u0275fac=function(r){return new(r||e)(d(yP),d(bi))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),lg=(()=>{let e=class e{constructor(n,r,s,o,a){this.cmsService=n,this.translation=r,this.routingPageMetaResolver=s,this.router=o,this.pageLinkService=a,this.page$=qe(()=>this.cmsService.getCurrentPage()).pipe(M(c=>!!c)),this.title$=this.page$.pipe(E(c=>c.title)),this.description$=this.page$.pipe(E(c=>c.description)),this.robots$=this.page$.pipe(E(c=>c.robots||[])),this.homeBreadcrumb$=this.translation.translate("common.home").pipe(E(c=>[{label:c,link:"/"}])),this.breadcrumb$=_e([this.homeBreadcrumb$,qe(()=>this.routingPageMetaResolver?.resolveBreadcrumbs())]).pipe(E(c=>c.flat()),pt({bufferSize:1,refCount:!0}))}resolveTitle(){return this.title$}resolveDescription(){return this.description$}resolveBreadcrumbs(){return this.breadcrumb$}resolveRobots(){return this.robots$}resolveCanonicalUrl(n){return this.router.events.pipe(M(r=>r instanceof ot),Kn(null),E(()=>this.pageLinkService.getCanonicalUrl(n)))}};e.\u0275fac=function(r){return new(r||e)(d(ug),d(yr),d(Jq),d(Oe),d(EP))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Xq=(()=>{let e=class e extends tn{constructor(n){super(),this.basePageMetaResolver=n,this.pageType=be.CONTENT_PAGE}resolveTitle(){return this.basePageMetaResolver.resolveTitle()}resolveDescription(){return this.basePageMetaResolver.resolveDescription()}resolveBreadcrumbs(){return this.basePageMetaResolver.resolveBreadcrumbs()}resolveRobots(){return this.basePageMetaResolver.resolveRobots()}resolveCanonicalUrl(){return this.basePageMetaResolver.resolveCanonicalUrl()}};e.\u0275fac=function(r){return new(r||e)(d(lg))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),e6=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[Un(Zq)]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({providers:[{provide:tn,useExisting:Xq,multi:!0}]});let t=e;return t})();function CP(t=0,e){return i=>{let n=[];return i.pipe(L(r=>n.push(r)),Fi(t,e),E(()=>n),L(()=>n=[]))}}function mD(t){return e=>t.pipe(Kn(void 0),N(()=>e))}var t6=(()=>{let e=class e extends nD{};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=g({token:e,factory:function(r){let s=null;return r?s=new(r||e):s=d(Ut),s},providedIn:"root"});let t=e;return t})(),SP=(()=>{let e=class e{constructor(n){this.cmsDataConfig=n}mergePageStructure(n,r){return this.mergePage(n,r).pipe(N(s=>this.mergeSlots(s)))}shouldIgnoreBackend(n){return this.getPageFromConfig(n).pipe(E(r=>!!r&&!!r.ignoreBackend))}getComponentFromConfig(n){return I(this.getComponentById(n))}getComponentsFromConfig(n){return I(n.map(r=>this.getComponentById(r)))}getPageFromConfig(n){return I(this.cmsDataConfig.cmsStructure&&this.cmsDataConfig.cmsStructure.pages?this.cmsDataConfig.cmsStructure.pages.find(r=>r.pageId===n):void 0)}mergePage(n,r){return this.getPageFromConfig(n).pipe(N(s=>s?(r.page||(r.page=v({},s),r.page.slots={}),r.page.slots||(r.page.slots={}),this.mergeSlots(r,s.slots)):I(r)))}mergeSlots(n,r){if(!r&&this.cmsDataConfig.cmsStructure?.slots&&(r=this.cmsDataConfig.cmsStructure.slots),!r)return I(n);for(let s of Object.keys(r))if(n.page?.slots&&!Object.keys(n.page.slots).includes(s)){n.page.slots[s]={};for(let o of this.getComponentsByPosition(r,s))n.page.slots[s].components=n.page.slots[s].components??[],n.page.slots[s].components?.push({uid:o.uid,flexType:o.flexType,typeCode:o.typeCode}),n.components=n.components??[],n.components.push(o)}return I(n)}getComponentsByPosition(n,r){let s=[];if(n[r]&&n[r].componentIds){for(let o of n[r].componentIds??[])if(this.cmsDataConfig.cmsStructure&&this.cmsDataConfig.cmsStructure.components){let a=this.cmsDataConfig.cmsStructure.components[o];a&&s.push(v({uid:o},a))}}return s}getComponentById(n){return this.cmsDataConfig.cmsStructure&&this.cmsDataConfig.cmsStructure.components?this.cmsDataConfig.cmsStructure.components[n]:void 0}};e.\u0275fac=function(r){return new(r||e)(d(t6))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),IP=(()=>{let e=class e{constructor(n,r,s){this.cmsStructureConfigService=n,this.cmsComponentAdapter=r,this.config=s}get(n,r){return this.cmsStructureConfigService.getComponentFromConfig(n).pipe(N(s=>s?I(s):this.cmsComponentAdapter.load(n,r)))}getList(n,r){return this.cmsStructureConfigService.getComponentsFromConfig(n).pipe(N(s=>{let o=s.reduce((a,c,u)=>(c===void 0&&a.push(n[u]),a),[]);if(o.length>0){let a=this.config.componentsLoading?.pageSize||o.length,c=Math.ceil(o.length/a),u=[],l=0;for(;l<c;)u.push(this.cmsComponentAdapter.findComponentsByIds(o.slice(l*a,(l+1)*a),r)),l++;return Pi(...u).pipe(E(f=>[...s.filter(Boolean)].concat(...f)))}else return I(s)}))}};e.\u0275fac=function(r){return new(r||e)(d(SP),d(yp),d(nD))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),n6=(()=>{let e=class e{constructor(n,r){this.actions$=n,this.cmsComponentConnector=r,this.logger=C(Q),this.contextChange$=this.actions$.pipe(V($n,Zr,vr)),this.loadComponent$=W(()=>({scheduler:s,debounce:o=0}={})=>this.actions$.pipe(V(lD),ii(a=>Wr(a.payload.pageContext)),G(a=>a.pipe(CP(o,s),G(c=>this.loadComponentsEffect(c.map(u=>u.payload.uid),c[0].payload.pageContext??{id:""})))),mD(this.contextChange$)))}loadComponentsEffect(n,r){return this.cmsComponentConnector.getList(n,r).pipe(N(s=>{let o=[],a=new Set(n);for(let c of s)o.push(new iS({component:c,uid:c.uid,pageContext:r})),a.delete(c.uid??"");return a.forEach(c=>{o.push(new _p({uid:c,pageContext:r}))}),pe(o)}),F(s=>pe(n.map(o=>new _p({uid:o,error:Y(s,this.logger),pageContext:r})))))}};e.\u0275fac=function(r){return new(r||e)(d(Me),d(IP))},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})(),r6="[^/]",i6="[^/]*",s6="(?:.+\\/)?",DP=[{replace:/\./g,with:"\\."},{replace:/\+/g,with:"\\+"},{replace:/\*/g,with:i6}],o6=[...DP,{replace:/\?/g,with:r6}],a6=[...DP,{replace:/\?/g,with:"\\?"}];function c6(t,e=!1){let i=e?a6:o6,n=t.split("/").reverse(),r="";for(;n.length>0;){let s=n.pop();if(s==="**")n.length>0?r+=s6:r+=".*";else{let o=i.reduce((a,c)=>a?.replace(c.replace,c.with),s);r+=o,n.length>0&&(r+="\\/")}}return r}function u6(t){return t.map(e=>{let i=!e.startsWith("!");return e=i?e:e.substring(1),{positive:i,regex:`^${c6(e)}$`}})}var l6=(()=>{let e=class e{getValidator(n){let r=u6(n).map(({positive:a,regex:c})=>({positive:a,regex:new RegExp(c)})),s=r.filter(a=>a.positive),o=r.filter(a=>!a.positive);return a=>s.some(c=>c.regex.test(a))&&!o.some(c=>c.regex.test(a))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),vD=(()=>{let e=class e{constructor(n){this.globService=n}getFalsy(){return function(){return null}}getFromPaths(n){let r=n.map(o=>this.getFromPath(o)),s=this.getCombined(r);return ge()&&(s._paths=n),s}getCombined(n){let r=function(o,a,c){for(let u=0;u<n.length;u++){let l=n[u](o,a,c);if(l)return l}return null};return ge()&&(r._matchers=n),r}getFromPath(n=""){let r=function(u,l,f){if(n==="")return s(u,l,f);let h=n.split("/");if(o(h.length>u.length,a(f.pathMatch==="full",o(l.hasChildren(),h.length<u.length))))return null;let m={};for(let y=0;y<h.length;y++){let b=h[y],w=u[y];if(b.startsWith(":"))m[b.substring(1)]=w;else if(b!==w.path)return null}return{consumed:u.slice(0,h.length),posParams:m}};return ge()&&(r._path=n),r;function s(c,u,l){return a(l.pathMatch==="full",o(u.hasChildren(),c.length>0))?null:{consumed:[],posParams:{}}}function o(c,u){return c||u}function a(c,u){return c&&u}}getOpposite(n){let r=function(o,a,c){return n(o,a,c)?null:{consumed:o,posParams:{}}};return ge()&&(r._originalMatcher=n),r}getFromGlob(n){let r=this.globService.getValidator(n),s=function(a){let c=`/${a.map(u=>u.path).join("/")}`;return r(c)?{consumed:a,posParams:{}}:null};return ge()&&(s._globPatterns=n),s}};e.\u0275fac=function(r){return new(r||e)(d(l6))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),d6=(()=>{let e=class e{constructor(n,r,s){this.injector=n,this.routingConfigService=r,this.urlMatcherService=s,this.logger=C(Q),this.initCalled=!1}init(){this.initCalled||(this.initCalled=!0,this.configure())}configure(){let n=this.injector.get(Oe);n.resetConfig(this.configureRoutes(n.config))}configureRoutes(n){return n.map(r=>{let s=this.configureRoute(r);return r.children&&r.children.length&&(s.children=this.configureRoutes(r.children)),s})}configureRoute(n){let r=this.getRouteName(n);if(r){let s=this.routingConfigService.getRouteConfig(r);return this.validateRouteConfig(s,r,n),s?.disabled?(delete n.path,T(v({},n),{matcher:this.urlMatcherService.getFalsy()})):s?.matchers?(delete n.path,T(v({},n),{matcher:this.resolveUrlMatchers(n,s?.matchers)})):s?.paths?.length===1?(delete n.matcher,T(v({},n),{path:s?.paths[0]})):(delete n.path,T(v({},n),{matcher:this.urlMatcherService.getFromPaths(s?.paths||[])}))}return n}resolveUrlMatchers(n,r){let s=r?.map(o=>typeof o=="function"?o:this.resolveUrlMatcherFactory(n,o))??[];return this.urlMatcherService.getCombined(s)}resolveUrlMatcherFactory(n,r){return this.injector.get(r)(n)}getRouteName(n){return n.data&&n.data.cxRoute}validateRouteConfig(n,r,s){if(ge()){if(n===null||n?.paths===null||n?.matchers)return;if(!n?.paths){this.warn(`Could not configure the named route '${r}'`,s,"due to undefined config or undefined 'paths' property for this route");return}}}warn(...n){ge()&&this.logger.warn(...n)}};e.\u0275fac=function(r){return new(r||e)(d(Ye),d(qp),d(vD))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var fue=(()=>{let e=class e{constructor(n){this.urlService=n}transform(n){return this.urlService.transform(n)}};e.\u0275fac=function(r){return new(r||e)(X(Oc,16))},e.\u0275pipe=Vt({name:"cxUrl",type:e,pure:!0});let t=e;return t})(),hue=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({imports:[Ze]});let t=e;return t})(),f6=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=g({token:e,factory:function(r){let s=null;return r?s=new(r||e):s=d(Ut),s},providedIn:"root"});let t=e;return t})(),h6=(()=>{let e=class e{constructor(n,r){this.winRef=n,this.platformId=r}canActivate(n,r){return Pn(this.platformId)&&this.redirect(n,r),!1}redirect(n,r){let s=this.winRef.nativeWindow;s&&s.location&&(s.location.href=r.url)}};e.\u0275fac=function(r){return new(r||e)(d(bi),d($e))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function p6(t){return()=>{t.addRoutes()}}var g6=(()=>{let e=class e{constructor(n,r,s){this.config=n,this.urlMatcherService=r,this.injector=s}get internalUrlPatterns(){return this.config&&this.config.routing&&this.config.routing.internal||[]}addRoutes(){let n=this.injector.get(Oe),r=this.getRoutes();r.length&&n.resetConfig([...r,...n.config])}getRoutes(){if(!this.internalUrlPatterns.length)return[];let n=[];return n.push({pathMatch:"full",matcher:this.getUrlMatcher(),canActivate:[h6],component:{}}),n}getUrlMatcher(){let n=this.urlMatcherService.getFromGlob(this.internalUrlPatterns);return this.urlMatcherService.getOpposite(n)}};e.\u0275fac=function(r){return new(r||e)(d(f6),d(vD),d(Ye))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),pue=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[{provide:wt,multi:!0,useFactory:p6,deps:[g6]}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})(),m6=(()=>{let e=class e{get routingConfig(){return this.config&&this.config.routing}get shouldProtect(){return!!this.routingConfig?.protected}constructor(n,r){this.config=n,this.urlParsingService=r,this.nonProtectedPaths=[],this.shouldProtect&&(this.nonProtectedPaths=this.getNonProtectedPaths().map(s=>this.getSegments(s)))}isUrlProtected(n){return this.shouldProtect&&!this.matchAnyPath(n,this.nonProtectedPaths)}matchAnyPath(n,r){return r.some(s=>this.matchPath(n,s))}matchPath(n,r){return this.urlParsingService.matchPath(n,r)}getNonProtectedPaths(){return Object.values(this.routingConfig?.routes??{}).reduce((n,r)=>r.protected===!1&&r.paths&&r.paths.length?n.concat(r?.paths??[]):n,[])}getSegments(n){return(n||"").split("/")}};e.\u0275fac=function(r){return new(r||e)(d(Wp),d(QS))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),gue=(()=>{let e=class e{constructor(n,r){this.service=n,this.authGuard=r}canActivate(n){let r=n.url.map(s=>s.path);return r=r.length?r:[""],this.service.isUrlProtected(r)?this.authGuard.canActivate():I(!0)}};e.\u0275fac=function(r){return new(r||e)(d(m6),d(R3))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),v6=(()=>{let e=class e{constructor(n,r){this.baseSiteService=n,this.configInit=r,this.scopes=["routing"],this.configFactory=()=>Zn(this.resolveConfig())}resolveConfig(){return this.configInit.getStable("context").pipe(N(n=>{let r=n?.context?.[Yr]?.[0];return this.baseSiteService.get(r).pipe(L(s=>{if(!s)throw new Error(`Error: Cannot get base site config for ${r}.`)}),E(s=>this.getRoutingConfig(s)),ie(1))}))}getRoutingConfig(n){return{routing:{protected:n?.requiresAuthentication}}}};e.\u0275fac=function(r){return new(r||e)(d(Ss),d(kn))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),y6=(()=>{let e=class e{constructor(n,r){this.actions$=n,this.router=r,this.clearCmsRoutes$=W(()=>this.actions$.pipe(V($n,Zr,vr),L(()=>{let s=this.router.config.filter(o=>!(o.data&&o.data.cxCmsRouteContext));s.length!==this.router.config.length&&this.router.resetConfig(s)})),{dispatch:!1})}};e.\u0275fac=function(r){return new(r||e)(d(Me),d(Oe))},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})(),E6=[y6],C6={navigationId:0,state:{url:"",queryParams:{},params:{},context:{id:""},cmsRequired:!1,semanticRoute:void 0},nextState:void 0};function S6(){return{router:I6}}function I6(t=C6,e){switch(e.type){case Zd:return T(v({},t),{nextState:e.payload.routerState,navigationId:e.payload.event.id});case Jd:case Qd:return T(v({},t),{nextState:void 0});case CN:return t.nextState?T(v({},t),{nextState:T(v({},t.nextState),{context:e.payload})}):t;case Xd:return{state:T(v({},e.payload.routerState),{context:t.nextState?.context??e.payload.routerState.context}),navigationId:e.payload.event.id,nextState:void 0};default:return t}}var bP=new S("RouterReducers"),D6={provide:bP,useFactory:S6},b6=(()=>{let e=class e{serialize(n){let r=n.root,s=!1,o,a,c="";for(;r.firstChild;)r=r.firstChild,c+="/"+r.url.map(l=>l.path).join("/"),r.data?.cxRoute&&(a=r.data?.cxRoute),r.data?.cxCmsRouteContext&&(o=r.data?.cxCmsRouteContext),!s&&(o||r.routeConfig?.canActivate?.find(l=>l&&l.guardName==="CmsPageGuard"))&&(s=!0);a=a||this.lookupSemanticRoute(c);let{params:u}=r;return o=this.getPageContext(o,r),{url:n.url,queryParams:n.root.queryParams,params:u,context:o,cmsRequired:s,semanticRoute:a}}getPageContext(n,r){let s=n;if(r.url.length>0&&r.url[0].path==="cx-preview"&&r.queryParams.cmsTicketId!==void 0)s={id:VO,type:be.CONTENT_PAGE};else{let{params:o}=r;o.productCode?s={id:o.productCode,type:be.PRODUCT_PAGE}:o.categoryCode?s={id:o.categoryCode,type:be.CATEGORY_PAGE}:o.brandCode?s={id:o.brandCode,type:be.CATEGORY_PAGE}:r.data.pageLabel!==void 0&&(s={id:r.data.pageLabel,type:be.CONTENT_PAGE})}return s||(r.url.length>0?s={id:"/"+r.url.map(a=>a.path).join("/"),type:be.CONTENT_PAGE}:s={id:BO,type:be.CONTENT_PAGE}),s}lookupSemanticRoute(n){return this.routingConfig.getRouteName(n.substr(1))}constructor(n){this.routingConfig=n}};e.\u0275fac=function(r){return new(r||e)(d(qp))},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})();function w6(t){return()=>t.init()}function T6(t,e){return e.routing?.protected===void 0?t:null}function A6(){let e=(C(lI,{optional:!0})??[]).map(i=>i());return Promise.all(e)}var mue=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[D6,{provide:Co,useClass:b6},{provide:wt,useFactory:w6,deps:[d6],multi:!0},{provide:Jp,useFactory:T6,deps:[v6,Wp],multi:!0},{provide:cd,useFactory:A6}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({imports:[lr.forFeature(_C,bP),Br.forFeature(E6),$M.forRoot({routerState:1,stateKey:_C})]});let t=e;return t})();function R6(t,e){return n=>{let r=n.data&&n.data.cxRoute,s=t.getRouteConfig(r),o=s&&s.paths||[];return e.getFromPaths(o)}}var vue=new S("DEFAULT_URL_MATCHER",{providedIn:"root",factory:()=>R6(C(qp),C(vD))}),M6=(()=>{let e=class e{getIdListByItemType(n){let r=[],s=[],o=[];return n.forEach(a=>{a.superType==="AbstractCMSComponent"?s.push(a.id):a.superType==="AbstractPage"?r.push(a.id):a.superType==="AbstractMedia"&&o.push(a.id)}),{pageIds:r,componentIds:s,mediaIds:o}}constructor(n,r,s){this.actions$=n,this.cmsComponentConnector=r,this.routingService=s,this.logger=C(Q),this.loadNavigationItems$=W(()=>this.actions$.pipe(V(aP),E(o=>o.payload),E(o=>({ids:this.getIdListByItemType(o.items),nodeId:o.nodeId})),G(o=>o.ids.componentIds.length>0?this.routingService.getRouterState().pipe(M(En),E(a=>a.state.context),ie(1),G(a=>this.cmsComponentConnector.getList(o.ids.componentIds,a).pipe(E(c=>new aS({nodeId:o.nodeId,components:c})),F(c=>I(new Lp(o.nodeId,Y(c,this.logger))))))):I(new Lp(o.nodeId,"navigation nodes are empty")))))}};e.\u0275fac=function(r){return new(r||e)(d(Me),d(IP),d(wi))},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})(),x6=(()=>{let e=class e{constructor(n,r){this.cmsPageAdapter=n,this.cmsStructureConfigService=r}get(n){return this.cmsStructureConfigService.shouldIgnoreBackend(n.id).pipe(N(r=>r?I({}):this.cmsPageAdapter.load(n).pipe(F(s=>{if(s instanceof Wt&&s.status===400)return I({});throw s}))),N(r=>this.mergeDefaultPageStructure(n,r)))}mergeDefaultPageStructure(n,r){return this.cmsStructureConfigService.mergePageStructure(n.id,r)}};e.\u0275fac=function(r){return new(r||e)(d(Ep),d(SP))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),N6=(()=>{let e=class e{constructor(n,r,s){this.actions$=n,this.cmsPageConnector=r,this.routingService=s,this.logger=C(Q),this.refreshPage$=W(()=>this.actions$.pipe(V($n,Zr,vr),N(()=>this.routingService.getRouterState().pipe(M(o=>o&&o.state&&o.state.cmsRequired&&!o.nextState),ie(1),E(o=>o.state.context),G(o=>I(new Fo(o))))))),this.loadPageData$=W(()=>this.actions$.pipe(V(uP),E(o=>o.payload),ii(o=>Wr(o)),G(o=>o.pipe(N(a=>this.cmsPageConnector.get(a).pipe(G(c=>{let u=[new sS((c.components??[]).map(f=>({component:f,pageContext:a}))),new uS(a,c.page??{})],l=c.page?.label;return l&&l!==a.id&&u.unshift(new lS({id:l,type:a.type},c.page??{})),u}),F(c=>I(new cS(a,Y(c,this.logger))))))))))}};e.\u0275fac=function(r){return new(r||e)(d(Me),d(x6),d(wi))},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})(),O6=[N6,n6,M6],P6={component:void 0,pageContext:{}};function gf(t,e){switch(e.type){case dD:return!1;case hD:case fD:return!0}return t}function F6(t=P6,e){switch(e.type){case lD:{let i=ct(e.meta.entityType,gf),n=Wr(e.payload.pageContext,!0);return T(v({},t),{pageContext:T(v({},t.pageContext),{[n]:i(t.pageContext[n],e)})})}case dD:{let i=ct(e.meta.entityType,gf),n=Wr(e.payload.pageContext,!0);return T(v({},t),{pageContext:T(v({},t.pageContext),{[n]:i(t.pageContext[n],e)})})}case fD:{let i=ct(e.meta.entityType,gf),n=Wr(e.payload.pageContext,!0);return T(v({},t),{component:e.payload.component,pageContext:T(v({},t.pageContext),{[n]:i(t.pageContext[n],e)})})}case hD:{let i=ct(e.meta.entityType,gf);if(!Array.isArray(e.payload)){let n=Wr(e.payload.pageContext,!0);return T(v({},t),{component:e.payload.component,pageContext:T(v({},t.pageContext),{[n]:i(t.pageContext[n],e)})})}}}return t}var _6=void 0;function L6(t=_6,e){switch(e.type){case cP:if(e.payload.components.length){let n=e.payload.components.reduce((r,s)=>T(v({},r),{[`${s.uid}_AbstractCMSComponent`]:s}),{});return v(v({},t),n)}}return t}var k6={entities:{}};function U6(t=k6,e){switch(e.type){case pD:{let i=e.payload;return T(v({},t),{entities:T(v({},t.entities),{[i.pageId??""]:i})})}}return t}var xx=void 0;function mf(t){return(e=xx,i)=>{if(i.meta&&i.meta.entityType===t)switch(i.type){case pD:return i.payload.pageId;case lP:return xx;case fP:return i.payload;case dP:return i.payload.pageId}return e}}function j6(){return{page:rs({pageData:U6,index:rs({content:fs(be.CONTENT_PAGE,mf(be.CONTENT_PAGE)),product:fs(be.PRODUCT_PAGE,mf(be.PRODUCT_PAGE)),category:fs(be.CATEGORY_PAGE,mf(be.CATEGORY_PAGE)),catalog:fs(be.CATALOG_PAGE,mf(be.CATALOG_PAGE))})}),components:Rc(qc,F6),navigation:fs(cg,L6)}}var wP=new S("CmsReducers"),$6={provide:wP,useFactory:j6};function B6(t){return function(e,i){return(i.type===$n||i.type===Zr||i.type===vr)&&(e=void 0),t(e,i)}}var V6=[B6];function H6(){return{state:{ssrTransfer:{keys:{[uD]:Go.TRANSFER_STATE}}}}}var z6=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({providers:[Ho(H6),$6],imports:[Ze,Ti,lr.forFeature(uD,wP,{metaReducers:V6}),Br.forFeature(O6)]});let t=e;return t})();function G6(t){let e=!1;return t.find(i=>{let n=i.features?.[Ao];n&&(e=n)}),e?Oq:oP}var W6=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[ug,Ho(G6,[Ac])]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({imports:[z6,e6.forRoot()]});let t=e;return t})(),q6=(()=>{let e=class e{constructor(){this.logger=C(Q)}handleError(n){this.logger.error(n)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})(),Y6=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[{provide:Dt,useClass:q6}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})(),Jr=function(t){return t[t.UNKNOWN=-1]="UNKNOWN",t[t.BAD_REQUEST=400]="BAD_REQUEST",t[t.UNAUTHORIZED=401]="UNAUTHORIZED",t[t.FORBIDDEN=403]="FORBIDDEN",t[t.NOT_FOUND=404]="NOT_FOUND",t[t.CONFLICT=409]="CONFLICT",t[t.BAD_GATEWAY=502]="BAD_GATEWAY",t[t.GATEWAY_TIMEOUT=504]="GATEWAY_TIMEOUT",t[t.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR",t}(Jr||{}),yt=(()=>{let e=class e{constructor(n,r){this.globalMessageService=n,this.platformId=r}hasMatch(n){return n.status===this.responseStatus}getErrorTranslationKey(n){let r="httpHandlers.badRequest";return n?`${r}.${n.toLowerCase().replace(/ /g,"_")}`:`${r}PleaseLoginAgain`}isSsr(){return this.platformId?!Pn(this.platformId):!1}};e.\u0275fac=function(r){return new(r||e)(d(Wo),d($e))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),K6=(()=>{let e=class e extends yt{constructor(){super(...arguments),this.responseStatus=Jr.BAD_GATEWAY}handleError(){this.globalMessageService.add({key:"httpHandlers.badGateway"},Ue.MSG_TYPE_ERROR)}getPriority(){return-10}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Z6="/authorizationserver/oauth/token",Q6=(()=>{let e=class e extends yt{constructor(){super(...arguments),this.responseStatus=Jr.BAD_REQUEST}handleError(n,r){this.handleBadPassword(n,r),this.handleBadLoginResponse(n,r),this.handleValidationError(n,r),this.handleGuestDuplicateEmail(n,r),this.handleUnknownIdentifierError(n,r)}handleBadPassword(n,r){r.url?.includes(Z6)&&r.error?.error==="invalid_grant"&&n.body?.get("grant_type")==="password"&&(this.globalMessageService.add({key:this.getErrorTranslationKey(r.error?.error_description),params:{errorMessage:r.error.error_description||r.message||""}},Ue.MSG_TYPE_ERROR),this.globalMessageService.remove(Ue.MSG_TYPE_CONFIRMATION))}handleBadLoginResponse(n,r){this.getErrors(r).filter(s=>s.type==="PasswordMismatchError").forEach(()=>{let o=new URL(n.url).pathname.endsWith("/password")?"httpHandlers.badRequestOldPasswordIncorrect":"httpHandlers.validationErrors.invalid.password";this.globalMessageService.add({key:o},Ue.MSG_TYPE_ERROR)})}handleValidationError(n,r){this.getErrors(r).filter(s=>s.type==="ValidationError").forEach(s=>{this.globalMessageService.add({key:`httpHandlers.validationErrors.${s.reason}.${s.subject}`},Ue.MSG_TYPE_ERROR)})}handleGuestDuplicateEmail(n,r){this.getErrors(r).filter(s=>s.type==="DuplicateUidError").forEach(s=>{this.globalMessageService.add({key:"httpHandlers.badRequestGuestDuplicateEmail",params:{errorMessage:s.message||""}},Ue.MSG_TYPE_ERROR)})}handleUnknownIdentifierError(n,r){this.getErrors(r).filter(s=>s.type==="UnknownIdentifierError").forEach(s=>{this.globalMessageService.add(s.message?s.message:{key:"httpHandlers.unknownIdentifier"},Ue.MSG_TYPE_ERROR)})}getErrors(n){return(n.error?.errors||[]).filter(r=>r.type!=="JaloObjectNoLongerValidError")}getPriority(){return-10}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),J6=(()=>{let e=class e extends yt{constructor(){super(...arguments),this.responseStatus=Jr.CONFLICT}handleError(){this.globalMessageService.add({key:"httpHandlers.conflict"},Ue.MSG_TYPE_ERROR)}getPriority(){return-10}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),X6=(()=>{let e=class e extends yt{handleError(n){n.url.endsWith(this.occEndpoints.buildUrl("user",{urlParams:{userId:"current"}}))&&this.authService.logout(),this.globalMessageService.add({key:"httpHandlers.forbidden"},Ue.MSG_TYPE_ERROR)}getPriority(){return-10}constructor(n,r,s){super(n),this.globalMessageService=n,this.authService=r,this.occEndpoints=s,this.responseStatus=Jr.FORBIDDEN}};e.\u0275fac=function(r){return new(r||e)(d(Wo),d(Bn),d(Qe))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),e5=(()=>{let e=class e extends yt{constructor(){super(...arguments),this.responseStatus=Jr.GATEWAY_TIMEOUT}handleError(){this.globalMessageService.add({key:"httpHandlers.gatewayTimeout"},Ue.MSG_TYPE_ERROR)}getPriority(){return-10}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),t5=(()=>{let e=class e extends yt{constructor(){super(...arguments),this.responseStatus=Jr.INTERNAL_SERVER_ERROR}handleError(){this.globalMessageService.add({key:"httpHandlers.internalServerError"},Ue.MSG_TYPE_ERROR)}getPriority(){return-10}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),n5=(()=>{let e=class e extends yt{constructor(){super(...arguments),this.responseStatus=Jr.NOT_FOUND}handleError(){}getPriority(){return-10}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),r5=(()=>{let e=class e extends yt{constructor(){super(...arguments),this.responseStatus=Jr.UNKNOWN,this.logger=C(Q)}hasMatch(n){return!0}handleError(n,r){(ge()||this.isSsr())&&this.logger.warn(`An unknown http error occurred
`,r.message)}getPriority(){return-50}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function yD(t,e=[],i=[]){let n=(t??[]).filter(s=>!s.hasMatch||s.hasMatch(...e));if(n.length<2)return n[0];let r=-1/0;return n.reduce((s,o)=>{let a=o.getPriority?o.getPriority(...i):0;return r>a?s:(r=a,o)},void 0)}var i5=(()=>{let e=class e{constructor(n){this.unifiedInjector=n,this.handlers$=this.unifiedInjector.getMulti(yt).pipe(pt(1))}intercept(n,r){return r.handle(n).pipe(L({error:s=>{s instanceof Wt&&this.handleErrorResponse(n,s)}}))}handleErrorResponse(n,r){let s=this.getResponseHandler(r);s&&s.handleError(n,r)}getResponseHandler(n){return yD(Cp(this.handlers$)??[],[n])}};e.\u0275fac=function(r){return new(r||e)(d(zc))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),s5=[{provide:yt,useExisting:r5,multi:!0},{provide:yt,useExisting:K6,multi:!0},{provide:yt,useExisting:Q6,multi:!0},{provide:yt,useExisting:J6,multi:!0},{provide:yt,useExisting:X6,multi:!0},{provide:yt,useExisting:e5,multi:!0},{provide:yt,useExisting:t5,multi:!0},{provide:yt,useExisting:n5,multi:!0}],o5=[{provide:gn,useExisting:i5,multi:!0}],a5={entities:{}};function c5(t=a5,e){switch(e.type){case Hf:{let i=e.payload;if(t.entities[i.type]===void 0)return T(v({},t),{entities:T(v({},t.entities),{[i.type]:[i.text]})});{let n=t.entities[i.type];return T(v({},t),{entities:T(v({},t.entities),{[i.type]:[...n,i.text]})})}}case $N:{let i=e.payload.type,n=e.payload.index;if(Object.keys(t.entities).length===0||!t.entities[i])return t;let r=[...t.entities[i]];return r.splice(n,1),T(v({},t),{entities:T(v({},t.entities),{[i]:r})})}case BN:{let i=T(v({},t.entities),{[e.payload]:[]});return T(v({},t),{entities:i})}}return t}function u5(){return c5}var TP=new S("GlobalMessageReducers"),l5={provide:TP,useFactory:u5},d5=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({providers:[l5],imports:[Ti,lr.forFeature(VN,TP)]});let t=e;return t})(),Tc=class{static shallowEqualObjects(e,i){if(e===i)return!0;if(!e||!i)return!1;let n=Object.keys(e),r=Object.keys(i),s=n.length,o=r.length;if(s!==o)return!1;for(let a=0;a<s;a++){let c=n[a];if(e[c]!==i[c])return!1}return!0}static deepEqualObjects(e,i){return e===i?!0:!(e instanceof Object)||!(i instanceof Object)||e.constructor!==i.constructor?!1:this.compareObjectProperties(e,i)}static compareObjectProperties(e,i){for(let n in e)if(e.hasOwnProperty(n)){if(!i.hasOwnProperty(n))return!1;if(e[n]!==i[n]&&(typeof e[n]!="object"||!this.deepEqualObjects(e[n],i[n])))return!1}for(let n in i)if(i.hasOwnProperty(n)&&!e.hasOwnProperty(n))return!1;return!0}static countOfDeepEqualObjects(e,i){return i.reduce((n,r)=>(this.deepEqualObjects(e,r)&&n++,n),0)}static indexOfFirstOccurrence(e,i){for(let n=0;n<i.length;n++)if(this.deepEqualObjects(i[n],e))return n}},f5=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=g({token:e,factory:function(r){let s=null;return r?s=new(r||e):s=d(Ut),s},providedIn:"root"});let t=e;return t})(),h5=(()=>{let e=class e{constructor(n,r,s,o){this.actions$=n,this.store=r,this.config=s,this.platformId=o,this.removeDuplicated$=W(()=>this.actions$.pipe(V(Hf),E(a=>a.payload),N(a=>I(a.text).pipe(it(this.store.pipe(x(zN(a.type)))),M(([c,u])=>Tc.countOfDeepEqualObjects(c,u)>1),E(([c,u])=>{let l=Tc.indexOfFirstOccurrence(c,u);if(l!==void 0)return new Ic({type:a.type,index:l})}),M(En))))),this.hideAfterDelay$=W(()=>Pn(this.platformId)?this.actions$.pipe(V(Hf),E(a=>a.payload),je(a=>{let c=this.config.globalMessages?.[a.type];return this.store.pipe(x(E3(a.type)),ie(1),M(u=>(c&&c.timeout!==void 0||a.timeout!==void 0)&&u>0),Yn(a.timeout||c?.timeout),N(()=>I(new Ic({type:a.type,index:0}))))})):()=>he)}};e.\u0275fac=function(r){return new(r||e)(d(Me),d(me),d(f5),d($e))},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})(),p5={globalMessages:{[Ue.MSG_TYPE_CONFIRMATION]:{timeout:3e3},[Ue.MSG_TYPE_INFO]:{timeout:3e3},[Ue.MSG_TYPE_ERROR]:{timeout:7e3},[Ue.MSG_TYPE_WARNING]:{timeout:7e3},[Ue.MSG_TYPE_ASSISTIVE]:{timeout:7e3}}},g5=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[...s5,...o5]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({providers:[Un(p5)],imports:[d5,Br.forFeature([h5])]});let t=e;return t})(),m5={backend:{timeout:{server:2e4}}},v5=new Ua(()=>{});var y5=(()=>{let e=class e{constructor(n,r){this.windowRef=n,this.config=r,this.logger=C(Q)}intercept(n,r){let s=this.getTimeoutValue(n);return typeof s>"u"?r.handle(n):r.handle(n).pipe(N(o=>o.type===ur.Sent?Ng.pipe(Kn(o),ta(s)):I(o)),F(o=>{throw this.convertTimeoutToHttpErrorResponse({error:o,request:n,timeoutValue:s})}))}getTimeoutValue(n){let r=n.context.get(v5),s=this.config?.backend?.timeout,o=r??s??{};return this.windowRef.isBrowser()?o?.browser:o?.server}convertTimeoutToHttpErrorResponse({error:n,request:r,timeoutValue:s}){if(n instanceof Au){let o=this.buildError(r,s);return new Wt({url:r.url,error:o})}return n}buildError(n,r){let s=`Request to URL '${n.url}' exceeded expected time of ${r}ms and was aborted.`;return this.logger.warn(s),new Error(s)}};e.\u0275fac=function(r){return new(r||e)(d(bi),d(Er))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),E5=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({providers:[{provide:gn,useExisting:y5,multi:!0},Un(m5)]});let t=e;return t})(),C5=(()=>{let e=class e{static forRoot(){return{ngModule:e}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({imports:[E5]});let t=e;return t})(),S5={i18n:{fallbackLang:void 0,debug:!1}},Yo=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=g({token:e,factory:function(r){let s=null;return r?s=new(r||e):s=d(Ut),s},providedIn:"root"});let t=e;return t})(),I5=(()=>{let e=class e{constructor(n){this.configInit=n,this.scopes=["i18n.fallbackLang"],this.configFactory=()=>Zn(this.resolveConfig())}resolveConfig(){return this.configInit.getStable("context.language").pipe(E(n=>({i18n:{fallbackLang:n?.context?.language?.[0]}})))}};e.\u0275fac=function(r){return new(r||e)(d(kn))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),yue=(()=>{let e=class e extends RA{constructor(n){super(""),this.language=n,this.logger=C(Q)}transform(n,r,s){return super.transform(n,r,s,this.getLang())}getLang(){let n=this.getActiveLang();try{return ud(n),n}catch{return this.reportMissingLocaleData(n),"en"}}getActiveLang(){let n="";return this.language.getActive().subscribe(r=>n=r).unsubscribe(),n}reportMissingLocaleData(n){ge()&&this.logger.warn(`cxDate pipe: No locale data registered for '${n}' (see https://angular.io/api/common/registerLocaleData).`)}};e.\u0275fac=function(r){return new(r||e)(X(Ai,16))},e.\u0275pipe=Vt({name:"cxDate",type:e,pure:!0});let t=e;return t})(),fS=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})(),dg=new S("I18NEXT_INSTANCE",{providedIn:"root",factory:()=>vt.createInstance()}),D5=new S("I18NEXT_HTTP_BACKEND_CLIENT",{providedIn:"root",factory:()=>{let t=C(ke);return(e,i,n,r)=>{t.get(i,{responseType:"text"}).subscribe({next:s=>r(null,{status:200,data:s}),error:s=>r(s,{data:null,status:s.status})})}}}),b5=(()=>{let e=class e{constructor(n,r,s,o){this.i18next=n,this.i18nextHttpClient=r,this.config=s,this.windowRef=o}hasMatch(){return!!this.config.i18n?.backend?.loadPath}initialize(){return this.i18next.use(rx),{backend:this.getBackendConfig()}}getBackendConfig(){if(!this.config.i18n?.backend?.loadPath)throw new Error("Missing config `i18n.backend.loadPath`.");return{loadPath:this.getLoadPath(this.config.i18n.backend.loadPath),request:this.i18nextHttpClient,reloadInterval:!1}}getLoadPath(n){return!this.windowRef.isBrowser()&&!n.match(/^http(s)?:\/\//)?(n.startsWith("/")&&(n=n.slice(1)),n.startsWith("./")&&(n=n.slice(2)),`${this.windowRef.location.origin}/${n}`):n}};e.\u0275fac=function(r){return new(r||e)(d(dg),d(D5),d(Yo),d(bi))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),w5=(()=>{let e=class e{constructor(n,r){this.config=n,this.i18next=r}hasMatch(){return!!this.config.i18n?.backend?.loader}initialize(){let n=this.config.i18n?.backend?.loader;if(!n)throw new Error("Missing config `i18n.backend.loader`.");return this.i18next.use(hx(n)),{backend:{}}}};e.\u0275fac=function(r){return new(r||e)(d(Yo),d(dg))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),T5=[{provide:fS,useExisting:b5,multi:!0},{provide:fS,useExisting:w5,multi:!0}],A5=new S("I18NEXT_LOGGER_PLUGIN",{providedIn:"root",factory:()=>{let t=C(Q);return{type:"logger",log:e=>t.log(...e),warn:e=>t.warn(...e),error:e=>t.error(...e)}}}),hS=class{},To=function(t){return t[t.Parallel=0]="Parallel",t[t.Queue=1]="Queue",t[t.CancelPrevious=2]="CancelPrevious",t[t.ErrorPrevious=3]="ErrorPrevious",t}(To||{}),R5=(()=>{let e=class e{constructor(){this.subscriptions=new Ee}create(n,r){let s=new re,o=new re,a=l=>({next:f=>l.next(f),error:f=>l.error(f),complete:()=>l.complete()}),c;switch(r?.strategy){case To.CancelPrevious:case To.ErrorPrevious:c=Pi(s,o).pipe(N(([l,f])=>qe(()=>n(l)).pipe(L(a(f)),F(()=>he),Dn(()=>{!f.closed&&!f.hasError&&(r.strategy===To.ErrorPrevious?f.error(new Error("Canceled by next command")):f.complete())}))));break;case To.Parallel:c=Pi(s,o).pipe(G(([l,f])=>qe(()=>n(l)).pipe(L(a(f)),F(()=>he))));break;case To.Queue:default:c=Pi(s,o).pipe(je(([l,f])=>qe(()=>n(l)).pipe(L(a(f)),F(()=>he))));break}return this.subscriptions.add(c.subscribe()),new class extends hS{constructor(){super(...arguments),this.execute=l=>{let f=new on;return o.next(f),s.next(l),f}}}}ngOnDestroy(){this.subscriptions.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Eue=(()=>{let e=class e{constructor(n){this.eventService=n,this.subscriptions=new Ee}create(n,r){let s={data:void 0,error:!1,loading:!0},o=new Te(s),a=ra(()=>o.value.loading,I(void 0),he),c=this.getTriggersStream([a,...r?.reloadOn??[],...r?.resetOn??[]]),u=this.getTriggersStream(r?.resetOn??[]),l=this.getTriggersStream(r?.reloadOn??[]),f=n().pipe(oa(u)),h=c.pipe(L(()=>{o.value.loading||o.next(T(v({},o.value),{loading:!0}))}),N(()=>f),L(b=>{o.next({loading:!1,error:!1,data:b})}),F((b,w)=>(o.next({loading:!1,error:b,data:void 0}),w)),Ms());r?.reloadOn?.length&&this.subscriptions.add(l.subscribe(()=>{o.value.loading||o.next(T(v({},o.value),{loading:!0}))})),r?.resetOn?.length&&this.subscriptions.add(u.subscribe(()=>{(o.value.data!==void 0||o.value.error!==!1||o.value.loading!==!1)&&o.next(s)}));let m=Os(()=>h.subscribe(),()=>o),y=m.pipe(E(b=>b.data),cn());return{get:()=>y,getState:()=>m}}getTriggersStream(n){if(!n.length)return he;let r=n.map(s=>Oi(s)?s:this.eventService.get(s));return an(...r)}ngOnDestroy(){this.subscriptions.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)(d(Is))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Cue(t){return t.details?.[0]?.type==="JaloObjectNoLongerValidError"}var Sue=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,Iue=/^(?=.*?[A-Z])(?=.*?\d)(?=.*?[!@#$%^*()_\-+{};:.,]).{6,}$/,Due=/^(?=.*?[A-Z]).*$/,bue=/^(?=.*?\d).*$/,wue=/^(?=.*?[!@#$%^*()_\-+{};:.,]).*$/,Tue=/^.{6,}$/;function Aue(t){let e=t?.shouldRetry??(()=>!0),i=t?.maxTries??3,n=t?.delay??300;return r=>r.pipe(kg({delay:(s,o)=>{if(o>i||!e(s))throw s;let a=o*o;return Kt(a*n)}}))}function AP(t){return qe(()=>{let e=0,i=new z(n=>{let r=()=>{n.next(),n.complete()};e?Mg.schedule(r):r(),e++});return _e(t).pipe(ia(()=>i))})}function Rue(t){return Oi(t)?t:M5(t)?pe(Promise.resolve(t)):I(t)}function M5(t){return!!t&&typeof t.then=="function"}var pS=function(t){return t.HEAD="head",t.BODY="body",t}(pS||{}),Mue=(()=>{let e=class e{constructor(n,r){this.document=n,this.platformId=r}embedScript(n){let{src:r,params:s,attributes:o,callback:a,errorCallback:c,placement:u=pS.HEAD}=n,l=es(this.platformId);if((a||c)&&l)return;let f=s?r+this.parseParams(s):r;if(!l&&this.hasScript(f))return;let h=this.document.createElement("script");h.src=f,h.async=!0,h.defer=!0,o&&Object.keys(o).forEach(m=>{m.startsWith("data-")?h.setAttribute(m,o[m]):h[m]=o[m]}),a&&h.addEventListener("load",a),c&&h.addEventListener("error",c),u===pS.HEAD?this.document.head.appendChild(h):this.document.body.appendChild(h)}hasScript(n){return!!this.document.querySelector(`script[src="${n}"]`)}parseParams(n){let r="",s=Object.keys(n);return s.length>0&&(r="?"+s.map(o=>encodeURI(o)+"="+encodeURI(n[o])).join("&")),r}};e.\u0275fac=function(r){return new(r||e)(d(Le),d($e))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Nx=class t{static getLocalTimezoneOffset(e){let i=new Date().getTimezoneOffset()*-1,n=Math.abs(Math.floor(i/60)).toString().padStart(2,"0"),r=(i%60).toString().padStart(2,"0");return`${i>=0?e?"-":"+":e?"+":"-"}${n}:${r}`}static convertDateToDatetime(e,i){return`${e}T${i?"23:59:59":"00:00:00"}${t.getLocalTimezoneOffset()}`}static convertDatetimeToDate(e){return new Date(`${e.substring(0,19)}${t.getLocalTimezoneOffset(!0)}`).toISOString().substring(0,10)}},x5=(()=>{let e=class e{constructor(n){this.backendInitializers=n}initialize(){return yD(this.backendInitializers??[])?.initialize()??{}}};e.\u0275fac=function(r){return new(r||e)(d(fS,8))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),N5=(()=>{let e=class e{constructor(n,r,s,o){this.i18next=n,this.config=r,this.languageService=s,this.i18nextBackendService=o,this.loggerPlugin=C(A5)}initialize(){let n=this.getI18nextConfig();return this.i18next.use(this.loggerPlugin).init(n,()=>{this.addTranslationResources(),this.synchronizeLanguage()})}getI18nextConfig(){let n={ns:[],fallbackLng:this.config.i18n?.fallbackLang,debug:this.config.i18n?.debug,interpolation:{escapeValue:!1,skipOnVariables:!1}};return this.config.i18n?.backend&&(n=v(v({},n),this.i18nextBackendService.initialize())),n}addTranslationResources(){let n=this.config.i18n?.resources??{};Object.keys(n).forEach(r=>{Object.keys(n[r]).forEach(s=>{this.i18next.addResourceBundle(r,s,n[r][s],!0,!0)})})}synchronizeLanguage(){this.subscription=this.subscription??this.languageService.getActive().subscribe(n=>this.i18next.changeLanguage(n))}ngOnDestroy(){this.subscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)(d(dg),d(Yo),d(Ai),d(x5))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),O5=[{provide:wt,useFactory:()=>{let t=C(kn),e=C(N5);return()=>Zn(t.getStable("i18n")).then(()=>e.initialize())},multi:!0},...T5],P5=(()=>{let e=class e{constructor(n){this.config=n,this.duplicates={},this.chunks={},this.logger=C(Q),this.KEY_SEPARATOR=".";let r=n.i18n&&n.i18n.chunks||{};Object.keys(r).forEach(s=>{r[s].forEach(o=>{this.chunks.hasOwnProperty(o)?(this.duplicates[o]||(this.duplicates[o]=[this.chunks[o]]),this.duplicates[o].push(s)):this.chunks[o]=s})}),Object.keys(this.duplicates).length>0&&ge()&&this.warnDuplicates(this.duplicates)}getChunkNameForKey(n){let r=(n||"").split(this.KEY_SEPARATOR)[0],s=this.chunks&&this.chunks[r];return s||r}warnDuplicates(n){let r=[];Object.keys(n).forEach(s=>{r.push(`* '${s}' found in chunks: ${n[s].join(", ")}. Used '${this.chunks[s]}.${s}'.`)}),this.logger.warn(`Duplicated keys has been found in the config of i18n chunks:
${r.join(`
`)}`)}};e.\u0275fac=function(r){return new(r||e)(d(Yo))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),F5=(()=>{let e=class e{constructor(n,r,s){this.config=n,this.translationChunk=r,this.i18next=s,this.NON_BREAKING_SPACE="\xA0",this.NAMESPACE_SEPARATOR=":",this.logger=C(Q)}translate(n,r={},s=!1){let o=Array.isArray(n)?n:[n],a=new Map,c=[];return o.forEach(u=>{let l=this.translationChunk.getChunkNameForKey(u),f=this.getNamespacedKey(u,l);c.push(f),a.set(u,l)}),new z(u=>{let l=()=>{if(!this.i18next.isInitialized)return;let f=!1;this.i18next.loadNamespaces(Array.from(a.values()),()=>{f=!0,this.i18next.exists(c,r)?u.next(this.i18next.t(c,r)):(this.reportMissingKey(a),u.next(this.getFallbackValue(c)))}),!f&&s&&u.next(this.NON_BREAKING_SPACE)};return l(),this.i18next.on("languageChanged",l),()=>this.i18next.off("languageChanged",l)})}loadChunks(n){return this.i18next.loadNamespaces(n)}getFallbackValue(n){let r=Array.isArray(n)?n.join(", "):n;return ge()?`[${r}]`:this.NON_BREAKING_SPACE}reportMissingKey(n){let r=[...n.keys()];ge()&&this.logger.warn(`Translation keys missing [${r.join(", ")}]. Attempted to load ${[...n].map(([s,o])=>`'${s}' from chunk '${o}'`).join(", ")}.`)}getNamespacedKey(n,r){return r+this.NAMESPACE_SEPARATOR+n}};e.\u0275fac=function(r){return new(r||e)(d(Yo),d(P5),d(dg))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),xue=(()=>{let e=class e extends MA{constructor(n){super(""),this.language=n,this.logger=C(Q)}transform(n,r){return super.transform(n,r,this.getLang())}getLang(){let n=this.getActiveLang();try{return ud(n),n}catch{return this.reportMissingLocaleData(n),"en"}}getActiveLang(){let n="";return this.language.getActive().subscribe(r=>n=r).unsubscribe(),n}reportMissingLocaleData(n){ge()&&this.logger.warn(`cxNumeric pipe: No locale data registered for '${n}' (see https://angular.io/api/common/registerLocaleData).`)}};e.\u0275fac=function(r){return new(r||e)(X(Ai,16))},e.\u0275pipe=Vt({name:"cxNumeric",type:e,pure:!0});let t=e;return t})();function dC(t){return t!==null&&typeof t=="object"&&("key"in t||"raw"in t)}var Nue=(()=>{let e=class e{constructor(n,r){this.service=n,this.cd=r,this.logger=C(Q)}transform(n,r={}){if(!n)return ge()&&this.logger.error(`The given input for the cxTranslate pipe (${n}) is invalid and cannot be translated`),"";if(dC(n)&&n.raw)return n.raw;dC(n)&&n.params&&(r=v(v({},r),n.params));let s=dC(n)?n.key:n;return this.translate(s,r),this.translatedValue}translate(n,r){(n!==this.lastKey||!Tc.shallowEqualObjects(r,this.lastOptions))&&(this.lastKey=n,this.lastOptions=r,this.sub&&this.sub.unsubscribe(),this.sub=this.service.translate(n,r,!0).subscribe(s=>this.markForCheck(s)))}markForCheck(n){this.translatedValue=n,this.cd.markForCheck()}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)(X(yr,16),X(Fr,16))},e.\u0275pipe=Vt({name:"cxTranslate",type:e,pure:!1});let t=e;return t})();function _5(t,e){return e?.i18n?.fallbackLang!==void 0?null:t}var L5=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[Un(S5),{provide:yr,useExisting:F5},...O5,{provide:Jp,useFactory:_5,deps:[I5,Yo],multi:!0}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})();function k5(t,e){let i=C(Q);return()=>Promise.all(t.runModuleInitializerFunctions(e)).catch(n=>{throw i.error("MODULE_INITIALIZER promise was rejected during app initialization.",n),n})}var U5=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[{provide:wt,useFactory:k5,deps:[rD,[new dn,UO]],multi:!0}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})();function j5(){return fs(ae)}var RP=new S("ProcessReducers"),$5={provide:RP,useFactory:j5},B5=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({providers:[$5],imports:[Ti,lr.forFeature(ae,RP)]});let t=e;return t})(),V5=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({imports:[B5]});let t=e;return t})(),Oue=(()=>{let e=class e{static forRoot(){return{ngModule:e}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({imports:[Ti.forRoot(),jO.forRoot(),V3.forRoot(),z3.forRoot(),L5.forRoot(),W6.forRoot(),g5.forRoot(),V5.forRoot(),Z3.forRoot(),yq.forRoot(),a4.forRoot(),XW.forRoot(),U5.forRoot(),C5.forRoot(),Y6.forRoot()]});let t=e;return t})(),Pue=new S("PointOfServiceNormalizer"),H5=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})(),z5=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})(),Fue=(()=>{let e=class e{constructor(n,r,s,o){this.cms=n,this.unifiedInjector=r,this.pageMetaConfig=s,this.platformId=o,this.resolvers$=this.unifiedInjector.getMulti(tn).pipe(pt({bufferSize:1,refCount:!0})),this.meta$=qe(()=>this.cms.getCurrentPage()).pipe(M(a=>!!a),N(a=>this.getMetaResolver(a)),N(a=>a?this.resolve(a):I(null)),pt({bufferSize:1,refCount:!0}))}getMeta(){return this.meta$}resolve(n){let r=this.getResolverMethods(),s=Object.keys(r).filter(o=>n[r[o]]).map(o=>n[r[o]]().pipe(E(a=>({[o]:a}))));return s.length===0?I({}):AP(s).pipe(E(o=>Object.assign({},...o)))}getResolverMethods(){let n={};return this.pageMetaConfig?.pageMeta?.resolvers?.filter(r=>!Pn(this.platformId??"")||!r.disabledInCsr||ge()&&this.pageMetaConfig?.pageMeta?.enableInDevMode).forEach(r=>n[r.property]=r.method),n}getMetaResolver(n){return this.resolvers$.pipe(E(r=>yD(r,[n],[n])))}};e.\u0275fac=function(r){return new(r||e)(d(ug),d(zc),d(yP),d($e))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),_ue=(()=>{let e=class e{constructor(n){this.unifiedInjector=n,this.componentDecorators$=this.unifiedInjector.getMulti(H5).pipe(pt(1)),this.slotDecorators$=this.unifiedInjector.getMulti(z5).pipe(pt(1))}addAttributesToComponent(n,r,s){(Cp(this.componentDecorators$)||[]).forEach(o=>o.decorate(n,r,s))}addAttributesToSlot(n,r,s){(Cp(this.slotDecorators$)||[]).forEach(o=>o.decorate(n,r,s))}};e.\u0275fac=function(r){return new(r||e)(d(zc))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var G5=(()=>{let e=class e{constructor(n,r){this.cmsConfig=n,this.lazyModules=r,this.features=new Map}isConfigured(n){return!!this.getFeatureConfig(n)?.module}resolveFeature(n){return n=this.resolveFeatureAlias(n),qe(()=>{if(!this.features.has(n)){if(!this.isConfigured(n))return xt(()=>new Error("No module defined for Feature Module "+n));let r=this.getFeatureConfig(n);this.features.set(n,this.resolveDependencies(r?.dependencies).pipe(N(s=>this.lazyModules.resolveModuleInstance(r?.module,n,s)),pt()))}return this.features.get(n)??he})}getFeatureConfig(n){return this.cmsConfig.featureModules?.[this.resolveFeatureAlias(n)]}resolveFeatureAlias(n){for(;typeof this.cmsConfig.featureModules?.[n]=="string";)n=this.cmsConfig.featureModules?.[n];return n}resolveDependencies(n=[]){return n?.length?Mu(n.map(r=>typeof r=="string"?this.resolveFeature(r):this.lazyModules.resolveDependencyModuleInstance(r))):I(void 0)}};e.\u0275fac=function(r){return new(r||e)(d(nD),d(rD))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ox="proxyFacadeInstance",W5=(()=>{let e=class e{constructor(n,r){this.featureModules=n,this.injector=r}getResolver(n,r,s=!1){if(!this.featureModules.isConfigured(n))return xt(()=>new Error(`Feature ${n} is not configured properly`));let o=this.featureModules.resolveFeature(n).pipe(E(a=>a.injector),E(a=>a.get(r)));return s&&(o=o.pipe(Yn(0))),o.pipe(pt())}call(n,r,s){let o=Ru(n.pipe(E(a=>a[r](...s))),{connector:()=>new on,resetOnDisconnect:!1});return o.connect(),o.pipe(N(a=>Oi(a)?a:he))}get(n,r){return n.pipe(N(s=>s[r]))}create({facade:n,feature:r,methods:s,properties:o,async:a}){let c=this.getResolver(r,n,a),u=new class extends n{};return(s??[]).forEach(l=>{u[l]=(...f)=>this.call(c,l,f)}),(o??[]).forEach(l=>{u[l]=this.get(c,l)}),u[Ox]=!0,u}isProxyFacadeInstance(n){return!!n?.[Ox]}};e.\u0275fac=function(r){return new(r||e)(d(G5),d(Ye))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Lue(t){return C(W5).create(t)}var q5=(()=>{let e=class e{constructor(n){this.adapter=n}get(n,r=""){return this.adapter.load(n,r)}getMany(n){return this.adapter.loadMany?this.adapter.loadMany(n):n.map(r=>T(v({},r),{data$:this.adapter.load(r.code,r.scope)}))}};e.\u0275fac=function(r){return new(r||e)(d(Sp))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Y5=(()=>{let e=class e{constructor(n){this.adapter=n}get(n,r,s){return this.adapter.load(n,r,s)}};e.\u0275fac=function(r){return new(r||e)(d(Ip))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),K5=(()=>{let e=class e{constructor(n){this.adapter=n}get(n,r){return this.adapter.load(n,r)}add(n,r){return this.adapter.post(n,r)}};e.\u0275fac=function(r){return new(r||e)(d(Dp))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Z5=(()=>{let e=class e{constructor(n){this.adapter=n}search(n,r){return this.adapter.search(n,r)}getSuggestions(n,r){return this.adapter.loadSuggestions(n,r)}};e.\u0275fac=function(r){return new(r||e)(d(bp))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Px=(()=>{let e=class e extends Kr{};e.type="FacetChangedEvent";let t=e;return t})(),MP="[Product] Load Product References Data",Q5="[Product] Load Product References Data Fail",xP="[Product] Load Product References Data Success",NP="[Product] Clean Product References",gS=class{constructor(e){this.payload=e,this.type=MP}},mS=class{constructor(e){this.payload=e,this.type=Q5}},vS=class{constructor(e){this.payload=e,this.type=xP}},yS=class{constructor(){this.type=NP}},OP="[Product] Load Product Reviews Data",J5="[Product] Load Product Reviews Data Fail",PP="[Product] Load Product Reviews Data Success",FP="[Product] Post Product Review",_P="[Product] Post Product Review Fail",LP="[Product] Post Product Review Success",ES=class{constructor(e){this.payload=e,this.type=OP}},CS=class{constructor(e){this.payload=e,this.type=J5}},SS=class{constructor(e){this.payload=e,this.type=PP}},IS=class{constructor(e){this.payload=e,this.type=FP}},DS=class{constructor(e){this.payload=e,this.type=_P}},bS=class{constructor(e){this.payload=e,this.type=LP}},kP="[Product] Search Products",X5="[Product] Search Products Fail",UP="[Product] Search Products Success",jP="[Product] Get Product Suggestions",$P="[Product] Get Product Suggestions Success",eY="[Product] Get Product Suggestions Fail",BP="[Product] Clear Product Search Result",Up=class{constructor(e,i){this.payload=e,this.auxiliary=i,this.type=kP}},wS=class{constructor(e,i){this.payload=e,this.auxiliary=i,this.type=X5}},TS=class{constructor(e,i){this.payload=e,this.auxiliary=i,this.type=UP}},AS=class{constructor(e){this.payload=e,this.type=jP}},jp=class{constructor(e){this.payload=e,this.type=$P}},RS=class{constructor(e){this.payload=e,this.type=eY}},$p=class{constructor(e={clearPageResults:!1,clearSearchboxResults:!1}){this.payload=e,this.type=BP}},Bo;(function(t){function e(u,l,f){return T(v({},BS(u,l)),{scope:f})}t.entityScopedLoadMeta=e;function i(u,l,f,h){return T(v({},VS(u,l,h)),{scope:f})}t.entityScopedFailMeta=i;function n(u,l,f){return T(v({},HS(u,l)),{scope:f})}t.entityScopedSuccessMeta=n;function r(u,l,f){return T(v({},zS(u,l)),{scope:f})}t.entityScopedResetMeta=r;class s{constructor(l,f,h){this.type=kS,this.meta=e(l,f,h)}}t.EntityScopedLoadAction=s;class o{constructor(l,f,h,m){this.type=US,this.meta=i(l,f,h,m)}}t.EntityScopedFailAction=o;class a{constructor(l,f,h,m){this.payload=m,this.type=jS,this.meta=n(l,f,h)}}t.EntityScopedSuccessAction=a;class c{constructor(l,f,h){this.type=$S,this.meta=r(l,f,h)}}t.EntityScopedResetAction=c})(Bo||(Bo={}));var ED="product",Yc="[Product] Detail Entity",CD="[Product] Load Product Data",VP="[Product] Load Product Data Fail",HP="[Product] Load Product Data Success",tY="[Product] Clear Product PRICE",MS=class extends Bo.EntityScopedLoadAction{constructor(e,i=""){super(Yc,e,i),this.payload=e,this.type=CD}},Bp=class extends Bo.EntityScopedFailAction{constructor(e,i,n=""){super(Yc,e,n,i),this.payload=i,this.type=VP}},xS=class extends Bo.EntityScopedSuccessAction{constructor(e,i=""){super(Yc,e.code??"",i),this.payload=e,this.type=HP}},NS=class extends Bo.EntityScopedResetAction{constructor(){super(Yc,void 0,"price"),this.type=tY}};var fg=Fn(ED),nY=A(fg,t=>t.references),rY=(t,e)=>A(nY,i=>i.productCode===t&&i.list?e?i.list.filter(n=>n.referenceType===e):i.list:[]),iY=A(fg,t=>t.reviews),sY=t=>A(iY,e=>{if(e.productCode===t)return e.list}),oY={results:{},suggestions:[],auxResults:{}};function aY(t=oY,e){switch(e.type){case UP:{let i=e.payload,n=e.auxiliary?{auxResults:i}:{results:i};return v(v({},t),n)}case $P:{let i=e.payload;return T(v({},t),{suggestions:i})}case BP:return T(v({},t),{results:e.payload.clearPageResults?{}:t.results,suggestions:e.payload.clearSearchboxResults?[]:t.suggestions,auxResults:e.payload.clearSearchboxResults?{}:t.auxResults})}return t}var cY=t=>t.results,uY=t=>t.auxResults,lY=t=>t.suggestions,SD=A(fg,t=>t.search),dY=A(SD,cY),fY=A(SD,uY),hY=A(SD,lY),zP=A(fg,t=>t.details),Kc=(t,e="")=>A(zP,i=>nn(i,t)[e]||mr),pY=(t,e="")=>A(Kc(t,e),i=>nt(i)),GP=(t,e="")=>A(Kc(t,e),i=>jt(i)),gY=(t,e="")=>A(Kc(t,e),i=>jn(i)),mY=(t,e="")=>A(Kc(t,e),i=>zo(i)),kue=A(zP,t=>Object.keys(t.entities));var Zc=(()=>{let e=class e{constructor(n){this.store=n}search(n,r){n&&this.store.dispatch(new Up({queryText:n,searchConfig:r}))}getResults(){return this.store.pipe(x(dY))}clearResults(){this.store.dispatch(new $p({clearPageResults:!0}))}};e.\u0275fac=function(r){return new(r||e)(d(me))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),vY=(()=>{let e=class e{constructor(n,r){this.eventService=n,this.productSearchService=r,this.register()}register(){this.eventService.register(Px,this.buildFacetChangedEvent())}buildFacetChangedEvent(){return this.productSearchService.getResults().pipe(sa(),M(([n,r])=>this.compareSearchResults(n,r)),E(([n,r])=>{let s=this.getToggledBreadcrumb(r.breadcrumbs,n.breadcrumbs)||this.getToggledBreadcrumb(n.breadcrumbs,r.breadcrumbs);if(s)return Ii(Px,{code:s.facetCode,name:s.facetName,valueCode:s.facetValueCode,valueName:s.facetValueName,selected:r.breadcrumbs&&n.breadcrumbs&&r.breadcrumbs.length>n.breadcrumbs.length})}))}compareSearchResults(n,r){if(n&&Object.keys(n).length!==0){let s=n.freeTextSearch!==""&&n.freeTextSearch===r.freeTextSearch,o=r.breadcrumbs?.[0]?.facetCode==="allCategories"&&n.breadcrumbs?.[0]?.facetCode===r.breadcrumbs[0]?.facetCode&&n.breadcrumbs[0].facetValueCode===r.breadcrumbs[0].facetValueCode;return s||o}return!1}getToggledBreadcrumb(n,r){if(n&&r&&n.length-r.length===1)return n.find(s=>!r.find(o=>o.facetCode===s.facetCode&&o.facetValueCode===s.facetValueCode))}};e.\u0275fac=function(r){return new(r||e)(d(Is),d(Zc))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),yY=(()=>{let e=class e{constructor(n){}};e.\u0275fac=function(r){return new(r||e)(d(vY))},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})(),EY=(()=>{let e=class e{constructor(n,r){this.actions$=n,this.productReferencesConnector=r,this.logger=C(Q),this.loadProductReferences$=W(()=>this.actions$.pipe(V(MP),E(s=>s.payload),G(s=>this.productReferencesConnector.get(s.productCode,s.referenceType,s.pageSize).pipe(E(o=>new vS({productCode:s.productCode,list:o})),F(o=>I(new mS(Y(o,this.logger))))))))}};e.\u0275fac=function(r){return new(r||e)(d(Me),d(Y5))},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})(),CY=(()=>{let e=class e{constructor(n,r,s){this.actions$=n,this.productReviewsConnector=r,this.globalMessageService=s,this.logger=C(Q),this.loadProductReviews$=W(()=>this.actions$.pipe(V(OP),E(o=>o.payload),G(o=>this.productReviewsConnector.get(o).pipe(E(a=>new SS({productCode:o,list:a})),F(a=>I(new CS(Y(a,this.logger)))))))),this.postProductReview=W(()=>this.actions$.pipe(V(FP),E(o=>o.payload),G(o=>this.productReviewsConnector.add(o.productCode,o.review).pipe(E(a=>new bS(a)),F(a=>I(new DS(Y(a,this.logger)))))))),this.showGlobalMessageOnPostProductReviewSuccess$=W(()=>this.actions$.pipe(V(LP),L(()=>{this.globalMessageService.add({key:"productReview.thankYouForReview"},Ue.MSG_TYPE_CONFIRMATION)})),{dispatch:!1}),this.showGlobalMessageOnPostProductReviewFail$=W(()=>this.actions$.pipe(V(_P),L(()=>{this.globalMessageService.add({key:"productReview.postReviewFail"},Ue.MSG_TYPE_ERROR)})),{dispatch:!1})}};e.\u0275fac=function(r){return new(r||e)(d(Me),d(K5),d(Wo))},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})(),SY=(()=>{let e=class e{constructor(n,r){this.actions$=n,this.productSearchConnector=r,this.logger=C(Q),this.searchProducts$=W(()=>this.actions$.pipe(V(kP),ii(s=>s.auxiliary),G(s=>s.pipe(N(o=>this.productSearchConnector.search(o.payload.queryText,o.payload.searchConfig).pipe(E(a=>new TS(a,o.auxiliary)),F(a=>I(new wS(Y(a,this.logger),o.auxiliary))))))))),this.getProductSuggestions$=W(()=>this.actions$.pipe(V(jP),E(s=>s.payload),N(s=>this.productSearchConnector.getSuggestions(s.term,s.searchConfig?.pageSize).pipe(E(o=>o===void 0?new jp([]):new jp(o)),F(o=>I(new RS(Y(o,this.logger))))))))}};e.\u0275fac=function(r){return new(r||e)(d(Me),d(Z5))},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})(),IY=(()=>{let e=class e{productLoadEffect(n){return n.data$?.pipe(E(r=>new xS(v({code:n.code},r),n.scope)),F(r=>I(new Bp(n.code,Y(r,this.logger),n.scope))))??I(new Bp(n.code,"Scoped product data does not exist",n.scope))}constructor(n,r){this.actions$=n,this.productConnector=r,this.logger=C(Q),this.contextChange$=this.actions$.pipe(V(Fc,$n)),this.loadProduct$=W(()=>({scheduler:s,debounce:o=0}={})=>this.actions$.pipe(V(CD),E(a=>({code:a.payload,scope:a.meta.scope})),CP(o,s),G(a=>an(...this.productConnector.getMany(a).map(c=>this.productLoadEffect(c)))),mD(this.contextChange$))),this.clearProductPrice$=W(()=>this.actions$.pipe(V(Zr,vr),E(()=>new NS)))}};e.\u0275fac=function(r){return new(r||e)(d(Me),d(q5))},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})(),DY=[SY,IY,CY,EY],bY={};function wY(t,e){let i=ct(t,e);return(n=bY,r)=>r&&r.meta&&r.meta.entityType===t?T(v({},n),{[r.meta.scope??""]:i(n[r.meta.scope??""],r)}):n}function TY(t,e){return Rc(t,wY(t,e))}var Fx={productCode:"",list:[]};function AY(t=Fx,e){switch(e.type){case xP:{let i=e.payload.productCode,n=e.payload.list;return T(v({},t),{list:[...t.list,...n||[]].reduce((r,s)=>(r.some(o=>o.referenceType===s.referenceType&&o.target?.code===s.target?.code)||r.push(s),r),[]),productCode:i})}case NP:return Fx}return t}var RY={productCode:"",list:[]};function MY(t=RY,e){switch(e.type){case PP:{let i=e.payload.productCode,n=e.payload.list;return T(v({},t),{productCode:i,list:n})}}return t}function xY(){return{search:aY,details:TY(Yc),reviews:MY,references:AY}}var WP=new S("ProductReducers"),NY={provide:WP,useFactory:xY};function OY(t){return function(e,i){return(i.type===Fc||i.type===$n)&&(e=void 0),t(e,i)}}var PY=[OY],Uue=(()=>{let e=class e{constructor(n){this.store=n}loadProductReferences(n,r,s){this.store.dispatch(new gS({productCode:n,referenceType:r,pageSize:s}))}getProductReferences(n,r){return this.store.pipe(x(rY(n,r)))}cleanReferences(){this.store.dispatch(new yS)}};e.\u0275fac=function(r){return new(r||e)(d(me))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),jue=(()=>{let e=class e{constructor(n){this.store=n}getByProductCode(n){return this.store.pipe(x(sY(n)),L(r=>{r===void 0&&n!==void 0&&this.store.dispatch(new ES(n))}),E(r=>r??[]))}add(n,r){this.store.dispatch(new IS({productCode:n,review:r}))}};e.\u0275fac=function(r){return new(r||e)(d(me))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),FY=(()=>{let e=class e{constructor(n,r,s,o,a){this.store=n,this.loadingScopes=r,this.actions$=s,this.platformId=o,this.eventService=a,this.products={}}get(n,r){return r=this.loadingScopes.expand("product",r),this.initProductScopes(n,r),this.products[n][this.getScopesIndex(r)]}initProductScopes(n,r){this.products[n]||(this.products[n]={});for(let s of r)this.products[n][s]||(this.products[n][s]=this.getProductForScope(n,s));r.length>1&&(this.products[n][this.getScopesIndex(r)]=AP(r.map(s=>this.products[n][s])).pipe(E(s=>s.every(Boolean)?Et({},...s):void 0),cn()))}getScopesIndex(n){return n.join("\u0275")}getProductForScope(n,r){let s=this.store.pipe(x(Kc(n,r)),E(u=>!u.loading&&!u.success&&!u.error),cn(),M(u=>u)),o=this.store.pipe(x(GP(n,r))),a=an(s,...this.getProductReloadTriggers(n,r)).pipe(Fi(0),it(o),L(([,u])=>{u||this.store.dispatch(new MS(n,r))})),c=this.store.pipe(x(pY(n,r)));return Os(()=>a.subscribe(),()=>c).pipe(pt({bufferSize:1,refCount:!0}))}getProductReloadTriggers(n,r){let s=[],o=this.loadingScopes.getMaxAge("product",r);if(o&&Pn(this.platformId)){let c=this.actions$.pipe(V(HP,VP),M(l=>l.meta.entityId===n&&l.meta.scope===r)),u=this.actions$.pipe(V(CD),M(l=>l.payload===n&&l.meta.scope===r));s.push(this.getMaxAgeTrigger(u,c,o))}let a=this.loadingScopes.getReloadTriggers("product",r).map(c=>this.eventService.get(c));return s.concat(a)}getMaxAgeTrigger(n,r,s,o){let a=0,c=()=>o?o.now():Date.now(),u=r.pipe(L(()=>a=c()));return qe(()=>{let f=c()-a,h=u.pipe(Yn(s,o),E(()=>!0),mD(n));return f>s?an(I(!0),h):f===0?h:an(I(!0).pipe(Yn(s-f,o)),h)})}};e.\u0275fac=function(r){return new(r||e)(d(me),d(c4),d(Me),d($e),d(Is))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),_Y=(()=>{let e=class e{constructor(n,r){this.store=n,this.productLoading=r}get(n,r=Ec){return n?this.productLoading.get(n,[].concat(r)):I(void 0)}isLoading(n,r=""){return this.store.pipe(x(GP(n,r)))}isSuccess(n,r=""){return this.store.pipe(x(gY(n,r)))}hasError(n,r=""){return this.store.pipe(x(mY(n,r)))}};e.\u0275fac=function(r){return new(r||e)(d(me),d(FY))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),$ue=(()=>{let e=class e extends Zc{search(n,r){this.store.dispatch(new Up({queryText:n,searchConfig:r},!0))}getResults(){return this.store.pipe(x(fY))}clearResults(){this.store.dispatch(new $p({clearSearchboxResults:!0}))}getSuggestionResults(){return this.store.pipe(x(hY))}searchSuggestions(n,r){this.store.dispatch(new AS({term:n,searchConfig:r}))}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),LY=(()=>{let e=class e extends tn{constructor(n,r,s,o){super(),this.productSearchService=n,this.cms=r,this.translation=s,this.basePageMetaResolver=o,this.searchPage$=this.cms.getCurrentPage().pipe(M(a=>!!a),N(a=>this.hasProductListComponent(a)?this.productSearchService.getResults().pipe(M(c=>!!c)):I(a))),this.pageType=be.CATEGORY_PAGE}resolveTitle(){return this.searchPage$.pipe(M(n=>!!n.pagination),N(n=>this.translation.translate("pageMetaResolver.category.title",{count:n.pagination?.totalResults,query:n.breadcrumbs?.length?n.breadcrumbs[0].facetValueName:void 0})))}resolveBreadcrumbs(){return _e([this.searchPage$.pipe(),this.translation.translate("common.home")]).pipe(E(([n,r])=>n.breadcrumbs?this.resolveBreadcrumbData(n,r):[]))}resolveBreadcrumbData(n,r){let s=[];s.push({label:r,link:"/"});for(let o of n.breadcrumbs??[])o.facetValueName&&((o.facetCode==="category"||o.facetCode==="allCategories")&&s.push({label:o.facetValueName,link:`/c/${o.facetValueCode}`}),o.facetCode==="brand"&&s.push({label:o.facetValueName,link:`/Brands/${o.facetValueName}/c/${o.facetValueCode}`}));return s}hasProductListComponent(n){return!!Object.keys(n.slots||{}).find(r=>!!n.slots?.[r].components?.find(s=>s.typeCode==="CMSProductListComponent"||s.typeCode==="ProductGridComponent"))}resolveRobots(){return this.basePageMetaResolver.resolveRobots()}resolveCanonicalUrl(){return this.basePageMetaResolver.resolveCanonicalUrl()}};e.\u0275fac=function(r){return new(r||e)(d(Zc),d(ug),d(yr),d(lg))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),kY=(()=>{let e=class e extends tn{constructor(n,r,s,o,a){super(),this.productSearchService=n,this.translation=r,this.authService=s,this.route=o,this.semanticPathService=a,this.total$=this.productSearchService.getResults().pipe(M(c=>!!c?.pagination),E(c=>c.pagination?.totalResults??0)),this.pageType=be.CONTENT_PAGE,this.pageTemplate="SearchResultsListPageTemplate"}resolveBreadcrumbs(){return _e([this.translation.translate("common.home"),this.translation.translate("myCoupons.myCoupons"),this.authService.isUserLoggedIn()]).pipe(E(([n,r,s])=>{let o=[];return o.push({label:n,link:"/"}),s&&o.push({label:r,link:this.semanticPathService.transform({cxRoute:"coupons"})}),o}))}resolveTitle(){return this.total$.pipe(N(n=>this.translation.translate("pageMetaResolver.search.findProductTitle",{count:n,coupon:this.couponCode})))}getScore(n){return super.getScore(n)+(this.couponCode?1:-1)}get couponCode(){return this.route.snapshot?.queryParams?.couponcode}};e.\u0275fac=function(r){return new(r||e)(d(Zc),d(yr),d(Bn),d(Vr),d(Oc))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),UY=(()=>{let e=class e extends tn{constructor(n,r,s,o,a){super(),this.routingService=n,this.productService=r,this.translation=s,this.basePageMetaResolver=o,this.pageLinkService=a,this.product$=this.routingService.getRouterState().pipe(E(c=>c.state.params.productCode),M(c=>!!c),N(c=>this.productService.get(c,"details")),M(En)),this.pageType=be.PRODUCT_PAGE}resolveHeading(){return this.product$.pipe(N(n=>this.translation.translate("pageMetaResolver.product.heading",{heading:n.name})))}resolveTitle(){return this.product$.pipe(N(n=>{let r=n.name;return r+=this.resolveFirstCategory(n),r+=this.resolveManufacturer(n),this.translation.translate("pageMetaResolver.product.title",{title:r})}))}resolveDescription(){return this.product$.pipe(N(n=>this.translation.translate("pageMetaResolver.product.description",{description:n.summary})))}resolveBreadcrumbs(){return _e([this.product$.pipe(),this.translation.translate("common.home")]).pipe(E(([n,r])=>{let s=[];s.push({label:r,link:"/"});for(let{name:o,code:a,url:c}of n.categories||[])s.push({label:o||a,link:c});return s}))}resolveImage(){return this.product$.pipe(E(n=>n.images?.PRIMARY?.zoom?.url??null))}resolveFirstCategory(n){let r=n?.categories?.[0];return r?` | ${r.name||r.code}`:""}resolveManufacturer(n){return n.manufacturer?` | ${n.manufacturer}`:""}resolveRobots(){return this.basePageMetaResolver.resolveRobots()}resolveCanonicalUrl(){return this.product$.pipe(N(n=>this.findBaseProduct(n)),E(n=>{let r=this.routingService.getFullUrl({cxRoute:"product",params:n});return this.pageLinkService.getCanonicalUrl({},r)}))}findBaseProduct(n){return n?.baseProduct?this.productService.get(n.baseProduct,"list").pipe(M(En),N(r=>this.findBaseProduct(r))):I(n)}};e.\u0275fac=function(r){return new(r||e)(d(wi),d(_Y),d(yr),d(lg),d(EP))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),jY=(()=>{let e=class e extends tn{constructor(n,r,s,o){super(),this.routingService=n,this.productSearchService=r,this.translation=s,this.basePageMetaResolver=o,this.total$=this.productSearchService.getResults().pipe(M(a=>!!a?.pagination),E(a=>a.pagination?.totalResults)),this.query$=this.routingService.getRouterState().pipe(E(a=>a.state.params.query)),this.pageType=be.CONTENT_PAGE,this.pageTemplate="SearchResultsListPageTemplate"}resolveTitle(){let n=[this.total$,this.query$];return _e(n).pipe(N(([r,s])=>this.translation.translate("pageMetaResolver.search.default_title").pipe(G(o=>this.translation.translate("pageMetaResolver.search.title",{count:r,query:s||o})))))}resolveRobots(){return this.basePageMetaResolver.resolveRobots()}resolveCanonicalUrl(){return this.basePageMetaResolver.resolveCanonicalUrl()}};e.\u0275fac=function(r){return new(r||e)(d(wi),d(Zc),d(yr),d(lg))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function $Y(){return{state:{ssrTransfer:{keys:{[ED]:Go.TRANSFER_STATE}}}}}var BY=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({providers:[Ho($Y),NY],imports:[Ze,lr.forFeature(ED,WP,{metaReducers:PY}),Br.forFeature(DY)]});let t=e;return t})(),VY=[{provide:tn,useExisting:UY,multi:!0},{provide:tn,useExisting:LY,multi:!0},{provide:tn,useExisting:jY,multi:!0},{provide:tn,useExisting:kY,multi:!0}],Bue=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[...VY]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({imports:[BY,yY]});let t=e;return t})(),qP=(()=>{let e=class e{constructor(n){this.adapter=n}getAll(n){return this.adapter.loadAll(n)}add(n,r){return this.adapter.add(n,r)}update(n,r,s){return this.adapter.update(n,r,s)}verify(n,r){return this.adapter.verify(n,r)}delete(n,r){return this.adapter.delete(n,r)}};e.\u0275fac=function(r){return new(r||e)(d(Ap))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),HY=(()=>{let e=class e{constructor(n){this.adapter=n}loadConsents(n){return this.adapter.loadConsents(n)}giveConsent(n,r,s){return this.adapter.giveConsent(n,r,s)}withdrawConsent(n,r,s){return this.adapter.withdrawConsent(n,r,s)}};e.\u0275fac=function(r){return new(r||e)(d(Rp))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),zY=(()=>{let e=class e{constructor(n){this.adapter=n}getActiveList(n){return this.adapter.loadActiveList(n)}};e.\u0275fac=function(r){return new(r||e)(d(Mp))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),GY=(()=>{let e=class e{constructor(n){this.adapter=n}getCustomerCoupons(n,r,s,o){return this.adapter.getCustomerCoupons(n,r,s,o)}turnOnNotification(n,r){return this.adapter.turnOnNotification(n,r)}turnOffNotification(n,r){return this.adapter.turnOffNotification(n,r)}claimCustomerCoupon(n,r){return this.adapter.claimCustomerCoupon(n,r)}disclaimCustomerCoupon(n,r){return this.adapter.disclaimCustomerCoupon(n,r)}};e.\u0275fac=function(r){return new(r||e)(d(xp))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),WY=(()=>{let e=class e{constructor(n){this.adapter=n}getInterests(n,r,s,o,a,c){return this.adapter.getInterests(n,r,s,o,a,c)}removeInterest(n,r){return this.adapter.removeInterest(n,r)}addInterest(n,r,s){return this.adapter.addInterest(n,r,s)}};e.\u0275fac=function(r){return new(r||e)(d(Np))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),qY=(()=>{let e=class e{constructor(n){this.adapter=n}getAll(n){return this.adapter.loadAll(n)}delete(n,r){return this.adapter.delete(n,r)}setDefault(n,r){return this.adapter.setDefault(n,r)}};e.\u0275fac=function(r){return new(r||e)(d(Op))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ys=class extends Kr{},YY=(()=>{let e=class e extends ys{};e.type="UpdateUserAddressEvent";let t=e;return t})(),KY=(()=>{let e=class e extends ys{};e.type="DeleteUserAddressEvent";let t=e;return t})(),ZY=(()=>{let e=class e extends ys{};e.type="AddUserAddressEvent";let t=e;return t})(),Vue=(()=>{let e=class e extends ys{};e.type="LoadUserAddressesEvent";let t=e;return t})(),Hue=(()=>{let e=class e extends ys{};e.type="LoadUserPaymentMethodsEvent";let t=e;return t})(),YP=(()=>{let e=class e{constructor(n){this.stateEventService=n,this.register()}register(){this.updateUserAddressEvent(),this.deleteUserAddressEvent(),this.addUserAddressEvent()}updateUserAddressEvent(){this.stateEventService.register({action:ng,event:YY})}addUserAddressEvent(){this.stateEventService.register({action:tg,event:ZY})}deleteUserAddressEvent(){this.stateEventService.register({action:rg,event:KY})}};e.\u0275fac=function(r){return new(r||e)(d(jN))},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})(),QY=(()=>{let e=class e{constructor(n){}};e.\u0275fac=function(r){return new(r||e)(d(YP))},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})();var zue=(()=>{let e=class e{constructor(n,r){this.store=n,this.userIdService=r}loadCustomerCoupons(n,r,s){this.userIdService.takeUserId().subscribe(o=>{this.store.dispatch(new Yf({userId:o,pageSize:n,currentPage:r,sort:s}))})}getCustomerCoupons(n){return _e([this.store.pipe(x(og)),this.getClaimCustomerCouponResultLoading()]).pipe(M(([,r])=>!r),L(([r])=>{r.loading||r.success||r.error||this.loadCustomerCoupons(n)}),E(([r])=>r.value),M(En))}getCustomerCouponsLoaded(){return this.store.pipe(x(f4))}getCustomerCouponsLoading(){return this.store.pipe(x(h4))}subscribeCustomerCoupon(n){this.userIdService.takeUserId().subscribe(r=>{this.store.dispatch(new Qf({userId:r,couponCode:n}))})}getSubscribeCustomerCouponResultLoading(){return this.store.pipe(x(Ci(gs)))}getSubscribeCustomerCouponResultSuccess(){return this.store.pipe(x(Gr(gs)))}getSubscribeCustomerCouponResultError(){return this.store.pipe(x(Ei(gs)))}unsubscribeCustomerCoupon(n){this.userIdService.takeUserId().subscribe(r=>{this.store.dispatch(new eh({userId:r,couponCode:n}))})}getUnsubscribeCustomerCouponResultLoading(){return this.store.pipe(x(Ci(ms)))}getUnsubscribeCustomerCouponResultSuccess(){return this.store.pipe(x(Gr(ms)))}getUnsubscribeCustomerCouponResultError(){return this.store.pipe(x(Ei(ms)))}claimCustomerCoupon(n){this.userIdService.takeUserId().subscribe(r=>{this.store.dispatch(new rh({userId:r,couponCode:n}))})}disclaimCustomerCoupon(n){this.userIdService.takeUserId().subscribe(r=>{this.store.dispatch(new ih({userId:r,couponCode:n}))})}resetDisclaimCustomerCoupon(){this.store.dispatch(new sh)}getClaimCustomerCouponResultSuccess(){return this.store.pipe(x(Gr(Po)))}getClaimCustomerCouponResultLoading(){return this.store.pipe(x(Ci(Po)))}getDisclaimCustomerCouponResultSuccess(){return this.store.pipe(x(Gr(Uo)))}getClaimCustomerCouponResultError(){return this.store.pipe(x(Ei(Po)))}getDisclaimCustomerCouponResultError(){return this.store.pipe(x(Ei(Uo)))}};e.\u0275fac=function(r){return new(r||e)(d(me),d(Cn))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),JY=(()=>{let e=class e{constructor(n,r,s,o){this.store=n,this.userIdService=r,this.userAddressConnector=s,this.command=o,this.userAddressVerificationCommand=this.command.create(a=>this.userIdService.takeUserId(!1).pipe(N(c=>this.userAddressConnector.verify(c,a.address))))}loadAddresses(){this.userIdService.takeUserId().subscribe(n=>{this.store.dispatch(new zh(n))})}addUserAddress(n){this.userIdService.takeUserId().subscribe(r=>{this.store.dispatch(new qh({userId:r,address:n}))})}setAddressAsDefault(n){this.userIdService.takeUserId().subscribe(r=>{this.store.dispatch(new Dc({userId:r,addressId:n,address:{defaultAddress:!0}}))})}updateUserAddress(n,r){this.userIdService.takeUserId().subscribe(s=>{this.store.dispatch(new Dc({userId:s,addressId:n,address:r}))})}deleteUserAddress(n){this.userIdService.takeUserId().subscribe(r=>{this.store.dispatch(new Jh({userId:r,addressId:n}))})}getAddresses(){return this.store.pipe(x(T4))}getAddressesLoading(){return this.store.pipe(x(A4))}getAddressesLoadedSuccess(){return this.store.pipe(x(R4))}loadDeliveryCountries(){this.store.dispatch(new lh)}getDeliveryCountries(){return this.store.pipe(x(g4))}getCountry(n){return this.store.pipe(x(m4(n)))}loadRegions(n){this.store.dispatch(new $h(n))}clearRegions(){this.store.dispatch(new Hh)}getRegions(n){return this.store.pipe(x(w4),E(({regions:r,country:s,loading:o,loaded:a})=>!n&&(o||a)?(this.clearRegions(),[]):o&&!a?[]:!o&&n!==s&&n?(s&&this.clearRegions(),this.loadRegions(n),[]):r))}verifyAddress(n){return this.userAddressVerificationCommand.execute({address:n})}};e.\u0275fac=function(r){return new(r||e)(d(me),d(Cn),d(qP),d(R5))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Gue=(()=>{let e=class e{constructor(n,r){this.store=n,this.userIdService=r}loadActiveCostCenters(){this.userIdService.takeUserId(!0).subscribe({next:n=>{this.store.dispatch(new hp(n))},error:()=>{}})}getCostCentersState(){return this.store.select(rP)}getActiveCostCenters(){return this.getCostCentersState().pipe(qt(wr),L(n=>{n.loading||n.success||n.error||this.loadActiveCostCenters()}),M(n=>!!(n.success||n.error)),E(n=>n.value??[]))}getCostCenterAddresses(n){return this.getActiveCostCenters().pipe(E(r=>{let s=r.find(o=>o.code===n);return s&&s.unit?s.unit.addresses??[]:[]}))}};e.\u0275fac=function(r){return new(r||e)(d(me),d(Cn))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Wue=(()=>{let e=class e{constructor(n,r){this.store=n,this.userIdService=r}loadProductInterests(n,r,s,o,a){this.userIdService.takeUserId().subscribe(c=>{this.store.dispatch(new $o({userId:c,pageSize:n,currentPage:r,sort:s,productCode:o,notificationType:a}))})}getProductInterests(){return this.store.pipe(x(D4))}getAndLoadProductInterests(n){return this.store.pipe(x(oD),L(r=>{r.loading||r.success||r.error||this.loadProductInterests(n)}),E(r=>r.value),M(En))}getProdutInterestsLoading(){return this.store.pipe(x(b4))}removeProdutInterest(n,r){this.userIdService.takeUserId().subscribe(s=>{this.store.dispatch(new Nh({userId:s,item:n,singleDelete:r}))})}getRemoveProdutInterestLoading(){return this.store.pipe(x(Ci(ko)))}getRemoveProdutInterestSuccess(){return this.store.pipe(x(Gr(ko)))}addProductInterest(n,r){this.userIdService.takeUserId().subscribe(s=>{this.store.dispatch(new Fh({userId:s,productCode:n,notificationType:r}))})}getAddProductInterestSuccess(){return this.store.pipe(x(Gr(Lo)))}getAddProductInterestError(){return this.store.pipe(x(Ei(Lo)))}resetAddInterestState(){this.store.dispatch(new kh)}resetRemoveInterestState(){this.store.dispatch(new Uh)}clearProductInterests(){this.store.dispatch(new jh)}};e.\u0275fac=function(r){return new(r||e)(d(me),d(Cn))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),que=(()=>{let e=class e{constructor(n,r){this.store=n,this.userIdService=r}getPreferences(){return this.store.pipe(x(v4))}getEnabledPreferences(){return this.store.pipe(x(y4))}loadPreferences(){this.userIdService.takeUserId().subscribe(n=>{this.store.dispatch(new hh(n))})}clearPreferences(){this.store.dispatch(new Ch)}getPreferencesLoading(){return this.store.pipe(x(E4))}updatePreferences(n){this.userIdService.takeUserId().subscribe(r=>{this.store.dispatch(new mh({userId:r,preferences:n}))})}getUpdatePreferencesResultLoading(){return this.store.select(Ci(kc))}resetNotificationPreferences(){this.store.dispatch(new Eh)}};e.\u0275fac=function(r){return new(r||e)(d(me),d(Cn))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Yue=(()=>{let e=class e{constructor(n,r){this.store=n,this.userIdService=r}loadPaymentMethods(){this.userIdService.takeUserId().subscribe(n=>{this.store.dispatch(new jo(n))})}getPaymentMethods(){return this.store.pipe(x(C4))}getPaymentMethodsLoading(){return this.store.pipe(x(S4))}getPaymentMethodsLoadedSuccess(){return this.store.pipe(x(I4))}setPaymentMethodAsDefault(n){this.userIdService.takeUserId().subscribe(r=>{this.store.dispatch(new Dh({userId:r,paymentMethodId:n}))})}deletePaymentMethod(n){this.userIdService.takeUserId().subscribe(r=>{this.store.dispatch(new Th({userId:r,paymentMethodId:n}))})}getAllBillingCountries(){return this.store.pipe(x(d4))}loadBillingCountries(){this.store.dispatch(new Gf)}};e.\u0275fac=function(r){return new(r||e)(d(me),d(Cn))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),_x=class{},XY=(()=>{let e=class e{constructor(n,r){this.actions$=n,this.siteConnector=r,this.logger=C(Q),this.loadBillingCountries$=W(()=>this.actions$.pipe(V(dI),N(()=>this.siteConnector.getCountries(PS.BILLING).pipe(E(s=>new qf(s)),F(s=>I(new Wf(Y(s,this.logger))))))))}};e.\u0275fac=function(r){return new(r||e)(d(Me),d(qo))},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})(),e9=(()=>{let e=class e{constructor(n){this.actions$=n,this.clearMiscsData$=W(()=>this.actions$.pipe(V($n,Fc),E(()=>new mp)))}};e.\u0275fac=function(r){return new(r||e)(d(Me))},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})(),t9=(()=>{let e=class e{constructor(n,r){this.actions$=n,this.customerCouponConnector=r,this.logger=C(Q),this.loadCustomerCoupons$=W(()=>this.actions$.pipe(V(hI),E(s=>s.payload),G(s=>this.customerCouponConnector.getCustomerCoupons(s.userId,s.pageSize,s.currentPage,s.sort).pipe(E(o=>new Zf(o)),F(o=>I(new Kf(Y(o,this.logger)))))))),this.subscribeCustomerCoupon$=W(()=>this.actions$.pipe(V(gI),E(s=>s.payload),G(s=>this.customerCouponConnector.turnOnNotification(s.userId,s.couponCode).pipe(E(o=>new Xf(o)),F(o=>I(new Jf(Y(o,this.logger)))))))),this.unsubscribeCustomerCoupon$=W(()=>this.actions$.pipe(V(vI),E(s=>s.payload),G(s=>this.customerCouponConnector.turnOffNotification(s.userId,s.couponCode).pipe(E(()=>new nh(s.couponCode)),F(o=>I(new th(Y(o,this.logger)))))))),this.claimCustomerCoupon$=W(()=>this.actions$.pipe(V(EI),E(s=>s.payload),G(s=>this.customerCouponConnector.claimCustomerCoupon(s.userId,s.couponCode).pipe(E(o=>new uh(o)),F(o=>I(new ch(Y(o,this.logger)))))))),this.disclaimCustomerCoupon$=W(()=>this.actions$.pipe(V(CI),E(s=>s.payload),G(s=>this.customerCouponConnector.disclaimCustomerCoupon(s.userId,s.couponCode).pipe(E(o=>new ah(o)),F(o=>I(new oh(Y(o,this.logger))))))))}};e.\u0275fac=function(r){return new(r||e)(d(Me),d(GY))},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})(),n9=(()=>{let e=class e{constructor(n,r){this.actions$=n,this.siteConnector=r,this.logger=C(Q),this.loadDeliveryCountries$=W(()=>this.actions$.pipe(V(SI),N(()=>this.siteConnector.getCountries(PS.SHIPPING).pipe(E(s=>new fh(s)),F(s=>I(new dh(Y(s,this.logger))))))))}};e.\u0275fac=function(r){return new(r||e)(d(Me),d(qo))},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})(),r9=(()=>{let e=class e{constructor(n,r){this.actions$=n,this.connector=r,this.logger=C(Q),this.loadPreferences$=W(()=>this.actions$.pipe(V(DI),E(s=>s.payload),N(s=>this.connector.loadAll(s).pipe(E(o=>new gh(o)),F(o=>I(new ph(Y(o,this.logger)))))))),this.updatePreferences$=W(()=>this.actions$.pipe(V(TI),E(s=>s.payload),G(s=>this.connector.update(s.userId,s.preferences).pipe(E(()=>new yh(s.preferences)),F(o=>I(new vh(Y(o,this.logger))))))))}};e.\u0275fac=function(r){return new(r||e)(d(Me),d(HW))},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})(),i9=(()=>{let e=class e{constructor(n,r,s){this.actions$=n,this.userPaymentMethodConnector=r,this.globalMessageService=s,this.logger=C(Q),this.loadUserPaymentMethods$=W(()=>this.actions$.pipe(V(RI),E(o=>o.payload),G(o=>this.userPaymentMethodConnector.getAll(o).pipe(E(a=>new Ih(a)),F(a=>I(new Sh(Y(a,this.logger)))))))),this.setDefaultUserPaymentMethod$=W(()=>this.actions$.pipe(V(NI),E(o=>o.payload),G(o=>this.userPaymentMethodConnector.setDefault(o.userId,o.paymentMethodId).pipe(N(a=>[new wh(a),new jo(o.userId)]),F(a=>I(new bh(Y(a,this.logger)))))))),this.deleteUserPaymentMethod$=W(()=>this.actions$.pipe(V(OI),E(o=>o.payload),G(o=>this.userPaymentMethodConnector.delete(o.userId,o.paymentMethodId).pipe(N(a=>(this.globalMessageService.add({key:"paymentCard.deletePaymentSuccess"},Ue.MSG_TYPE_CONFIRMATION),[new Rh(a),new jo(o.userId)])),F(a=>I(new Ah(Y(a,this.logger))))))))}};e.\u0275fac=function(r){return new(r||e)(d(Me),d(qY),d(Wo))},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})(),s9=(()=>{let e=class e{constructor(n,r){this.actions$=n,this.userInterestsConnector=r,this.logger=C(Q),this.loadProductInteres$=W(()=>this.actions$.pipe(V(PI),E(s=>s.payload),N(s=>this.userInterestsConnector.getInterests(s.userId,s.pageSize,s.currentPage,s.sort,s.productCode,s.notificationType).pipe(E(o=>new xh(o)),F(o=>I(new Mh(Y(o,this.logger)))))))),this.removeProductInterest$=W(()=>this.actions$.pipe(V(LI),E(s=>s.payload),N(s=>this.userInterestsConnector.removeInterest(s.userId,s.item).pipe(N(o=>[new $o(s.singleDelete?{userId:s.userId,productCode:s.item.product?.code,notificationType:s.item.productInterestEntry?.[0].interestType}:{userId:s.userId}),new Oh(o)]),F(o=>I(new Ph(Y(o,this.logger)))))))),this.addProductInterest$=W(()=>this.actions$.pipe(V(kI),E(s=>s.payload),N(s=>this.userInterestsConnector.addInterest(s.userId,s.productCode,s.notificationType).pipe(N(o=>[new $o({userId:s.userId,productCode:s.productCode,notificationType:s.notificationType}),new _h(o)]),F(o=>I(new Lh(Y(o,this.logger))))))))}};e.\u0275fac=function(r){return new(r||e)(d(Me),d(WY))},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})(),o9=(()=>{let e=class e{constructor(n,r){this.actions$=n,this.siteConnector=r,this.logger=C(Q),this.loadRegions$=W(()=>this.actions$.pipe(V(UI),E(s=>s.payload),N(s=>this.siteConnector.getRegions(s).pipe(E(o=>new Vh({entities:o,country:s})),F(o=>I(new Bh(Y(o,this.logger)))))))),this.resetRegions$=W(()=>this.actions$.pipe(V(Hc,$I),E(()=>new qr(jc))))}};e.\u0275fac=function(r){return new(r||e)(d(Me),d(qo))},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})(),a9=(()=>{let e=class e{constructor(n,r,s,o){this.actions$=n,this.userAddressConnector=r,this.userAddressService=s,this.messageService=o,this.logger=C(Q),this.loadUserAddresses$=W(()=>this.actions$.pipe(V(BI),E(a=>a.payload),N(a=>this.userAddressConnector.getAll(a).pipe(E(c=>new Wh(c)),F(c=>I(new Gh(Y(c,this.logger)))))))),this.addUserAddress$=W(()=>this.actions$.pipe(V(tg),E(a=>a.payload),G(a=>this.userAddressConnector.add(a.userId,a.address).pipe(E(c=>new Kh(c)),F(c=>I(new Yh(Y(c,this.logger)))))))),this.updateUserAddress$=W(()=>this.actions$.pipe(V(ng),E(a=>a.payload),G(a=>this.userAddressConnector.update(a.userId,a.addressId,a.address).pipe(E(()=>new Qh(a)),F(c=>(this.showGlobalMessage("addressForm.invalidAddress",Ue.MSG_TYPE_ERROR),I(new Zh(Y(c,this.logger))))))))),this.deleteUserAddress$=W(()=>this.actions$.pipe(V(rg),E(a=>a.payload),G(a=>this.userAddressConnector.delete(a.userId,a.addressId).pipe(E(c=>new ep(c)),F(c=>I(new Xh(Y(c,this.logger)))))))),this.showGlobalMessageOnAddSuccess$=W(()=>this.actions$.pipe(V(zI),L(()=>{this.loadAddresses(),this.showGlobalMessage("addressForm.userAddressAddSuccess")})),{dispatch:!1}),this.showGlobalMessageOnUpdateSuccess$=W(()=>this.actions$.pipe(V(GI),E(a=>a.payload),L(a=>{this.loadAddresses(),(Object.keys(a?.address).length!==1||!a?.address?.defaultAddress)&&this.showGlobalMessage("addressForm.userAddressUpdateSuccess")})),{dispatch:!1}),this.showGlobalMessageOnDeleteSuccess$=W(()=>this.actions$.pipe(V(WI),L(()=>{this.loadAddresses(),this.showGlobalMessage("addressForm.userAddressDeleteSuccess")})),{dispatch:!1})}showGlobalMessage(n,r){this.messageService.add({key:n},r??Ue.MSG_TYPE_CONFIRMATION)}loadAddresses(){this.userAddressService.loadAddresses()}};e.\u0275fac=function(r){return new(r||e)(d(Me),d(qP),d(JY),d(Wo))},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})(),c9=(()=>{let e=class e{constructor(n,r){this.actions$=n,this.userConsentConnector=r,this.logger=C(Q),this.resetConsents$=W(()=>this.actions$.pipe(V($n),E(()=>new bc))),this.getConsents$=W(()=>this.actions$.pipe(V(qI),E(s=>s.payload),je(s=>this.userConsentConnector.loadConsents(s).pipe(E(o=>new ip(o)),F(o=>I(new rp(Y(o,this.logger)))))))),this.giveConsent$=W(()=>this.actions$.pipe(V(KI,tp),je(s=>this.userConsentConnector.giveConsent(s.payload.userId,s.payload.consentTemplateId??"",s.payload.consentTemplateVersion??0).pipe(E(o=>new op(o)),F(o=>{let a=[new sp(Y(o,this.logger))];return s.type===tp&&o.status===409&&a.push(new zf(Ue.MSG_TYPE_ERROR)),I(...a)}))))),this.withdrawConsent$=W(()=>this.actions$.pipe(V(QI),E(s=>s.payload),je(({userId:s,consentCode:o,consentId:a})=>this.userConsentConnector.withdrawConsent(s,o,a).pipe(E(()=>new dp),F(c=>I(new lp(Y(c,this.logger))))))))}};e.\u0275fac=function(r){return new(r||e)(d(Me),d(HY))},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})(),u9=(()=>{let e=class e{constructor(n,r){this.actions$=n,this.userCostCenterConnector=r,this.logger=C(Q),this.loadActiveCostCenters$=W(()=>this.actions$.pipe(V(JI),E(s=>s.payload),N(s=>this.userCostCenterConnector.getActiveList(s).pipe(E(o=>new gp(o.values)),F(o=>I(new pp(Y(o,this.logger))))))))}};e.\u0275fac=function(r){return new(r||e)(d(Me),d(zY))},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})(),l9=[e9,n9,o9,a9,i9,XY,c9,t9,r9,s9,u9],Lx={entities:{}};function d9(t=Lx,e){switch(e.type){case fI:{let n=e.payload.reduce((r,s)=>T(v({},r),{[s.isocode]:s}),v({},t.entities));return T(v({},t),{entities:n})}case Hc:return Lx}return t}var f9={coupons:[],sorts:[],pagination:{}};function h9(t=f9,e){switch(e.type){case pI:return e.payload;case mI:{let i=e.payload.coupon,n=new Array(t.coupons?.length??0);return t.coupons?.forEach((r,s)=>i&&r.couponId===i.couponId?n[s]=i:n[s]=r),T(v({},t),{coupons:n})}case yI:{let i=e.payload,n=new Array(t.coupons?.length??0);return t.coupons?.forEach((r,s)=>r.couponId===i?n[s]=T(v({},r),{notificationOn:!1}):n[s]=r),T(v({},t),{coupons:n})}}return t}var kx={entities:{}};function p9(t=kx,e){switch(e.type){case II:{let n=e.payload.reduce((r,s)=>T(v({},r),{[s.isocode??""]:s}),v({},t.entities));return T(v({},t),{entities:n})}case Hc:return kx}return t}var fC=[];function g9(t=fC,e){switch(e.type){case bI:return fC;case wI:case AI:return e.payload?e.payload:fC}return t}var hC=[];function m9(t=hC,e){switch(e.type){case xI:return e.payload?e.payload:hC;case MI:return hC}return t}var pC={results:[],pagination:{},sorts:[]};function v9(t=pC,e){switch(e.type){case _I:return e.payload?e.payload:pC;case FI:return pC}return t}var Ux={entities:[],country:null};function y9(t=Ux,e){switch(e.type){case jI:{let i=e.payload.entities,n=e.payload.country;return i||n?T(v({},t),{entities:i,country:n}):Ux}}return t}var gC=[];function E9(t=gC,e){switch(e.type){case VI:return gC;case HI:return e.payload?e.payload:gC}return t}var jx=[];function C9(t=jx,e){switch(e.type){case YI:{let i=e.payload;return i||jx}case ZI:{let i=e.consentTemplate;return t.map(n=>n.id===i.id?i:n)}}return t}var mC=[];function S9(t=mC,e){switch(e.type){case XI:return mC;case eD:return e.payload?e.payload:mC}return t}function I9(){return{addresses:ct(rn,E9),billingCountries:d9,consents:ct(Uc,C9),payments:ct(Cr,m9),countries:p9,regions:ct(jc,y9),customerCoupons:ct($c,h9),notificationPreferences:ct(Bc,g9),productInterests:ct(Vc,v9),costCenters:ct(eg,S9)}}var KP=new S("UserReducers"),D9={provide:KP,useFactory:I9};function b9(t){return function(e,i){return i.type===Zr&&(e=void 0),t(e,i)}}var w9=[b9],T9=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({providers:[D9],imports:[Ze,Ti,lr.forFeature(qN,KP,{metaReducers:w9}),Br.forFeature(l9),RM]});let t=e;return t})(),Kue=(()=>{let e=class e{static forRoot(){return{ngModule:e}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({providers:[YP],imports:[T9,QY]});let t=e;return t})();export{v as a,T as b,gg as c,A9 as d,rt as e,Ee as f,z as g,re as h,Te as i,on as j,Mg as k,wr as l,m_ as m,he as n,cK as o,uK as p,qt as q,pe as r,I as s,xt as t,Zn as u,E as v,_e as w,G as x,Wn as y,qn as z,qe as A,Mu as B,na as C,ra as D,Kt as E,w_ as F,an as G,Ng as H,M as I,Og as J,Os as K,Pi as L,R_ as M,F as N,je as O,a_ as P,Fi as Q,ie as R,Su as S,Yn as T,c_ as U,cn as V,l_ as W,tb as X,x_ as Y,Dn as Z,Mt as _,ii as $,sa as aa,N_ as ba,_i as ca,Ms as da,pt as ea,Tg as fa,Pu as ga,Kn as ha,N as ia,oa as ja,f_ as ka,L as la,O_ as ma,it as na,j as oa,lw as pa,g as qa,$ as ra,S as sa,d as ta,C as ua,pv as va,dn as wa,un as xa,ww as ya,B as za,Ft as Aa,Vt as Ba,rr as Ca,li as Da,Wie as Ea,qie as Fa,We as Ga,xv as Ha,Ye as Ia,sr as Ja,gt as Ka,$e as La,hn as Ma,Yie as Na,Kie as Oa,aU as Pa,Zie as Qa,Qie as Ra,Jie as Sa,X as Ta,Mn as Ua,km as Va,ll as Wa,jl as Xa,Wi as Ya,eo as Za,Ce as _a,zt as $a,v1 as ab,A1 as bb,ey as cb,H1 as db,T0 as eb,z1 as fb,nse as gb,rse as hb,ise as ib,F0 as jb,_0 as kb,ry as lb,L0 as mb,k0 as nb,r$ as ob,sse as pb,s$ as qb,iy as rb,ose as sb,ase as tb,cse as ub,h$ as vb,j0 as wb,p$ as xb,g$ as yb,$0 as zb,use as Ab,B0 as Bb,V0 as Cb,lse as Db,dse as Eb,y$ as Fb,H0 as Gb,E$ as Hb,C$ as Ib,S$ as Jb,I$ as Kb,fse as Lb,D$ as Mb,hse as Nb,pse as Ob,gse as Pb,mse as Qb,vse as Rb,yse as Sb,Ese as Tb,Cse as Ub,Sse as Vb,Ise as Wb,Dse as Xb,bse as Yb,wse as Zb,Tse as _b,no as $b,wt as ac,ro as bc,Xi as cc,ge as dc,Fr as ec,ly as fc,Pa as gc,hi as hc,Le as ic,cr as jc,Tt as kc,ud as lc,ar as mc,Gse as nc,Wse as oc,AB as pc,qse as qc,Yse as rc,Kse as sc,Zse as tc,AA as uc,Qse as vc,Jse as wc,Xse as xc,eoe as yc,toe as zc,noe as Ac,roe as Bc,ioe as Cc,MA as Dc,soe as Ec,Ze as Fc,Pn as Gc,es as Hc,xA as Ic,le as Jc,Ny as Kc,ze as Lc,ao as Mc,ts as Nc,Wt as Oc,ke as Pc,gn as Qc,voe as Rc,yoe as Sc,Eoe as Tc,Noe as Uc,Ooe as Vc,zy as Wc,JA as Xc,xV as Yc,pi as Zc,uo as _c,$r as $c,co as ad,rs as bd,me as cd,x as dd,A as ed,Fn as fd,lr as gd,Woe as hd,qoe as id,W as jd,Me as kd,V as ld,Br as md,vn as nd,ot as od,yn as pd,Nd as qd,Vr as rd,mH as sd,uc as td,Oe as ud,GR as vd,Sae as wd,RM as xd,Xd as yd,vf as zd,Et as Ad,Ut as Bd,Ac as Cd,Vo as Dd,px as Ed,Un as Fd,Ho as Gd,be as Hd,VG as Id,HG as Jd,_o as Kd,Ef as Ld,zG as Md,GG as Nd,WG as Od,qG as Pd,YG as Qd,$ce as Rd,Mo as Sd,xo as Td,I8 as Ud,Bce as Vd,Vce as Wd,Cn as Xd,b8 as Yd,yc as Zd,Qr as _d,Er as $d,zp as ae,bi as be,EN as ce,Nc as de,Q as ee,qp as fe,Oc as ge,IN as he,wi as ie,JS as je,En as ke,Cc as le,Si as me,Es as ne,Cs as oe,Yr as pe,P8 as qe,zce as re,Ss as se,W8 as te,Bn as ue,Lc as ve,BC as we,Wce as xe,Sc as ye,GC as ze,Qe as Ae,Oo as Be,Qp as Ce,Ti as De,Y as Ee,kn as Fe,Ii as Ge,Kr as He,Ix as Ie,g3 as Je,Is as Ke,jN as Le,Ue as Me,Wo as Ne,C3 as Oe,qce as Pe,R3 as Qe,Yce as Re,GN as Se,ae as Te,Kce as Ue,Zce as Ve,L3 as We,nD as Xe,ig as Ye,Qce as Ze,Jce as _e,Xce as $e,UO as af,zc as bf,jO as cf,Z3 as df,Q3 as ef,Cp as ff,Je as gf,HO as hf,zO as if,rW as jf,tue as kf,vs as lf,qO as mf,nue as nf,rue as of,Ai as pf,Gc as qf,XO as rf,LW as sf,uC as tf,GW as uf,iue as vf,P4 as wf,Ax as xf,Rx as yf,Pp as zf,cD as Af,yq as Bf,due as Cf,ug as Df,tn as Ef,yr as Ff,Qq as Gf,lg as Hf,Xq as If,e6 as Jf,mD as Kf,vD as Lf,fue as Mf,hue as Nf,pue as Of,m6 as Pf,gue as Qf,mue as Rf,vue as Sf,Jr as Tf,yt as Uf,yD as Vf,yue as Wf,To as Xf,R5 as Yf,Eue as Zf,Cue as _f,Sue as $f,Iue as ag,Due as bg,bue as cg,wue as dg,Tue as eg,Aue as fg,Rue as gg,Mue as hg,Nx as ig,P5 as jg,xue as kg,Nue as lg,L5 as mg,Oue as ng,Pue as og,H5 as pg,z5 as qg,Fue as rg,_ue as sg,G5 as tg,Lue as ug,q5 as vg,Z5 as wg,Zc as xg,Uue as yg,jue as zg,_Y as Ag,$ue as Bg,Bue as Cg,ys as Dg,YY as Eg,KY as Fg,Vue as Gg,Hue as Hg,zue as Ig,JY as Jg,Gue as Kg,Wue as Lg,que as Mg,Yue as Ng,_x as Og,Kue as Pg};
